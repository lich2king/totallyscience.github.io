System.register("chunks:///_virtual/x4370363482510417528x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x1594045878923188925x.ts","./x1180903263758642626x.ts","./x2825914500079770252x.ts","./x109322611791924071x.ts","./x1390687146982484874x.ts","./x2362680020733037980x.ts","./x2459974647555059934x.ts","./x4082149423481207881x.ts","./x4381590689536211342x.ts","./x4119940741088217684x.ts","./x428471819423808585x.ts","./x370408543499406949x.ts","./x2568130707691349422x.ts","./x4448475101681422869x.ts","./x4514175460444622305x.ts"],(function(t){"use strict";var e,i,n,a,s,o,r,c,p,S,l,u,h,m,g,d,A,f,P,y;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){a=t.cclegacy},function(t){s=t.x4472346643782045245x},function(t){o=t.x1594045878923188925x},function(t){r=t.x1180903263758642626x},function(t){c=t.x2825914500079770252x},function(t){p=t.x109322611791924071x},function(t){S=t.x1390687146982484874x},function(t){l=t.x2362680020733037980x},function(t){u=t.x2459974647555059934x},function(t){h=t.x4082149423481207881x},function(t){m=t.x4381590689536211342x},function(t){g=t.x4119940741088217684x},function(t){d=t.x428471819423808585x},function(t){A=t.x370408543499406949x},function(t){f=t.x2568130707691349422x},function(t){P=t.x4448475101681422869x},function(t){y=t.x4514175460444622305x}],execute:function(){a._RF.push({},"9570dpifbxLUqYTW4aV4w2N","x4370363482510417528x",void 0);var D=t("x4370363482510417528x",function(t){e(s,t);var a=s.prototype;function s(e,i,a,c){var l;if(l=t.call(this)||this,!s.isValid())return n(l);o.doStaticInit(),m.doStaticInit();var g=i.getStringValueWithKeyStringPath("metadata.buildNumberOverride");if(g&&""!=g||(g=e),m.setBuildNumber(g),null!=s.sInstance)return n(l);s.sInstance=n(l),l.mStateMachine=new p(n(l)),l.x643706067324714973x=i.x1983177741811147517x(),l.mNativeAppParams=a,l.mResourcesPath=c;var d=l.x643706067324714973x.getDictionaryWithKeyStringPath("application.platforms."+m.getPlatformName());d||(d=l.x643706067324714973x.getDictionaryWithKeyStringPath("application.platforms").createDictionary(S.stringToValueKey(m.getPlatformName()),m.getPlatformName(),999,!0)),d.insertStringValue(S.stringToValueKey("CURRENT_YEAR"),"CURRENT_YEAR",999,S.stringFromInt(S.getCurrentYear(),0,!1)),d.insertStringValue(S.stringToValueKey("BUILD_INFO_STRING"),"BUILD_INFO_STRING",999,m.getBuildInfoString()),d.insertStringValue(S.stringToValueKey("AMP"),"AMP",999,"&"),d.insertStringValue(S.stringToValueKey("REGISTERED"),"REGISTERED",999,"®"),d.insertStringValue(S.stringToValueKey("COPYRIGHT"),"COPYRIGHT",999,"©"),d.insertStringValue(S.stringToValueKey("TRADEMARK"),"TRADEMARK",999,"™"),l.x643706067324714973x.insertParamsIntoStrings(d,!1),l.x643706067324714973x.processPlatformValues(m.getPlatformName()),l.mWindowWidth=l.x643706067324714973x.getIntValueWithKeyStringPath("application.windowWidth"),l.mWindowHeight=l.x643706067324714973x.getIntValueWithKeyStringPath("application.windowHeight"),S.setNativeRandomSeed(S.generateNativeRandomSeed()),S.nextNativeRandomInt(),l.mMaxDeltaTimeSEC=l.x643706067324714973x.getFloatValueWithKeyStringPath("application.time.maxDeltaTimeSEC"),0==l.mMaxDeltaTimeSEC&&(l.mMaxDeltaTimeSEC=1e3),l.mMinAvailableTimeMSEC=l.x643706067324714973x.getIntValueWithKeyStringPath("application.time.minAvailableTimeMSEC"),l.mAvailableTimeSEC=0,l.mTimeScaleUnit=.1,l.mTimeScaleMultiplier=10,l.mTimeScale=1,l.mIsPaused=!1;var f;f=a.nativeAppRootView,l.mAppRootView=new y(!1,null),l.mAppRootView.retain(),l.mAppRootView.initWithNativeView(f),l.mAppRootView.setEnableChildrenBaseDepthOffset(!1),l.mAppRootView.setEnableChildrenSiblingDepthOffset(!1),l.mAppSupportFactory=null,l.mHTTPConnectionMgr=new u,l.mAppBGView=null,l.mStartGameDeviceControlString=l.x643706067324714973x.getStringValueWithKeyStringPath("application.options.startGameDeviceControlString"),l.mPauseToggleKey=l.x643706067324714973x.getIntValueWithKeyStringPath("application.debugPauseToggleKey"),0==l.mPauseToggleKey&&(l.mPauseToggleKey=-1),l.mFullScreenToggleKey=l.x643706067324714973x.getIntValueWithKeyStringPath("application.fullScreenToggleKey"),0==l.mFullScreenToggleKey&&(l.mFullScreenToggleKey=-1),l.mSceneMgr=new A,l.mSceneMgr.addMessageListener(n(l)),l.mLoadingScene=null,l.mInitialScene=null,l.mIsInputActive=!0,l.mIsUIControlsNavigationEnabled=l.x643706067324714973x.getBoolValueWithKeyStringPath("application.UIInputMgr.enableUIControlsNavigation"),l.mDidReceive1stPointerDown=!1,l.x643706067324714973x.getBoolValueWithKeyStringPath("application.simulateTouchscreen")?(r.setIsTouchInputEnabled(!0),r.setIsMouseHoverEnabled(!1)):(r.setIsTouchInputEnabled(m.isPlatformTouchBased()),r.setIsMouseHoverEnabled(!m.isPlatformTouchBased())),l.mIsGUAEnabled=!1,l.mIsGA4Enabled=!1;try{h.createAudioContexts(4)}catch(t){}return l.mSoundEffectsMgr=new h(h.x522836750797873902x),l.mSoundEffectsMgr.setVolume(l.x643706067324714973x.getFloatValueWithKeyStringPath("application.audio.effects.volume")),l.mSoundEffectsMgr.setIsEnabled(l.x643706067324714973x.getBoolValueWithKeyStringPath("application.audio.effects.enabled")),l.doNativeConstructor(),l}return a.doNativeConstructor=function(){switch(m.getPlatformId()){case m.x3895652285942225948x:var t=document.getElementById("GameDiv");t&&(t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center"),this.mJS_GameContainerDiv=document.getElementById("Cocos2dGameContainer");var e=this.x643706067324714973x.getStringValueWithKeyStringPath("application.platforms.HTML5Desktop.css");if(""!=e){var i=document.createElement("style");i.type="text/css","textContent"in i?i.textContent=e:i.innerText=e,document.head.appendChild(i)}}},a.hideGameContainer=function(){switch(m.getPlatformId()){case m.x3895652285942225948x:this.mJS_GameBGDiv&&(this.mJS_GameBGDiv.style.visibility="visible"),this.mJS_GameContainerDiv&&(this.mJS_GameContainerDiv.style.visibility="hidden")}},a.showGameContainer=function(){switch(m.getPlatformId()){case m.x3895652285942225948x:this.mJS_GameContainerDiv&&(this.mJS_GameContainerDiv.style.visibility="visible"),this.mJS_GameBGDiv&&(this.mJS_GameBGDiv.style.visibility="hidden")}},a.trackGA4GameEvent=function(t,e){if(this.mIsGA4Enabled)try{window.trackGA4GameEvent(t,e)}catch(t){}},s.instance=function(){return s.sInstance},s.isValid=function(){return S.x4379805376353750514x(s.sValidationStatus)==S.x4379805376353750514x("TEASMEONIJOM")},a.x4329476012501355321x=function(){return this.x643706067324714973x},a.x2225474001077625750x=function(){return this.x643706067324714973x.getDictionaryWithKeyString("application")},a.getNativeAppParams=function(){return this.mNativeAppParams},a.getAppState=function(){return this.mStateMachine?this.mStateMachine.getCurrentState():s.x1361315459377907702x},a.run=function(){if(s.isValid())if(l.MAPSGGDNNKNNPKZHELAHFJVGELRIMNGMITCHHORGWOFLXI())try{document.getElementById("Cocos2dGameContainer").remove()}catch(t){}else this.mStateMachine.setState(s.x2997534807582147009x)},a.terminate=function(){switch(this.getAppState()){case s.x2469781188801464897x:return}this.mSceneMgr.terminate(),this.mAppRootView.removeFromParent(),this.mAppRootView&&this.mAppRootView.release(),this.mAppRootView=null,this.mNativeAppHelper&&(this.mNativeAppHelper=null);try{h.closeAllAudioContexts()}catch(t){}this.mStateMachine.setStateImmediate(s.x2469781188801464897x),P.setIsPointerActive(!0)},a.getNativeAppHelper=function(){return this.mNativeAppHelper},a.processTimeSEC=function(t){if(t<=this.mMaxDeltaTimeSEC){if(!this.mIsPaused){t*=this.mTimeScale,this.mAvailableTimeSEC+=t;var e=1e3*this.mAvailableTimeSEC;if(e>this.mMinAvailableTimeMSEC){for(var i=0,n=0;e>0;)i=e>20?20:e,this.mStateMachine.processTime(i),e-=i,n+=i;this.mAvailableTimeSEC-=.001*n}}}else this.resetAvailableTime();return this.getAppState()!=s.x2469781188801464897x},a.resetAvailableTime=function(){this.mAvailableTimeSEC=0},a.getWindowWidth=function(){return this.mWindowWidth},a.getWindowHeight=function(){return this.mWindowHeight},a.getAppRootView=function(){return this.mAppRootView},a.isViewAppRootView=function(t){return t&&t==this.mAppRootView},a.setIsBGViewVisible=function(t){this.mAppBGView&&this.mAppBGView.setIsVisible(t)},a.getSceneMgr=function(){return this.mSceneMgr},a.getAppSupportFactory=function(){return this.mAppSupportFactory},a.getHTTPConnectionMgr=function(){return this.mHTTPConnectionMgr},a.setIsInputActive=function(t){this.mIsInputActive!=t&&(this.mIsInputActive=t,this.handleDeviceControlCancelled(r.x320090993451744452x,r.x4239702654204980592x),this.handleDeviceControlCancelled(r.x320090993451744452x,r.x3293944736935869883x),this.handleDeviceControlCancelled(r.x48919500500765123x,r.x3689174771238144386x))},a.isUIControlsNavigationEnabled=function(){return this.mIsUIControlsNavigationEnabled},a.handleDeviceControlOn=function(t,e,i,n){if(this.mIsInputActive){switch(t){case r.x1204206699037006952x:case r.x1465526023299306006x:P.setIsPointerActive(!1);break;case r.x320090993451744452x:case r.x48919500500765123x:P.setIsPointerActive(!0)}switch(t){case r.x1465526023299306006x:this.handleKeyboardDeviceControlOn(e);break;case r.x320090993451744452x:this.handleMouseDeviceControlOn(e,i,n);break;case r.x48919500500765123x:this.handleTouchDeviceControlOn(e,i,n)}var a=this.mSceneMgr.getCurrentScene();a&&a.handleDeviceControlOn(t,e,i,n)}},a.handleDeviceControlOff=function(t,e,i,n){if(this.mIsInputActive){switch(t){case r.x1204206699037006952x:case r.x1465526023299306006x:P.setIsPointerActive(!1);break;case r.x320090993451744452x:case r.x48919500500765123x:P.setIsPointerActive(!0)}var a=this.mSceneMgr.getCurrentScene();a&&a.handleDeviceControlOff(t,e,i,n)}},a.handleDeviceControlValues=function(t,e,i,n){if(this.mIsInputActive){switch(t){case r.x1204206699037006952x:case r.x1465526023299306006x:P.setIsPointerActive(!1);break;case r.x320090993451744452x:case r.x48919500500765123x:P.setIsPointerActive(!0)}var a=this.mSceneMgr.getCurrentScene();a&&a.handleDeviceControlValues(t,e,i,n)}},a.handleDeviceControlCancelled=function(t,e){if(this.mIsInputActive){var i=this.mSceneMgr.getCurrentScene();i&&i.handleDeviceControlCancelled(t,e)}},a.handleUIEvent=function(t){switch(t){case s.x1958798948368567926x:case s.x3121661392539164691x:case s.x1322977536371629861x:case s.x3346945809449367340x:this.mSoundEffectsMgr.playSound(t)}},a.onAppActivated=function(){this.setIsInputActive(!0),this.dispatchMessage(s.x2196178310152428329x,this,null)},a.onAppDeactivated=function(){this.setIsInputActive(!1),this.dispatchMessage(s.x1471059550939686878x,this,null)},a.savePrefs=function(){this.x3860543995758042679x()},a.hasPrefsKey=function(t){return this.x2151546282283419316x(S.x2002177365636751078x(t,-1))},a.getPrefsInt=function(t,e){return this.hasPrefsKey(t)?S.stringToInt(S.x4379805376353750514x(this.x425805250416217476x(S.x2002177365636751078x(t,-1)))):e},a.getPrefsFloat=function(t,e){return this.hasPrefsKey(t)?S.stringToFloat(S.x4379805376353750514x(this.x425805250416217476x(S.x2002177365636751078x(t,-1)))):e},a.getPrefsBool=function(t,e){return this.hasPrefsKey(t)?S.stringToBoolean(S.x4379805376353750514x(this.x425805250416217476x(S.x2002177365636751078x(t,-1)))):e},a.getPrefsString=function(t,e){return this.hasPrefsKey(t)?S.x4379805376353750514x(this.x425805250416217476x(S.x2002177365636751078x(t,-1))):e},a.setPrefsInt=function(t,e){this.setPrefsString(t,S.stringFromInt(e,0,!1))},a.setPrefsFloat=function(t,e){this.setPrefsString(t,S.stringFromFloat(e))},a.setPrefsBool=function(t,e){this.setPrefsString(t,S.stringFromBoolean(e))},a.setPrefsString=function(t,e){this.x2186933304560272493x(S.x2002177365636751078x(t,-1),S.x2002177365636751078x(e,0))},a.trackGUAEvent=function(t,e,i,n,a){if(this.mIsGUAEnabled&&t&&""!=t)try{window.trackGUAEvent(t,e,i,n,a)}catch(t){}},a.setSoundEffectsVolume=function(t){this.mSoundEffectsMgr.setVolume(t),this.mSoundEffectsMgr.setIsMuted(t<=0)},a.getStartGameDeviceControlString=function(){return this.mStartGameDeviceControlString},a.setStartGameDeviceControlString=function(t){this.mStartGameDeviceControlString=t},a.dispatchAppMessage=function(t){this.dispatchMessage(t,this,null)},a.handleKeyboardDeviceControlOn=function(t){this.x102165765800709878x(t)},a.handleMouseDeviceControlOn=function(t,e,i){this.mDidReceive1stPointerDown||(h.awakenAllAudioContexts(),this.mDidReceive1stPointerDown=!0)},a.handleTouchDeviceControlOn=function(t,e,i){this.mDidReceive1stPointerDown||(h.awakenAllAudioContexts(),this.mDidReceive1stPointerDown=!0)},a.x1473523524288163967x=function(t){return new g(t)},a.x1283669502769947798x=function(t){},a.x270221986762238220x=function(){return null},a.x733539385885630082x=function(t){},a.x2770188081978024635x=function(){this.mStateMachine.incrementState()},a.x3860543995758042679x=function(){},a.x2151546282283419316x=function(t){try{return!!localStorage.getItem(t)}catch(t){return!1}},a.x425805250416217476x=function(t){try{return localStorage.getItem(t)}catch(t){return""}},a.x2186933304560272493x=function(t,e){try{localStorage.setItem(t,e)}catch(t){}},a.x102165765800709878x=function(t){},a.x2766708504066152543x=function(){l.setCursorToNormal(),null!==this.mStateMachine&&(this.mStateMachine.destroy(),this.mStateMachine=null),null!==this.x643706067324714973x&&(this.x643706067324714973x.destroy(),this.x643706067324714973x=null),this.mNativeAppParams=null,this.mLoadingScene=null,this.mInitialScene=null,null!==this.mSceneMgr&&(this.mSceneMgr.destroy(),this.mSceneMgr=null),this.mAppRootView&&this.mAppRootView.release(),this.mAppRootView=null,this.mAppBGView&&this.mAppBGView.release(),this.mAppBGView=null,null!==this.mAppSupportFactory&&(this.mAppSupportFactory.destroy(),this.mAppSupportFactory=null),null!==this.mHTTPConnectionMgr&&(this.mHTTPConnectionMgr.destroy(),this.mHTTPConnectionMgr=null),null!==this.mSoundEffectsMgr&&(this.mSoundEffectsMgr.destroy(),this.mSoundEffectsMgr=null),this.mNativeAppHelper&&(this.mNativeAppHelper=null),this==s.sInstance&&(s.sInstance=null),t.prototype.x2766708504066152543x.call(this)},a.x3651818526805939130x=function(e,i,n,a){if(e==c.x3589770202422279121x)switch(this.getAppState()){case s.x2997534807582147009x:case s.x3072415227599285470x:case s.x2465042991712157342x:case s.x187532666623209944x:case s.x3124792110522185320x:case s.x3343758724460934305x:case s.x2629768713045708098x:case s.x1107056052130017007x:a<500&&(this.mSoundEffectsMgr.processTimeMSEC(a),this.mSceneMgr.processTimeMSEC(a),this.mAppRootView.processTimeMSEC(a)),this.mHTTPConnectionMgr.processConnections()}switch(i){case s.x2997534807582147009x:switch(e){case c.x353128994538654894x:this.mIsGUAEnabled=this.x643706067324714973x.getBoolValueWithKeyStringPath("application.analytics.GoogleUniversalAnalytics.enabled"),this.mIsGA4Enabled=this.x643706067324714973x.getBoolValueWithKeyStringPath("application.analytics.GoogleAnalytics4.enabled"),this.mAppSupportFactory=this.x1473523524288163967x(this.mResourcesPath),this.mAppSupportFactory.setFactoryData(this.x643706067324714973x.getDictionaryWithKeyStringPath("application.appSupportFactory")),this.mAppSupportFactory.expandStyles(this.x643706067324714973x.getDictionaryWithKeyString("application")),this.mStateMachine.incrementState()}break;case s.x3072415227599285470x:switch(e){case c.x353128994538654894x:var o=!1;if(p=this.x643706067324714973x.getDictionaryWithKeyStringPath("application.backgroundImage")){var r=p.getStringValueWithKeyStringPath("style.resource_texture");r&&""!=r&&(o=!0,this.mAppSupportFactory.getResourceMgr().addNativeSpriteFrameResource(r,"app",r),this.mAppSupportFactory.getResourceMgr().startLoading())}o||this.mStateMachine.incrementState();break;case c.x3589770202422279121x:if(this.mAppSupportFactory.getResourceMgr().isDoneLoading("app")){this.mAppBGView=new f(this.mAppSupportFactory),this.mAppBGView.retain(),this.mAppBGView.setName("AppBGView");var p=this.x643706067324714973x.getDictionaryWithKeyStringPath("application.backgroundImage");this.mAppBGView.setStyle(p.getDictionaryWithKeyString("style")),this.mAppBGView.setTransformWithParams(p.getDictionaryWithKeyString("transform")),p.getBoolValueWithKeyStringPath("scaleToWindow")&&this.mAppBGView.setSize(this.getWindowWidth(),this.getWindowHeight()),this.mStateMachine.incrementState()}else this.mAppSupportFactory.getResourceMgr().processLoading()}break;case s.x2465042991712157342x:switch(e){case c.x353128994538654894x:var S=this.x643706067324714973x.getDictionaryWithKeyStringPath("application.scenes.loading");this.mAppSupportFactory.addResources(S,"app"),this.mAppSupportFactory.getResourceMgr().startLoading();break;case c.x3589770202422279121x:this.mAppSupportFactory.getResourceMgr().isDoneLoading("app")?(this.mAppBGView&&this.mAppRootView.addChild(this.mAppBGView),this.mLoadingScene=this.x270221986762238220x(),this.mSceneMgr.addManagedScene(this.mLoadingScene),this.mSceneMgr.setScene(this.mLoadingScene.getSceneName()),this.mSceneMgr.processTimeMSEC(0),this.mStateMachine.incrementState()):this.mAppSupportFactory.getResourceMgr().processLoading();break;case c.x2931974030808705080x:if(window)try{window.gameLoadingSceneIsReady()}catch(t){}}break;case s.x187532666623209944x:switch(e){case c.x353128994538654894x:this.mAppSupportFactory.addResources(this.x643706067324714973x.getDictionaryWithKeyString("application"),"app"),this.x1283669502769947798x(this.mAppSupportFactory),this.mAppSupportFactory.getResourceMgr().startLoading();break;case c.x3589770202422279121x:this.mAppSupportFactory.getResourceMgr().isDoneLoading("app")?this.mStateMachine.incrementState():this.mAppSupportFactory.getResourceMgr().processLoading()}break;case s.x3124792110522185320x:switch(e){case c.x353128994538654894x:this.x2770188081978024635x()}break;case s.x3343758724460934305x:switch(e){case c.x353128994538654894x:this.x733539385885630082x(this.mSceneMgr),this.mInitialScene=this.mSceneMgr.getManagedScene(this.x643706067324714973x.getStringValueWithKeyStringPath("application.initialScene")),this.mSceneMgr.initManagedScenes(),this.mStateMachine.incrementState()}break;case s.x2629768713045708098x:switch(e){case c.x3589770202422279121x:this.mAppSupportFactory.getResourceMgr().isDoneLoading("")||this.mAppSupportFactory.getResourceMgr().processLoading(),this.mLoadingScene.getSceneState()==d.x706600425791028312x&&this.mInitialScene&&(this.mSceneMgr.setScene(this.mInitialScene.getSceneName()),this.mSceneMgr.processTimeMSEC(0),this.mSceneMgr.removeManagedScene(this.mLoadingScene),this.mLoadingScene=null,this.mInitialScene=null,this.mSoundEffectsMgr.getIsEnabled()&&this.mAppSupportFactory.addSoundsToSoundMgr(this.mSoundEffectsMgr,this.x643706067324714973x.getDictionaryWithKeyStringPath("application.audio.effects.sounds")),this.mStateMachine.incrementState())}break;case s.x1107056052130017007x:this.mAppSupportFactory.getResourceMgr().isDoneLoading("")||this.mAppSupportFactory.getResourceMgr().processLoading()}return t.prototype.x3651818526805939130x.call(this,e,i,n,a)},i(s,null,[{key:"x1361315459377907702x",get:function(){return 0}},{key:"x2997534807582147009x",get:function(){return 1}},{key:"x3072415227599285470x",get:function(){return 2}},{key:"x2465042991712157342x",get:function(){return 3}},{key:"x187532666623209944x",get:function(){return 4}},{key:"x3124792110522185320x",get:function(){return 5}},{key:"x3343758724460934305x",get:function(){return 6}},{key:"x2629768713045708098x",get:function(){return 7}},{key:"x1107056052130017007x",get:function(){return 8}},{key:"x2469781188801464897x",get:function(){return 9}},{key:"x2196178310152428329x",get:function(){return 737047202}},{key:"x1471059550939686878x",get:function(){return 2077270881}},{key:"x1958798948368567926x",get:function(){return 99450073}},{key:"x3121661392539164691x",get:function(){return 542270853}},{key:"x1322977536371629861x",get:function(){return 698746379}},{key:"x3346945809449367340x",get:function(){return 1638425175}}]),s}(s));D.sInstance=null,D.sValidationStatus="UAYIOLMEKQCE",a._RF.pop()}}}));System.register("chunks:///_virtual/x4119940741088217684x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x1825263265700717187x.ts","./x1390687146982484874x.ts","./x1654909725214686057x.ts","./x4399705917818454294x.ts","./x2635158806370081912x.ts","./x832182382730187518x.ts","./x1712942562369706315x.ts","./x291109610367529640x.ts","./x224651144502154050x.ts","./x2568130707691349422x.ts","./x441339227243264040x.ts","./x689332512328257358x.ts","./x3654830822402979912x.ts","./x3005326795379396168x.ts","./x4514175460444622305x.ts"],(function(t){"use strict";var e,i,r,n,a,s,o,u,c,l,g,S,h,y,V,d,p,P;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.x4472346643782045245x},function(t){n=t.x1825263265700717187x},function(t){a=t.x1390687146982484874x},function(t){s=t.x1654909725214686057x},function(t){o=t.x4399705917818454294x},function(t){u=t.x2635158806370081912x},function(t){c=t.x832182382730187518x},function(t){l=t.x1712942562369706315x},function(t){g=t.x291109610367529640x},function(t){S=t.x224651144502154050x},function(t){h=t.x2568130707691349422x},function(t){y=t.x441339227243264040x},function(t){V=t.x689332512328257358x},function(t){d=t.x3654830822402979912x},function(t){p=t.x3005326795379396168x},function(t){P=t.x4514175460444622305x}],execute:function(){i._RF.push({},"d852aCWTtdITq4jsWPAaY2K","x4119940741088217684x",void 0);t("x4119940741088217684x",function(t){function i(e){var i;return(i=t.call(this)||this).mResourceMgr=new c(e),i.mFactoryData=null,i.mStylesData=null,i}e(i,t);var r=i.prototype;return r.addResources=function(t,e){if(t.getBoolValueWithDefault(a.stringToValueKey("enabled"),!0))for(var i,r=t.getNumValues(),n=0;n<r;n++)switch((i=t.getValueAtIndex(n)).getValueType()){case s.x4440003044286975511x:var o=i.getKeyString(),c=i.getValue();if("resource_texture"==o)this.mResourceMgr.addNativeSpriteFrameResource(c,e,c);else if("resource_font"==o)this.mResourceMgr.addBitmapFontResource(c,e,c);else if("resource_sound"==o||"resource_music"==o){var l=t.getBoolValueWithKeyStringPath("requirePreload");"resource_sound"==o?this.mResourceMgr.addNativeSoundResource(c,e,c,u.x4547099600013315426x,l):"resource_music"==o&&this.mResourceMgr.addNativeSoundResource(c,e,c,u.x1934298939901694138x,l)}break;case s.x3500180382744555049x:this.addResources(t.getDictionaryAtIndex(n),e)}},r.getResourceMgr=function(){return this.mResourceMgr},r.setFactoryData=function(t){null!==this.mFactoryData&&(this.mFactoryData.destroy(),this.mFactoryData=null),this.mFactoryData=new n(!0),this.mFactoryData.copy(t,!0),this.mStylesData=this.mFactoryData.getDictionaryWithKeyString("styles"),this.expandStyles(this.mFactoryData)},r.expandStyles=function(t){if(t){var e=0;if(t.hasValueWithKeyString("baseStyle")){var i=t.getStringValue(a.stringToValueKey("baseStyle"));if(t.removeValue(a.stringToValueKey("baseStyle")),i&&""!=i){var r=this.getStyle(i);if(r){this.expandStyles(r);var n=r.getNumValues();for(e=0;e<n;e++){var o=r.getValueAtIndex(e),u=o.getKey();t.hasValue(u)||t.copyValueAndType(u,o)}}}}var c=t.getNumValues();for(e=0;e<c;e++)t.getValueTypeAtIndex(e)==s.x3500180382744555049x&&this.expandStyles(t.getDictionaryAtIndex(e))}},r.getStyle=function(t){return""==t?null:this.mStylesData.getDictionaryWithKeyStringPath(t)},r.createViewWithTypeAndClass=function(t,e,i){if(""==t)return null;var r=this.x4316307327377130222x(t,e);return r.initWithParams(i),r},r.createViewWithType=function(t,e){var i=null,r=this.mFactoryData.getDictionaryWithKeyString("objects").getDictionaryWithKeyString(t);if(null==r)i=this.createViewWithTypeAndClass(t,t,e);else{var n=r.getDictionaryWithKeyString("params"),s=null;e&&e.getNumValues()>0?(s=e).synchronizeWithSource(n,!1,!1,!1):s=n,i=this.createViewWithTypeAndClass(t,r.getStringValue(a.stringToValueKey("class")),s)}return i},r.createViewHierarchy=function(t,e){var i,r,n=0,s=a.firstIndexInString(t,"@"),o=a.firstIndexInString(t,":");if(!(o>0))return null;n=o+1,s>0?(i=a.substringToIndex(t,s),r=a.substringWithRange(t,s+1,o)):i=r=a.substringToIndex(t,o);var u=this.createViewWithType(i,e);if(u||(u=this.createViewWithTypeAndClass(i,r,e)),u){var c=a.substringFromIndex(t,n);u.setName(c);var l=e.getDictionaryWithKeyString("children");l&&this.createViewHierarchyInView(l,u)}return u},r.createViewHierarchyInView=function(t,e){for(var i,r,n=t.getNumValues(),s=0;s<n;s++)(i=t.getDictionaryAtIndex(s))&&i.getBoolValueWithDefault(a.stringToValueKey("enabled"),!0)&&(r=this.createViewHierarchy(t.getValueKeyStringAtIndex(s),i),e.addChild(r),r.setTransformWithParams(i.getDictionaryWithKeyString("transform")));e.childrenLayoutChanged()},r.x1839654494700481574x=function(t){if(!t.getBoolValueWithDefault(a.stringToValueKey("enabled"),!0))return null;var e=new o;e.setFont(this.getResourceMgr().getBitmapFontResource(t.getStringValueWithKeyStringPath("resource_font")));var i=o.x643913247751548878x;if(t.hasValueWithKeyString("horizontalAlignment"))switch(a.stringToValueKey("horizontalAlignment")){case s.x3783032619504109691x:switch(t.getIntValueWithKeyStringPath("horizontalAlignment")){case 1:i=o.x360817282790938557x;break;case 2:i=o.x643913247751548878x;break;case 3:i=o.x3117902855767256109x}break;case s.x4440003044286975511x:i=a.stringToHash32(t.getStringValueWithKeyStringPath("horizontalAlignment"))}var r=o.x914413537427137377x;if(t.hasValueWithKeyString("verticalAlignment"))switch(a.stringToValueKey("verticalAlignment")){case s.x3783032619504109691x:switch(t.getIntValueWithKeyStringPath("verticalAlignment")){case 1:r=o.x1732125663904224017x;break;case 2:r=o.x914413537427137377x;break;case 3:r=o.x1539732764119326768x}break;case s.x4440003044286975511x:r=a.stringToHash32(t.getStringValueWithKeyStringPath("verticalAlignment"))}return e.setAlignment(i,r),e.setPosition(t.getFloatValueWithKeyStringPath("x"),t.getFloatValueWithKeyStringPath("y")),e},r.addSoundsToSoundMgr=function(t,e){for(var i=e.getNumValues(),r=0;r<i;r++){var n=e.getDictionaryAtIndex(r),a="";if(n.hasValueWithKeyString("resource_sound")?a=n.getStringValueWithKeyStringPath("resource_sound"):n.hasValueWithKeyString("resource_music")&&(a=n.getStringValueWithKeyStringPath("resource_music")),a&&""!=a){var s=n.getFloatValueWithKeyStringPath("volume");s>0&&t.addSound(e.getValueKeyAtIndex(r),this.getResourceMgr().getNativeSoundResource(a),s)}}},r.x4316307327377130222x=function(t,e){return e==a.x4379805376353750514x("LELPJSWFQSHFATWQZIZPSTUPMTWLHHHFGMZQ")?new g(this):e==a.x4379805376353750514x("FHRSLFAOSFDJQFPTXLDIWJZRZGCPGLYIGE")?new S(this):e==a.x4379805376353750514x("VHFKNMOFSRPFVNELMTUPGT")?new h(this):e==a.x4379805376353750514x("LIHRBEQMGJAMKJSHOKPGPKKFCKWSRJKGETXGQP")?new l(this):e==a.x4379805376353750514x("CJTRXDCNCJFNQIQFILEHFLXGHK")?new y(this):e==a.x4379805376353750514x("PJFONQQEUQTEIQWNAHQOISMO")?new V(this):e==a.x4379805376353750514x("IAHJFMQEUQTEIQPOZSNTDSAOQRAK")?new d(this):e==a.x4379805376353750514x("SDBEJGOPOLBPMKUIENUJBNHHTMSEORUO")?new p(this):e==a.x4379805376353750514x("CBBOZQMEQQQEKRDPSH")?new P(!0,this):null},r.x2766708504066152543x=function(){null!==this.mResourceMgr&&(this.mResourceMgr.destroy(),this.mResourceMgr=null),null!==this.mFactoryData&&(this.mFactoryData.destroy(),this.mFactoryData=null),this.mStylesData=null,t.prototype.x2766708504066152543x.call(this)},i}(r));i._RF.pop()}}}));System.register("chunks:///_virtual/x1712942562369706315x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4514175460444622305x.ts","./x1390687146982484874x.ts","./x4399705917818454294x.ts"],(function(t){"use strict";var e,i,s,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){s=t.x4514175460444622305x},function(t){n=t.x1390687146982484874x},function(t){o=t.x4399705917818454294x}],execute:function(){i._RF.push({},"8635fK3FO9OCJELBN4CD4A+","x1712942562369706315x",void 0);t("x1712942562369706315x",function(t){function i(e){var i;return(i=t.call(this,!1,e)||this).mFont=null,i.mText="",i.mTextView=new o,i.setNativeView(i.mTextView.getNativeView()),i.setName("_BPSBitmapTextView"),i}e(i,t);var s=i.prototype;return s.setFont=function(t){this.mFont!=t&&(this.mFont=t,this.mTextView.setFont(t),this.setSize(this.mTextView.getTextWidth(),this.mTextView.getTextHeight()))},s.getText=function(){return this.mText},s.setText=function(t){this.mText!=t&&(this.mText=t,this.mTextView.setText(t),this.setSize(this.mTextView.getTextWidth(),this.mTextView.getTextHeight()))},s.x2187205631974265155x=function(e){t.prototype.x2187205631974265155x.call(this,e),this.setName("_BPSBitmapTextView"),e&&(this.setFont(this.getAppSupportFactory().getResourceMgr().getBitmapFontResource(e.getStringValue(n.stringToValueKey("resource_font")))),this.setText(e.getStringValue(n.stringToValueKey("text"))))},s.x2766708504066152543x=function(){this.mFont=null,null!==this.mTextView&&(this.mTextView.destroy(),this.mTextView=null),t.prototype.x2766708504066152543x.call(this)},s.x4191198991378693528x=function(t){this.mTextView.setAlpha(t)},s.x1356244649591557329x=function(t){this.setFont(this.getAppSupportFactory().getResourceMgr().getBitmapFontResource(t.getStringValue(n.stringToValueKey("resource_font")))),this.setAlpha(t.getFloatValueWithDefault(n.stringToValueKey("alpha"),1));var e=n.stringToValueKey(t.getStringValueWithDefault(n.stringToValueKey("horizontalAlignment"),"center"));this.mTextView.setAlignment(e,o.x914413537427137377x)},i}(s));i._RF.pop()}}}));System.register("chunks:///_virtual/x291109610367529640x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4514175460444622305x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,i,n,o,a;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){o=t.x4514175460444622305x},function(t){a=t.x1390687146982484874x}],execute:function(){n._RF.push({},"474d1O0Lk5P8rzPeKdDze18","x291109610367529640x",void 0);t("x291109610367529640x",function(t){function n(e){var i;return(i=t.call(this,!0,e)||this).mLayout=n.x2790132705469290514x,i.mStride=0,i.mAutoWidth=!0,i.mAutoHeight=!0,i.mHorizontalPadding=0,i.mVerticalPadding=0,i.mAlignment=.5,i.setEnableChildrenBaseDepthOffset(!1),i.setName("_BPSContainerView"),i}e(n,t);var o=n.prototype;return o.updateChildren=function(){switch(this.mLayout){case n.x2895484338737209885x:this.distributeExternalChildrenHorizontally(this.mStride),this.mAlignment>=0&&this.setChildrenAnchorY(this.mAlignment);break;case n.x4599435426220939629x:this.distributeExternalChildrenVertically(this.mStride),this.mAlignment>=0&&this.setChildrenAnchorX(this.mAlignment)}this.mAutoWidth&&this.setWidthToChildrenBounds(this.mHorizontalPadding),this.mAutoHeight&&this.setHeightToChildrenBounds(this.mVerticalPadding)},o.x2187205631974265155x=function(e){t.prototype.x2187205631974265155x.call(this,e),this.setName("_BPSContainerView")},o.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},o.x1356244649591557329x=function(t){var e=t.getStringValueWithDefault(a.stringToValueKey("layout"),"none");"none"==e?this.mLayout=n.x2790132705469290514x:"horizontal"==e?this.mLayout=n.x2895484338737209885x:"vertical"==e&&(this.mLayout=n.x4599435426220939629x),this.mStride=t.getFloatValue(a.stringToValueKey("stride")),this.mAutoWidth=t.getBoolValueWithDefault(a.stringToValueKey("autoWidth"),!0),this.mAutoHeight=t.getBoolValueWithDefault(a.stringToValueKey("autoHeight"),!0),this.mHorizontalPadding=t.getFloatValue(a.stringToValueKey("horizontalPadding")),this.mVerticalPadding=t.getFloatValue(a.stringToValueKey("verticalPadding")),this.mAlignment=t.getFloatValueWithDefault(a.stringToValueKey("alignment"),-1),this.updateChildren()},o.x4084303201354081393x=function(){this.updateChildren()},o.x2027975365980397869x=function(){this.updateChildren()},i(n,null,[{key:"x2790132705469290514x",get:function(){return 1}},{key:"x2895484338737209885x",get:function(){return 2}},{key:"x4599435426220939629x",get:function(){return 3}}]),n}(o));n._RF.pop()}}}));System.register("chunks:///_virtual/x171491166251155774x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x2825914500079770252x.ts","./x109322611791924071x.ts"],(function(t){"use strict";var e,a,n,i,s,c,r;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass,n=t.assertThisInitialized},function(t){i=t.cclegacy},function(t){s=t.x4472346643782045245x},function(t){c=t.x2825914500079770252x},function(t){r=t.x109322611791924071x}],execute:function(){i._RF.push({},"10af3OdEKJAcLW5TgCjjbMC","x171491166251155774x",void 0);t("x171491166251155774x",function(t){function i(e,a,s,c){var o;return(o=t.call(this)||this).mGameMgrData=e.x1983177741811147517x(),o.mStateMachine=new r(n(o)),o.mStateMachine.setStateImmediate(i.x3071033649781089376x),o.mAppSupportFactory=a,o.mGameRootView=s,o.mValueChangedSource=c,c.addMessageListener(n(o)),o}e(i,t);var s=i.prototype;return s.getGameMgrData=function(){return this.mGameMgrData},s.getValueChangedSource=function(){return this.mValueChangedSource},s.getState=function(){return this.mStateMachine.getCurrentState()},s.processTimeMSEC=function(t){this.mStateMachine.processTime(t)},s.startConstruct=function(){this.getState()==i.x3071033649781089376x&&(this.x3312213593749599992x(),this.mStateMachine.setStateImmediate(i.x1049334451442201511x))},s.initializeGame=function(){this.getState()==i.x509084065516752150x&&(this.x3833589715677666287x(),this.mStateMachine.setStateImmediate(i.x454327274488304137x))},s.startGame=function(){this.getState()==i.x454327274488304137x&&(this.x2083589989246887527x(),this.dispatchMessage(i.x34000413704093388x,this,null),this.mGameRootView.setIsActive(!0),this.mStateMachine.setStateImmediate(i.x4148361616519954992x))},s.pauseGame=function(){this.getState()==i.x4148361616519954992x&&(this.dispatchMessage(i.x2887507800261874228x,this,null),this.x2422710198348603327x(),this.mGameRootView.setIsActive(!1),this.mStateMachine.setStateImmediate(i.x3933957698802094611x))},s.unpauseGame=function(){this.getState()==i.x3933957698802094611x&&(this.x2082278322702908866x(),this.mGameRootView.setIsActive(!0),this.mStateMachine.setStateImmediate(i.x4148361616519954992x))},s.terminate=function(){switch(this.getState()){case i.x3071033649781089376x:case i.x3961798951401593355x:case i.x2528927142782625403x:return}this.dispatchMessage(i.x1941104231007499560x,this,null),this.x3175692800258597968x(),this.mGameRootView.removeAllChildren(!0),this.mGameRootView.removeFromParent(),this.mStateMachine.setStateImmediate(i.x2528927142782625403x)},s.handleDeviceControlOn=function(t,e){this.getState()==i.x4148361616519954992x&&this.x2889125714466725979x(t,e)},s.handleDeviceControlOff=function(t,e){this.getState()==i.x4148361616519954992x&&this.x2521489794401660650x(t,e)},s.handleDeviceControlValues=function(t,e,a,n){this.getState()==i.x4148361616519954992x&&this.x4489443059885017982x(t,e,a,n)},s.handleDeviceControlCancelled=function(t,e){this.getState()==i.x4148361616519954992x&&this.x2542169887589999891x(t,e)},s.setDoMouseButtonViaTouch=function(t){},s.getAppSupportFactory=function(){return this.mAppSupportFactory},s.getStateMachine=function(){return this.mStateMachine},s.getGameRootView=function(){return this.mGameRootView},s.x3312213593749599992x=function(){},s.x3429389712119639799x=function(){return i.x509084065516752150x},s.x3833589715677666287x=function(){},s.x2083589989246887527x=function(){},s.x3740052155655410519x=function(t){return!1},s.x2422710198348603327x=function(){},s.x2082278322702908866x=function(){},s.x3175692800258597968x=function(){},s.x2889125714466725979x=function(t,e){},s.x2521489794401660650x=function(t,e){},s.x4489443059885017982x=function(t,e,a,n){},s.x2542169887589999891x=function(t,e){},s.x2766708504066152543x=function(){this.mValueChangedSource.removeMessageListener(this),null!==this.mGameMgrData&&(this.mGameMgrData.destroy(),this.mGameMgrData=null),null!==this.mStateMachine&&(this.mStateMachine.destroy(),this.mStateMachine=null),this.mAppSupportFactory=null,this.mGameRootView=null,t.prototype.x2766708504066152543x.call(this)},s.x3651818526805939130x=function(e,a,n,s){switch(a){case i.x1049334451442201511x:switch(e){case c.x3589770202422279121x:switch(this.x3429389712119639799x()){case i.x509084065516752150x:this.mStateMachine.setStateImmediate(i.x509084065516752150x);break;case i.x1621030386878040371x:this.mStateMachine.setStateImmediate(i.x1621030386878040371x)}}break;case i.x4148361616519954992x:switch(e){case c.x3589770202422279121x:this.x3740052155655410519x(s)||this.mStateMachine.setStateImmediate(i.x3961798951401593355x)}break;case i.x3961798951401593355x:switch(e){case c.x353128994538654894x:this.dispatchMessage(i.x4101123396711883235x,this,null)}}return t.prototype.x3651818526805939130x.call(this,e,a,n,s)},a(i,null,[{key:"x3071033649781089376x",get:function(){return 0}},{key:"x1049334451442201511x",get:function(){return 1}},{key:"x509084065516752150x",get:function(){return 2}},{key:"x1621030386878040371x",get:function(){return 3}},{key:"x454327274488304137x",get:function(){return 4}},{key:"x4148361616519954992x",get:function(){return 5}},{key:"x3933957698802094611x",get:function(){return 6}},{key:"x3961798951401593355x",get:function(){return 7}},{key:"x2528927142782625403x",get:function(){return 8}},{key:"x34000413704093388x",get:function(){return 83445564}},{key:"x2887507800261874228x",get:function(){return 1208569424}},{key:"x4101123396711883235x",get:function(){return 248312912}},{key:"x1941104231007499560x",get:function(){return 1064191273}}]),i}(s));i._RF.pop()}}}));System.register("chunks:///_virtual/x704109652986445091x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts"],(function(e){"use strict";var t,n,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.x4472346643782045245x}],execute:function(){n._RF.push({},"bf655gqQspAfaSrOuT1F8Ph","x704109652986445091x",void 0);e("x704109652986445091x",function(e){function n(t){var n;return(n=e.call(this)||this).x4134463664497983155x=null,n.mHTTPRequest=null,n}t(n,e);var s=n.prototype;return s.start=function(){this.mHTTPRequest=new XMLHttpRequest;var e=this.x4134463664497983155x.getMethodAsString(),t=this.x4134463664497983155x.getURL();this.mHTTPRequest.open(e,t,!0),this.mHTTPRequest.timeout=1e3*this.x4134463664497983155x.getTimeoutSEC();for(var n=this.x4134463664497983155x.getHeaders(),s=n.getNumValues(),T=0;T<s;T++){var o=n.getValueKeyStringAtIndex(T);if("user-agent"!=o){var i=n.getStringValueAtIndex(T);this.mHTTPRequest.setRequestHeader(o,i)}}var u=this;this.mHTTPRequest.onreadystatechange=function(e){4==u.mHTTPRequest.readyState&&(u.x4134463664497983155x._setResponseContent(u.mHTTPRequest.responseText,u.mHTTPRequest.getResponseHeader("content-type")),u.x4134463664497983155x._setResponseStatusCode(u.mHTTPRequest.status),u.x4134463664497983155x._handleComplete())},this.mHTTPRequest.send(this.x4134463664497983155x.getBodyDataString())},s.cancel=function(){this.mHTTPRequest&&(this.mHTTPRequest.abort(),this.mHTTPRequest=null)},n}(s));n._RF.pop()}}}));System.register("chunks:///_virtual/x1791180833727725535x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts"],(function(e){"use strict";var t,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.x4472346643782045245x}],execute:function(){n._RF.push({},"e301bm1UJlHBYlTZA5w9L7H","x1791180833727725535x",void 0);e("x1791180833727725535x",function(e){function n(t){var n;return(n=e.call(this)||this).x2253116089879655127x=t,n.mSceneDiv=null,n}t(n,e);var i=n.prototype;return i.getParentDiv=function(){try{return window.getGameDiv()}catch(e){return document.getElementById("GameDiv")}},i.x2795515881384629813x=function(){return this.x2253116089879655127x},i.createSceneDiv=function(e,t,n){var i=document.createElement("div");return i.id=e,i.style.width=t,i.style.height=n,i.style.position="absolute",i.style.display="flex",i.style.flexDirection="column",i.style.alignItems="center",i.style.justifyContent="center",i},i.destroy=function(){this.x3609479818965516357x()},i.enter=function(){this.mSceneDiv&&this.getParentDiv().appendChild(this.mSceneDiv),this.x3636833699879198327x()},i.exit=function(){this.x1828799059990682290x(),this.mSceneDiv&&this.getParentDiv().removeChild(this.mSceneDiv)},i.suspend=function(){this.mSceneDiv.style.visibility="hidden",this.x2435374306839100258x()},i.resume=function(){this.mSceneDiv.style.visibility="visible",this.x2467907818555966343x()},i.terminate=function(){this.x2801977793226390436x()},i.processTimeMSEC=function(e){this.x2015781462226914624x(e)},i.x3609479818965516357x=function(){},i.x3636833699879198327x=function(){},i.x1828799059990682290x=function(){},i.x2435374306839100258x=function(){},i.x2467907818555966343x=function(){},i.x2801977793226390436x=function(){},i.x2015781462226914624x=function(e){},n}(i));n._RF.pop()}}}));System.register("chunks:///_virtual/x3929633537924788326x.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"cf08311SDdL974IqIP0wnWL","x3929633537924788326x",void 0);t("x3929633537924788326x",function(){function t(t,i,e,n){this.mX=t,this.mY=i,this.mWidth=e,this.mHeight=n}var i=t.prototype;return i.getLeft=function(){return this.mX},i.getCenterX=function(){return this.mX+.5*this.mWidth},i.getRight=function(){return this.mX+this.mWidth},i.getBottom=function(){return this.mY},i.getCenterY=function(){return this.mY+.5*this.mHeight},i.getTop=function(){return this.mY+this.mHeight},i.isPointInside=function(t,i){return!(t<this.mX)&&(!(t>=this.mX+this.mWidth)&&(!(i<this.mY)&&!(i>=this.mY+this.mHeight)))},t}());i._RF.pop()}}}));System.register("chunks:///_virtual/x1552857805309345765x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts"],(function(t){"use strict";var e,i,s,n;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy},function(t){n=t.x4472346643782045245x}],execute:function(){s._RF.push({},"1b685uHJG9I8pV4uHpNp5Pq","x1552857805309345765x",void 0);t("x1552857805309345765x",function(t){function s(){var e;return(e=t.call(this)||this).mRefCount=0,e.mLifeStatus=s.x1191281792241122591x,e.mName="",e}e(s,t);var n=s.prototype;return n.retain=function(){switch(this.mLifeStatus){case s.x1191281792241122591x:return void this.mRefCount++;case s.x2056696905499584959x:case s.x1450457673886566548x:return}},n.release=function(){switch(this.mLifeStatus){case s.x1191281792241122591x:return this.mRefCount,this.mRefCount--,void(this.mRefCount<=0&&(this.mLifeStatus=s.x2056696905499584959x,this.destroy()));case s.x2056696905499584959x:case s.x1450457673886566548x:return}},n.getName=function(){return this.mName},n.setName=function(t){this.mName=t,this.x4477763996529785158x(t)},n.x4477763996529785158x=function(t){},n.x2766708504066152543x=function(){this.mLifeStatus!=s.x1450457673886566548x&&(this.mLifeStatus=s.x1450457673886566548x,t.prototype.x2766708504066152543x.call(this))},i(s,null,[{key:"kBPSRetainedObjectClassId",get:function(){return 442130469}},{key:"x1191281792241122591x",get:function(){return 1}},{key:"x2056696905499584959x",get:function(){return 2}},{key:"x1450457673886566548x",get:function(){return 3}}]),s}(n));s._RF.pop()}}}));System.register("chunks:///_virtual/x224651144502154050x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4514175460444622305x.ts","./x1390687146982484874x.ts","./x2362680020733037980x.ts","./x2568130707691349422x.ts"],(function(t){"use strict";var e,i,r,s,m,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.x4514175460444622305x},function(t){s=t.x1390687146982484874x},function(t){m=t.x2362680020733037980x},function(t){o=t.x2568130707691349422x}],execute:function(){i._RF.push({},"58da3dlUfFEaoDeUlLMwHcI","x224651144502154050x",void 0);t("x224651144502154050x",function(t){function i(e){var i;return(i=t.call(this,!0,e)||this).mSpriteFrame=null,i.mTopLeftSprite=new o(e),i.mTopLeftSprite.setName("TopLeftSprite"),i.mTopLeftSprite.setAnchor(1,0),i.mTopLeftSprite.retain(),i.mTopSprite=new o(e),i.mTopSprite.setName("TopSprite"),i.mTopSprite.setAnchor(.5,0),i.mTopSprite.retain(),i.mTopRightSprite=new o(e),i.mTopRightSprite.setName("TopRightSprite"),i.mTopRightSprite.setAnchor(0,0),i.mTopRightSprite.retain(),i.mLeftSprite=new o(e),i.mLeftSprite.setName("LeftSprite"),i.mLeftSprite.setAnchor(1,.5),i.mLeftSprite.retain(),i.mCenterSprite=new o(e),i.mCenterSprite.setName("CenterSprite"),i.mCenterSprite.setAnchor(.5,.5),i.mCenterSprite.retain(),i.mRightSprite=new o(e),i.mRightSprite.setName("RightSprite"),i.mRightSprite.setAnchor(0,.5),i.mRightSprite.retain(),i.mBottomLeftSprite=new o(e),i.mBottomLeftSprite.setName("BottomLeftSprite"),i.mBottomLeftSprite.setAnchor(1,1),i.mBottomLeftSprite.retain(),i.mBottomSprite=new o(e),i.mBottomSprite.setName("BottomSprite"),i.mBottomSprite.setAnchor(.5,1),i.mBottomSprite.retain(),i.mBottomRightSprite=new o(e),i.mBottomRightSprite.setName("BottomRightSprite"),i.mBottomRightSprite.setAnchor(0,1),i.mBottomRightSprite.retain(),i.createInternalChildrenContainer(),i.getInternalChildrenContainer().setEnableChildrenSiblingDepthOffset(!1),i.setName("_BPSScale9Sprite"),i}e(i,t);var r=i.prototype;return r.setSpriteFrame=function(t){if(this.mSpriteFrame!=t){this.mSpriteFrame=t;var e=null,i=this.getInternalChildrenContainer(),r=0;if(t){if(t.isScale9())for(this.mLeftInset=t.getScale9LeftInset(),this.mRightInset=t.getScale9RightInset(),this.mTopInset=t.getScale9TopInset(),this.mBottomInset=t.getScale9BottomInset(),9!=i.getNumChildren()&&(i.removeAllChildren(!0),i.addChild(this.mTopLeftSprite),i.addChild(this.mTopSprite),i.addChild(this.mTopRightSprite),i.addChild(this.mLeftSprite),i.addChild(this.mCenterSprite),i.addChild(this.mRightSprite),i.addChild(this.mBottomLeftSprite),i.addChild(this.mBottomSprite),i.addChild(this.mBottomRightSprite)),r=0;r<9;r++)(e=i.getChildAtIndex(r)).setSpriteFrame(t),e.setSpriteFrameIndex(r);else this.mLeftInset=0,this.mRightInset=0,this.mTopInset=0,this.mBottomInset=0,1!=i.getNumChildren()&&(i.removeAllChildren(!0),i.addChild(this.mCenterSprite)),this.mCenterSprite.setSpriteFrame(t),this.mCenterSprite.setSpriteFrameIndex(0);this.x1868494756939104847x(this.getWidth(),this.getHeight())}else{var s=i.getNumChildren();for(r=0;r<s;r++)(e=i.getChildAtIndex(r)).setSpriteFrame(null)}}},r.x2187205631974265155x=function(e){t.prototype.x2187205631974265155x.call(this,e),this.setName("_BPSScale9Sprite"),e&&this.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(e.getStringValue(s.stringToValueKey("resource_texture"))))},r.x2766708504066152543x=function(){this.mSpriteFrame=null,this.mTopLeftSprite&&this.mTopLeftSprite.release(),this.mTopLeftSprite=null,this.mTopSprite&&this.mTopSprite.release(),this.mTopSprite=null,this.mTopRightSprite&&this.mTopRightSprite.release(),this.mTopRightSprite=null,this.mLeftSprite&&this.mLeftSprite.release(),this.mLeftSprite=null,this.mCenterSprite&&this.mCenterSprite.release(),this.mCenterSprite=null,this.mRightSprite&&this.mRightSprite.release(),this.mRightSprite=null,this.mBottomLeftSprite&&this.mBottomLeftSprite.release(),this.mBottomLeftSprite=null,this.mBottomSprite&&this.mBottomSprite.release(),this.mBottomSprite=null,this.mBottomRightSprite&&this.mBottomRightSprite.release(),this.mBottomRightSprite=null,t.prototype.x2766708504066152543x.call(this)},r.x1868494756939104847x=function(e,i){if(t.prototype.x1868494756939104847x.call(this,e,i),9==this.getInternalChildrenContainer().getNumChildren()){var r=.5*-e,s=.5*-i,m=e-this.mLeftInset-this.mRightInset,o=i-this.mTopInset-this.mBottomInset,p=r+this.mLeftInset,h=p+m,S=s+this.mBottomInset,n=S+o;this.mCenterSprite.setSize(m,o),this.mTopLeftSprite.setPosition(p,n),this.mTopRightSprite.setPosition(h,n),this.mBottomLeftSprite.setPosition(p,S),this.mBottomRightSprite.setPosition(h,S),this.mTopSprite.setPosition(0,n),this.mTopSprite.setSize(m,this.mTopInset),this.mLeftSprite.setPosition(p,0),this.mLeftSprite.setSize(this.mLeftInset,o),this.mRightSprite.setPosition(h,0),this.mRightSprite.setSize(this.mRightInset,o),this.mBottomSprite.setPosition(0,S),this.mBottomSprite.setSize(m,this.mBottomInset)}else this.mCenterSprite.setSize(e,i)},r.x576525523681079294x=function(){return this.mSpriteFrame?this.mSpriteFrame.isScale9()?this.mLeftInset+this.mCenterSprite.getAutoWidth()+this.mRightInset:m.NativeSpriteFrame_getWidth(this.mSpriteFrame.getNativeSpriteFrame(0)):0},r.x1511622419390717892x=function(){return this.mSpriteFrame?this.mSpriteFrame.isScale9()?this.mBottomInset+this.mCenterSprite.getAutoHeight()+this.mTopInset:m.NativeSpriteFrame_getHeight(this.mSpriteFrame.getNativeSpriteFrame(0)):0},r.x4191198991378693528x=function(t){if(this.hasInternalChildren())for(var e=this.getInternalChildrenContainer(),i=e.getNumChildren(),r=0;r<i;r++)e.getChildAtIndex(r).setAlpha(t)},r.x1356244649591557329x=function(t){this.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValue(s.stringToValueKey("resource_texture")))),this.setAlpha(t.getFloatValueWithDefault(s.stringToValueKey("alpha"),1))},i}(r));i._RF.pop()}}}));System.register("chunks:///_virtual/x428471819423808585x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x1825263265700717187x.ts","./x109322611791924071x.ts","./x1518338894798977330x.ts","./x1390687146982484874x.ts","./x2362680020733037980x.ts","./x4370363482510417528x.ts","./x224651144502154050x.ts","./x4448475101681422869x.ts","./x4514175460444622305x.ts"],(function(e){"use strict";var t,n,i,s,r,c,a,o,S,m,l,u,h,g;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.assertThisInitialized},function(e){s=e.cclegacy},function(e){r=e.x4472346643782045245x},function(e){c=e.x1825263265700717187x},function(e){a=e.x109322611791924071x},function(e){o=e.x1518338894798977330x},function(e){S=e.x1390687146982484874x},function(e){m=e.x2362680020733037980x},function(e){l=e.x4370363482510417528x},function(e){u=e.x224651144502154050x},function(e){h=e.x4448475101681422869x},function(e){g=e.x4514175460444622305x}],execute:function(){s._RF.push({},"5f58d0PMdtHU5jN+ZgcRVTI","x428471819423808585x",void 0);e("x428471819423808585x",function(e){function s(t,n,r,S){var m;(m=e.call(this)||this).mSceneName=t,m.mSceneId=n,m.x3697957739527263506x=r,m.mNativeSceneController=null,m.mDidInit=!1,m.mDeferConstruct=S.getBoolValueWithKeyStringPath("deferConstruct"),m.mDidConstruct=!1,m.mHideOnSuspend=S.getBoolValueWithKeyStringPath("hideOnSuspend"),m.mSceneParams=S.x1983177741811147517x(),m.mSceneState=s.x706600425791028312x,m.mElapsedActiveTimeMSEC=0,m.mSceneRootView=new g(!0,r.getAppSupportFactory()),m.mSceneRootView.retain(),m.mSceneRootView.setName(t+"-rootView"),m.mDimmingView=null;var l=m.mSceneParams.getDictionary(s.x801655954146330415x);return l&&(r.isUIControlsNavigationEnabled()||l.setBoolValue(h.x1879030619871958738x,!1)),m.mUIInputMgr=new h(l,i(m)),m.mUIInputMgr.addMessageListener(i(m)),m.mTimerMgr=new o,m.mSceneMgr=null,m.mStateMachine=new a(i(m)),m.mIsInputAllowed=!1,m.mInputBlockingDelayTimerMSEC=0,m.mMessageData=new c(!1),m}t(s,e);var r=s.prototype;return r.x410475238818441897x=function(){this.mDidInit||(this.mDidInit=!0,this.mDeferConstruct||this.construct())},r.getSceneName=function(){return this.mSceneName},r.getSceneId=function(){return this.mSceneId},r.x1843992266594640631x=function(){return this.x3697957739527263506x},r.getAppSupportFactory=function(){return this.x3697957739527263506x.getAppSupportFactory()},r.getSceneParams=function(){return this.mSceneParams},r.getNativeSceneController=function(){return this.mNativeSceneController},r.getDidConstruct=function(){return this.mDidConstruct},r.getSceneState=function(){return this.mSceneState},r.getSceneRootView=function(){return this.mSceneRootView},r.getSceneMgr=function(){return this.mSceneMgr},r.setSceneMgr=function(e){this.mSceneMgr=e},r.getElapsedActiveTimeMSEC=function(){switch(this.getSceneState()){case s.x2367579378693605691x:return this.mElapsedActiveTimeMSEC;default:return 0}},r.getStateMachine=function(){return this.mStateMachine},r.processTimeMSEC=function(e){switch(this.mSceneState){case s.x2367579378693605691x:case s.x3577328580046642580x:this.mSceneState==s.x2367579378693605691x&&(this.mElapsedActiveTimeMSEC+=e,this.mInputBlockingDelayTimerMSEC>0&&(this.mInputBlockingDelayTimerMSEC-=e,this.mInputBlockingDelayTimerMSEC<=0&&(this.mInputBlockingDelayTimerMSEC=0,this.mUIInputMgr.updateAllPointerControlsState()))),this.mStateMachine.processTime(e),this.mTimerMgr.processTimeMSEC(e),this.x4571459713545808491x(e),this.mNativeSceneController&&this.mNativeSceneController.processTimeMSEC(e)}},r.enter=function(){l.isValid()&&(this.mSceneState=s.x2367579378693605691x,this.mElapsedActiveTimeMSEC=0,this.mInputBlockingDelayTimerMSEC=this.mSceneParams.getIntValue(S.stringToValueKey("inputBlockingDelayMSEC")),this.mIsInputAllowed=this.mInputBlockingDelayTimerMSEC>=0,this.mDidConstruct||this.construct(),this.mDimmingView&&this.x1843992266594640631x().getAppRootView().addChild(this.mDimmingView),this.x1843992266594640631x().getAppRootView().addChild(this.mSceneRootView),this.mUIInputMgr.manageControlsInView(this.getSceneRootView()),m.setCursorToNormal(),this.dispatchMessage(s.x3066576849726692280x,this,null),this.mSceneRootView.handleMessage(s.x3066576849726692280x,this,null,!0),this.x3867984643080897648x(),this.mSceneRootView.updateLayout(!0),this.mNativeSceneController&&this.mNativeSceneController.enter())},r.exit=function(){switch(this.mSceneState){case s.x706600425791028312x:case s.x4112567177725358027x:return}m.setCursorToNormal(),this.mUIInputMgr.clearManagedControls(),this.mSceneState=s.x706600425791028312x,this.dispatchMessage(s.x3435998703608229738x,this,null),this.mSceneRootView.handleMessage(s.x3435998703608229738x,this,null,!0),this.x1740968223970904671x(),this.mNativeSceneController&&this.mNativeSceneController.exit(),this.mDimmingView&&this.mDimmingView.removeFromParent(),this.mSceneRootView.removeFromParent()},r.suspend=function(){switch(this.mSceneState){case s.x706600425791028312x:case s.x3577328580046642580x:case s.x4112567177725358027x:return}m.setCursorToNormal(),this.mUIInputMgr.cancelAllInputActions(),this.mSceneState=s.x3577328580046642580x,this.mDimmingView&&this.mDimmingView.removeFromParent(),this.mHideOnSuspend&&this.mSceneRootView.removeFromParent(),this.dispatchMessage(s.x2139421222032025223x,this,null),this.mSceneRootView.handleMessage(s.x2139421222032025223x,this,null,!0),this.x2273503037357701410x(),this.mNativeSceneController&&this.mNativeSceneController.suspend()},r.resume=function(){switch(this.mSceneState){case s.x706600425791028312x:case s.x2367579378693605691x:case s.x4112567177725358027x:return}this.mSceneState=s.x2367579378693605691x,this.mInputBlockingDelayTimerMSEC=this.mSceneParams.getIntValue(S.stringToValueKey("inputBlockingDelayMSEC")),this.mIsInputAllowed=this.mInputBlockingDelayTimerMSEC>=0,this.mSceneRootView.removeFromParent(),this.mDimmingView&&this.x1843992266594640631x().getAppRootView().addChild(this.mDimmingView),this.x1843992266594640631x().getAppRootView().addChild(this.mSceneRootView),h.isPointerActive()&&this.mUIInputMgr.resetInputFocusControl(),m.setCursorToNormal(),m.setCursorIsVisible(!0),this.dispatchMessage(s.x2430605823147454036x,this,null),this.mSceneRootView.handleMessage(s.x2430605823147454036x,this,null,!0),this.x461874601923646201x(),this.mSceneRootView.updateLayout(!0),this.mNativeSceneController&&this.mNativeSceneController.resume()},r.terminate=function(){switch(this.mSceneState){case s.x4112567177725358027x:return}this.x1103838841597991773x(),this.exit(),this.mSceneState=s.x4112567177725358027x,this.mNativeSceneController&&this.mNativeSceneController.terminate()},r.handleDeviceControlOn=function(e,t,n,i){this.isInputAllowed()&&this.mUIInputMgr.handleDeviceControlOn(e,t,n,i)},r.handleDeviceControlOff=function(e,t,n,i){this.mUIInputMgr.handleDeviceControlOff(e,t,n,i)},r.handleDeviceControlValues=function(e,t,n,i){this.isInputAllowed()&&this.mUIInputMgr.handleDeviceControlValues(e,t,n,i)},r.handleDeviceControlCancelled=function(e,t){this.mUIInputMgr.handleDeviceControlCancelled(e,t)},r.isInputAllowed=function(){return this.mSceneState==s.x2367579378693605691x&&this.mIsInputAllowed&&this.mInputBlockingDelayTimerMSEC<=0},r.startTimer=function(e,t,n){this.mTimerMgr.startTimer(e,t,n)},r.resetTimer=function(e){this.mTimerMgr.resetTimer(e)},r.cancelTimer=function(e){this.mTimerMgr.cancelTimer(e)},r.cancelAllTimers=function(){this.mTimerMgr.cancelAllTimers()},r.getUIInputMgr=function(){return this.mUIInputMgr},r.getMessageData=function(){return this.mMessageData},r.construct=function(){if(!this.mDidConstruct){this.getAppSupportFactory().expandStyles(this.mSceneParams);var e=this.getSceneParams().getDictionaryWithKeyStringPath("backgroundDimmingViewStyle");e&&(this.mDimmingView=new u(this.getAppSupportFactory()),this.mDimmingView.retain(),this.mDimmingView.setName(this.getSceneName()+"-dimmingView"),this.mDimmingView.setStyle(e),this.mDimmingView.setSize(this.x3697957739527263506x.getWindowWidth(),this.x3697957739527263506x.getWindowHeight()));var t=this.mSceneParams.getDictionaryWithKeyString("viewHierarchy");t&&t.getBoolValueWithDefault(S.stringToValueKey("enabled"),!0)&&this.x3697957739527263506x.getAppSupportFactory().createViewHierarchyInView(t.getDictionaryWithKeyString("views"),this.getSceneRootView()),this.mNativeSceneController=this.x3071580322043607983x(),this.x313838319085677172x(),t&&t.getBoolValueWithDefault(S.stringToValueKey("enabled"),!0)&&t.getBoolValue(S.stringToValueKey("addControlListener"))&&this.getSceneRootView().addControlListenerToHierarchy(this),this.mUIInputMgr.manageControlsInView(this.getSceneRootView()),this.mDidConstruct=!0}},r.x3071580322043607983x=function(){return null},r.x313838319085677172x=function(){},r.x3867984643080897648x=function(){},r.x1740968223970904671x=function(){},r.x2273503037357701410x=function(){},r.x461874601923646201x=function(){},r.x1103838841597991773x=function(){},r.x4571459713545808491x=function(e){},r.x2766708504066152543x=function(){this.mNativeSceneController&&(this.mNativeSceneController.destroy(),mNativeSceneController=null),null!==this.mSceneParams&&(this.mSceneParams.destroy(),this.mSceneParams=null),this.mDimmingView&&this.mDimmingView.release(),this.mDimmingView=null,this.mSceneRootView.removeFromParent(),this.mSceneRootView.removeAllChildren(!0),this.mSceneRootView&&this.mSceneRootView.release(),this.mSceneRootView=null,null!==this.mUIInputMgr&&(this.mUIInputMgr.destroy(),this.mUIInputMgr=null),null!==this.mTimerMgr&&(this.mTimerMgr.destroy(),this.mTimerMgr=null),null!==this.mStateMachine&&(this.mStateMachine.destroy(),this.mStateMachine=null),null!==this.mMessageData&&(this.mMessageData.destroy(),this.mMessageData=null),e.prototype.x2766708504066152543x.call(this)},n(s,null,[{key:"x801655954146330415x",get:function(){return 1000131251}},{key:"x3066576849726692280x",get:function(){return 1399446372}},{key:"x3435998703608229738x",get:function(){return 104433118}},{key:"x2139421222032025223x",get:function(){return 1018195328}},{key:"x2430605823147454036x",get:function(){return 2050427471}},{key:"x706600425791028312x",get:function(){return 0}},{key:"x2367579378693605691x",get:function(){return 1}},{key:"x3577328580046642580x",get:function(){return 2}},{key:"x4112567177725358027x",get:function(){return 3}}]),s}(r));s._RF.pop()}}}));System.register("chunks:///_virtual/x370408543499406949x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x1825263265700717187x.ts","./x2825914500079770252x.ts","./x109322611791924071x.ts","./x1390687146982484874x.ts","./x4370363482510417528x.ts"],(function(e){"use strict";var t,n,s,a,i,c,S,r,u,o;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,s=e.assertThisInitialized},function(e){a=e.cclegacy},function(e){i=e.x4472346643782045245x},function(e){c=e.x1825263265700717187x},function(e){S=e.x2825914500079770252x},function(e){r=e.x109322611791924071x},function(e){u=e.x1390687146982484874x},function(e){o=e.x4370363482510417528x}],execute:function(){a._RF.push({},"bad8c6rOtZAsKX2SLVGxtU6","x370408543499406949x",void 0);e("x370408543499406949x",function(e){function a(){var t;return(t=e.call(this)||this).mManagedScenes=new c(!0),t.mStateMachine=new r(s(t)),t.mPreviousSceneName="",t}t(a,e);var i=a.prototype;return i.isActive=function(){return this.getCurrentScene()},i.getManagedScene=function(e){return this.mManagedScenes.getObjectValue(u.stringToValueKey(e))},i.getManagedSceneWithId=function(e){return this.mManagedScenes.getObjectValue(e)},i.addManagedScene=function(e){e&&(e.setSceneMgr(this),this.mManagedScenes.setObjectValue(u.stringToValueKey(e.getSceneName()),e))},i.removeManagedScene=function(e){this.mManagedScenes.setObjectValue(e.getSceneId(),null)},i.initManagedScenes=function(){for(var e=this.mManagedScenes.getNumValues(),t=0;t<e;t++){var n=this.mManagedScenes.getObjectValueAtIndex(t);n&&n.x410475238818441897x()}this.dispatchMessageToManagedScenes(a.x3579436887302429561x,this,null),this.dispatchMessage(a.x3579436887302429561x,this,null)},i.dispatchMessageToManagedScenes=function(e,t,n){for(var s=this.mManagedScenes.getNumValues(),a=0;a<s;a++){var i=this.mManagedScenes.getObjectValueAtIndex(a);i&&i.x976210321608527258x(e,t,n)}},i.getCurrentScene=function(){return this.getManagedSceneWithId(this.mStateMachine.getCurrentState())},i.getCurrentSceneElapsedTimeMSEC=function(){return this.mStateMachine.getCurrentStateElapsedTimeMSEC()},i.getSceneOnStack=function(e){return this.getManagedSceneWithId(this.mStateMachine.getStateOnStackFromTop(e))},i.getPreviousSceneId=function(){return this.mStateMachine.getPreviousState()},i.getPreviousSceneName=function(){return this.mPreviousSceneName},i.setScene=function(e){this.mStateMachine.setState(u.stringToValueKey(e))},i.pushScene=function(e){this.mStateMachine.pushState(u.stringToValueKey(e))},i.popScene=function(){this.mStateMachine.popState()},i.popScenes=function(e){this.mStateMachine.popStates(e)},i.swapScene=function(e){this.mStateMachine.swapState(u.stringToValueKey(e))},i.popToSceneThenSwapScene=function(e,t){this.mStateMachine.popToStateThenSwapState(u.stringToValueKey(e),u.stringToValueKey(t))},i.terminate=function(){var e=this.getCurrentScene();e&&e.terminate(),this.mStateMachine.setState(-1)},i.processTimeMSEC=function(e){this.mStateMachine.processTime(e)},i.x2766708504066152543x=function(){null!==this.mStateMachine&&(this.mStateMachine.destroy(),this.mStateMachine=null),null!==this.mManagedScenes&&(this.mManagedScenes.destroy(),this.mManagedScenes=null),e.prototype.x2766708504066152543x.call(this)},i.x3651818526805939130x=function(t,n,s,i){var c=this.getManagedSceneWithId(n);if(c)switch(t){case S.x353128994538654894x:this.dispatchMessage(a.x3517289099353794509x,this,null),c.enter(),this.mStateMachine.getNumStatesOnStack()>1&&o.instance().handleUIEvent(o.x1322977536371629861x);break;case S.x3589770202422279121x:c.processTimeMSEC(i);break;case S.x2931974030808705080x:this.dispatchMessage(a.x1127996906324489440x,this,null),c.exit(),this.mPreviousSceneName=c.getSceneName();break;case S.x4317431294016718164x:this.dispatchMessage(a.x1481842658312852510x,this,null),c.suspend(),this.mPreviousSceneName=c.getSceneName();break;case S.x519131768066458130x:this.dispatchMessage(a.x1826404394602326716x,this,null),c.resume(),o.instance().handleUIEvent(o.x3346945809449367340x)}return e.prototype.x3651818526805939130x.call(this,t,n,s,i)},n(a,null,[{key:"x3579436887302429561x",get:function(){return 1121494050}},{key:"x3517289099353794509x",get:function(){return 1417747258}},{key:"x1127996906324489440x",get:function(){return 723972232}},{key:"x1481842658312852510x",get:function(){return 293151318}},{key:"x1826404394602326716x",get:function(){return 2126888953}}]),a}(i));a._RF.pop()}}}));System.register("chunks:///_virtual/x2568130707691349422x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4514175460444622305x.ts","./x1390687146982484874x.ts","./x2362680020733037980x.ts"],(function(e){"use strict";var t,i,r,a,p;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){r=e.x4514175460444622305x},function(e){a=e.x1390687146982484874x},function(e){p=e.x2362680020733037980x}],execute:function(){i._RF.push({},"6e50fSsi3ZB8orDcLA7ipmB","x2568130707691349422x",void 0);e("x2568130707691349422x",function(e){function i(t){var i;return(i=e.call(this,!1,t)||this).mSpriteFrame=null,i.mSpriteFrameIndex=0,i.mNativeSprite=p.NativeSprite_createWithSpriteFrame(null),i.setNativeView(i.mNativeSprite),i.setName("_BPSSprite"),i}t(i,e);var r=i.prototype;return r.getSpriteFrame=function(){return this.mSpriteFrame},r.setSpriteFrame=function(e){if(this.mSpriteFrame!=e){this.mSpriteFrame=e;var t=this.mSpriteFrameIndex;this.mSpriteFrameIndex=-1,this.setSpriteFrameIndex(t)}},r.setSpriteFrameIndex=function(e){if(this.mSpriteFrameIndex!=e)if(this.mSpriteFrameIndex=e,this.mSpriteFrame){var t=this.mSpriteFrame.getNativeSpriteFrame(e);p.NativeSprite_setSpriteFrame(this.mNativeSprite,t,!0),this.setSize(p.NativeSpriteFrame_getWidth(t),p.NativeSpriteFrame_getHeight(t))}else p.NativeSprite_setSpriteFrame(this.mNativeSprite,null,!1)},r.x2187205631974265155x=function(t){e.prototype.x2187205631974265155x.call(this,t),this.setName("_BPSSprite"),t&&this.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValue(a.stringToValueKey("resource_texture"))))},r.x2766708504066152543x=function(){this.mNativeSprite=null,this.mSpriteFrame=null,e.prototype.x2766708504066152543x.call(this)},r.x1868494756939104847x=function(e,t){p.NativeSprite_setSize(this.mNativeSprite,e,t)},r.x576525523681079294x=function(){if(this.mSpriteFrame){var e=this.mSpriteFrame.getNativeSpriteFrame(this.mSpriteFrameIndex);return p.NativeSpriteFrame_getWidth(e)}return 0},r.x1511622419390717892x=function(){if(this.mSpriteFrame){var e=this.mSpriteFrame.getNativeSpriteFrame(this.mSpriteFrameIndex);return p.NativeSpriteFrame_getHeight(e)}return 0},r.x4191198991378693528x=function(e){p.NativeSprite_setAlpha(this.mNativeSprite,e)},r.x1356244649591557329x=function(e){this.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(e.getStringValue(a.stringToValueKey("resource_texture")))),this.setAlpha(e.getFloatValueWithDefault(a.stringToValueKey("alpha"),1))},i}(r));i._RF.pop()}}}));System.register("chunks:///_virtual/x2748210066315878912x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts"],(function(e){"use strict";var t,n,i,s;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){i=e.cclegacy},function(e){s=e.x2825914500079770252x}],execute:function(){i._RF.push({},"30a1fwyA5xBObRP55YcvDjP","x2748210066315878912x",void 0);e("x2748210066315878912x",function(e){function i(t){var n;return(n=e.call(this)||this).mAchievementsComponent=t,n.mIsEnabled=!0,n.mAchievementId="",n.mAchievementDisplayName="",n.mDoProcessTime=!0,n.mStatus=i.x3044055927307189963x,n}t(i,e);var s=i.prototype;return s.setParams=function(e){e&&(this.mIsEnabled=e.getBoolValueWithDefault(i.x2708091938147563541x,!0),this.mAchievementId=e.getStringValue(i.x2882890431797754792x),this.mAchievementDisplayName=e.getStringValue(i.x3779567832757691359x),this.mStatus=this.mIsEnabled?i.x3044055927307189963x:i.x3228477638977812407x,this.x2978836047042515253x(e))},s.getAchievementsComponent=function(){return this.mAchievementsComponent},s.isEnabled=function(){return this.mIsEnabled},s.getAchievementId=function(){return this.mAchievementId},s.getAchievementDisplayName=function(){return this.mAchievementDisplayName},s.getStatus=function(){return this.mStatus},s.handleWillPreStartGame=function(){this.x1673258973041966036x()},s.handleDidEndGame=function(){this.x893489279021507607x()},s.processTime=function(e){this.mDoProcessTime&&this.mStatus==i.x3044055927307189963x&&this.x183889591455287691x(e)},s.setDoProcessTime=function(e){this.mDoProcessTime=e},s.setStatusComplete=function(){this.mStatus==i.x3044055927307189963x&&(this.mStatus=i.x610598595084928491x,this.mAchievementsComponent.handleAchievementComplete(this))},s.x2978836047042515253x=function(e){},s.x1673258973041966036x=function(){},s.x893489279021507607x=function(){},s.x183889591455287691x=function(e){},s.x2766708504066152543x=function(){this.mAchievementsComponent=null,e.prototype.x2766708504066152543x.call(this)},n(i,null,[{key:"x2973342067964620866x",get:function(){return 1589639874}},{key:"x2708091938147563541x",get:function(){return 488921072}},{key:"x2882890431797754792x",get:function(){return 1154405433}},{key:"x3779567832757691359x",get:function(){return 986596815}},{key:"x3228477638977812407x",get:function(){return 3954863}},{key:"x3044055927307189963x",get:function(){return 1840769881}},{key:"x610598595084928491x",get:function(){return 635192876}}]),i}(s));i._RF.pop()}}}));System.register("chunks:///_virtual/x3860921982419207728x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3995270518114367194x.ts","./x1825263265700717187x.ts","./x2825914500079770252x.ts","./x3363722297214968445x.ts","./x500040461321591990x.ts"],(function(e){"use strict";var t,n,a,s,i,c,r,m,o;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,a=e.assertThisInitialized},function(e){s=e.cclegacy},function(e){i=e.x3995270518114367194x},function(e){c=e.x1825263265700717187x},function(e){r=e.x2825914500079770252x},function(e){m=e.x3363722297214968445x},function(e){o=e.x500040461321591990x}],execute:function(){s._RF.push({},"3feee0ZgUNJqZtomHQYRHhC","x3860921982419207728x",void 0);e("x3860921982419207728x",function(e){function s(t,n){var i;return(i=e.call(this,s.x2691552542941415216x,t)||this).getParams().copy(n,!1),t.addMessageListener(a(i)),i.mAchievements=new c(!0),i.mMessageData=new c(!1),i.createStandardAchievements(n.getDictionary(s.x981223530339327680x)),i.setNextState(1,!1),i}t(s,e);var i=s.prototype;return i.manageAchievement=function(e){e&&e.isEnabled()&&this.mAchievements.setObjectValueWithKeyString(e.getAchievementId(),e)},i.handleAchievementComplete=function(e){this.mMessageData.setObjectValue(s.x2045851600977432944x,e),this.dispatchMessage(s.x1562744017121291944x,this,this.mMessageData),this.mMessageData.clearObjectValues()},i.createStandardAchievements=function(e){for(var t=e.getNumValues(),n=0;n<t;n++){var a=new o(this);a.setParams(e.getDictionaryAtIndex(n)),this.manageAchievement(a)}},i.handleWillPreStartGame=function(){for(var e=this.mAchievements.getNumValues(),t=0;t<e;t++){this.mAchievements.getObjectValueAtIndex(t).handleWillPreStartGame()}},i.handleDidEndGame=function(){for(var e=this.mAchievements.getNumValues(),t=0;t<e;t++){this.mAchievements.getObjectValueAtIndex(t).handleDidEndGame()}},i._processTime=function(e){for(var t=this.mAchievements.getNumValues(),n=0;n<t;n++){this.mAchievements.getObjectValueAtIndex(n).processTime(e)}},i.x2766708504066152543x=function(){null!==this.mAchievements&&(this.mAchievements.destroy(),this.mAchievements=null),null!==this.mMessageData&&(this.mMessageData.destroy(),this.mMessageData=null),e.prototype.x2766708504066152543x.call(this)},i.x3139096472792676868x=function(e,t,n,a){switch(e){case r.x3461483973768069303x:return t;case r.x353128994538654894x:return 0;case r.x3589770202422279121x:return this._processTime(a),a;case r.x2931974030808705080x:default:return 0}},i.x976210321608527258x=function(e,t,n){if(t==this.getPlayer())switch(e){case m.x2278663471402292977x:this.handleWillPreStartGame();break;case m.x3323755018575939356x:this.handleDidEndGame()}},n(s,null,[{key:"x2691552542941415216x",get:function(){return 127264533}},{key:"x981223530339327680x",get:function(){return 127264533}},{key:"x1562744017121291944x",get:function(){return 1382867146}},{key:"x2045851600977432944x",get:function(){return 114347450}}]),s}(i));s._RF.pop()}}}));System.register("chunks:///_virtual/x2362680020733037980x.ts",["cc","./x1825263265700717187x.ts","./x1390687146982484874x.ts","./x1654909725214686057x.ts"],(function(e){"use strict";var t,i,r,n;return{setters:[function(e){t=e.cclegacy},function(e){i=e.x1825263265700717187x},function(e){r=e.x1390687146982484874x},function(e){n=e.x1654909725214686057x}],execute:function(){t._RF.push({},"6e373yjtHVA648Q5hdEq0pn","x2362680020733037980x",void 0),e("x2362680020733037980x",function(){function e(){}return e.isBrowserIE=function(){return cc.sys.browserType==cc.sys.BrowserType.IE},e.getDeviceSerialNumber=function(){return""},e.setCursorIsVisible=function(t){if(e.sIsCursorVisible!=t&&!(e.sIsCursorVisible=t,cc.sys.browserType==cc.sys.BrowserType.IE||cc.sys.browserType==cc.sys.BrowserType.CHROME&&parseInt(cc.sys.browserVersion)<58))try{t?"default"!=window.getGameDiv().style.cursor&&(window.getGameDiv().style.cursor="default"):"none"!=window.getGameDiv().style.cursor&&(window.getGameDiv().style.cursor="none")}catch(e){}},e.setCursorToNormal=function(){try{window.getGameDiv().style.cursor="default"}catch(e){}},e.setCursorToButton=function(){e.setCursorIsVisible(!0);try{window.getGameDiv().style.cursor="pointer"}catch(e){}},e.replaceString=function(e,t,i){return e.split(t).join(i)},e.isFilePathRemote=function(e){return r.stringStartsWith(e,"remote://")||r.stringStartsWith(e,"http://")||r.stringStartsWith(e,"https://")},e.removeFilePathExtension=function(e){return r.substringToLastIndex(e,".")},e.prepareLocalResourceFilePath=function(e){return e},e.prepareRemoteResourceFilePath=function(t){return 0==r.firstIndexInString(t,"remote://")&&(t=r.substringFromIndex(t,9)),t=e.replaceString(t,"#","%23"),(t=e.replaceString(t,"=","%3D")).indexOf("?cbid=")<=0&&(t+="?cbid="+e.getCBID()+"a"),t},e.getCBID=function(){var e="0";try{e=window.getCBID()}catch(t){e="0"}return e&&""!=e||(e="0"),e},e.getNumFilePathPermutations=function(e){var t=r.firstIndexInString(e,"{"),i=r.lastIndexInString(e,"}");if(t>0&&i>t){var n=r.substringWithRange(e,t+1,i),a=r.firstIndexInString(n,"..");if(a>0){var o=r.substringToIndex(n,a),u=r.stringToInt(o),s=r.substringFromIndex(n,a+2);return r.stringToInt(s)-u+1}return r.numItemsInStringList(n)}return 1},e.getFilePathPermutation=function(e,t){var i=r.firstIndexInString(e,"{"),n=r.lastIndexInString(e,"}");if(i>0&&n>i){var a=r.substringWithRange(e,i+1,n),o="",u=r.firstIndexInString(a,"..");if(u>0){var s=r.substringToIndex(a,u),c=r.stringToInt(s);o=r.stringFromInt(c+t,1,!1)}else o=r.stringListItemAtIndex(a,t);return r.substringToIndex(e,i)+o+r.substringFromIndex(e,n+1)}return e},e.getFilePathAddition=function(e,t){var i=r.firstIndexInString(e,"{"),n=r.lastIndexInString(e,"}");if(i>0&&n>i){var a=r.substringWithRange(e,i+1,n);return r.stringListItemAtIndex(a,t)}return""},e.NativeBitmap_createWithFile=function(e){return null},e.NativeBitmap_createWithSize=function(e,t,i){var r=document.createElement("canvas");return r.width=e,r.height=t,r},e.NativeBitmap_release=function(e){},e.NativeBitmap_getWidth=function(e){return e?e.width:0},e.NativeBitmap_getHeight=function(e){return e?e.height:0},e.NativeBitmap_hasAlpha=function(e){return!!e},e.NativeBitmap_copy=function(e,t,i,r,n,a,o,u){var s=e.getContext("2d").getImageData(t,i,r,n);a.getContext("2d").putImageData(s,o,u)},e.NativeTexture_createWithBitmap=function(e){try{var t=new cc.ImageAsset(e),i=new cc.Texture2D;return i.image=t,i.setFilters(cc.Texture2D.Filter.LINEAR,cc.Texture2D.Filter.LINEAR),i.setMipFilter(cc.Texture2D.Filter.NONE),i.setWrapMode(cc.Texture2D.WrapMode.CLAMP_TO_EDGE,cc.Texture2D.WrapMode.CLAMP_TO_EDGE,cc.Texture2D.WrapMode.CLAMP_TO_EDGE),i}catch(e){return null}},e.NativeTexture_createWithBitmapFile=function(t){if(""==t)return null;var i=e.NativeBitmap_createWithFile(t),r=e.NativeTexture_createWithBitmap(i);return e.NativeBitmap_release(i),r},e.NativeTexture_getWidth=function(e){return e?e.width:0},e.NativeTexture_getHeight=function(e){return e?e.height:0},e.getAnchoredPosition=function(e,t,i,r){return e+(i-r)*t},e.NativeView_create=function(){var e=new cc.Node;return e.name="_BPSNativeView",e.layer=cc.Layers.Enum.UI_2D,e.addComponent("cc.UITransform").setContentSize(0,0),e},e.NativeView_destroy=function(t,i){t&&e.NativeView_removeFromParent(t)},e.NativeView_setName=function(e,t){e&&(e.name=t)},e.NativeView_addChild=function(t,i){if(t&&i&&e.NativeView_getParent(i)!=t){var r=i._uiProps.uiTransformComp,n=i.BPS_hasSize?i.BPS_width:r.width,a=i.BPS_hasSize?i.BPS_height:r.height;t.addChild(i),r.setContentSize(n,a)}},e.NativeView_removeChild=function(e,t){e&&t&&e.removeChild(t)},e.NativeView_removeAllChildren=function(e){e&&e.removeAllChildren()},e.NativeView_getNumChildren=function(e){return e.children.length},e.NativeView_getChildAtIndex=function(e,t){return e.children[t]},e.NativeView_getParent=function(e){return e?e.parent:null},e.NativeView_removeFromParent=function(e){e&&e.removeFromParent()},e.NativeView_setChildrenSortingDepth=function(e,t,i,r,n){},e.NativeView_getX=function(e){return e.x},e.NativeView_getY=function(e){return e.y},e.NativeView_setPosition=function(e,t,i){e&&e.setPosition(t,i)},e.NativeView_setScale=function(e,t,i){e&&e.setScale(t,i)},e.NativeView_setRotation=function(e,t){e&&e.setRotationFromEuler(0,0,-t)},e.NativeView_setAlpha=function(e,t,i){},e.NativeView_setIsVisible=function(e,t){e&&(e.active=t)},e.NativeView_updateNativeSize=function(t){t.BPS_hasSize&&t._uiProps.uiTransformComp.setContentSize(t.BPS_width,t.BPS_height);for(var i=t.children.length,r=0;r<i;r++){var n=t.children[r];e.NativeView_updateNativeSize(n)}},e.NativeSpriteFrame_createWithTexture=function(t,i,r,n,a){if(!t)return null;var o=e.NativeTexture_getWidth(t),u=e.NativeTexture_getHeight(t);n<=0&&(n=o),a<=0&&(a=u);var s=new cc.SpriteFrame;return s.texture=t,s.setRect(new cc.rect(i,r,n,a)),s},e.NativeSpriteFrame_createWithBitmap=function(t){var i=e.NativeTexture_createWithBitmap(t);return e.NativeSpriteFrame_createWithTexture(i,0,0,0,0)},e.NativeSpriteFrame_createWithBitmapFile=function(t){var i=e.NativeTexture_createWithBitmapFile(t);return e.NativeSpriteFrame_createWithTexture(i,0,0,0,0)},e.NativeSpriteFrame_getWidth=function(e){return e?e.getRect().width:0},e.NativeSpriteFrame_getHeight=function(e){return e?e.getRect().height:0},e.NativeSprite_createWithSpriteFrame=function(t){var i=new cc.Node;i.name="_BPSNativeSprite",i.layer=cc.Layers.Enum.UI_2D;var r=i.addComponent(cc.Sprite);return i.BPS_spriteComponent=r,r.sizeMode=cc.Sprite.SizeMode.CUSTOM,e.NativeSprite_setSpriteFrame(i,t,!0),i},e.NativeSprite_createWithTexture=function(t,i,r,n,a){var o=e.NativeSpriteFrame_createWithTexture(t,i,r,n,a);return e.NativeSprite_createWithSpriteFrame(o)},e.NativeSprite_createWithBitmap=function(t){var i=e.NativeSpriteFrame_createWithBitmap(t);return e.NativeSprite_createWithSpriteFrame(i)},e.NativeSprite_createWithBitmapFile=function(t){var i=e.NativeSpriteFrame_createWithBitmapFile(t);return e.NativeSprite_createWithSpriteFrame(i)},e.NativeSprite_setSpriteFrame=function(t,i,r){if(t.BPS_spriteComponent.spriteFrame=i,r&&i){var n=e.NativeSpriteFrame_getWidth(i),a=e.NativeSpriteFrame_getHeight(i);e.NativeSprite_setSize(t,n,a)}},e.NativeSprite_setAlpha=function(e,t){e.BPS_spriteComponent.color=new cc.Color(255,255,255,255*t)},e.NativeSprite_getWidth=function(e){return e._uiProps.uiTransformComp.width},e.NativeSprite_getHeight=function(e){return e._uiProps.uiTransformComp.height},e.NativeSprite_setSize=function(e,t,i){e&&(e.BPS_hasSize=!0,e.BPS_width=t,e.BPS_height=i,e._uiProps.uiTransformComp.setContentSize(t,i))},e.NativeSprite_setPositionWithAnchor=function(t,i,r,n,a){if(t){var o=e.NativeSprite_getWidth(t),u=e.NativeSprite_getHeight(t),s=e.getAnchoredPosition(i,o,.5,n),c=e.getAnchoredPosition(r,u,.5,a);e.NativeView_setPosition(t,s,c)}},e.NativeCropView_createInParent=function(e,t,i,r,n,a,o,u,s){var c=new cc.Node;c.name="_BPSNativeCropView",c.layer=cc.Layers.Enum.UI_2D;var l=c.addComponent("cc.UITransform");return l.setAnchorPoint(o,u),l.setContentSize(n,a),c.addComponent(cc.Mask),s.addChild(c),c},e.NativeCropView_enableOnChildren=function(e,t){},e.NativeXMLDocument_createDocumentWithString=function(e){return(new DOMParser).parseFromString(e,"text/xml")},e.NativeXMLDocument_getRootElementNode=function(e){return e.documentElement},e.NativeXMLElement_getName=function(e){return e.nodeName},e.NativeXMLElement_getAttributeValue=function(e,t){return e.attributes.getNamedItem(t).value},e.NativeXMLElement_getNumAttributes=function(e){return e.attributes.length},e.NativeXMLElement_getAttributeNameAtIndex=function(e,t){return e.attributes[t].name},e.NativeXMLElement_getStringValue=function(e){return e.firstChild?e.textContent:""},e.NativeXMLElement_getFirstElementNodeChild=function(e){for(var t=e.firstChild;null!=t&&t.nodeType!=Node.ELEMENT_NODE;)t=t.nextSibling;return t},e.NativeXMLElement_getElementNodeChildWithName=function(t,i){for(var r=e.NativeXMLElement_getFirstElementNodeChild(t);r;){if(e.NativeXMLElement_getName(r)==i)return r;r=e.NativeXMLElement_getNextElementNodeSibling(r)}return null},e.NativeXMLElement_getNextElementNodeSibling=function(e){for(var t=e.nextSibling;null!=t&&t.nodeType!=Node.ELEMENT_NODE;)t=t.nextSibling;return t},e.x2717009177618211966x=function(t,a,o,u,s,c){t.setSerializationFormat(i.x3623164911852005218x),o&&t.removeAllValues();for(var l,m=e.NativeXMLElement_getNumAttributes(a),N=0;N<m;N++)"key"!=(l=e.NativeXMLElement_getAttributeNameAtIndex(a,N))&&t.setAttribute(l,e.NativeXMLElement_getAttributeValue(a,l));if("dict"==e.NativeXMLElement_getName(a))for(var v=null,g=e.NativeXMLElement_getFirstElementNodeChild(a);null!=g;){var p=e.NativeXMLElement_getName(g),_=e.NativeXMLElement_getAttributeValue(g,"key"),S=r.stringToValueKey(_);if(_&&""!=_?!u&&t.hasValue(S)&&(_=_+"-"+r.stringFromInt(t.getNumValues(),1,!1)):_=r.stringFromInt(t.getNumValues(),1,!1),"dict"==p)v=new i(!0),e.x2717009177618211966x(v,g,!0,u,s,c),t.insertObjectValue(S,_,t.getNumValues(),v);else switch(n.valueTypeFromString(p)){case n.x3783032619504109691x:t.insertIntValue(S,_,t.getNumValues(),r.stringToInt(e.NativeXMLElement_getStringValue(g)));break;case n.x2090411379675684210x:t.insertFloatValue(S,_,t.getNumValues(),r.stringToFloat(e.NativeXMLElement_getStringValue(g)));break;case n.x3860326063911156812x:t.insertBoolValue(S,_,t.getNumValues(),r.stringToBoolean(e.NativeXMLElement_getStringValue(g)));break;case n.x4440003044286975511x:if(s&&r.stringEndsWith(_,"-JSON")){v=new i(!0);var h=e.NativeXMLElement_getStringValue(g);v.parseJSONString(h,c,!0),t.insertObjectValue(S,_,t.getNumValues(),v)}else t.insertStringValue(S,_,t.getNumValues(),e.NativeXMLElement_getStringValue(g))}g=e.NativeXMLElement_getNextElementNodeSibling(g)}},e.x3015611324961291763x=function(t,i,r,n,a,o){if(i&&""!=i){var u=e.NativeXMLDocument_createDocumentWithString(i),s=e.NativeXMLDocument_getRootElementNode(u);e.x2717009177618211966x(t,s,r,n,a,o)}},e.openURL=function(e,t){if(e&&""!=e)try{(null!=window.parent?window.parent:window).open(e,t?"_blank":"_self")}catch(e){}},e.MAPSGGDNNKNNPKZHELAHFJVGELRIMNGMITCHHORGWOFLXI=function(){var e=0,t=0;try{e=window.TGREAIGRIMZPFHREXNXJUMGJNGRPCNDK(),t=window.PCDFCJSRUMBRFNRKJOJKWNSJNMNFONFLPFTKYSBKDT()}catch(e){return!1}return t>0&&e>t&&e-t>r.nextNativeRandomIntInRange(1,10)},e}()).sIsCursorVisible=!0,t._RF.pop()}}}));System.register("chunks:///_virtual/x1829961367305584157x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3995270518114367194x.ts","./x3956211014191467053x.ts","./x3950773521023582268x.ts","./x3363722297214968445x.ts","./x1825263265700717187x.ts","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x2226225843525126927x.ts","./x1390687146982484874x.ts","./x2384331738405430424x.ts"],(function(e){"use strict";var t,a,n,r,s,i,o,m,c,k,u,d,g,l;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass,n=e.assertThisInitialized},function(e){r=e.cclegacy},function(e){s=e.x3995270518114367194x},function(e){i=e.x3956211014191467053x},function(e){o=e.x3950773521023582268x},function(e){m=e.x3363722297214968445x},function(e){c=e.x1825263265700717187x},function(e){k=e.x2825914500079770252x},function(e){u=e.x2938621194761123466x},function(e){d=e.x2226225843525126927x},function(e){g=e.x1390687146982484874x},function(e){l=e.x2384331738405430424x}],execute:function(){r._RF.push({},"351bdsdfr9O1aLD8cSFO1de","x1829961367305584157x",void 0);e("x1829961367305584157x",function(e){function r(t,a){var s;(s=e.call(this,r.x1191404771913136596x,t)||this).getParams().setIntValue(r.x3314155485739473069x,0),s.getParams().setIntValue(r.x4005905873693536961x,3),s.getParams().setBoolValue(r.x1797332224888436777x,!0),s.getParams().setBoolValue(r.x2565551965062375244x,!0),s.getParams().setIntValue(r.x4039217511317260916x,1e3),s.getParams().setIntValue(r.x1851042837643219212x,100),s.getParams().setIntValue(r.x1213711349843379105x,50),s.getParams().setIntValue(r.x2086480628059169262x,0),s.getParams().setIntValue(r.x2130798802903339537x,1),s.getParams().setIntValue(r.x990173398089030427x,2),s.getParams().setIntValue(r.x896789259345180053x,4),s.getParams().setIntValue(r.x2660748528917930388x,0),s.getParams().setIntValue(r.x3307274893218727152x,2),s.getParams().setIntValue(r.x2898328190179806124x,4),s.getParams().setIntValue(r.x1074883652037225375x,6),s.getParams().setIntValue(r.x3526802128676191538x,0),s.getParams().setIntValue(r.x4601056244479192746x,0),s.getParams().setIntValue(r.x3869754809292135170x,10),s.getParams().copy(a,!1),t.addMessageListener(n(s)),s.getGame().addMessageListener(n(s)),s.mRNG=new d;var i=s.getParams().getIntValue(r.x3314155485739473069x);return 0==i&&(i=g.nextNativeRandomInt()),s.mRNG.setSeed(i),s.mScoreComponent=null,s.mNumKnockoutsSent=0,s.mNumKnockoutsReceived=0,s.mTargetPlayerIndex=0,s.mNumAttacksSent=0,s.mNumIncomingAttacks=0,s.mScratchRowMinosArray=new u(t.getMatrixWidth()),s.mMessageData=new c(!1),s.setNextState(1,!1),s}t(r,e);var s=r.prototype;return s.getTargetPlayerIndex=function(){return this.mTargetPlayerIndex},s.setTargetPlayerIndex=function(e){this.mTargetPlayerIndex=e},s.getTargetPlayer=function(){return this.getGame().getPlayerAtIndex(this.mTargetPlayerIndex)},s.getNumKnockoutsSent=function(){return this.mNumKnockoutsSent},s.getNumKnockoutsReceived=function(){return this.mNumKnockoutsReceived},s.getNumAttacksSent=function(){return this.mNumAttacksSent},s.getNumIncomingAttacks=function(){return this.mNumIncomingAttacks},s.processAttackCounters=function(e){if(e<=0||!this.getParams().getBoolValue(r.x2565551965062375244x))return 0;for(var t=g.minInt(this.mNumIncomingAttacks,e),a=this.getParams().getIntValue(r.x1532107275192431482x),n=this.getParams().getIntValue(r.x1790469584360039726x),s=0;s<t;s++){var i=a+s*n;this.startTimer(i,this,r.x1051394639751062567x)}return this.mMessageData.setIntValue(r.x4479790805159629890x,t),this.dispatchMessage(r.x1542386212569580522x,this,this.mMessageData),t},s.sendAttacksToTargetPlayer=function(e){if(!(e<=0)){for(var t=this.getParams().getIntValue(r.x4039217511317260916x),a=this.getParams().getIntValue(r.x1851042837643219212x),n=0;n<e;n++){var s=t+n*a;this.startTimer(s,this,r.x836798738554133949x)}this.mNumAttacksSent+=e,this.mMessageData.setIntValue(r.x2224904543043899791x,e),this.dispatchMessage(r.x2218982487833820997x,this,this.mMessageData)}},s.receiveAttacks=function(e,t){if(e>0){var a=this.mNumIncomingAttacks;this.mNumIncomingAttacks+=e;var n=this.getPlayer();this.mNumIncomingAttacks=g.minInt(this.mNumIncomingAttacks,n.getMatrix().getVisibleHeight()),this.mMessageData.setIntValue(r.x1643617019085424161x,a),this.mMessageData.setIntValue(r.x4278688478399430897x,e),this.dispatchMessage(r.x1529471143630990324x,this,this.mMessageData)}},s.handleDidSendKnockout=function(e){this.mNumKnockoutsSent++},s.processScoreEventMessage=function(e){if(!e.getBoolValue(i.x2485413609040593399x)&&this.getParams().getBoolValue(r.x1797332224888436777x)){var t=0;if(0==e.getIntValue(i.x482162241822821234x))if(e.getBoolValue(i.x56138074968748260x))t=this.getParams().getIntValue(r.x3869754809292135170x);else{var a=e.getIntValue(i.x1392439065935303313x),n=!e.getBoolValue(i.x4396903821025096640x);switch(e.getIntValue(i.x3226881466546944827x)){case g.x2762047832241342883x:if(0==e.getIntValue(i.x482162241822821234x))switch(a){case 0:break;case 1:t=this.getParams().getIntValue(r.x2086480628059169262x);break;case 2:t=this.getParams().getIntValue(r.x2130798802903339537x);break;case 3:t=this.getParams().getIntValue(r.x990173398089030427x);break;case 4:t=n?this.getParams().getIntValue(r.x896789259345180053x):this.getParams().getIntValue(r.x3754290570896184947x)}break;case g.x3109280748125391346x:switch(a){case 0:t=n?this.getParams().getIntValue(r.x2660748528917930388x):this.getParams().getIntValue(r.x3561492077031944266x);break;case 1:t=n?this.getParams().getIntValue(r.x3307274893218727152x):this.getParams().getIntValue(r.x1820589994314142528x);break;case 2:t=n?this.getParams().getIntValue(r.x2898328190179806124x):this.getParams().getIntValue(r.x4588001729824652457x);break;case 3:t=n?this.getParams().getIntValue(r.x1074883652037225375x):this.getParams().getIntValue(r.x2937316804125595595x)}break;case g.x1235464930560725342x:switch(a){case 0:t=n?this.getParams().getIntValue(r.x3526802128676191538x):this.getParams().getIntValue(r.x2801229894764201201x);break;case 1:t=n?this.getParams().getIntValue(r.x4601056244479192746x):this.getParams().getIntValue(r.x2064030856855527162x)}}}switch(e.getIntValue(i.x2201480181276618034x)){case 0:break;case 1:t+=this.getParams().getIntValue(r.x4012480351050182555x);break;case 2:t+=this.getParams().getIntValue(r.x2886915083038597590x);break;case 3:t+=this.getParams().getIntValue(r.x568395463946139095x);break;case 4:t+=this.getParams().getIntValue(r.x1766765235812212567x);break;case 5:t+=this.getParams().getIntValue(r.x1190286823155843769x);break;case 6:t+=this.getParams().getIntValue(r.x3194580511066262380x);break;case 7:t+=this.getParams().getIntValue(r.x1977791731332441801x);break;case 8:t+=this.getParams().getIntValue(r.x319724000264024617x);break;case 9:t+=this.getParams().getIntValue(r.x2755388599407686878x);break;case 10:default:t+=this.getParams().getIntValue(r.x2999945572942076129x)}if(t>0){var s=this.processAttackCounters(t),o=g.maxInt(t-s,0);this.sendAttacksToTargetPlayer(o)}}},s._sendAttacksToTargetPlayer=function(e){var t=this.getGame().getPlayerAtIndex(this.mTargetPlayerIndex).getComponent(r.x1191404771913136596x);t&&t.receiveAttacks(e,this)},s.processIncomingAttacks=function(){if(this.mNumIncomingAttacks>0){var e=this.getPlayer().getMatrix();e.setIsVerticalShiftEnabled(!0),e.setIsVerticalShiftUpwards(!0),e.setVerticalShiftMSECPerLine(this.getParams().getIntValue(r.x1213711349843379105x));for(var t=e.getWidth(),a=this.mRNG.nextIntInRange(0,t-1),n=null;this.mNumIncomingAttacks>0;){for(var s=0;s<t;s++)s!=a&&((n=new l).setMinoTypeId(g.x1290258416436706721x),n.setCanFall(!0),n.setIsMatchable(!0),n.setIsKillable(!0)),this.mScratchRowMinosArray.setAtIndex(s,n),n=null;e.addExternalRowBelow(this.mScratchRowMinosArray,!1),this.mNumIncomingAttacks--}this.mNumIncomingAttacks=0}},s._counterAttacksFromTargetPlayer=function(e){this.mNumIncomingAttacks-=e,this.mNumIncomingAttacks<0&&(this.mNumIncomingAttacks=0),this.dispatchMessage(r.x346905571949283208x,this,null)},s.checkForWinByKnockouts=function(){if(!(this.getParams().getIntValue(r.x4005905873693536961x)<=0)){var e=this.getPlayer();if(e.isGameActive()){for(var t=!1,a=this.getGame().getNumPlayers(),n=0;n<a;n++){if(n!=e.getPlayerIndex())if(this.getGame().getPlayerAtIndex(n).isGameActive()){t=!0;break}}t||this.determineGameEndCondition()}}},s.determineGameEndCondition=function(){var e=this.getGameEndConditionForValueKey(g.stringFromValueKey(r.x2799871869842640774x),!1);e==r.x211018650796416029x&&(e=this.getGameEndConditionForValueKey(this.getParams().getStringValue(r.x4523451522439750167x),!0));var t=this.getPlayer(),a=!1;switch(e){case r.x4408431872223735541x:case r.x211018650796416029x:a=!0;break;case r.x1456860649618312688x:a=!1}t.tryEndGame(e,a,!1,!1)},s.getGameEndConditionForValueKey=function(e,t){for(var a=this.getPlayer(),n=this.x2561498820134418400x(e),s=t?g.x2311178134419187541x:g.x2812288279383445977x,i=this.getGame().getNumPlayers(),o=0;o<i;o++)if(o!=a.getPlayerIndex()){var m=this.getGame().getPlayerAtIndex(o).getComponent(r.x1191404771913136596x);if(m){var c=m.x2561498820134418400x(e);t?c>s&&(s=c):c<s&&(s=c)}}return t?n>s?r.x4408431872223735541x:n<s?r.x1456860649618312688x:r.x211018650796416029x:n<s?r.x4408431872223735541x:n>s?r.x1456860649618312688x:r.x211018650796416029x},s.x2766708504066152543x=function(){null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),null!==this.mScratchRowMinosArray&&(this.mScratchRowMinosArray.destroy(),this.mScratchRowMinosArray=null),null!==this.mMessageData&&(this.mMessageData.destroy(),this.mMessageData=null),e.prototype.x2766708504066152543x.call(this)},s.x3139096472792676868x=function(t,a,n,r){switch(e.prototype.x3139096472792676868x.call(this,t,a,n,r),t){case k.x3461483973768069303x:return a;case k.x353128994538654894x:return 0;case k.x3589770202422279121x:return this.checkForWinByKnockouts(),r;case k.x2931974030808705080x:default:return 0}},s.x976210321608527258x=function(e,t,a){if(null==t)switch(e){case r.x836798738554133949x:this._sendAttacksToTargetPlayer(1);break;case r.x1051394639751062567x:this._counterAttacksFromTargetPlayer(1)}else if(t==this.mScoreComponent)switch(e){case i.x2401449302245799433x:this.processScoreEventMessage(a)}else if(t==this.getPlayer())switch(e){case m.x2278663471402292977x:this.mScoreComponent=this.getPlayer().getComponent(i.x2916177341484739471x),this.mScoreComponent&&this.mScoreComponent.addMessageListener(this);var n=this.getGame().getNumPlayers();this.mTargetPlayerIndex=g.loopClampedInt(this.getPlayer().getPlayerIndex()+1,0,n-1);break;case m.x919670044951203337x:switch(this.getPlayer().getCurrentState()){case m.x2336038995542297844x:if(this.getParams().getIntValue(r.x4005905873693536961x)>0){var s=this.mNumKnockoutsReceived<this.getParams().getIntValue(r.x4005905873693536961x)-1;this.getPlayer().getParams().setBoolValue(m.x3523144231267827487x,!s)}else this.getPlayer().getParams().setBoolValue(m.x3523144231267827487x,!1);break;case m.x1226525904332658665x:this.getPlayer().didHoldLivePiece()||this.processIncomingAttacks()}break;case m.x4465735992535929486x:if(this.getParams().getIntValue(r.x4005905873693536961x)>0){this.mNumKnockoutsReceived++,this.dispatchMessage(r.x1604224438519738432x,this,null);var c=this.getGame().getPlayerAtIndex(this.mTargetPlayerIndex).getComponent(r.x1191404771913136596x);c&&c.handleDidSendKnockout(this)}}else if(t==this.getGame())switch(e){case o.x1950391814350285748x:switch(this.getGame().getCurrentState()){case o.x3961798951401593355x:switch(this.getPlayer().getGameEndCondition()){case m.x3830140380322152320x:this.determineGameEndCondition();break;case m.x1339170697143401255x:this.getPlayer().tryEndGame(r.x1456860649618312688x,!1,!1,!1)}}}},s.x2561498820134418400x=function(t){switch(g.getFirstValueKeyInPath(t)){case r.x2799871869842640774x:return this.mNumKnockoutsReceived;case r.x1923129717209575917x:return this.mNumAttacksSent;default:return e.prototype.x2561498820134418400x.call(this,t)}},a(r,null,[{key:"x1191404771913136596x",get:function(){return 1407820777}},{key:"x3314155485739473069x",get:function(){return 1326329515}},{key:"x4005905873693536961x",get:function(){return 733934483}},{key:"x1797332224888436777x",get:function(){return 1340508739}},{key:"x2565551965062375244x",get:function(){return 1148246755}},{key:"x4039217511317260916x",get:function(){return 209527342}},{key:"x1851042837643219212x",get:function(){return 1168031694}},{key:"x1532107275192431482x",get:function(){return 394352516}},{key:"x1790469584360039726x",get:function(){return 581268984}},{key:"x1213711349843379105x",get:function(){return 1875430827}},{key:"x2086480628059169262x",get:function(){return 1667761981}},{key:"x2130798802903339537x",get:function(){return 1905391174}},{key:"x990173398089030427x",get:function(){return 2024814419}},{key:"x896789259345180053x",get:function(){return 108231374}},{key:"x2660748528917930388x",get:function(){return 558190913}},{key:"x3307274893218727152x",get:function(){return 495642761}},{key:"x2898328190179806124x",get:function(){return 733271954}},{key:"x1074883652037225375x",get:function(){return 852695199}},{key:"x3526802128676191538x",get:function(){return 1041732138}},{key:"x4601056244479192746x",get:function(){return 135281650}},{key:"x3754290570896184947x",get:function(){return 1218714679}},{key:"x3561492077031944266x",get:function(){return 340313496}},{key:"x1820589994314142528x",get:function(){return 414673504}},{key:"x4588001729824652457x",get:function(){return 652302697}},{key:"x2937316804125595595x",get:function(){return 771725942}},{key:"x2801229894764201201x",get:function(){return 2122010497}},{key:"x2064030856855527162x",get:function(){return 2124383945}},{key:"x4012480351050182555x",get:function(){return 1731334040}},{key:"x2886915083038597590x",get:function(){return 1731334041}},{key:"x568395463946139095x",get:function(){return 1731334042}},{key:"x1766765235812212567x",get:function(){return 1731334043}},{key:"x1190286823155843769x",get:function(){return 1731334044}},{key:"x3194580511066262380x",get:function(){return 1731334045}},{key:"x1977791731332441801x",get:function(){return 1731334046}},{key:"x319724000264024617x",get:function(){return 1731334047}},{key:"x2755388599407686878x",get:function(){return 1731334048}},{key:"x2999945572942076129x",get:function(){return 1961481880}},{key:"x3869754809292135170x",get:function(){return 819475413}},{key:"x4523451522439750167x",get:function(){return 684088683}},{key:"x2799871869842640774x",get:function(){return 1961612933}},{key:"x1923129717209575917x",get:function(){return 1776651374}},{key:"x836798738554133949x",get:function(){return 20997154}},{key:"x2218982487833820997x",get:function(){return 1698913865}},{key:"x2224904543043899791x",get:function(){return 1242594070}},{key:"x1529471143630990324x",get:function(){return 1984616578}},{key:"x1643617019085424161x",get:function(){return 1890401191}},{key:"x4278688478399430897x",get:function(){return 377548320}},{key:"x1604224438519738432x",get:function(){return 1573404451}},{key:"x1542386212569580522x",get:function(){return 659830313}},{key:"x4479790805159629890x",get:function(){return 1242594070}},{key:"x346905571949283208x",get:function(){return 177575496}},{key:"x1051394639751062567x",get:function(){return 1679029435}},{key:"x4408431872223735541x",get:function(){return 216547830}},{key:"x1456860649618312688x",get:function(){return 1868055812}},{key:"x211018650796416029x",get:function(){return 1619815028}}]),r}(s));r._RF.pop()}}}));System.register("chunks:///_virtual/x334497595687909532x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x2362680020733037980x.ts","./x1825263265700717187x.ts"],(function(t){"use strict";var e,n,i,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.x2825914500079770252x},function(t){r=t.x2362680020733037980x},function(t){s=t.x1825263265700717187x}],execute:function(){n._RF.push({},"2e4baG2+6dDrbS8ZDI/Ivtj","x334497595687909532x",void 0);t("x334497595687909532x",function(t){function n(e,n,i,s,u,o,c,a,f){var m;return(m=t.call(this)||this).mCharId=e,m.mNativeSpriteFrame=u>0&&o>0?r.NativeSpriteFrame_createWithTexture(n,i,s,u,o):null,m.mXOffset=c,m.mYOffset=a,m.mXAdvance=f,m.mKernings=null,m}e(n,t);var i=n.prototype;return i.getNativeSpriteFrame=function(){return this.mNativeSpriteFrame},i.getXOffset=function(){return this.mXOffset},i.getYOffset=function(){return this.mYOffset},i.getXAdvance=function(){return this.mXAdvance},i.addKerning=function(t,e){this.mKernings||(this.mKernings=new s(!0)),this.mKernings.setIntValue(t,e)},i.getKerning=function(t){return t>0&&this.mKernings?this.mKernings.getIntValue(t):0},i.x2766708504066152543x=function(){this.mNativeSpriteFrame=null,null!==this.mKernings&&(this.mKernings.destroy(),this.mKernings=null),t.prototype.x2766708504066152543x.call(this)},n}(i));n._RF.pop()}}}));System.register("chunks:///_virtual/x202109358152903168x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x275027197533560474x.ts","./x2362680020733037980x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x334497595687909532x.ts","./x832182382730187518x.ts"],(function(e){"use strict";var t,r,i,a,s,n,o,u,c;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){i=e.cclegacy},function(e){a=e.x275027197533560474x},function(e){s=e.x2362680020733037980x},function(e){n=e.x2938621194761123466x},function(e){o=e.x1390687146982484874x},function(e){u=e.x334497595687909532x},function(e){c=e.x832182382730187518x}],execute:function(){i._RF.push({},"8f140zlMyBLWpq7a+rrw0Hh","x202109358152903168x",void 0);e("x202109358152903168x",function(e){function i(t,r,i,a,s){var n;return(n=e.call(this,t,r,i,a)||this).mFilePath=s,n.mNativeTextureResourceId=0,n.mDataStringResourceId=0,n.mChars=null,n.mMaxCharId=-1,n.mLineHeight=0,n.mBaseline=0,n}t(i,e),i.x2052015985526265577x=function(e){return o.stringToHash32("1262240242-"+e)};var a=i.prototype;return a.getBitmapFontChar=function(e){var t=0;switch(e){case-87:case-82:case-94:t=256+~~e;break;default:t=this.getMappedCharId(~~e)}return t<=this.mMaxCharId?this.mChars.getAtIndex(t):null},a.getLineHeight=function(){return this.mLineHeight},a.getMappedCharId=function(e){switch(e){case 8482:return i.x553408457942055091x;default:return e}},a.parseFontData=function(){null!==this.mChars&&(this.mChars.destroy(),this.mChars=null);var e=this.getResourceMgr().getText(this.getResourceName(),"<?xml"),t=s.NativeXMLDocument_createDocumentWithString(e),r=s.NativeXMLDocument_getRootElementNode(t),i=s.NativeXMLElement_getElementNodeChildWithName(r,"common");this.mLineHeight=o.stringToInt(s.NativeXMLElement_getAttributeValue(i,"lineHeight")),this.mBaseline=o.stringToInt(s.NativeXMLElement_getAttributeValue(i,"base")),this.mMaxCharId=-1;for(var a=s.NativeXMLElement_getElementNodeChildWithName(r,"chars"),c=s.NativeXMLElement_getFirstElementNodeChild(a),h=0;c;)h=this.getMappedCharId(o.stringToInt(s.NativeXMLElement_getAttributeValue(c,"id"))),this.mMaxCharId=o.maxInt(h,this.mMaxCharId),c=s.NativeXMLElement_getNextElementNodeSibling(c);this.mChars=new n(this.mMaxCharId+1);var l=this.getResourceMgr().getNativeTexture(this.getResourceName());for(c=s.NativeXMLElement_getFirstElementNodeChild(a);c;){h=this.getMappedCharId(o.stringToInt(s.NativeXMLElement_getAttributeValue(c,"id")));var g=o.stringToInt(s.NativeXMLElement_getAttributeValue(c,"x")),m=o.stringToInt(s.NativeXMLElement_getAttributeValue(c,"y")),d=o.stringToInt(s.NativeXMLElement_getAttributeValue(c,"width")),R=o.stringToInt(s.NativeXMLElement_getAttributeValue(c,"height")),N=o.stringToInt(s.NativeXMLElement_getAttributeValue(c,"xoffset")),_=o.stringToInt(s.NativeXMLElement_getAttributeValue(c,"yoffset")),M=o.stringToInt(s.NativeXMLElement_getAttributeValue(c,"xadvance")),S=new u(h,l,g,m,d,R,N,_,M);this.mChars.setAtIndex(h,S),c=s.NativeXMLElement_getNextElementNodeSibling(c)}var T=s.NativeXMLElement_getElementNodeChildWithName(r,"kernings");if(T)for(var v=s.NativeXMLElement_getFirstElementNodeChild(T);v;){var p=o.stringToInt(s.NativeXMLElement_getAttributeValue(v,"first")),I=o.stringToInt(s.NativeXMLElement_getAttributeValue(v,"second")),f=this.mChars.getAtIndex(I);if(f){var C=o.stringToInt(s.NativeXMLElement_getAttributeValue(v,"amount"));f.addKerning(p,C)}v=s.NativeXMLElement_getNextElementNodeSibling(v)}},a.x2766708504066152543x=function(){this.mChars&&this.mChars.destroyAll(),null!==this.mChars&&(this.mChars.destroy(),this.mChars=null),e.prototype.x2766708504066152543x.call(this)},a.x4178238697573865838x=function(){this.mNativeTextureResourceId=this.getResourceMgr().addNativeTextureResource(this.getResourceName(),this.getResourceGroupName(),this.mFilePath+".png"),this.mDataStringResourceId=this.getResourceMgr().addTextResource(this.getResourceName(),this.getResourceGroupName(),this.mFilePath+".xml")},a.x1161725769148004327x=function(){},a.x3627957228776672854x=function(){switch(this.getResourceMgr().getResourceStateWithId(this.mNativeTextureResourceId)){case c.x1733733731846033593x:return c.x1733733731846033593x;case c.x124968005714418926x:break;case c.x1108837026806222769x:case c.x2854197087750883165x:case c.x1412212870364691859x:default:return c.x1412212870364691859x}switch(this.getResourceMgr().getResourceStateWithId(this.mDataStringResourceId)){case c.x1733733731846033593x:return c.x1733733731846033593x;case c.x124968005714418926x:break;case c.x1108837026806222769x:case c.x2854197087750883165x:case c.x1412212870364691859x:default:return c.x1412212870364691859x}return this.parseFontData(),this.mChars.getNumObjects()>0?c.x124968005714418926x:c.x1412212870364691859x},r(i,null,[{key:"x553408457942055091x",get:function(){return 162}}]),i}(a));i._RF.pop()}}}));System.register("chunks:///_virtual/x4399705917818454294x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2446198698887643760x.ts","./x2362680020733037980x.ts","./x1390687146982484874x.ts","./x95827006032380762x.ts"],(function(t){"use strict";var e,i,n,a,r,s,m;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){a=t.x2446198698887643760x},function(t){r=t.x2362680020733037980x},function(t){s=t.x1390687146982484874x},function(t){m=t.x95827006032380762x}],execute:function(){n._RF.push({},"3f441XSVoxFPYFQA9qSTmkI","x4399705917818454294x",void 0);t("x4399705917818454294x",function(t){function n(){var e;(e=t.call(this)||this).mLineWidths=new Array,e.mNativeLineViewsPool=new m(m.x2729875467793938751x),e.mNativeCharSpritesPool=new m(m.x2729875467793938751x),e.mFont=null,e.mText="",e.mHorizontalAlignment=n.x643913247751548878x,e.mVerticalAlignment=n.x914413537427137377x,e.mIntegerMinNumDigits=1,e.mIntegerInsertCommas=!0,e.mTextWidth=0,e.mTextHeight=0,e.mStartAnimatorsOnTextChanged=!1;var i=r.NativeView_create();return r.NativeView_setName(i,"x4399705917818454294x"),e.setNativeView(i),e}e(n,t),n.createWithParams=function(t,e,i){var a=new n;return a.setParams(t,e,i),a};var a=n.prototype;return a.setFont=function(t){this.mFont!=t&&(this.mFont=t,this.updateText())},a.getText=function(){return this.mText},a.setText=function(t){this.mText!=t&&(this.mText=t,this.updateText(),this.mStartAnimatorsOnTextChanged&&this.startAnimators())},a.setTextWithInteger=function(t){this.setText(s.stringFromInt(t,this.mIntegerMinNumDigits,this.mIntegerInsertCommas))},a.setAlignment=function(t,e){this.mHorizontalAlignment==t&&this.mVerticalAlignment==e||(this.mHorizontalAlignment=t,this.mVerticalAlignment=e,this.updateText())},a.getTextWidth=function(){return this.mTextWidth},a.getTextHeight=function(){return this.mTextHeight},a.updateText=function(){for(var t=this.getNativeView(),e=null,i=null;r.NativeView_getNumChildren(t)>0;){for(e=r.NativeView_getChildAtIndex(t,r.NativeView_getNumChildren(t)-1);r.NativeView_getNumChildren(e)>0;)i=r.NativeView_getChildAtIndex(e,r.NativeView_getNumChildren(e)-1),this.mNativeCharSpritesPool.recycleObject(i),r.NativeView_removeFromParent(i),i=null;this.mNativeLineViewsPool.recycleObject(e),r.NativeView_removeFromParent(e),e=null}if(this.mLineWidths.length=0,this.mTextWidth=0,this.mTextHeight=0,""!=this.mText&&this.mFont){var a=-1,m=-1,o=0;e=null;for(var l=-1,h=this.mFont.getLineHeight(),g=this.mText.length,u=0;u<g;u++){var c=0==u,T=!1;switch(a=this.mText.charCodeAt(u)){case 10:case 13:T=!0,c=!0;break;case 92:u<g-1&&110==this.mText.charCodeAt(u+1)&&(T=!0,c=!0,u++);break;case-62:u++,a=this.mText.charCodeAt(u);break;case-30:u++,u++,a=this.mText.charCodeAt(u)}if(c&&(l++,this.mLineWidths.push(0),e=this.getLineView(),r.NativeView_addChild(t,e),r.NativeView_setPosition(e,0,0),m=-1,o=0),!T){var _=this.mFont.getBitmapFontChar(a);if(_){var V=_.getKerning(m),P=_.getNativeSpriteFrame();if(P){i=this.getCharSprite(),r.NativeView_addChild(e,i),r.NativeSprite_setSpriteFrame(i,P,!0);var S=o+_.getXOffset()+V,v=h-_.getYOffset();r.NativeSprite_setPositionWithAnchor(i,S,v,0,1)}o+=V+_.getXAdvance(),this.mLineWidths[l]=o,this.mTextWidth=s.maxInt(this.mTextWidth,o),m=a}}}var x=r.NativeView_getNumChildren(t);this.mTextHeight=h*x;var B=0;switch(this.mVerticalAlignment){case n.x1732125663904224017x:B=this.mTextHeight;break;case n.x914413537427137377x:B=this.mTextHeight/2;break;case n.x1539732764119326768x:B=0}for(B-=h,l=0;l<x;l++){e=r.NativeView_getChildAtIndex(t,l);var w=0;switch(this.mHorizontalAlignment){case n.x360817282790938557x:w=0;break;case n.x643913247751548878x:w=-this.mLineWidths[l]/2;break;case n.x3117902855767256109x:w=-this.mLineWidths[l]}r.NativeView_setPosition(e,w,B),B-=h}}},a.getLineView=function(){if(this.mNativeLineViewsPool.getNumAvailableObjects()>0)return this.mNativeLineViewsPool.getAvailableObject();var t=r.NativeView_create();return r.NativeView_setName(t,"lineView"),t},a.getCharSprite=function(){if(this.mNativeCharSpritesPool.getNumAvailableObjects()>0)return this.mNativeCharSpritesPool.getAvailableObject();var t=r.NativeSprite_createWithSpriteFrame(null);return r.NativeView_setName(t,"charSprite"),t},a.x2766708504066152543x=function(){null!==this.mNativeLineViewsPool&&(this.mNativeLineViewsPool.destroy(),this.mNativeLineViewsPool=null),null!==this.mNativeCharSpritesPool&&(this.mNativeCharSpritesPool.destroy(),this.mNativeCharSpritesPool=null),this.mFont=null,t.prototype.x2766708504066152543x.call(this)},a.x1655915324635530023x=function(t,e){var i=t.getDictionary(n.x2848307591739689404x);if(i){i.hasValue(n.x1090517681837080954x)&&this.setFont(e.getBitmapFontResource(i.getStringValue(n.x1090517681837080954x)));var a=i.hasValue(n.x3115087892137586241x)?i.getStringValueAsHash32(n.x3115087892137586241x):this.mHorizontalAlignment,r=i.hasValue(n.x1995158929688524887x)?i.getStringValueAsHash32(n.x1995158929688524887x):this.mVerticalAlignment;this.setAlignment(a,r),this.mIntegerMinNumDigits=i.getIntValueWithDefault(n.x3240323012205421276x,1),this.mIntegerInsertCommas=i.getBoolValueWithDefault(n.x939526748717504225x,!0),this.setText(i.getStringValueWithDefault(n.x3202666289050971393x,this.mText)),this.mStartAnimatorsOnTextChanged=i.getBoolValueWithDefault(n.x2424972065973897021x,!1)}},a.x2160475895434563892x=function(){return this.mTextWidth*this.getScaleX()},a.x1228861745169446149x=function(){return this.mTextHeight*this.getScaleY()},i(n,null,[{key:"x2021495130439388924x",get:function(){return 358876528}},{key:"x2848307591739689404x",get:function(){return 358876528}},{key:"x1090517681837080954x",get:function(){return 1043560079}},{key:"x3115087892137586241x",get:function(){return 1181577422}},{key:"x1995158929688524887x",get:function(){return 1224786460}},{key:"x3240323012205421276x",get:function(){return 363286695}},{key:"x939526748717504225x",get:function(){return 1553616228}},{key:"x3202666289050971393x",get:function(){return 474344798}},{key:"x2424972065973897021x",get:function(){return 657867085}},{key:"x360817282790938557x",get:function(){return 670917368}},{key:"x643913247751548878x",get:function(){return 1654102790}},{key:"x3117902855767256109x",get:function(){return 208332043}},{key:"x1732125663904224017x",get:function(){return 182048444}},{key:"x914413537427137377x",get:function(){return 1654102790}},{key:"x1539732764119326768x",get:function(){return 333986564}}]),n}(a));n._RF.pop()}}}));System.register("chunks:///_virtual/x3488578980907018278x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x713925626457252070x.ts","./x1390687146982484874x.ts","./x3363722297214968445x.ts"],(function(t){"use strict";var e,i,a,r,n,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){a=t.cclegacy},function(t){r=t.x713925626457252070x},function(t){n=t.x1390687146982484874x},function(t){s=t.x3363722297214968445x}],execute:function(){a._RF.push({},"2f435VSd51DNpHymTrXXdPn","x3488578980907018278x",void 0);t("x3488578980907018278x",function(t){function a(e,i){var s;return(s=t.call(this,a.x1685711250084808487x,r.x760633668951967089x,e,n.x4379805376353750514x(a.x4183570915039330341x),i)||this).mCurrentRadialXStep=0,s.mCurrentRadialYStep=0,s.mRadialStepTimerMSEC=0,s}e(a,t);var c=a.prototype;return c.processState_active=function(t){var e=this.getPlayer().getMatrix(),i=this.getActivationMatrixX(),a=this.getActivationMatrixY();if(this.mCurrentRadialXStep<11&&(this.mRadialStepTimerMSEC-=t,this.mRadialStepTimerMSEC<=0)){for(var n=i-this.mCurrentRadialXStep,s=i+this.mCurrentRadialXStep,c=0==this.mCurrentRadialXStep?1:2,S=!1,l=0;l<c;l++)for(var o=a-this.mCurrentRadialYStep,u=a+this.mCurrentRadialYStep,p=0==this.mCurrentRadialYStep?1:2,m=0;m<p;m++){var h=0==l?n:s,d=0==m?o:u;if(e.getMinoAt(h,d))S=!0,this.mCurrentRadialXStep<=0&&this.mCurrentRadialYStep<=0?e.killMino(e.getMinoAt(h,d),500,!0):e.shatterMino(e.getMinoAt(h,d),500)}this.mCurrentRadialYStep++,this.mCurrentRadialYStep>=3&&(this.mCurrentRadialYStep=0,this.mCurrentRadialXStep++),S?this.mRadialStepTimerMSEC+=20:this.mRadialStepTimerMSEC=0}this.mCurrentRadialXStep>=11&&(e.popDestabilize(),e.popMovementDisabled(),this.setNextState(r.x2291148428533141857x,!1))},c.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},c.x1832309505861141126x=function(){var t=this.getPlayer(),e=t.getMatrix();switch(t.getCurrentState()){case s.x1226525904332658665x:return e.isStable()}switch(t.getNextState()){case s.x1226525904332658665x:return e.isStable()}return!1},c.x3054795774673576263x=function(){this.mCurrentRadialXStep=0,this.mCurrentRadialYStep=0,this.mRadialStepTimerMSEC=0;var t=this.getPlayer().getMatrix();t.pushDestabilize(),t.pushMovementDisabled(),this.setCurrentState(r.x1060886010737717951x,0)},c.x3139096472792676868x=function(e,i,a,n){switch(i){case r.x1060886010737717951x:switch(e){case x2825914500079770252x.x3589770202422279121x:return this.processState_active(n),n}}return t.prototype.x3139096472792676868x.call(this,e,i,a,n)},i(a,null,[{key:"x1685711250084808487x",get:function(){return 181583955}},{key:"x4183570915039330341x",get:function(){return""}}]),a}(r));a._RF.pop()}}}));System.register("chunks:///_virtual/x3684445716736304272x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x713925626457252070x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,n,i,o,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},function(t){o=t.x713925626457252070x},function(t){c=t.x1390687146982484874x}],execute:function(){i._RF.push({},"275d3fXnXpDl6UzNdixvzCT","x3684445716736304272x",void 0);t("x3684445716736304272x",function(t){function i(e,n){var r;return(r=t.call(this,i.x3298581678936944589x,o.x760633668951967089x,e,c.x4379805376353750514x(i.x4183570915039330341x),n)||this).mBonusTimeSEC=0,r}e(i,t);var r=i.prototype;return r.getBonusTimeSEC=function(){return this.mBonusTimeSEC},r.setBonusTimeSEC=function(t){this.mBonusTimeSEC=t},r.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},r.x1832309505861141126x=function(){return!0},r.x3054795774673576263x=function(){this.getPlayer().addRemainingTimeMSEC(1e3*this.mBonusTimeSEC),this.setCurrentState(o.x2291148428533141857x,0)},n(i,null,[{key:"x3298581678936944589x",get:function(){return 738431195}},{key:"x4183570915039330341x",get:function(){return""}}]),i}(o));i._RF.pop()}}}));System.register("chunks:///_virtual/x3853631986453033216x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1654909725214686057x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,o,l,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){l=t.x1654909725214686057x},function(t){n=t.x1390687146982484874x}],execute:function(){o._RF.push({},"c392dgbrMdISJbQ3DEMOaiq","x3853631986453033216x",void 0),t("x3853631986453033216x",function(t){function o(){var e;return(e=t.call(this,l.x3860326063911156812x)||this).mValue=!1,e}e(o,t),o.getAvailableInstance=function(){o.sPool||(o.sPool=new Array);var t=null;return o.sPool.length>0?(t=o.sPool[o.sPool.length-1],o.sPool.pop()):t=new o,t},o.recycleAvailableInstance=function(t){o.sPool||(o.sPool=new Array),t.recycle(),o.sPool.push(t)},o.destroyPool=function(){if(o.sPool){for(var t=o.sPool.length,e=0;e<t;e++){var l=o.sPool[e];null!==l&&(l.destroy(),l=null)}null!==o.sPool&&(o.sPool=null)}};var u=o.prototype;return u.getValue=function(){return this.mValue},u.setValue=function(t){this.mValue=t},u.x2904717359915390404x=function(){return t.prototype.x2904717359915390404x.call(this),this.mValue=!1,!0},u.x2766708504066152543x=function(){this.mValue=!1,t.prototype.x2766708504066152543x.call(this)},u.setValueWithInt=function(t){this.mValue=0!=t},u.setValueWithFloat=function(t){this.mValue=0!=t},u.setValueWithBool=function(t){this.mValue=t},u.setValueWithString=function(t){this.mValue="true"==n.stringToLowerCase(t)},u.toInt=function(){return this.mValue?1:0},u.toFloat=function(){return this.mValue?1:0},u.toBool=function(){return this.mValue},u.toString=function(){return n.stringFromBoolean(this.mValue)},o}(l)).sPool=null,o._RF.pop()}}}));System.register("chunks:///_virtual/x1594045878923188925x.ts",["cc","./x1180903263758642626x.ts","./x1390687146982484874x.ts","./x3853631986453033216x.ts","./x2826071472640425443x.ts","./x3255644122958964683x.ts","./x2636448930905443261x.ts","./x2905577634480353717x.ts"],(function(t){"use strict";var e,o,i,n,c,u,S,s;return{setters:[function(t){e=t.cclegacy},function(t){o=t.x1180903263758642626x},function(t){i=t.x1390687146982484874x},function(t){n=t.x3853631986453033216x},function(t){c=t.x2826071472640425443x},function(t){u=t.x3255644122958964683x},function(t){S=t.x2636448930905443261x},function(t){s=t.x2905577634480353717x}],execute:function(){e._RF.push({},"d1d5eSzDHlNM4mi2677cc6T","x1594045878923188925x",void 0),t("x1594045878923188925x",function(){function t(){}return t.doStaticInit=function(){t.sDidStaticInit||(i.doStaticInit(),o.doStaticInit(),t.sDidStaticInit=!0)},t.doStaticDestroy=function(e){t.sDidStaticInit&&(n.destroyPool(),c.destroyPool(),u.destroyPool(),S.destroyPool(),s.destroyPool(),o.doStaticDestroy(),i.doStaticDestroy(e),t.sDidStaticInit=!1)},t}()).sDidStaticInit=!1,e._RF.pop()}}}));System.register("chunks:///_virtual/x1825263265700717187x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x3853631986453033216x.ts","./x2826071472640425443x.ts","./x3255644122958964683x.ts","./x2636448930905443261x.ts","./x2905577634480353717x.ts","./x1654909725214686057x.ts"],(function(e){"use strict";var t,a,r,i,n,u,s,l,c,o,V,g;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass},function(e){r=e.cclegacy},function(e){i=e.x2825914500079770252x},function(e){n=e.x2938621194761123466x},function(e){u=e.x1390687146982484874x},function(e){s=e.x3853631986453033216x},function(e){l=e.x2826071472640425443x},function(e){c=e.x3255644122958964683x},function(e){o=e.x2636448930905443261x},function(e){V=e.x2905577634480353717x},function(e){g=e.x1654909725214686057x}],execute:function(){r._RF.push({},"d50e46g6odFsZZ8rZCGiHb2","x1825263265700717187x",void 0);e("x1825263265700717187x",function(e){function r(t){var a;return(a=e.call(this)||this).mSerializationFormat=r.x3281128764592968526x,a.mAttributes=null,a.mValues=new n(0),a.mIsOwnerOfObjectValues=t,a}t(r,e),r.x970881173922742285x=function(e){return e&&e.x2589877392260963443x()==r.x3998704629672751006x?e:null},r.newDictionaryWithJSONString=function(e,t){var a=r.createValue(g.x3500180382744555049x);r.parseJSONDictionaryValue(e,0,a,t,"");var i=a.getValue();return a.setIsObjectOwner(!1),a.setValue(null,!1),r.recycleValue(a),i},r.reportJSONParsingError=function(e,t){},r.parseJSONWhitespace=function(e,t){for(var a=t,r=e.length,i=!1;!i;)switch(e.charCodeAt(a)){case 32:case 9:case 10:case 13:i=++a>=r;break;default:i=!0}return a-t},r.parseJSONValue=function(e,t,a,i,n,u){i.setValue(null,!1);var s=a,l=0,c=t.length;if((s+=r.parseJSONWhitespace(t,s))>=c)return 0;var o=null;switch(t.charCodeAt(s)){case 123:o=r.createValue(g.x3500180382744555049x),l=r.parseJSONDictionaryValue(t,s,o,n,u);break;case 91:o=r.createValue(g.x3500180382744555049x),l=r.parseJSONArrayValue(t,s,o,n);break;case 110:o=r.createValue(g.x3500180382744555049x),l=r.parseJSONNullValue(t,s,o);break;case 34:o=r.createValue(g.x4440003044286975511x),l=r.parseJSONStringValue(t,s,o);break;case 102:case 116:o=r.createValue(g.x3860326063911156812x),l=r.parseJSONBoolValue(t,s,o);break;case 45:case 46:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:switch(e){case 105:o=r.createValue(g.x3783032619504109691x),l=r.parseJSONIntValue(t,s,o);break;case 102:o=r.createValue(g.x2090411379675684210x),l=r.parseJSONFloatValue(t,s,o);break;default:o=r.createValue(g.x3783032619504109691x),0==(l=r.parseJSONIntValue(t,s,o))&&(r.recycleValue(o),o=r.createValue(g.x2090411379675684210x),l=r.parseJSONFloatValue(t,s,o))}}return l>0?(i.setValue(o,!1),(s+=l)-a):(r.reportJSONParsingError(t,a),o&&r.recycleValue(o),0)},r.parseJSONDictionaryValue=function(e,t,a,i,n){var s=e.length;if(t>=s)return 0;for(var l=r.x970881173922742285x(a.getValue()),c=!l,o=r.createValue(g.x4440003044286975511x),V=r.createValue(g.x3500180382744555049x),h=t,y=0,S=r.x357713376040578704x;S!=r.x644180170628209180x;)switch(S){case r.x357713376040578704x:if((h+=r.parseJSONWhitespace(e,h))<s)switch(e.charCodeAt(h)){case 123:h++,l||(l=new r(!0)),l.setAttributesWithString(n),S=r.x2591396694478390081x;break;default:S=r.x1071142650879041037x}else S=r.x1071142650879041037x;break;case r.x2591396694478390081x:var f="";if((h+=r.parseJSONWhitespace(e,h))<s)switch(e.charCodeAt(h)){case 125:h++,S=r.x644180170628209180x;break;case 34:if((y=r.parseJSONStringValue(e,h,o))>0){f=o.getValue();var p=u.firstIndexInString(f,"~"),T="";p>0&&(T=u.substringFromIndex(f,p),f=u.substringToIndex(f,p));var b=u.firstIndexInString(f,"@"),k=0;if(b>0&&(k=f.charCodeAt(b+1),f=u.substringToIndex(f,b)),h+=y,(h+=r.parseJSONWhitespace(e,h))<s)switch(e.charCodeAt(h)){case 58:if(h++,(h+=r.parseJSONWhitespace(e,h))<s)if((y=r.parseJSONValue(k,e,h,V,i,T))>0){var d=V.getValue();if(i?d.setKeyString(f):d.setKey(u.stringToValueKey(f),!1),l.pushBackValue(d),h+=y,(h+=r.parseJSONWhitespace(e,h))<s)switch(e.charCodeAt(h)){case 125:h++,S=r.x644180170628209180x;break;case 44:h++;break;default:S=r.x1071142650879041037x}else S=r.x1071142650879041037x}else S=r.x1071142650879041037x;else S=r.x1071142650879041037x;break;default:S=r.x1071142650879041037x}else S=r.x1071142650879041037x}else S=r.x1071142650879041037x;break;default:S=r.x1071142650879041037x}else S=r.x1071142650879041037x;o.setValue(""),V.setValue(null,!1);break;case r.x1071142650879041037x:c&&null!==l&&(l.destroy(),l=null),S=r.x644180170628209180x}return r.recycleValue(o),r.recycleValue(V),a.setValue(l,!0),l?(l.ensureUniqueKeys(),h-t):0},r.parseJSONArrayValue=function(e,t,a,i){a.setValue(null,!0);var n=e.length;if(t>=n)return 0;for(var u=null,s=r.createValue(g.x3500180382744555049x),l=t,c=0,o=r.x357713376040578704x;o!=r.x644180170628209180x;)switch(o){case r.x357713376040578704x:if((l+=r.parseJSONWhitespace(e,l))<n)switch(e.charCodeAt(l)){case 91:l++,(u=new r(!0)).setSerializationFormat(r.x2853924797741586632x),o=r.x4297969383002467766x;break;default:o=r.x1071142650879041037x}else o=r.x1071142650879041037x;break;case r.x4297969383002467766x:if((l+=r.parseJSONWhitespace(e,l))<n)switch(e.charCodeAt(l)){case 93:l++,o=r.x644180170628209180x;break;default:if((c=r.parseJSONValue(0,e,l,s,i,""))>0){var V=s.getValue();if(u.pushBackValue(V),l+=c,(l+=r.parseJSONWhitespace(e,l))<n)switch(e.charCodeAt(l)){case 93:l++,o=r.x644180170628209180x;break;case 44:l++;break;default:o=r.x1071142650879041037x}else o=r.x1071142650879041037x}else o=r.x1071142650879041037x}else o=r.x1071142650879041037x;s.setValue(null,!1);break;case r.x1071142650879041037x:null!==u&&(u.destroy(),u=null),o=r.x644180170628209180x}return r.recycleValue(s),a.setValue(u,!0),u?l-t:0},r.parseJSONNullValue=function(e,t,a){a.setValue(null,!0);var r=t,i=e.length;switch(e.charCodeAt(r)){case 110:return i-r>=4&&117==e.charCodeAt(r+1)&&108==e.charCodeAt(r+2)&&108==e.charCodeAt(r+3)?4:0;default:return 0}},r.parseJSONIntValue=function(e,t,a){a.setValue(0);for(var r=t,i=e.length,n=!1;!n;){switch(e.charCodeAt(r)){case 45:if(r!=t)return 0;r++;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:r++;break;case 125:case 93:case 44:case 32:case 9:case 10:case 13:n=!0;break;default:return 0}r>=i-1&&(n=!0)}var s=u.substringWithRange(e,t,r),l=u.stringToInt(s);return a.setValue(l),r-t},r.parseJSONFloatValue=function(e,t,a){a.setValue(0);for(var r=t,i=e.length,n=!1,s=!1;!s;){switch(e.charCodeAt(r)){case 45:if(r!=t)return 0;r++;break;case 46:if(n)return 0;r++,n=!0;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:r++;break;case 125:case 93:case 44:case 32:case 9:case 10:case 13:s=!0;break;default:return 0}r>=i-1&&(s=!0)}var l=u.substringWithRange(e,t,r),c=u.stringToFloat(l);return a.setValue(c),r-t},r.parseJSONBoolValue=function(e,t,a){a.setValue(!1);var r=t,i=e.length;switch(e.charCodeAt(r)){case 102:return i-r>=5&&97==e.charCodeAt(r+1)&&108==e.charCodeAt(r+2)&&115==e.charCodeAt(r+3)&&101==e.charCodeAt(r+4)?(a.setValue(!1),5):0;case 116:return i-r>=4&&114==e.charCodeAt(r+1)&&117==e.charCodeAt(r+2)&&101==e.charCodeAt(r+3)?(a.setValue(!0),4):0;default:return 0}},r.parseJSONStringValue=function(e,t,a){if(a.setValue(""),34!=e.charCodeAt(t))return 0;for(var r=t+1,i=r,n=e.length,s=!1;!s;){switch(e.charCodeAt(i)){case 34:s=!0;break;case 92:i+=2;break;default:i++}if(i>=n)return 0}var l=u.substringWithRange(e,r,i);return a.setValue(l),i+1-t},r.createValue=function(e){switch(e){case g.x3783032619504109691x:return c.getAvailableInstance();case g.x2090411379675684210x:return l.getAvailableInstance();case g.x3860326063911156812x:return s.getAvailableInstance();case g.x4440003044286975511x:return V.getAvailableInstance();case g.x3500180382744555049x:return o.getAvailableInstance();default:return null}},r.recycleValue=function(e){if(e)switch(e.recycle(),e.getValueType()){case g.x3783032619504109691x:c.recycleAvailableInstance(e);break;case g.x2090411379675684210x:l.recycleAvailableInstance(e);break;case g.x3860326063911156812x:s.recycleAvailableInstance(e);break;case g.x4440003044286975511x:V.recycleAvailableInstance(e);break;case g.x3500180382744555049x:o.recycleAvailableInstance(e)}};var i=r.prototype;return i.copy=function(e,t){if(e&&e!=this){this.copyAttributes(e,t),(t||this.isKeylessArray()||e.isKeylessArray())&&this.removeAllValues(),this.setSerializationFormat(e.mSerializationFormat);for(var a=e.getNumValues(),i=0;i<a;i++){var n=e.getValueAtIndexWithType(i,0),u=n.getKey(),s=n.getValueType(),l=null;0!=u?l=this.getValueWithType(n.getKey(),s,!0):(l=r.createValue(s),this.pushBackValue(l)),l.setKeyString(n.getKeyString()),this.copyValue(l,n,t)}}},i.x1983177741811147517x=function(){var e=new r(this.mIsOwnerOfObjectValues);return e.copy(this,!0),e},i.synchronizeWithSource=function(e,t,a,i){if(this!=e){var n,s=0;if(t)for(s=0;s<this.getNumValues();)n=this.getValueAtIndex(s),e.hasValue(n.getKey())?s++:this.removeValue(n.getKey());this.copyAttributes(e,!0);var l=e.getNumValues();for(s=0;s<l;s++){var c=e.getValueAtIndex(s),o=c.getKey();if(n=this.getValue(o),a||!n||n.getValueType()!=c.getValueType())n=this.getValueWithType(o,c.getValueType(),!0),this.copyValue(n,c,!0);else if(c.getValueType()==g.x3500180382744555049x){var V=c,h=r.x970881173922742285x(V.getValue());if(h){var y=n,S=r.x970881173922742285x(y.getValue());S?S!=h&&S.synchronizeWithSource(h,t,a,i):this.copyValue(n,c,!0)}}n&&n.setKeyString(c.getKeyString())}if(i)for(var f,p,T=u.minInt(this.getNumValues(),e.getNumValues()),b=0;b<T;b++){var k=(f=e.getValueAtIndex(b)).getKey();if((p=this.getValueAtIndex(b)).getKey()!=k)for(var d=0;d<T;d++)if((f=this.getValueAtIndex(d)).getKey()==k){this.mValues.setAtIndex(b,f),this.mValues.setAtIndex(d,p);break}}}},i.getAttribute=function(e){if(!this.mAttributes)return"";for(var t=~~(this.mAttributes.length/2),a=0;a<t;a++)if(this.mAttributes[2*a]==e)return this.mAttributes[2*a+1];return""},i.setAttribute=function(e,t){this.mAttributes||(this.mAttributes=new Array);for(var a=~~(this.mAttributes.length/2),r=0;r<a;r++)if(this.mAttributes[2*r]==e)return void(this.mAttributes[2*r+1]=t);this.mAttributes.push(e),this.mAttributes.push(t)},i.getAttributesAsString=function(){if(!this.mAttributes)return"";for(var e="",t=this.mAttributes.length/2,a=0;a<t;a++){e+="~"+this.mAttributes[2*a]+"-"+this.mAttributes[2*a+1]}return e},i.setAttributesWithString=function(e){for(var t=u.getNumParamsInString(e),a=0;a<t;a++){var r=u.getParamNameInStringAtIndex(e,a),i=u.getParamValueFromString(e,r);this.setAttribute(r,i)}},i.isKeylessArray=function(){if(this.mSerializationFormat==r.x2853924797741586632x)return!0;var e=this.mValues.getNumObjects();if(0==e)return!1;for(var t=0;t<e;t++)if(0!=this.getValueAtIndexWithType(t,0).getKey())return!1;return!0},i.hasValue=function(e){return this.getValueWithType(e,0,!1)},i.hasValueWithKeyString=function(e){return this.getValueWithType(u.stringToValueKey(e),0,!1)},i.getValue=function(e){return this.getValueWithType(e,0,!1)},i.getValueWithKeyString=function(e){return this.getValueWithType(u.stringToValueKey(e),0,!1)},i.getValueWithKeyStringPath=function(e){for(var t,a=this,r=u.firstIndexInString(e,".");r>=0&&a;)t=u.substringToIndex(e,r),e=u.substringFromIndex(e,r+1),a=a.getDictionary(u.stringToValueKey(t)),r=u.firstIndexInString(e,".");return a?a.getValue(u.stringToValueKey(e)):null},i.getValueType=function(e){var t=this.getValueWithType(e,0,!1);return t?t.getValueType():0},i.getNumValues=function(){return this.mValues.getNumObjects()},i.getValueAtIndex=function(e){return this.getValueAtIndexWithType(e,0)},i.getValueKeyAtIndex=function(e){var t=this.getValueAtIndexWithType(e,0);return t?t.getKey():0},i.getValueKeyStringAtIndex=function(e){var t=this.getValueAtIndexWithType(e,0);return t?t.getKeyString():""},i.getValueTypeAtIndex=function(e){var t=this.getValueAtIndexWithType(e,0);return t?t.getValueType():0},i.pushBackValue=function(e){this.mValues.pushBack(e)},i.getValueIndex=function(e){var t=this.getValue(e);return t?this.mValues.getObjectIndex(t):-1},i.setValueIndex=function(e,t){var a=this.getValue(e);a&&this.mValues.setObjectIndex(a,t)},i.insertValueWithKeyStringPath=function(e,t){for(var a=this,i=null,n=u.firstIndexInString(e,".");n>=0;){var s=u.substringToIndex(e,n);e=u.substringFromIndex(e,n+1),(i=a.getDictionary(u.stringToValueKey(s)))||(i=new r(!0),a.insertObjectValue(u.stringToValueKey(s),s,999999,i)),a=i,i=null,n=u.firstIndexInString(e,".")}if(a){var l=a.getValueWithType(u.stringToValueKey(e),t,!0);return l.setKeyString(e),l}return null},i.copyValueAndType=function(e,t){var a=this.getValueWithType(e,t.getValueType(),!0);this.copyValue(a,t,!0)},i.ensureUniqueKeys=function(){for(var e=this.mValues.getNumObjects(),t=0;t<e;t++){var a=this.getValueKeyStringAtIndex(t);if(a&&""!=a)for(var r=t+1;r<e;r++){var i=this.getValueKeyStringAtIndex(r);if(i==a)for(var n=1;n<=e;n++){var s=i+"-"+u.stringFromInt(n,1,!1);if(!this.hasValueWithKeyString(s)){this.getValueAtIndex(r).setKeyString(s);break}}}}},i.clearAllKeyStrings=function(){for(var e=this.mValues.getNumObjects(),t=0;t<e;t++){var a=this.getValueAtIndexWithType(t,0);switch(a.setKeyString(""),a.getValueType()){case g.x3500180382744555049x:var i=a.getValue(),n=r.x970881173922742285x(i);n&&n.clearAllKeyStrings()}}},i.resetAllKeyStringsToKeyValue=function(){for(var e=this.mValues.getNumObjects(),t=0;t<e;t++){var a=this.getValueAtIndexWithType(t,0);switch(a.setKey(a.getKey(),!0),a.getValueType()){case g.x3500180382744555049x:var i=a.getValue(),n=r.x970881173922742285x(i);n&&n.resetAllKeyStringsToKeyValue()}}},i.removeValue=function(e){var t=this.getValue(e);t&&(this.mValues.removeObject(t),r.recycleValue(t))},i.removeValueAtIndex=function(e){var t=this.getValueAtIndex(e);t&&(this.mValues.removeObject(t),r.recycleValue(t))},i.removeAllValues=function(){for(var e=this.mValues.getNumObjects(),t=0;t<e;t++)r.recycleValue(this.getValueAtIndexWithType(t,0));this.mValues.removeAll()},i.getIntValue=function(e){var t=this.getValueWithType(e,g.x3783032619504109691x,!1);return t?t.getValue():0},i.getIntValueWithDefault=function(e,t){var a=this.getValueWithType(e,g.x3783032619504109691x,!1);return a?a.getValue():t},i.getIntValueWithKeyStringPath=function(e){var t=this.getValueWithKeyStringPath(e);return t?t.getValue():0},i.setIntValue=function(e,t){this.getValueWithType(e,g.x3783032619504109691x,!0).setValue(t)},i.setIntValueWithKeyString=function(e,t){this.setIntValue(u.stringToValueKey(e),t)},i.setIntValueWithKeyStringPath=function(e,t){var a=this.getValueWithKeyStringPath(e);a&&a.setValue(t)},i.getIntValueAtIndex=function(e){var t=this.getValueAtIndexWithType(e,g.x3783032619504109691x);return t?t.getValue():0},i.setIntValueAtIndex=function(e,t){this.getValueAtIndexWithType(e,g.x3783032619504109691x).setValue(t)},i.pushBackIntValue=function(e){var t=r.createValue(g.x3783032619504109691x);t.setValue(e),this.mValues.pushBack(t)},i.insertIntValue=function(e,t,a,r){this.setIntValue(e,r),this.getValue(e).setKeyString(t),this.setValueIndex(e,a)},i.removeIntValue=function(e,t){for(var a=0,r=this.mValues.getNumObjects(),i=0;i<r;i++){if(t>=0&&a>=t)return;var n=this.getValueAtIndexWithType(i,0);switch(n.getValueType()){case g.x3783032619504109691x:n.getValue()==e&&(this.removeValueAtIndex(i),i--,r=this.mValues.getNumObjects(),a++)}}},i.getFloatValue=function(e){var t=this.getValueWithType(e,g.x2090411379675684210x,!1);return t?t.getValue():0},i.getFloatValueWithDefault=function(e,t){var a=this.getValueWithType(e,g.x2090411379675684210x,!1);return a?a.getValue():t},i.getFloatValueWithKeyStringPath=function(e){var t=this.getValueWithKeyStringPath(e);return t?t.getValue():0},i.setFloatValue=function(e,t){this.getValueWithType(e,g.x2090411379675684210x,!0).setValue(t)},i.setFloatValueWithKeyString=function(e,t){this.setFloatValue(u.stringToValueKey(e),t)},i.setFloatValueWithKeyStringPath=function(e,t){var a=this.getValueWithKeyStringPath(e);a&&a.setValue(t)},i.getFloatValueAtIndex=function(e){var t=this.getValueAtIndexWithType(e,g.x2090411379675684210x);return t?t.getValue():0},i.setFloatValueAtIndex=function(e,t){this.getValueAtIndexWithType(e,g.x2090411379675684210x).setValue(t)},i.pushBackFloatValue=function(e){var t=r.createValue(g.x2090411379675684210x);t.setValue(e),this.mValues.pushBack(t)},i.insertFloatValue=function(e,t,a,r){this.setFloatValue(e,r),this.getValue(e).setKeyString(t),this.setValueIndex(e,a)},i.getBoolValue=function(e){var t=this.getValueWithType(e,g.x3860326063911156812x,!1);return!!t&&t.getValue()},i.getBoolValueWithDefault=function(e,t){var a=this.getValueWithType(e,g.x3860326063911156812x,!1);return a?a.getValue():t},i.getBoolValueWithKeyStringPath=function(e){var t=this.getValueWithKeyStringPath(e);return!!t&&t.getValue()},i.setBoolValue=function(e,t){this.getValueWithType(e,g.x3860326063911156812x,!0).setValue(t)},i.setBoolValueWithKeyString=function(e,t){this.setBoolValue(u.stringToValueKey(e),t)},i.setBoolValueWithKeyStringPath=function(e,t){var a=this.getValueWithKeyStringPath(e);a&&a.setValue(t)},i.getBoolValueAtIndex=function(e){var t=this.getValueAtIndexWithType(e,g.x3860326063911156812x);return!!t&&t.getValue()},i.setBoolValueAtIndex=function(e,t){this.getValueAtIndexWithType(e,g.x3860326063911156812x).setValue(t)},i.pushBackBoolValue=function(e){var t=r.createValue(g.x3860326063911156812x);t.setValue(e),this.mValues.pushBack(t)},i.insertBoolValue=function(e,t,a,r){this.setBoolValue(e,r),this.getValue(e).setKeyString(t),this.setValueIndex(e,a)},i.getStringValue=function(e){var t=this.getValueWithType(e,g.x4440003044286975511x,!1);return t?t.getValue():""},i.getStringValueWithDefault=function(e,t){var a=this.getValueWithType(e,g.x4440003044286975511x,!1);return a?a.getValue():t},i.getStringValueWithKeyStringPath=function(e){var t=this.getValueWithKeyStringPath(e);return t?t.getValue():""},i.getStringValueAsHash32=function(e){return u.stringToHash32(this.getStringValue(e))},i.setStringValue=function(e,t){this.getValueWithType(e,g.x4440003044286975511x,!0).setValue(t)},i.setStringValueWithKeyString=function(e,t){this.setStringValue(u.stringToValueKey(e),t)},i.setStringValueWithKeyStringPath=function(e,t){var a=this.getValueWithKeyStringPath(e);a&&a.setValue(t)},i.getStringValueAtIndex=function(e){var t=this.getValueAtIndexWithType(e,g.x4440003044286975511x);return t?t.getValue():""},i.setStringValueAtIndex=function(e,t){this.getValueAtIndexWithType(e,g.x4440003044286975511x).setValue(t)},i.pushBackStringValue=function(e){var t=r.createValue(g.x4440003044286975511x);t.setValue(e),this.mValues.pushBack(t)},i.insertStringValue=function(e,t,a,r){0==e&&(e=u.stringToValueKey(t)),this.setStringValue(e,r),this.getValue(e).setKeyString(t),this.setValueIndex(e,a)},i.setIsOwnerOfObjectValues=function(e){this.mIsOwnerOfObjectValues=e;for(var t=null,a=this.mValues.getNumObjects(),r=0;r<a;r++)switch((t=this.mValues.getAtIndex(r)).getValueType()){case g.x3500180382744555049x:t.setIsObjectOwner(e)}},i.getObjectValue=function(e){var t=this.getValueWithType(e,g.x3500180382744555049x,!1);return t?t.getValue():null},i.getObjectValueWithKeyStringPath=function(e){var t=this.getValueWithKeyStringPath(e);return t?t.getValue():null},i.setObjectValue=function(e,t){this.getValueWithType(e,g.x3500180382744555049x,!0).setValue(t,this.mIsOwnerOfObjectValues)},i.setObjectValueWithKeyString=function(e,t){this.setObjectValue(u.stringToValueKey(e),t)},i.setObjectValueWithKeyStringPath=function(e,t){var a=this.getValueWithKeyStringPath(e);a&&a.setValue(t,this.mIsOwnerOfObjectValues)},i.getObjectValueAtIndex=function(e){var t=this.getValueAtIndexWithType(e,g.x3500180382744555049x);return t?t.getValue():null},i.setObjectValueAtIndex=function(e,t){this.getValueAtIndexWithType(e,g.x3500180382744555049x).setValue(t,this.mIsOwnerOfObjectValues)},i.pushBackObjectValue=function(e){var t=r.createValue(g.x3500180382744555049x);t.setValue(e,this.mIsOwnerOfObjectValues),this.mValues.pushBack(t)},i.insertObjectValue=function(e,t,a,r){this.setObjectValue(e,r),this.getValue(e).setKeyString(t),this.setValueIndex(e,a)},i.insertObjectValueAtIndex=function(e,t){var a=r.createValue(g.x3500180382744555049x);a.setValue(t,this.mIsOwnerOfObjectValues),this.mValues.insertAtIndex(e,a)},i.clearObjectValues=function(){for(var e=null,t=this.mValues.getNumObjects(),a=0;a<t;a++)switch((e=this.getValueAtIndexWithType(a,0)).getValueType()){case g.x3500180382744555049x:e.setValue(null,this.mIsOwnerOfObjectValues)}},i.createDictionary=function(e,t,a,i){var n=new r(i);return this.insertObjectValue(e,t,a,n),n},i.getDictionary=function(e){return this.getObjectValue(e)},i.getDictionary2=function(e,t){var a=this.getDictionary(e);return a?a.getDictionary(t):null},i.getDictionary3=function(e,t,a){var r=this.getDictionary(e);return r?r.getDictionary2(t,a):null},i.getDictionary4=function(e,t,a,r){var i=this.getDictionary(e);return i?i.getDictionary3(t,a,r):null},i.getDictionaryAtIndex=function(e){return this.getObjectValueAtIndex(e)},i.getDictionaryWithKeyString=function(e){return this.getDictionary(u.stringToValueKey(e))},i.getDictionaryWithKeyStringPath=function(e){var t=this.getValueWithKeyStringPath(e);return t?r.x970881173922742285x(t.getValue()):null},i.setIntValueInDictionaries=function(e,t){for(var a=this.mValues.getNumObjects(),i=0;i<a;i++){var n=this.getValueAtIndexWithType(i,0);switch(n.getValueType()){case g.x3500180382744555049x:var u=n.getValue(),s=r.x970881173922742285x(u);s&&s.setIntValue(e,t)}}},i.setFloatValueInDictionaries=function(e,t){for(var a=this.mValues.getNumObjects(),i=0;i<a;i++){var n=this.getValueAtIndexWithType(i,0);switch(n.getValueType()){case g.x3500180382744555049x:var u=n.getValue(),s=r.x970881173922742285x(u);s&&s.setFloatValue(e,t)}}},i.setBoolValueInDictionaries=function(e,t){for(var a=this.mValues.getNumObjects(),i=0;i<a;i++){var n=this.getValueAtIndexWithType(i,0);switch(n.getValueType()){case g.x3500180382744555049x:var u=n.getValue(),s=r.x970881173922742285x(u);s&&s.setBoolValue(e,t)}}},i.setStringValueInDictionaries=function(e,t){for(var a=this.mValues.getNumObjects(),i=0;i<a;i++){var n=this.getValueAtIndexWithType(i,0);switch(n.getValueType()){case g.x3500180382744555049x:var u=n.getValue(),s=r.x970881173922742285x(u);s&&s.setStringValue(e,t)}}},i.processPlatformValues=function(e){var t;e=u.stringToLowerCase(e);for(var a=0;a<this.getNumValues();)switch((t=this.getValueAtIndex(a)).getValueType()){case g.x3500180382744555049x:var i=t.getValue(),n=r.x970881173922742285x(i);if(n){var s=t.getKeyString(),l=n.getAttribute("platforms");if(l&&""!=l&&!u.doesStringListContainItem(l,e,!0))this.removeValue(t.getKey());else if(u.stringEndsWith(s,"-platforms")){var c=u.substringToIndex(s,u.lastIndexInString(s,"-platforms")),o=this.getValueWithKeyString(c);if(o)for(var V=n,h=V.getNumValues(),y=0;y<h;y++){var S=V.getValueAtIndex(y);u.doesStringListContainItem(S.getKeyString(),e,!0)&&this.copyValue(o,S,!0)}this.removeValue(t.getKey())}else n.processPlatformValues(e),a++}else a++;break;default:a++}},i.insertParamsIntoStrings=function(e,t){if(e)for(var a,i=this.getNumValues(),n=0;n<i;n++)switch((a=this.getValueAtIndex(n)).getValueType()){case g.x4440003044286975511x:for(var s=a.getValue(),l=u.firstIndexInString(s,"#{"),c=u.firstIndexInString(s,"}");l>=0&&c>l;){var o=u.substringFromIndexWithLength(s,l+2,c-l-2),V=e.getValueWithKeyStringPath(o);if(V&&V.getValueType()==g.x4440003044286975511x||t){var h="";h=V&&V.getValueType()==g.x4440003044286975511x?V.getValue():"UNKNOWN_PARAM",s=u.substringToIndex(s,l)+h+u.substringFromIndex(s,c+1),l=u.firstIndexInString(s,"#{"),c=u.firstIndexInString(s,"}")}else l=u.nextIndexInString(s,"#{",c+1),c=u.nextIndexInString(s,"}",c+1)}a.setValue(s);break;case g.x3500180382744555049x:var y=a.getValue(),S=r.x970881173922742285x(y);S&&S!=e&&S.insertParamsIntoStrings(e,t)}},i.regexReplaceKeys=function(e,t){for(var a=this.getNumValues(),i=0;i<a;i++){var n=this.getValueAtIndex(i),s=u.regexReplaceString(n.getKeyString(),e,t);switch(n.setKeyString(s),n.getValueType()){case g.x3500180382744555049x:var l=n.getValue(),c=r.x970881173922742285x(l);c&&c.regexReplaceKeys(e,t)}}},i.regexReplaceStringValues=function(e,t){for(var a=this.getNumValues(),i=0;i<a;i++){var n=this.getValueAtIndex(i);switch(n.getValueType()){case g.x4440003044286975511x:var s=n;s.setValue(u.regexReplaceString(s.getValue(),e,t));break;case g.x3500180382744555049x:var l=n.getValue(),c=r.x970881173922742285x(l);c&&c.regexReplaceStringValues(e,t)}}},i.setSerializationFormat=function(e){this.mSerializationFormat=e},i.parseJSONString=function(e,t,a){a&&this.removeAllValues(),this.setSerializationFormat(r.x3281128764592968526x);var i=r.createValue(g.x3500180382744555049x);i.setValue(this,!1),r.parseJSONDictionaryValue(e,0,i,t,""),i.setIsObjectOwner(!1),i.setValue(null,!1),r.recycleValue(i)},i.toJSONString=function(e,t,a){var i=null;e?i=e:(i=u.getStringBuilder()).setString(""),i.appendString(this.isKeylessArray()?"[":"{");var n=this.mValues.getNumObjects();a>=0&&n>0&&i.appendString("\n");for(var s=null,l=0,c=0;c<n;c++){var o=this.getValueAtIndexWithType(c,0);if(a>=0)for(l=0;l<a+1;l++)i.appendString("\t");if(!this.isKeylessArray()){var V=o.getKeyString();if(t)switch(o.getValueType()){case g.x3783032619504109691x:V+="@i";break;case g.x2090411379675684210x:V+="@f"}switch(o.getValueType()){case g.x3500180382744555049x:(s=r.x970881173922742285x(o.getValue()))&&(V+=s.getAttributesAsString())}i.appendString('"'),i.appendString(V),i.appendString('":'),a>=0&&i.appendString(" ")}switch(o.getValueType()){case g.x3783032619504109691x:i.appendInt(o.getValue(),1,!1);break;case g.x2090411379675684210x:i.appendFloat(o.getValue());break;case g.x3860326063911156812x:i.appendBoolean(o.getValue());break;case g.x4440003044286975511x:i.appendString('"'),i.appendString(o.getValue()),i.appendString('"');break;case g.x3500180382744555049x:(s=r.x970881173922742285x(o.getValue()))?s.toJSONString(i,t,a>=0?a+1:-1):i.appendString("null")}c<n-1&&i.appendString(","),a>=0&&i.appendString("\n")}if(a>=0&&n>0)for(l=0;l<a;l++)i.appendString("\t");return i.appendString(this.isKeylessArray()?"]":"}"),i.getString()},i.toXMLString_DEPRECATED=function(e,t){var a=u.stringWithTabs(t)+'<dict key="'+e+'"',r=0;if(this.mAttributes){var i=~~(this.mAttributes.length/2);for(r=0;r<i;r++){var n=this.mAttributes[2*r];if("key"!=n)a+=" "+n+'="'+this.mAttributes[2*r+1]+'"'}}a+=">",t>=0&&(a+="\n");var s=this.getNumValues();for(r=0;r<s;r++)a+=this.getValueXMLString(this.getValueAtIndex(r),t>=0?t+1:-1);return a+=u.stringWithTabs(t)+"</dict>",t>=0&&(a+="\n"),a},i.generateValuesHash32v2=function(){for(var e="",t=this.getNumValues(),a=0;a<t;a++)e+=this.getValueAtIndex(a).toString();return u.stringToHash32V2(e)},i.copyAttributes=function(e,t){t&&this.mAttributes&&(this.mAttributes.length=0);var a=e.mAttributes;if(a)for(var r=~~(a.length/2),i=0;i<r;i++){var n=a[2*i],u=a[2*i+1];this.setAttribute(n,u)}},i.getValueWithType=function(e,t,a){for(var i=null,n=this.mValues.getNumObjects(),u=0;u<n;u++)if((i=this.getValueAtIndexWithType(u,0)).getKey()==e)return 0!=t&&i.getValueType()!=t&&a&&(r.recycleValue(i),(i=r.createValue(t)).setKey(e,!1),this.mValues.setAtIndex(u,i)),i;return a?((i=r.createValue(t)).setKey(e,!1),this.mValues.pushBack(i),i):null},i.getValueAtIndexWithType=function(e,t){var a=this.mValues.getAtIndex(e);if(0!=t&&a&&a.getValueType()!=t){var i=a.getKey(),n=a.getKeyString();r.recycleValue(a),(a=r.createValue(t)).setKey(i,!1),a.setKeyString(n),this.mValues.setAtIndex(e,a)}return a},i.copyValue=function(e,t,a){if(e.getValueType()==t.getValueType())switch(t.getValueType()){case g.x3783032619504109691x:case g.x2090411379675684210x:case g.x3860326063911156812x:case g.x4440003044286975511x:e.setValue(t.getValue());break;case g.x3500180382744555049x:var i=t.getValue();if(i&&i.x2589877392260963443x()==r.x3998704629672751006x){var n=r.x970881173922742285x(e.getValue());n||(n=new r(!0),e.setValue(n,!0));var u=i;n.copy(u,a)}}},i.getValueXMLString=function(e,t){var a="",i=e.getValueType(),n=g.valueTypeToString(i),s=e.getKeyString();switch(i){case g.x3783032619504109691x:case g.x2090411379675684210x:case g.x3860326063911156812x:a=u.stringWithTabs(t)+"<"+n+' key="'+s+'">'+e.toString()+"</"+n+">",t>=0&&(a+="\n");break;case g.x4440003044286975511x:var l=e.toString();l=u.regexReplaceString(l,"<","&lt;"),l=u.regexReplaceString(l,">","&gt;"),a=u.stringWithTabs(t)+"<"+n+' key="'+s+'">'+l+"</"+n+">",t>=0&&(a+="\n");break;case g.x3500180382744555049x:var c=e,o=r.x970881173922742285x(c.getValue());if(o){n="dict";var V=t>=0?t:-1;switch(this.mSerializationFormat){case r.x3281128764592968526x:case r.x2853924797741586632x:var h=t>=0?t+1:-1,y=o.toJSONString(null,!0,h);a=u.stringWithTabs(V)+'<string key="'+s+'">\n'+(u.stringWithTabs(h)+y)+"\n"+u.stringWithTabs(V)+"</string>";break;case r.x3623164911852005218x:a=o.toXMLString_DEPRECATED(s,t)}V>=0&&(a+="\n")}}return a},i.x2589877392260963443x=function(){return r.x3998704629672751006x},i.x2904717359915390404x=function(){return null!==this.mAttributes&&(this.mAttributes=null),this.removeAllValues(),this.setIsOwnerOfObjectValues(!1),e.prototype.x2904717359915390404x.call(this),!0},i.x2766708504066152543x=function(){null!==this.mAttributes&&(this.mAttributes=null),this.removeAllValues(),null!==this.mValues&&(this.mValues.destroy(),this.mValues=null),e.prototype.x2766708504066152543x.call(this)},i.x2561498820134418400x=function(e){return this.getIntValue(u.stringToValueKey(e))},a(r,null,[{key:"x3998704629672751006x",get:function(){return 1781925722}},{key:"x3281128764592968526x",get:function(){return 1}},{key:"x2853924797741586632x",get:function(){return 2}},{key:"x3623164911852005218x",get:function(){return 3}},{key:"x357713376040578704x",get:function(){return 0}},{key:"x2591396694478390081x",get:function(){return 1}},{key:"x4297969383002467766x",get:function(){return 2}},{key:"x1071142650879041037x",get:function(){return 3}},{key:"x644180170628209180x",get:function(){return 4}}]),r}(i));r._RF.pop()}}}));System.register("chunks:///_virtual/x3933757754418977954x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3995270518114367194x.ts","./x1825263265700717187x.ts","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x3956211014191467053x.ts","./x2706134342423168171x.ts","./x2384331738405430424x.ts","./x2132475033604646101x.ts","./x2226225843525126927x.ts","./x3255644122958964683x.ts","./x3363722297214968445x.ts","./x3684445716736304272x.ts","./x2896462190815440735x.ts","./x1563246029959099938x.ts"],(function(e){"use strict";var t,a,n,r,i,s,o,m,l,c,S,g,P,h,u,M,y,_,p;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass,n=e.assertThisInitialized},function(e){r=e.cclegacy},function(e){i=e.x3995270518114367194x},function(e){s=e.x1825263265700717187x},function(e){o=e.x2825914500079770252x},function(e){m=e.x2938621194761123466x},function(e){l=e.x1390687146982484874x},function(e){c=e.x3956211014191467053x},function(e){S=e.x2706134342423168171x},function(e){g=e.x2384331738405430424x},function(e){P=e.x2132475033604646101x},function(e){h=e.x2226225843525126927x},function(e){u=e.x3255644122958964683x},function(e){M=e.x3363722297214968445x},function(e){y=e.x3684445716736304272x},function(e){_=e.x2896462190815440735x},function(e){p=e.x1563246029959099938x}],execute:function(){r._RF.push({},"2748dQRatFHKaVK+9in/qaW","x3933757754418977954x",void 0);e("x3933757754418977954x",function(e){function r(t,a){var i;i=e.call(this,r.x2802427963640450520x,t)||this,r.x4497758877238406441x(i.getParams(),!1),i.getParams().copy(a,!1),t.addMessageListener(n(i)),i.mRNG=new h;var s=i.getParams().getIntValueWithDefault(r.x3878103371477557382x,0);0==s&&(s=l.nextNativeRandomInt()),i.mRNG.setSeed(s);var o=t.getMatrixWidth(),c=t.getMatrixHeight();i.mScratchRowXValuesPool=new m(o);for(var S=0;S<o;S++){var g=new u;g.setValue(S),i.mScratchRowXValuesPool.setAtIndex(S,g)}i.mScratchRowXValuesArray=new m(0),i.mScratchRowXValuesArray.reserveCapacity(o),i.mScratchRowMinosArray=new m(o),i.mScratchRectMinosArray=new m(0),i.mScratchRectMinosArray.reserveCapacity(o*c),i.mBottomRowDepth=0,i.mCurrentMinHolesPerLineFXPT=l.FXPTFromInt(i.getParams().getDictionary(r.x4337332400738810406x).getIntValue(r.x2198502133518252556x)),i.mCurrentMaxHolesPerLineFXPT=l.FXPTFromInt(i.getParams().getDictionary(r.x4337332400738810406x).getIntValue(r.x3683694911536299844x)),i.mDeepestLineClear=0;var P=null;return P=i.getParams().getDictionary2(r.x1816981934504094893x,r.x4076848468408355712x),i.mBonusTimeGem_doSpawnByDepth=P.getBoolValue(r.x4568901710271529972x)&&P.getDictionary(r.x2814456962222070811x).getBoolValue(r.x2777733016314606049x),i.mBonusTimeGem_bonusTimeSECPerGem=P.getIntValue(r.x4377557575593643632x),i.mBonusTimeGem_doSpawnByDepth?(i.mBonusTimeGem_spawnByDepth_currentGemDistance=P.getDictionary(r.x2814456962222070811x).getIntValue(r.x113575081399756843x),i.mBonusTimeGem_spawnByDepth_nextGemDepth=-i.mBonusTimeGem_spawnByDepth_currentGemDistance,i.mBonusTimeGem_spawnByDepth_depthIncrement=P.getDictionary(r.x2814456962222070811x).getIntValue(r.x4448614639863913343x)):(i.mBonusTimeGem_spawnByDepth_currentGemDistance=0,i.mBonusTimeGem_spawnByDepth_nextGemDepth=0,i.mBonusTimeGem_spawnByDepth_depthIncrement=0),P=i.getParams().getDictionary2(r.x1816981934504094893x,r.x2506578282800214766x),i.mScoreMultiplierGem_doSpawnByDepth=P.getBoolValue(r.x4032477027038611691x)&&P.getDictionary(r.x1195097069922992396x).getBoolValue(r.x3916933109378751789x),i.mScoreMultiplierGem_doSpawnByDepth?(i.mScoreMultiplierGem_spawnByDepth_currentGemDistance=P.getDictionary(r.x1195097069922992396x).getIntValue(r.x1103376110891829551x),i.mScoreMultiplierGem_spawnByDepth_nextGemDepth=-i.mScoreMultiplierGem_spawnByDepth_currentGemDistance,i.mScoreMultiplierGem_spawnByDepth_depthIncrement=P.getDictionary(r.x1195097069922992396x).getIntValue(r.x3906728258243864662x)):(i.mScoreMultiplierGem_spawnByDepth_currentGemDistance=0,i.mScoreMultiplierGem_spawnByDepth_nextGemDepth=0,i.mScoreMultiplierGem_spawnByDepth_depthIncrement=0),i.mScoreMultiplierGem_doSpawnByTSpin=P.getBoolValue(r.x4032477027038611691x)&&P.getDictionary(r.x2162370707999904419x).getBoolValue(r.x942757025799924288x),i.mScoreMultiplierGem_doSpawnByTSpin?i.mScoreMultiplierGem_spawnByTSpin_multiplierEqualsLinesCleared=P.getDictionary(r.x2162370707999904419x).getBoolValue(r.x3110412323431433718x):i.mScoreMultiplierGem_spawnByTSpin_multiplierEqualsLinesCleared=!1,i.mOvertimeShatterMinos=new m(o*c),i.mOvertimeShatterRemainingShatterMinos=0,i.setNextState(r.x582789906261264015x,!1),i}t(r,e),r.x2237548620753043492x=function(e){var t=new s(!0);return r.x4497758877238406441x(t,e),t},r.x4497758877238406441x=function(e,t){e.parseJSONString(l.x4379805376353750514x("VHXGIKVCWOTCWJDHUPBQTPPLAPPCQONMKIVLIEVGVPFPIMAJNLJPGMHPXKIPORHMULIITLTTMQVTVIBJGFDJBOWKXNPKDIYJUFVJSFDJQBRNOLNCOGOPXJLSQOTKHTTGWOGLTOVKMOAMQGHKGGPJTSNKLOIDWHCUQHCNPFAIOEKCLKUGXIZPWDXLUHRFOBPFSIDQPJIHBFVQOEZIWEWIFCOGBIOENDGOMBDKAGBKYPLOYGJOWGSDUJLFDUCHCTPGOSDFWOILVIJPTTWLWTQILFICYMQMMEJAKELQIEHBINFBGNDBDKJUHILNDSCKAQREXQWSWQAOGGXNZPHNFRGIGFMTCKZKJEUKIDUPTLPHSGTOGLROOKPOMQZMMLIIMPKHSSGHFNVKQTKMPSZPXTNPYNSPQRIQTKHPZHRTZOWGHJLCRJWAWMDKSBDFUNRJCNPJANPKLHLNHKINYEDNTQQFOKCTCKRSHIDNNJYFCPELYJGDFIGPULMJHPDDELBHCLZGWETAKPXHUDUIGHALDNDIAIUEJGNQHMLPIGMDYMSEHLXINMBIJDKHXCZGRCKFKNXJGCHOECFKSGDKCBDPZLSSWKQGKKBSZDHHVTGGKTWGGKBFNKZPLEZLSTAHJTWGDSFQFJWOKTCQETMKBHAEXLKNVGSBUFGCRPCKEJBBSNZAANXAUCLPYNHOFPUFQBRFOLRKOCZJMCNOKCKPIPZSEPLTFMOQBIRSFMBIMLZDAQXDALHIUAFISASNPTBLBPVRQNWPOMVLOTMNVROGCOWMSETMQIRMOILGOJLFMJJFKJGCWQCPOFQJBSRNRRALVJWQLGAPALVNDIGKSMPICHPDAHRPOLZOKAVDMMSEFPFMPPVGQEWKUIJMYHHLWNRJBITEHJRPKIDMDFYDZKRDJLABAFYAIEVGSCTGWNDBUJRFSJOQYGOKKRTKHGAIQGASWGITTGYSNDMMZHTIDMNPAIXDIHFDCBTJGMDEEQBECQYEKJWQGEIQPEJMFISJPLQOTJOFSJZEVGQMWJJCKOHCIOVMIFFBGPDLOODCDPYEQRIPZHYOGRAPSRGOJSCRNOAMSIKMZCPPWCTIWHXPLMVPSLTPQLNJQMMJBQZLVPMIBUTQDJDMFFTQYERQXOGSJGYPVKXOXJHNWKTGEKBGCKPCSJDNMDXGAUUMXOLGWJTFQDRLEIPLOCPGQOZOTJIEIILLIHJLGHDFENLEEIBEBJBIWKVNVJLIKDJIRQWMMQMGVEJNCJQNLGUKHCBHLGHCSFPBQFRNEKLHOOLCMKZGJLVJBIRKTSALQGQKZDYIXEEUZHDUKHIIXCXGUMRASIVPSDTPADRLIMLFNNBULQHTQMEITDPNZOTIBFQIREKPVIIKSFAOHBHNEBBDSPFOCKDOAGXBYFVLXLJGJTDGFSMGGOCQRQMNNQQPZSPLCSUNJITLGERPEEHLOIBBMIZAANLQAIKMLRJNFRWNVQPDXQPTPKCOLDMLXNLKLOEGTGTOSFTJQFRJOBPNMLLCMGNOKKKPVNTLFUILXOPJBPNKNONQSMNLTHKLXQSNDQCHDEUMQIBMOIZLMETFWIJFUIREENYBJIPFMBNFONBKOILEICJKWGHKFCJJDFZHILWGPILSHEXMXJRNTTSETIQDELSCCGTOAQPDQPXCOPVCNLJHQEJMTQVLBIZKXGEFONMEJFUCFFMUHIHKKRMCFNBBCJZEAJZJAOXFUBVFSBDFWICLMGVSJGSSOFOJHFFTYOWSQJLSMGTRLPFITSTHBPDSELTQRELQUOILWOSGVQAFXJSLOTMQEUNPBQXHUJXMUIVMSITMQENAOONFAOMBMNJBKNHLEDHKIOGKQNDGASCQAHLKYGJKWCXOKNTDEHHUBNEPSGDKQCXDYLLIWLVCWGWPSOWMCIQMFPHLMPBLGICRKIOMLIXLLUQIBMYGOJCBMEDNAJBNVCHBYJVFWJTFDKFFVGBKZFUJAGKJXOIMPIOTTGNPUKAMPGLEEIBEMHJDKHLPIHHEIQEFTTBIKOUGSKNQTENMXIIMYTHHZPEFGIHFLJOQUSJMLIJGOSYNJHGCJIRENSHLWRYCHONBEKLBIDJPMOJKKOHGUCEHYPPOJHOSOGXSIGROFFRTTPNTKOYSPLNHOFOJXNKFUBZFXMMJIBJNGBHNOAHESLFOCKNNZKNRRELQPUYKUNUGTMZQKMTQVHDPBTFJSNUJWNLESQBOYESHRQOLIQCMZJSBOHNLKHLLIDTKGNDJGIDEOHERPPBTRJTHIRQLMQWMWOLIPJRNGIXLWDFLVBMKTGIDHHWNIKTNSEPCQKDHPKLGMKBSVGKHGDHHEDHCIKFGGKDQMIEH"),t,!0)};var i=r.prototype;return i.getDeepestLineClear=function(){return this.mDeepestLineClear},i.updateVisibleMatrixRows=function(){var e=this.getPlayer().getMatrix(),t=e.getHighestMinoYWithMinoTypeId(l.x1290258416436706721x),a=this.getParams().getIntValue(r.x3491283596422990621x);if(t>=a)return 0;e.setIsVerticalShiftEnabled(!0),e.setIsVerticalShiftUpwards(!0),e.setVerticalShiftMSECPerLine(this.getParams().getIntValue(r.x2736849405113585948x));var n=a-1-t;return this.insertMatrixRows(n),n},i.insertMatrixRows=function(e){for(var t=this.getPlayer().getMatrix(),a=l.FXPTFromInt(this.getParams().getDictionary(r.x4337332400738810406x).getIntValue(r.x1665123701155751194x)),n=l.FXPTFromInt(this.getParams().getDictionary(r.x4337332400738810406x).getIntValue(r.x944558919512853757x)),i=this.getParams().getDictionary(r.x4337332400738810406x).getIntValue(r.x2731767615837625686x),s=0;s<e;s++)this.mBottomRowDepth--,this.createMatrixRow(this.mScratchRowMinosArray,l.FXPTToInt(this.mCurrentMinHolesPerLineFXPT),l.FXPTToInt(this.mCurrentMaxHolesPerLineFXPT)),this.spawnGemsByDepth(this.mScratchRowMinosArray),t.addExternalRowBelow(this.mScratchRowMinosArray,!1),this.mCurrentMinHolesPerLineFXPT=l.minInt(this.mCurrentMinHolesPerLineFXPT+i,a),this.mCurrentMaxHolesPerLineFXPT=l.minInt(this.mCurrentMaxHolesPerLineFXPT+i,n)},i.createMatrixRow=function(e,t,a){e.setAllToNull();var n=this.getPlayer().getMatrix().getWidth(),r=0,i=0;for(this.mScratchRowXValuesArray.removeAll(),r=0;r<n;r++)this.mScratchRowXValuesArray.pushBack(this.mScratchRowXValuesPool.getAtIndex(r));var s=this.mRNG.nextIntInRange(t,a);for(r=0;r<s;r++){var o=this.mScratchRowXValuesArray.getNumObjects();if(o<=0)break;var m=this.mRNG.nextIntInRange(0,o-1);this.mScratchRowXValuesArray.removeAtIndex(m)}var c=this.mScratchRowXValuesArray.getNumObjects();for(r=0;r<c;r++){var S=new g;S.setMinoTypeId(l.x1290258416436706721x),S.setCanFall(!1),S.setIsMatchable(!0),S.setIsKillable(!0),i=this.mScratchRowXValuesArray.getAtIndex(r).getValue(),e.setAtIndex(i,S)}for(r=0;r<n-1;r++){var P=e.getAtIndex(r),h=e.getAtIndex(r+1);P&&h&&(P.setIsStuckInDirection(l.x196245965280186343x,!0),h.setIsStuckInDirection(l.x3311267247859839537x,!0))}this.mScratchRowXValuesArray.removeAll()},i.spawnGemsByDepth=function(e){var t=null;if(this.mBonusTimeGem_doSpawnByDepth&&this.mBottomRowDepth<=this.mBonusTimeGem_spawnByDepth_nextGemDepth&&(t=this.getGemTargetMinoInRowMinosArray(e))){var a=new y(this.getPlayer(),null);a.setBonusTimeSEC(this.mBonusTimeGem_bonusTimeSECPerGem),t.attachPlayerAction(a,P.x2267504265286146599x),this.mBonusTimeGem_spawnByDepth_currentGemDistance+=this.mBonusTimeGem_spawnByDepth_depthIncrement,this.mBonusTimeGem_spawnByDepth_nextGemDepth=this.mBottomRowDepth-this.mBonusTimeGem_spawnByDepth_currentGemDistance}if(this.mScoreMultiplierGem_doSpawnByDepth&&this.mBottomRowDepth<=this.mScoreMultiplierGem_spawnByDepth_nextGemDepth&&(t=this.getGemTargetMinoInRowMinosArray(e))){var n=new _(this.getPlayer(),null);t.attachPlayerAction(n,P.x2267504265286146599x),this.mScoreMultiplierGem_spawnByDepth_currentGemDistance+=this.mScoreMultiplierGem_spawnByDepth_depthIncrement,this.mScoreMultiplierGem_spawnByDepth_nextGemDepth=this.mBottomRowDepth-this.mScoreMultiplierGem_spawnByDepth_currentGemDistance}},i.getGemTargetMinoInRowMinosArray=function(e){for(var t=e.getNumObjects(),a=0;a<t;a++){var n=this.mRNG.nextIntInRange(0,t-1),r=e.getAtIndex(n);if(r&&!r.getMinoPlayerActionItem())return r}return null},i.getGemTargetMinoInPatternMatches=function(e){for(var t=e.getNumObjects(),a=0;a<t;a++)for(var n=e.getAtIndex(a),r=n.getNumObjects(),i=0;i<r;i++){var s=this.mRNG.nextIntInRange(0,r-1),o=n.getAtIndex(s);if(o&&!o.getMinoPlayerActionItem())return o}return null},i.handleMessageScoreEvent=function(e,t){if(!t.getBoolValue(c.x2485413609040593399x)){var a=t.getIntValue(c.x482162241822821234x)>0,n=t.getIntValue(c.x1392439065935303313x),r=!a&&4==n,i=!a&&t.getIntValue(c.x3226881466546944827x)==l.x3109280748125391346x,s=t.getObjectValue(c.x3146374273093412746x),o=null;if(r){if(o=this.getGemTargetMinoInPatternMatches(s)){var m=new p(this.getPlayer(),null);o.attachPlayerAction(m,P.x2267504265286146599x),o.getMinoPlayerActionItem().preActivate(),this.getPlayer().dispatchActionSpawnedMessage(m)}if(o=this.getGemTargetMinoInPatternMatches(s)){var S=new y(this.getPlayer(),null);S.setBonusTimeSEC(this.mBonusTimeGem_bonusTimeSECPerGem),o.attachPlayerAction(S,P.x2267504265286146599x),this.getPlayer().dispatchActionSpawnedMessage(S)}}if(this.mScoreMultiplierGem_doSpawnByTSpin&&i&&n>0&&(o=this.getGemTargetMinoInPatternMatches(s))){var g=new _(this.getPlayer(),null);this.mScoreMultiplierGem_spawnByTSpin_multiplierEqualsLinesCleared&&g.setMultiplierIncrement(n),o.attachPlayerAction(g,P.x2267504265286146599x),this.getPlayer().dispatchActionSpawnedMessage(g)}}},i.handleMessageMatrixWillKillMinos=function(e,t){var a=t.getObjectValue(S.x1604641793113321170x),n=l.x2812288279383445977x,r=a.getNumObjects(),i=0;for(i=0;i<r;i++){(o=a.getAtIndex(i)).getY()<n&&(n=o.getY())}this.updateDeepestLineClear(n),this.mScratchRectMinosArray.removeAll();var s=e;if(s.getMinosInRect(0,n,s.getWidth(),s.getHeight(),this.mScratchRectMinosArray)>0)for(r=this.mScratchRectMinosArray.getNumObjects(),i=0;i<r;i++){var o;0==(o=this.mScratchRectMinosArray.getAtIndex(i)).getMinoTypeId()&&o.setCanFall(!0)}this.mScratchRectMinosArray.removeAll()},i.updateDeepestLineClear=function(e){var t=this.mBottomRowDepth+e;t<this.mDeepestLineClear&&(this.mDeepestLineClear=t,this.dispatchMessage(r.x1322718633850287599x,this,null))},i.tryState_overtimeShatter=function(){if(this.getParams().getDictionary(r.x50218977914298402x).getBoolValue(r.x4266164709214248570x)){switch(this.getCurrentState()){case r.x2719400284807324485x:case r.x2589074707618316995x:return}var e=this.getPlayer();if(!(e.getRemainingTimeMSEC()>0)){this.mOvertimeShatterMinos.removeAll();var t=e.getMatrix();if(t.getMinosWithLogicalStates(!0,!1,!1,this.mOvertimeShatterMinos),0==this.mOvertimeShatterMinos.getNumObjects())return this.mOvertimeShatterMinos.removeAll(),t.getMinosWithLogicalStates(!0,!1,!0,this.mOvertimeShatterMinos),t.killMinos(this.mOvertimeShatterMinos,this.getParams().getDictionary(r.x50218977914298402x).getIntValue(r.x3239381553386639416x),!1),this.mOvertimeShatterMinos.removeAll(),this.setNextState(r.x2589074707618316995x,!1),void this.dispatchMessage(r.x1253233675799485785x,this,null);this.mOvertimeShatterMinos.removeAll(),t.getMinosWithLogicalStates(!0,!1,!0,this.mOvertimeShatterMinos),this.mOvertimeShatterRemainingShatterMinos=this.getParams().getDictionary(r.x50218977914298402x).getIntValue(r.x3082600249249764085x),this.mOvertimeShatterRemainingShatterMinos<0&&(this.mOvertimeShatterRemainingShatterMinos=l.x2812288279383445977x),this.mOvertimeShatterMinoTimerMSEC=0,t.pushDestabilize(),t.pushMovementDisabled(),this.setNextState(r.x2719400284807324485x,!1),this.dispatchMessage(r.x3367832560765667798x,this,null)}}},i.processState_overtimeShatter=function(e,t){var a=this.getPlayer().getMatrix();if(this.mOvertimeShatterMinos.getNumObjects()>0&&(this.mOvertimeShatterMinoTimerMSEC-=t,this.mOvertimeShatterMinoTimerMSEC<=0)){var n=this.mOvertimeShatterMinos.getAtIndex(0);this.mOvertimeShatterMinos.popFront();var i=n.getX()%2==n.getY()%2;this.mOvertimeShatterRemainingShatterMinos<=0||i&&this.getParams().getDictionary(r.x50218977914298402x).getBoolValue(r.x4205535480056561702x)?a.killMino(n,this.getParams().getDictionary(r.x50218977914298402x).getIntValue(r.x3239381553386639416x),!1):(a.shatterMino(n,this.getParams().getDictionary(r.x50218977914298402x).getIntValue(r.x3239381553386639416x)),this.mOvertimeShatterRemainingShatterMinos--),this.mOvertimeShatterMinoTimerMSEC+=this.getParams().getDictionary(r.x50218977914298402x).getIntValue(r.x2886326618206533980x)}0==this.mOvertimeShatterMinos.getNumObjects()&&(a.popDestabilize(),a.popMovementDisabled(),this.setNextState(r.x582789906261264015x,!1))},i.x2766708504066152543x=function(){null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),this.mScratchRowXValuesPool.destroyAll(),null!==this.mScratchRowXValuesPool&&(this.mScratchRowXValuesPool.destroy(),this.mScratchRowXValuesPool=null),null!==this.mScratchRowXValuesArray&&(this.mScratchRowXValuesArray.destroy(),this.mScratchRowXValuesArray=null),null!==this.mScratchRowMinosArray&&(this.mScratchRowMinosArray.destroy(),this.mScratchRowMinosArray=null),null!==this.mScratchRectMinosArray&&(this.mScratchRectMinosArray.destroy(),this.mScratchRectMinosArray=null),null!==this.mOvertimeShatterMinos&&(this.mOvertimeShatterMinos.destroy(),this.mOvertimeShatterMinos=null),e.prototype.x2766708504066152543x.call(this)},i.x3856714731809549581x=function(e){switch(this.getCurrentState()){case r.x2719400284807324485x:return!1;case r.x2589074707618316995x:return this.getPlayer().getMatrix().isStable()}switch(this.getNextState()){case r.x2719400284807324485x:case r.x2589074707618316995x:return!1}return!0},i.x3139096472792676868x=function(e,t,a,n){switch(t){case r.x2719400284807324485x:switch(e){case o.x3461483973768069303x:return t;case o.x353128994538654894x:return 0;case o.x3589770202422279121x:return this.processState_overtimeShatter(a,n),n;case o.x2931974030808705080x:default:return 0}default:switch(e){case o.x3461483973768069303x:return t;case o.x353128994538654894x:return 0;case o.x3589770202422279121x:return n;case o.x2931974030808705080x:default:return 0}}},i.x976210321608527258x=function(e,t,a){var n=this.getPlayer();switch(e){case M.x2278663471402292977x:this.updateVisibleMatrixRows();var r=this.getPlayer().getComponent(c.x2916177341484739471x);r&&r.addMessageListener(this);break;case M.x919670044951203337x:switch(n.getCurrentState()){case M.x1226525904332658665x:0==this.updateVisibleMatrixRows()&&this.tryState_overtimeShatter()}break;case c.x2401449302245799433x:this.handleMessageScoreEvent(t,a);break;case S.x4081888631945616839x:this.handleMessageMatrixWillKillMinos(t,a)}},i.x3493555497877612430x=function(t){switch(t){case r.x924963854446191809x:return this.mDeepestLineClear;default:return e.prototype.x3493555497877612430x.call(this,t)}},a(r,null,[{key:"x2802427963640450520x",get:function(){return 1456907436}},{key:"x3491283596422990621x",get:function(){return 201879645}},{key:"x2736849405113585948x",get:function(){return 1677866407}},{key:"x3878103371477557382x",get:function(){return 1326329515}},{key:"x4337332400738810406x",get:function(){return 442583038}},{key:"x2198502133518252556x",get:function(){return 1705016127}},{key:"x3683694911536299844x",get:function(){return 1324385105}},{key:"x1665123701155751194x",get:function(){return 682803334}},{key:"x944558919512853757x",get:function(){return 302172312}},{key:"x2731767615837625686x",get:function(){return 844877831}},{key:"x1816981934504094893x",get:function(){return 1063407861}},{key:"x4076848468408355712x",get:function(){return 255545595}},{key:"x4568901710271529972x",get:function(){return 488921072}},{key:"x4377557575593643632x",get:function(){return 2049395848}},{key:"x2814456962222070811x",get:function(){return 1909525154}},{key:"x2777733016314606049x",get:function(){return 488921072}},{key:"x113575081399756843x",get:function(){return 1716727888}},{key:"x4448614639863913343x",get:function(){return 1621274749}},{key:"x2506578282800214766x",get:function(){return 257226498}},{key:"x4032477027038611691x",get:function(){return 488921072}},{key:"x1195097069922992396x",get:function(){return 1909525154}},{key:"x3916933109378751789x",get:function(){return 488921072}},{key:"x1103376110891829551x",get:function(){return 1716727888}},{key:"x3906728258243864662x",get:function(){return 1621274749}},{key:"x2162370707999904419x",get:function(){return 1796295317}},{key:"x942757025799924288x",get:function(){return 488921072}},{key:"x3110412323431433718x",get:function(){return 2008831518}},{key:"x50218977914298402x",get:function(){return 1973534055}},{key:"x4266164709214248570x",get:function(){return 488921072}},{key:"x4205535480056561702x",get:function(){return 2065803595}},{key:"x3082600249249764085x",get:function(){return 538441619}},{key:"x3239381553386639416x",get:function(){return 293602281}},{key:"x2886326618206533980x",get:function(){return 1683915436}},{key:"x924963854446191809x",get:function(){return 163171728}},{key:"x582789906261264015x",get:function(){return 1}},{key:"x2719400284807324485x",get:function(){return 2}},{key:"x2589074707618316995x",get:function(){return 3}},{key:"x1322718633850287599x",get:function(){return 515125559}},{key:"x3367832560765667798x",get:function(){return 592463333}},{key:"x1253233675799485785x",get:function(){return 1356501270}}]),r}(i));r._RF.pop()}}}));System.register("chunks:///_virtual/x3975905769579210931x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x713925626457252070x.ts","./x2825914500079770252x.ts","./x1390687146982484874x.ts","./x3363722297214968445x.ts"],(function(t){"use strict";var e,a,r,n,i,c,l;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass},function(t){r=t.cclegacy},function(t){n=t.x713925626457252070x},function(t){i=t.x2825914500079770252x},function(t){c=t.x1390687146982484874x},function(t){l=t.x3363722297214968445x}],execute:function(){r._RF.push({},"5c443+a6qlJGL06gc7KXl92","x3975905769579210931x",void 0);t("x3975905769579210931x",function(t){function r(e,a){var i;return(i=t.call(this,r.x414433306457105515x,n.x760633668951967089x,e,c.x4379805376353750514x(r.x4183570915039330341x),a)||this).mDurationTimerMSEC=0,i}e(r,t);var o=r.prototype;return o.isSpeedUp=function(){return this.getParams().getIntValue(r.x3665323675795061173x)<c.x2045759414872908808x},o.processState_active=function(t){(this.mDurationTimerMSEC-=t,this.mDurationTimerMSEC<=0)&&(this.getPlayer().getControlComponent().x3653139289778280998x().x1621414089606719146x(c.x2045759414872908808x),this.setNextState(n.x2291148428533141857x,!1))},o.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},o.x1832309505861141126x=function(){var t=this.getPlayer(),e=t.getMatrix();switch(t.getCurrentState()){case l.x1226525904332658665x:return e.isStable()}switch(t.getNextState()){case l.x1226525904332658665x:return e.isStable()}return!1},o.x3054795774673576263x=function(){this.getPlayer().getControlComponent().x3653139289778280998x().x1621414089606719146x(this.getParams().getIntValue(r.x3665323675795061173x)),this.mDurationTimerMSEC=1e3*this.getParams().getIntValue(r.x2073161062644146452x),this.setCurrentState(n.x1060886010737717951x,0)},o.x3139096472792676868x=function(e,a,r,c){switch(a){case n.x1060886010737717951x:switch(e){case i.x3589770202422279121x:return this.processState_active(c),c}}return t.prototype.x3139096472792676868x.call(this,e,a,r,c)},a(r,null,[{key:"x414433306457105515x",get:function(){return 817904891}},{key:"x2073161062644146452x",get:function(){return 1806937772}},{key:"x3665323675795061173x",get:function(){return 1469809549}},{key:"x4183570915039330341x",get:function(){return"EELTZCZKLIKOYKSIELKIKLNHNLNSWNRLJBIGJNXFXNQJFGHNDCHNBJRMOIYLQIBGTJYFYIWRRIPMISCGBRAFJNMEZFKDVPAJAFGIVPUBGOIG"}}]),r}(n));r._RF.pop()}}}));System.register("chunks:///_virtual/x3982968798538976088x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x713925626457252070x.ts","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x3363722297214968445x.ts"],(function(t){"use strict";var e,i,r,a,n,s,c,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){r=t.cclegacy},function(t){a=t.x713925626457252070x},function(t){n=t.x2825914500079770252x},function(t){s=t.x2938621194761123466x},function(t){c=t.x1390687146982484874x},function(t){o=t.x3363722297214968445x}],execute:function(){r._RF.push({},"88520/CzwlNdqbNsYN/gZZ0","x3982968798538976088x",void 0);t("x3982968798538976088x",function(t){function r(e,i){var n;return(n=t.call(this,r.x1803283145394326311x,a.x760633668951967089x,e,c.x4379805376353750514x(r.x4183570915039330341x),i)||this).mAnimationTimeMSEC=0,n.mScratchMinosArray=new s(0),n}e(r,t);var l=r.prototype;return l.processState_active=function(t){var e=this.getPlayer().getMatrix(),i=e.getHighestMinoY();this.mScratchMinosArray.removeAll(),e.getMinosInRect(0,0,e.getWidth(),i+1,this.mScratchMinosArray);var r=this.mScratchMinosArray.getNumObjects(),n=0,s=null,o=this.getCurrentStateElapsedTimeMSEC();if(o<this.mAnimationTimeMSEC){var l=c.FXPTGetLerpFactor(c.FXPTFromInt(o),0,c.FXPTFromInt(this.mAnimationTimeMSEC));for(n=0;n<r;n++){s=this.mScratchMinosArray.getAtIndex(n);var S=c.FXPTFromInt(s.getY()),P=c.FXPTFromInt(i-s.getY());if(S!=P){var u=c.FXPTLerp(S,P,l);s.setVisualAnimationOffsetY_FXPT(u-S)}}}else e.invertMinosY(this.mScratchMinosArray,i),e.setMinosVisualAnimationOffsetY_FXPT(0),e.popDestabilize(),e.popMovementDisabled(),this.setNextState(a.x2291148428533141857x,!1);this.mScratchMinosArray.removeAll()},l.x2766708504066152543x=function(){null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),t.prototype.x2766708504066152543x.call(this)},l.x1832309505861141126x=function(){var t=this.getPlayer(),e=t.getMatrix();switch(t.getCurrentState()){case o.x1226525904332658665x:return e.isStable()}switch(t.getNextState()){case o.x1226525904332658665x:return e.isStable()}return!1},l.x3054795774673576263x=function(){var t=this.getPlayer().getMatrix(),e=t.getHighestMinoY()+1;if(e>1){t.pushDestabilize(),t.pushMovementDisabled();var i=~~(e/2);this.mAnimationTimeMSEC=i*this.getParams().getIntValue(r.x4031957633992233891x),this.setCurrentState(a.x1060886010737717951x,0)}else this.setNextState(a.x2291148428533141857x,!1)},l.x3139096472792676868x=function(e,i,r,s){switch(i){case a.x1060886010737717951x:switch(e){case n.x3589770202422279121x:return this.processState_active(s),s}}return t.prototype.x3139096472792676868x.call(this,e,i,r,s)},i(r,null,[{key:"x1803283145394326311x",get:function(){return 1131402206}},{key:"x4031957633992233891x",get:function(){return 773412769}},{key:"x4183570915039330341x",get:function(){return"SEHJJIVAXITODLVIQRBNFRTHAMAUNPPNQJJNRPJIXQOLOKTGEJNMWHVLLGKLHMZIXHICUK"}}]),r}(a));r._RF.pop()}}}));System.register("chunks:///_virtual/x2826071472640425443x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1654909725214686057x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,o,l,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){l=t.x1654909725214686057x},function(t){n=t.x1390687146982484874x}],execute:function(){o._RF.push({},"374785blSNFS7msny3gwwmY","x2826071472640425443x",void 0),t("x2826071472640425443x",function(t){function o(){var e;return(e=t.call(this,l.x2090411379675684210x)||this).mValue=0,e}e(o,t),o.getAvailableInstance=function(){o.sPool||(o.sPool=new Array);var t=null;return o.sPool.length>0?(t=o.sPool[o.sPool.length-1],o.sPool.pop()):t=new o,t},o.recycleAvailableInstance=function(t){o.sPool||(o.sPool=new Array),t.recycle(),o.sPool.push(t)},o.destroyPool=function(){if(o.sPool){for(var t=o.sPool.length,e=0;e<t;e++){var l=o.sPool[e];null!==l&&(l.destroy(),l=null)}null!==o.sPool&&(o.sPool=null)}};var u=o.prototype;return u.getValue=function(){return this.mValue},u.setValue=function(t){this.mValue=t},u.x2904717359915390404x=function(){return t.prototype.x2904717359915390404x.call(this),this.mValue=0,!0},u.x2766708504066152543x=function(){this.mValue=0,t.prototype.x2766708504066152543x.call(this)},u.setValueWithInt=function(t){this.mValue=t},u.setValueWithFloat=function(t){this.mValue=t},u.setValueWithBool=function(t){this.mValue=t?1:0},u.setValueWithString=function(t){this.mValue=n.stringToFloat(t)},u.toInt=function(){return~~this.mValue},u.toFloat=function(){return this.mValue},u.toBool=function(){return 0!=this.mValue},u.toString=function(){return n.stringFromFloat(this.mValue)},o}(l)).sPool=null,o._RF.pop()}}}));System.register("chunks:///_virtual/x171523377489456697x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x713925626457252070x.ts","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x3363722297214968445x.ts"],(function(t){"use strict";var e,i,r,a,n,c,s,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){r=t.cclegacy},function(t){a=t.x713925626457252070x},function(t){n=t.x2825914500079770252x},function(t){c=t.x2938621194761123466x},function(t){s=t.x1390687146982484874x},function(t){o=t.x3363722297214968445x}],execute:function(){r._RF.push({},"2d5d7OzfuRDZpm2PcteLhSO","x171523377489456697x",void 0);t("x171523377489456697x",function(t){function r(e,i){var n;return(n=t.call(this,r.x4076663082924797413x,a.x760633668951967089x,e,s.x4379805376353750514x(r.x4183570915039330341x),i)||this).mAnimationTimeMSEC=0,n.mScratchMinosArray=new c(0),n}e(r,t);var S=r.prototype;return S.processState_active=function(t){var e=this.getPlayer().getMatrix(),i=e.getWidth(),r=e.getHighestMinoY();this.mScratchMinosArray.removeAll(),e.getMinosInRect(0,0,e.getWidth(),r+1,this.mScratchMinosArray);var n=this.mScratchMinosArray.getNumObjects(),c=0,o=null,S=this.getCurrentStateElapsedTimeMSEC();if(S<this.mAnimationTimeMSEC){var l=s.FXPTGetLerpFactor(s.FXPTFromInt(S),0,s.FXPTFromInt(this.mAnimationTimeMSEC));for(c=0;c<n;c++){o=this.mScratchMinosArray.getAtIndex(c);var P=s.FXPTFromInt(o.getX()),u=s.FXPTFromInt(i-o.getX());if(P!=u){var m=s.FXPTLerp(P,u,l);o.setVisualAnimationOffsetX_FXPT(m-P)}}}else e.invertMinosX(this.mScratchMinosArray,i-1),e.setMinosVisualAnimationOffsetX_FXPT(0),e.popDestabilize(),e.popMovementDisabled(),this.setNextState(a.x2291148428533141857x,!1);this.mScratchMinosArray.removeAll()},S.x2766708504066152543x=function(){null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),t.prototype.x2766708504066152543x.call(this)},S.x1832309505861141126x=function(){var t=this.getPlayer(),e=t.getMatrix();switch(t.getCurrentState()){case o.x1226525904332658665x:return e.isStable()}switch(t.getNextState()){case o.x1226525904332658665x:return e.isStable()}return!1},S.x3054795774673576263x=function(){var t=this.getPlayer().getMatrix(),e=t.getWidth();if(e>1){t.pushDestabilize(),t.pushMovementDisabled();var i=~~(e/2);this.mAnimationTimeMSEC=i*this.getParams().getIntValue(r.x1943069170131542443x),this.setCurrentState(a.x1060886010737717951x,0)}else this.setNextState(a.x2291148428533141857x,!1)},S.x3139096472792676868x=function(e,i,r,c){switch(i){case a.x1060886010737717951x:switch(e){case n.x3589770202422279121x:return this.processState_active(c),c}}return t.prototype.x3139096472792676868x.call(this,e,i,r,c)},i(r,null,[{key:"x4076663082924797413x",get:function(){return 1131795800}},{key:"x1943069170131542443x",get:function(){return 1963181943}},{key:"x4183570915039330341x",get:function(){return"CIPTNCDLAHBLYGFEYHVDWHTDEHVPTHBILERHMQHHRQFHSEIRPDBNCJFMNSFHFKHEKJEFOJJMXIBLERNEMQCDDHACWGOCDPZGCOZBAOXBYJVFSDVKWOFL"}}]),r}(a));r._RF.pop()}}}));System.register("chunks:///_virtual/x4233089510113986857x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2034250350103582503x.ts","./x1825263265700717187x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,r,a,n,s,l,u;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){a=t.cclegacy},function(t){n=t.x2034250350103582503x},function(t){s=t.x1825263265700717187x},function(t){l=t.x2938621194761123466x},function(t){u=t.x1390687146982484874x}],execute:function(){a._RF.push({},"9c367ApzdpFZpTXo8fdFwpC","x4233089510113986857x",void 0);t("x4233089510113986857x",function(t){function a(){var e;return(e=t.call(this,0,null)||this).mParams=new s(!0),e.mPlayers=new l(0),e}e(a,t);var n=a.prototype;return n.getParams=function(){return this.mParams},n.addPlayer=function(t){this.mPlayers.pushBack(t)},n.getPlayer=function(t){for(var e=this.mPlayers.getNumObjects(),r=0;r<e;r++){var a=this.mPlayers.getAtIndex(r);if(a.getPlayerId()==t)return a}return null},n.getNumPlayers=function(){return this.mPlayers.getNumObjects()},n.getPlayerAtIndex=function(t){return this.mPlayers.getAtIndex(t)},n.x2766708504066152543x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),this.mPlayers.destroyAll(),null!==this.mPlayers&&(this.mPlayers.destroy(),this.mPlayers=null),t.prototype.x2766708504066152543x.call(this)},n.x3544020690074873731x=function(e){switch(u.getFirstValueKeyInPath(e)){case a.x3989844932842247186x:return this.x3544020690074873731x(u.chompToNextItemInPath(e));case a.x3966510427915505132x:e=u.chompToNextItemInPath(e);var r=u.getFirstValueKeyInPath(e),n=this.getPlayerAtIndex(r);return n?n.x3544020690074873731x(u.chompToNextItemInPath(e)):null;default:return t.prototype.x3544020690074873731x.call(this,e)}},r(a,null,[{key:"x3989844932842247186x",get:function(){return 1030361827}},{key:"x3966510427915505132x",get:function(){return 1331375329}}]),a}(n));a._RF.pop()}}}));System.register("chunks:///_virtual/x2565336835544501x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3995270518114367194x.ts","./x3363722297214968445x.ts","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x2384331738405430424x.ts"],(function(t){"use strict";var e,n,i,r,a,s,o,S,c,l;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){a=t.x3995270518114367194x},function(t){s=t.x3363722297214968445x},function(t){o=t.x2825914500079770252x},function(t){S=t.x2938621194761123466x},function(t){c=t.x1390687146982484874x},function(t){l=t.x2384331738405430424x}],execute:function(){r._RF.push({},"540f28I0I1LpINLexZfJnR/","x2565336835544501x",void 0);t("x2565336835544501x",function(t){function r(e,n){var a;(a=t.call(this,r.x3786366945075547905x,e)||this).getParams().copy(n,!1),e.addMessageListener(i(a));var s=a.getPlayer().getMatrix();return a.mNumMatrixCells=s.getWidth()*s.getVisibleHeight(),a.mMinoInsertionStepIndex=0,a.mMinoInsertionDelayMSEC=a.getParams().getIntValue(r.x3078719594967405311x),a.mMinoInsertionStepTimerMSEC=-1,a.setNextState(1,!1),a}e(r,t);var a=r.prototype;return a.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},a.x3436843243535344853x=function(t){switch(t){case s.x4415664680696011753x:return!!this.getPlayer().didCompleteGameSuccessfully()||this.mMinoInsertionStepIndex>=this.mNumMatrixCells;default:return!0}},a.x3139096472792676868x=function(t,e,n,i){var r=this.getPlayer().getMatrix();switch(t){case o.x3461483973768069303x:return e;case o.x353128994538654894x:return 0;case o.x3589770202422279121x:if(this.mMinoInsertionStepTimerMSEC>0){var a=r.getWidth();for(this.mMinoInsertionStepTimerMSEC-=i;this.mMinoInsertionStepTimerMSEC<=0&&this.mMinoInsertionStepIndex<this.mNumMatrixCells;){var s=c.computeXFromGridIndex(this.mMinoInsertionStepIndex,a),S=c.computeYFromGridIndex(this.mMinoInsertionStepIndex,a),m=new l;r.insertMinoAt(m,s,S),m.setIsMatchable(!1),m.setIsKillable(!1),m.setMinoTypeId(c.x1290258416436706721x),m.setLogicalState(l.x1105279010852267609x),this.mMinoInsertionStepTimerMSEC+=this.mMinoInsertionDelayMSEC,this.mMinoInsertionStepIndex++}}return i;case o.x2931974030808705080x:default:return 0}},a.x976210321608527258x=function(t,e,n){var i=this.getPlayer();switch(t){case s.x919670044951203337x:switch(i.getCurrentState()){case s.x4415664680696011753x:if(!this.getPlayer().didCompleteGameSuccessfully()){this.mMinoInsertionStepIndex=0,this.mMinoInsertionStepTimerMSEC=this.mMinoInsertionDelayMSEC;var r=i.getMatrix(),a=new S(r.getWidth()*r.getHeight());r.getMinosInRect(0,0,r.getWidth(),r.getHeight(),a),r.killMinos(a,300,!1)}}}},n(r,null,[{key:"x3786366945075547905x",get:function(){return 1253789930}},{key:"x3078719594967405311x",get:function(){return 188301958}}]),r}(a));r._RF.pop()}}}));System.register("chunks:///_virtual/x2839937219054016575x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x713925626457252070x.ts","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x2226225843525126927x.ts","./x1390687146982484874x.ts","./x3363722297214968445x.ts","./x2384331738405430424x.ts"],(function(t){"use strict";var e,n,a,r,i,s,c,o,S,P;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy},function(t){r=t.x713925626457252070x},function(t){i=t.x2825914500079770252x},function(t){s=t.x2938621194761123466x},function(t){c=t.x2226225843525126927x},function(t){o=t.x1390687146982484874x},function(t){S=t.x3363722297214968445x},function(t){P=t.x2384331738405430424x}],execute:function(){a._RF.push({},"46facSJQqRArYnEXtoFg/jP","x2839937219054016575x",void 0);t("x2839937219054016575x",function(t){function a(e,n){var i;return(i=t.call(this,a.x4346400190625935653x,r.x760633668951967089x,e,o.x4379805376353750514x(a.x4183570915039330341x),n)||this).mRNG=new c,i.mScratchRowMinosArray=new s(e.getMatrixWidth()),i}e(a,t);var l=a.prototype;return l.setRNGSeed=function(t){0==t&&(t=o.nextNativeRandomInt()),this.mRNG.setSeed(t)},l.processState_active=function(t){this.setNextState(r.x2291148428533141857x,!1)},l.x2766708504066152543x=function(){null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),null!==this.mScratchRowMinosArray&&(this.mScratchRowMinosArray.destroy(),this.mScratchRowMinosArray=null),t.prototype.x2766708504066152543x.call(this)},l.x1832309505861141126x=function(){var t=this.getPlayer(),e=t.getMatrix();switch(t.getCurrentState()){case S.x1226525904332658665x:return e.isStable()}switch(t.getNextState()){case S.x1226525904332658665x:return e.isStable()}return!1},l.x3054795774673576263x=function(){var t=this.getPlayer().getMatrix();t.setIsVerticalShiftEnabled(!0),t.setIsVerticalShiftUpwards(!0),t.setVerticalShiftMSECPerLine(this.getParams().getIntValue(a.x3226298873978951518x));for(var e=t.getWidth(),n=this.getParams().getIntValue(a.x4085613766882174521x),i=n,s=0,c=null,S=this.getParams().getIntValue(a.x1917372541994199315x),l=0;l<S;l++){i>=n&&(s=this.mRNG.nextIntInRange(0,e-1));for(var u=0;u<e;u++){if(c=null,u!=s){c=new P;var y=this.mRNG.nextIntInRange(o.x2330219442263429730x,o.x320457456192486874x);c.setMinoTypeId(y),c.setCanFall(!0),c.setIsMatchable(!0),c.setIsKillable(!0)}this.mScratchRowMinosArray.setAtIndex(u,c)}t.addExternalRowBelow(this.mScratchRowMinosArray,!1),--i<=0&&(i=n)}this.setCurrentState(r.x1060886010737717951x,0)},l.x3139096472792676868x=function(e,n,a,s){switch(n){case r.x1060886010737717951x:switch(e){case i.x3589770202422279121x:return this.processState_active(s),s}}return t.prototype.x3139096472792676868x.call(this,e,n,a,s)},n(a,null,[{key:"x4346400190625935653x",get:function(){return 1629821348}},{key:"x1917372541994199315x",get:function(){return 1036987522}},{key:"x3226298873978951518x",get:function(){return 1677866407}},{key:"x4085613766882174521x",get:function(){return 594403564}},{key:"x4183570915039330341x",get:function(){return"IHTTRCHLGCHGECPPCIFPCDDPKCBLXHSICQFTRKFTKLTHVDNROOWHOELHZTYHHHCEPBKOZBSIEFPIMOPNMJNNKFHBIFFBGPEDHSBGKSNEZNDFQSAPDTPKGSSKOQROAKJNJGFTZGGNURIEAQWQHOSQYEYQFEOKRMNIOMRPEMPPMLJJGBZIKMHIHNVHQTCSNHRMSEBMPECRVLQIDGMPVJVNSJDNQPNLQKNGYJLCMOVG"}}]),a}(r));a._RF.pop()}}}));System.register("chunks:///_virtual/x2202019196389626797x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2034250350103582503x.ts","./x1825263265700717187x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,n,s,o,i,r,a;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,s=t.assertThisInitialized},function(t){o=t.cclegacy},function(t){i=t.x2034250350103582503x},function(t){r=t.x1825263265700717187x},function(t){a=t.x1390687146982484874x}],execute:function(){o._RF.push({},"4351ahTd2ZBv6BwKKPCY1av","x2202019196389626797x",void 0);t("x2202019196389626797x",function(t){function o(){var e;return(e=t.call(this,0,null)||this).mConnectionId=0,e.mURL="",e.mMethod=o.x162340793758689579x,e.mHeaders=new r(!0),e.mUserAgent="UA",e.mContentType=o.x251657456691495139x,e.mBodyDataString="",e.mTimeoutSEC=60,e.mUserData=new r(!0),e.mResponseStatusCode=0,e.mResponseContentString="",e.mResponseContentJSONValues=null,e.mNativeConnection=null,e.mNativeConnection=new x704109652986445091x,e.mNativeConnection.x4134463664497983155x=s(e),e}e(o,t);var i=o.prototype;return i.getConnectionId=function(){return this.mConnectionId},i.setConnectionId=function(t){this.mConnectionId=t},i.getURL=function(){return this.mURL},i.setURL=function(t){this.mURL=t},i.getMethod=function(){return this.mMethod},i.getMethodAsString=function(){switch(this.mMethod){case o.x162340793758689579x:return"GET";case o.x3917183758233083701x:return"POST";case o.x435791783492822364x:return"PUT";case o.x2270384385122926732x:return"DELETE";default:return"UNKNOWN"}},i.setMethod=function(t){this.mMethod=t},i.getHeaders=function(){return this.mHeaders},i.setHeader=function(t,e){this.mHeaders.hasValueWithKeyString(t)?this.mHeaders.setStringValue(a.stringToValueKey(t),e):this.mHeaders.insertStringValue(a.stringToValueKey(t),t,999999,e)},i.setHeaders=function(t){this.mHeaders.copy(t,!1)},i.setUserAgent=function(t){this.mUserAgent=t},i.setContentType=function(t){this.mContentType=t},i.getBodyDataString=function(){return this.mBodyDataString},i.setBodyDataString=function(t){this.mBodyDataString=t},i.getTimeoutSEC=function(){return this.mTimeoutSEC},i.setTimeoutSEC=function(t){this.mTimeoutSEC=t},i.getUserData=function(){return this.mUserData},i.setUserData=function(t){this.mUserData.copy(t,!0)},i.start=function(){switch(this.setHeader("user-agent",this.mUserAgent),this.mContentType){case o.x251657456691495139x:this.setHeader("content-type","text/plain");break;case o.x1499402637319948097x:this.setHeader("content-type","application/x-www-form-urlencoded");break;case o.x3184312511015984076x:this.setHeader("content-type","application/json")}this.mNativeConnection.start(),this.setCurrentState(o.x2119981538572923833x,0)},i.isActive=function(){return this.getCurrentState()==o.x2119981538572923833x},i.cancel=function(){this.isActive()&&(this.dispatchMessage(o.x3528358554132737654x,this,null),this._cancel(),this.setCurrentState(o.x3864922499669786656x,0))},i.getResponseStatusCode=function(){return this.mResponseStatusCode},i.getResponseContentString=function(){return this.mResponseContentString},i.getResponseContentJSONValues=function(){return this.mResponseContentJSONValues},i._setResponseStatusCode=function(t){this.mResponseStatusCode=t},i._setResponseContent=function(t,e){this.mResponseContentString=t,e=a.stringToLowerCase(e),a.firstIndexInString(e,"application/json")>=0&&(this.mResponseContentJSONValues||(this.mResponseContentJSONValues=new r(!0)),this.mResponseContentJSONValues.parseJSONString(t,!0,!0))},i._handleComplete=function(){this.dispatchMessage(o.x2108877259934266913x,this,null),this.setCurrentState(o.x602295498474651823x,0)},i._handleError=function(){this.dispatchMessage(o.x1429143826000230116x,this,null),this._cancel(),this.setCurrentState(o.x633990210008684546x,0)},i._handleTimeout=function(){this.dispatchMessage(o.x4212712110174378385x,this,null),this._cancel(),this.setCurrentState(o.x3277411720532301408x,0)},i._cancel=function(){this.isActive()&&this.mNativeConnection.cancel()},i.x2766708504066152543x=function(){this.cancel(),null!==this.mHeaders&&(this.mHeaders.destroy(),this.mHeaders=null),null!==this.mUserData&&(this.mUserData.destroy(),this.mUserData=null),null!==this.mResponseContentJSONValues&&(this.mResponseContentJSONValues.destroy(),this.mResponseContentJSONValues=null),this.mNativeConnection=null,t.prototype.x2766708504066152543x.call(this)},n(o,null,[{key:"x162340793758689579x",get:function(){return 1}},{key:"x3917183758233083701x",get:function(){return 2}},{key:"x435791783492822364x",get:function(){return 3}},{key:"x2270384385122926732x",get:function(){return 4}},{key:"x251657456691495139x",get:function(){return 1}},{key:"x1499402637319948097x",get:function(){return 2}},{key:"x3184312511015984076x",get:function(){return 3}},{key:"x3071033649781089376x",get:function(){return 0}},{key:"x2119981538572923833x",get:function(){return 1}},{key:"x602295498474651823x",get:function(){return 2}},{key:"x633990210008684546x",get:function(){return 3}},{key:"x3277411720532301408x",get:function(){return 4}},{key:"x3864922499669786656x",get:function(){return 5}},{key:"x2108877259934266913x",get:function(){return 175631823}},{key:"x1429143826000230116x",get:function(){return 1927557074}},{key:"x4212712110174378385x",get:function(){return 1869624493}},{key:"x3528358554132737654x",get:function(){return 848129115}}]),o}(i));o._RF.pop()}}}));System.register("chunks:///_virtual/x2459974647555059934x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x2938621194761123466x.ts","./x2202019196389626797x.ts"],(function(t){"use strict";var n,e,o,s,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.x4472346643782045245x},function(t){s=t.x2938621194761123466x},function(t){i=t.x2202019196389626797x}],execute:function(){e._RF.push({},"87d7f9ve3lOBIBuZz5gyik9","x2459974647555059934x",void 0);t("x2459974647555059934x",function(t){function e(){var n;return(n=t.call(this)||this).mConnections=new s(0),n}n(e,t);var o=e.prototype;return o.performConnection=function(t,n,e,o,s,c,r){var u=new i;return u.setConnectionId(t),u.setURL(n),u.setMethod(e),u.setContentType(o),u.setBodyDataString(s),u.setHeaders(c),u.setUserData(r),u.addMessageListener(this),u.start(),this.mConnections.pushBack(u),u},o.processConnections=function(){for(var t=this.mConnections.getNumObjects(),n=0;n<t;n++){var e=this.mConnections.getAtIndex(n);e.isActive()||(this.mConnections.removeAtIndex(n),null!==e&&(e.destroy(),e=null),n--,t--)}},o.x2766708504066152543x=function(){this.mConnections.destroyAll(),null!==this.mConnections&&(this.mConnections.destroy(),this.mConnections=null),t.prototype.x2766708504066152543x.call(this)},o.x976210321608527258x=function(t,n,e){this.dispatchMessage(t,n,e)},e}(o));e._RF.pop()}}}));System.register("chunks:///_virtual/x2680317735841221935x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts"],(function(t){"use strict";var e,n,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.x2825914500079770252x}],execute:function(){n._RF.push({},"2840aSGGutDxphzQ8riWbPy","x2680317735841221935x",void 0);t("x2680317735841221935x",function(t){function n(e){var n;return(n=t.call(this)||this).mInputActionId=e,n.mIsEnabled=!0,n.mIsOn=!1,n.mValueA=0,n.mValueB=0,n}return e(n,t),n.prototype.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},n}(c));n._RF.pop()}}}));System.register("chunks:///_virtual/x1180903263758642626x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x1825263265700717187x.ts","./x2680317735841221935x.ts","./x1390687146982484874x.ts"],(function(e){"use strict";var r,o,t,n,d,a,_;return{setters:[function(e){r=e.inheritsLoose,o=e.createClass},function(e){t=e.cclegacy},function(e){n=e.x4472346643782045245x},function(e){d=e.x1825263265700717187x},function(e){a=e.x2680317735841221935x},function(e){_=e.x1390687146982484874x}],execute:function(){t._RF.push({},"c3ef6xRg91NhJLY+g9N0blO","x1180903263758642626x",void 0);var y=739987583,u=739987584,c=739987585,k=739987586,l=739987587,C=739987588,K=739987589,I=739987590,s=739987591,i=739987592,b=739987600,g=739987601,f=739987602,p=739987603,P=739987604,S=739987605,B=739987606,L=739987607,m=739987608,D=739987609,F=739987610,h=739987611,x=739987612,A=739987613,T=739987614,v=739987615,E=739987616,M=739987617,O=739987618,w=739987619,R=739987620,G=739987621,V=739987622,N=739987623,U=739987624,H=739987625,Y=137421765,W=2125951293,Q=774354564,j=1796919290,q=2098654220,X=1322667516,J=1922382582,Z=2093113866,z=384995107,$=2000046994,ee=726521052,re=2097373780,oe=2097373781,te=2097373782,ne=2097373783,de=2097373784,ae=2097373785,_e=2097373786,ye=2097373787,ue=2097373788,ce=2097373789,ke=726521053,le=726521054,Ce=726521055,Ke=726521056,Ie=726521057,se=726521058,ie=726521059,be=726521060,ge=1681624191,fe=1133374708,pe=570139856,Pe=2035637035,Se=2035637036,Be=2035637037,Le=2035637038,me=2035637039,De=2035637040,Fe=2035637041,he=2035637042,xe=2035637043,Ae=2035637044,Te=1347855368,ve=1886517388,Ee=1318582238,Me=1887467595,Oe=1122334857,we=1505866911,Re=2028120689,Ge=896907184,Ve=1052809631,Ne=605049734,Ue=1409178018,He=1618494875,Ye=1913060914,We=2101407179,Qe=22617345,je=1673680990,qe=1174617885,Xe=481755936,Je=624865713,Ze=1534491596,ze=360823509,$e=68700004,er=1420672445,rr=e("x1180903263758642626x",function(e){function t(r){var o;return(o=e.call(this)||this).mDelegate=r,o.mInputActions=new d(!0),o.mDevices=new d(!0),o}r(t,e),t.doStaticInit=function(){if(!t.sDidStaticInit){for(t.sDidStaticInit=!0,t.sKeyboardControlIndicesToControlIds=new Array,t.sKeyboardControlIndicesToControlIds.length=0;t.sKeyboardControlIndicesToControlIds.length<t.x914226281298378768x;)t.sKeyboardControlIndicesToControlIds.push(0);for(var e=0;e<t.x914226281298378768x;e++)t.sKeyboardControlIndicesToControlIds[e]=t._convertKeyboardControlIndexToControlId(e);for(t.sNativeKeyCodesToKeyboardControlIds=new Array,t.sNativeKeyCodesToKeyboardControlIds.length=0;t.sNativeKeyCodesToKeyboardControlIds.length<t.x1905839577642705795x;)t.sNativeKeyCodesToKeyboardControlIds.push(0);for(e=0;e<t.x1905839577642705795x;e++)t.sNativeKeyCodesToKeyboardControlIds[e]=t._convertNativeKeyCodeToBPSKeyboardControlId(e);for(t.sGamePointerControlIndicesToControlIds=new Array,t.sGamePointerControlIndicesToControlIds.length=0;t.sGamePointerControlIndicesToControlIds.length<t.x919284446612857061x;)t.sGamePointerControlIndicesToControlIds.push(0);for(e=0;e<t.x919284446612857061x;e++)t.sGamePointerControlIndicesToControlIds[e]=t._convertGamePointerControlIndexToControlId(e)}},t.doStaticDestroy=function(){t.sDidStaticInit&&(null!==t.sKeyboardControlIndicesToControlIds&&(t.sKeyboardControlIndicesToControlIds=null),null!==t.sNativeKeyCodesToKeyboardControlIds&&(t.sNativeKeyCodesToKeyboardControlIds=null),null!==t.sGamePointerControlIndicesToControlIds&&(t.sGamePointerControlIndicesToControlIds=null),t.sDidStaticInit=!1)},t.getDeviceControlString=function(e,r){var o=t.convertDeviceIdToString(e),n=_.stringFromValueKey(r);switch(e){case t.x1465526023299306006x:n=t.convertKeyboardControlIdToString(r);break;case t.x1204206699037006952x:n=t.convertGamepadControlIdToString(r);break;default:n=_.stringFromValueKey(r)}return _.concatStrings3(o,".",n)},t.getDeviceIdFromDeviceControlString=function(e){var r=_.getFirstItemInPath(e);return _.stringToValueKey(r)},t.getControlIdFromDeviceControlString=function(e){var r=_.chompToNextItemInPath(e);return _.stringToValueKey(r)},t.convertDeviceIdToString=function(e){switch(e){case t.x1465526023299306006x:return"Keyboard";case t.x1204206699037006952x:return"Gamepad";case t.x320090993451744452x:return"Mouse";case t.x1720077968432402440x:return"GamePointer";default:return _.stringFromValueKey(e)}},t.areDeviceControlStringsEquivalent=function(e,r){var o=t.getDeviceIdFromDeviceControlString(e),n=t.getControlIdFromDeviceControlString(e),d=t.getDeviceIdFromDeviceControlString(r),a=t.getControlIdFromDeviceControlString(r);return o==d&&n==a},t.getDisplayNameForDeviceControl=function(e,r){switch(e){case t.x1465526023299306006x:return t.getDisplayNameForKeyboardControl(r);case t.x1204206699037006952x:return t.getDisplayNameForGamepadControl(r);default:return""}},t.getDisplayNameForDeviceControlString=function(e){var r=t.getDeviceIdFromDeviceControlString(e),o=t.getControlIdFromDeviceControlString(e);return t.getDisplayNameForDeviceControl(r,o)},t.getKeyboardDeviceControlString=function(e){return t.getDeviceControlString(t.x1465526023299306006x,e)},t.convertKeyboardControlIndexToControlId=function(e){return t.sKeyboardControlIndicesToControlIds[e]},t.x3473643361474629144x=function(e){return t.sNativeKeyCodesToKeyboardControlIds[e]},t.convertKeyboardControlIdToString=function(e){switch(e){case t.x2622272372785424963x:return"0";case t.x2127269286114222654x:return"1";case t.x3898181670108348923x:return"2";case t.x2529392067716443464x:return"3";case t.x3360322034255901758x:return"4";case t.x2024156778636919210x:return"5";case t.x1464909752922100836x:return"6";case t.x2697383774074890099x:return"7";case t.x52274844137270730x:return"8";case t.x1205013417123024852x:return"9";case t.x4118942471409581661x:return"A";case t.x3787008412966666275x:return"B";case t.x4317097566504908574x:return"C";case t.x570019547852745646x:return"D";case t.x985521625235448858x:return"E";case t.x4511512005538504249x:return"F";case t.x3163606521377284430x:return"G";case t.x3539647805542598697x:return"H";case t.x1863894374679201005x:return"I";case t.x1099237346084367545x:return"J";case t.x4531978437761514431x:return"K";case t.x1631949429845383019x:return"L";case t.x930954375418023838x:return"M";case t.x191497899744346186x:return"N";case t.x4464472373326641796x:return"O";case t.x1287974630783448552x:return"P";case t.x2717901938992321174x:return"Q";case t.x3149258571713246740x:return"R";case t.x1192695316336928342x:return"S";case t.x337504810943892794x:return"T";case t.x3480541275675112471x:return"U";case t.x2902747341458344744x:return"V";case t.x4277322369751757384x:return"W";case t.x3606555202964050435x:return"X";case t.x3259219221274034497x:return"Y";case t.x2590643693375499943x:return"Z";case t.x3230348426976385119x:return"Backslash";case t.x910468317512723140x:return"CapsLock";case t.x2331042923168872677x:return"Comma";case t.x819480569270102021x:return"Command";case t.x3271812907451553358x:return"Control";case t.x1810930212893332644x:return"Delete";case t.x1755032036454588889x:return"DownArrow";case t.x304009144152011194x:return"End";case t.x3020452106954581373x:return"Equal";case t.x2935021364838745126x:return"Escape";case t.x3264621493280218085x:return"F1";case t.x4575872211449431002x:return"F10";case t.x1645870714099475345x:return"F11";case t.x4412530818738158924x:return"F12";case t.x225495680702622963x:return"F13";case t.x2297231059346369649x:return"F14";case t.x460539044552008922x:return"F15";case t.x3736812805456946116x:return"F16";case t.x3485647858775818743x:return"F17";case t.x2521386904738719452x:return"F18";case t.x351312286959440304x:return"F19";case t.x4034378681244256036x:return"F2";case t.x1464724299316642720x:return"F20";case t.x3342946391966100293x:return"F3";case t.x284455363989323573x:return"F4";case t.x954639978070231840x:return"F5";case t.x3065743329551426407x:return"F6";case t.x4013304131980939757x:return"F7";case t.x3275842622565339668x:return"F8";case t.x592317261408725977x:return"F9";case t.x842034172471903039x:return"ForwardDelete";case t.x4411889552808953875x:return"Function";case t.x212650701931967861x:return"Grave";case t.x3230857152909328499x:return"Help";case t.x2753868653300708210x:return"Home";case t.x2386509084288737859x:return"Keypad0";case t.x2373113936354511219x:return"Keypad1";case t.x3583553372997213304x:return"Keypad2";case t.x4122778144210193543x:return"Keypad3";case t.x1397537522562797843x:return"Keypad4";case t.x3995050306216729224x:return"Keypad5";case t.x1291194838747118274x:return"Keypad6";case t.x45368911222238734x:return"Keypad7";case t.x2354211229588006606x:return"Keypad8";case t.x3997706161191322808x:return"Keypad9";case t.x3398644811927568522x:return"KeypadClear";case t.x2922205888987295551x:return"KeypadDecimal";case t.x2816907610990574120x:return"KeypadDivide";case t.x2913402928407614680x:return"KeypadEnter";case t.x4282702890000523885x:return"KeypadEquals";case t.x4338765421044190568x:return"KeypadMinus";case t.x2999457064049710521x:return"KeypadMultiply";case t.x3979915346695094604x:return"KeypadPlus";case t.x2333634117072007355x:return"LeftArrow";case t.x568203252900799927x:return"LeftBracket";case t.x1962519119051149409x:return"Minus";case t.x2574261610165646602x:return"Mute";case t.x2984855338479950350x:return"Option";case t.x4122631527729203775x:return"PageDown";case t.x1284831657057048502x:return"PageUp";case t.x1246726569829176802x:return"Period";case t.x58004041260079158x:return"Quote";case t.x2615536089808945740x:return"Return";case t.x4042211714178162656x:return"RightArrow";case t.x3995907627424036511x:return"RightBracket";case t.x1356690936807856820x:return"RightControl";case t.x3089152141100382097x:return"RightOption";case t.x2177490601306734532x:return"RightShift";case t.x3863253024451571134x:return"Semicolon";case t.x1502779342707634500x:return"Shift";case t.x497457187160603644x:return"Slash";case t.x1887062473282175476x:return"Space";case t.x3278919099519613808x:return"Tab";case t.x3791194284777422763x:return"UpArrow";case t.x255499295130193441x:return"VolumeDown";case t.x3151940752746783124x:return"VolumeUp";default:return _.stringFromValueKey(e)}},t.getDisplayNameForKeyboardControl=function(e){switch(e){case t.x2622272372785424963x:return"0";case t.x2127269286114222654x:return"1";case t.x3898181670108348923x:return"2";case t.x2529392067716443464x:return"3";case t.x3360322034255901758x:return"4";case t.x2024156778636919210x:return"5";case t.x1464909752922100836x:return"6";case t.x2697383774074890099x:return"7";case t.x52274844137270730x:return"8";case t.x1205013417123024852x:return"9";case t.x4118942471409581661x:return"A";case t.x3787008412966666275x:return"B";case t.x4317097566504908574x:return"C";case t.x570019547852745646x:return"D";case t.x985521625235448858x:return"E";case t.x4511512005538504249x:return"F";case t.x3163606521377284430x:return"G";case t.x3539647805542598697x:return"H";case t.x1863894374679201005x:return"I";case t.x1099237346084367545x:return"J";case t.x4531978437761514431x:return"K";case t.x1631949429845383019x:return"L";case t.x930954375418023838x:return"M";case t.x191497899744346186x:return"N";case t.x4464472373326641796x:return"O";case t.x1287974630783448552x:return"P";case t.x2717901938992321174x:return"Q";case t.x3149258571713246740x:return"R";case t.x1192695316336928342x:return"S";case t.x337504810943892794x:return"T";case t.x3480541275675112471x:return"U";case t.x2902747341458344744x:return"V";case t.x4277322369751757384x:return"W";case t.x3606555202964050435x:return"X";case t.x3259219221274034497x:return"Y";case t.x2590643693375499943x:return"Z";case t.x3230348426976385119x:return"BACKSLASH";case t.x910468317512723140x:return"CAPS LOCK";case t.x2331042923168872677x:return"COMMA";case t.x819480569270102021x:return"COMMAND";case t.x3271812907451553358x:return"CONTROL";case t.x1810930212893332644x:return"DELETE";case t.x1755032036454588889x:return"DOWN ARROW";case t.x304009144152011194x:return"END";case t.x3020452106954581373x:return"EQUAL";case t.x2935021364838745126x:return"ESCAPE";case t.x3264621493280218085x:return"F1";case t.x4575872211449431002x:return"F10";case t.x1645870714099475345x:return"F11";case t.x4412530818738158924x:return"F12";case t.x225495680702622963x:return"F13";case t.x2297231059346369649x:return"F14";case t.x460539044552008922x:return"F15";case t.x3736812805456946116x:return"F16";case t.x3485647858775818743x:return"F17";case t.x2521386904738719452x:return"F18";case t.x351312286959440304x:return"F19";case t.x4034378681244256036x:return"F2";case t.x1464724299316642720x:return"F20";case t.x3342946391966100293x:return"F3";case t.x284455363989323573x:return"F4";case t.x954639978070231840x:return"F5";case t.x3065743329551426407x:return"F6";case t.x4013304131980939757x:return"F7";case t.x3275842622565339668x:return"F8";case t.x592317261408725977x:return"F9";case t.x842034172471903039x:return"FORWARD DELETE";case t.x4411889552808953875x:return"FUNCTION";case t.x212650701931967861x:return"BACKQUOTE";case t.x3230857152909328499x:return"HELP";case t.x2753868653300708210x:return"HOME";case t.x2386509084288737859x:return"KEYPAD 0";case t.x2373113936354511219x:return"KEYPAD 1";case t.x3583553372997213304x:return"KEYPAD 2";case t.x4122778144210193543x:return"KEYPAD 3";case t.x1397537522562797843x:return"KEYPAD 4";case t.x3995050306216729224x:return"KEYPAD 5";case t.x1291194838747118274x:return"KEYPAD 6";case t.x45368911222238734x:return"KEYPAD 7";case t.x2354211229588006606x:return"KEYPAD 8";case t.x3997706161191322808x:return"KEYPAD 9";case t.x3398644811927568522x:return"KEYPAD CLEAR";case t.x2922205888987295551x:return"KEYPAD DECIMAL";case t.x2816907610990574120x:return"KEYPAD DIVIDE";case t.x2913402928407614680x:return"KEYPAD ENTER";case t.x4282702890000523885x:return"KEYPAD EQUALS";case t.x4338765421044190568x:return"KEYPAD MINUS";case t.x2999457064049710521x:return"KEYPAD MULTIPLY";case t.x3979915346695094604x:return"KEYPAD PLUS";case t.x2333634117072007355x:return"LEFT ARROW";case t.x568203252900799927x:return"LEFT BRACKET";case t.x1962519119051149409x:return"MINUS";case t.x2574261610165646602x:return"MUTE";case t.x2984855338479950350x:return"OPTION";case t.x4122631527729203775x:return"PAGE DOWN";case t.x1284831657057048502x:return"PAGE UP";case t.x1246726569829176802x:return"PERIOD";case t.x58004041260079158x:return"QUOTE";case t.x2615536089808945740x:return"RETURN";case t.x4042211714178162656x:return"RIGHT ARROW";case t.x3995907627424036511x:return"RIGHT BRACKET";case t.x1356690936807856820x:return"RIGHT CONTROL";case t.x3089152141100382097x:return"RIGHT OPTION";case t.x2177490601306734532x:return"RIGHT SHIFT";case t.x3863253024451571134x:return"SEMICOLON";case t.x1502779342707634500x:return"SHIFT";case t.x497457187160603644x:return"SLASH";case t.x1887062473282175476x:return"SPACE";case t.x3278919099519613808x:return"TAB";case t.x3791194284777422763x:return"UP ARROW";case t.x255499295130193441x:return"VOLUME DOWN";case t.x3151940752746783124x:return"VOLUME UP";default:return""}},t.isAlphanumericKeyboardControlId=function(e){switch(e){case t.x2622272372785424963x:case t.x2127269286114222654x:case t.x3898181670108348923x:case t.x2529392067716443464x:case t.x3360322034255901758x:case t.x2024156778636919210x:case t.x1464909752922100836x:case t.x2697383774074890099x:case t.x52274844137270730x:case t.x1205013417123024852x:case t.x4118942471409581661x:case t.x3787008412966666275x:case t.x4317097566504908574x:case t.x570019547852745646x:case t.x985521625235448858x:case t.x4511512005538504249x:case t.x3163606521377284430x:case t.x3539647805542598697x:case t.x1863894374679201005x:case t.x1099237346084367545x:case t.x4531978437761514431x:case t.x1631949429845383019x:case t.x930954375418023838x:case t.x191497899744346186x:case t.x4464472373326641796x:case t.x1287974630783448552x:case t.x2717901938992321174x:case t.x3149258571713246740x:case t.x1192695316336928342x:case t.x337504810943892794x:case t.x3480541275675112471x:case t.x2902747341458344744x:case t.x4277322369751757384x:case t.x3606555202964050435x:case t.x3259219221274034497x:case t.x2590643693375499943x:return!0;default:return!1}},t.convertMouseControlIdToControlIndex=function(e){switch(e){case t.x4239702654204980592x:return t.x467853889310125129x;case t.x3293944736935869883x:return t.x1628307320175073458x;default:return-1}},t.isMouseHoverEnabled=function(){return t.sIsMouseHoverEnabled},t.setIsMouseHoverEnabled=function(e){t.sIsMouseHoverEnabled=e},t.isTouchInputEnabled=function(){return t.sIsTouchInputEnabled},t.setIsTouchInputEnabled=function(e){t.sIsTouchInputEnabled=e},t.convertGamepadControlIdToString=function(e){switch(e){case t.x1815053076914150693x:return"DPadLeft";case t.x3925453851648915313x:return"DPadRight";case t.x4222061567720598270x:return"DPadUp";case t.x1902884764050545950x:return"DPadDown";case t.x853497974139294038x:return"NorthButton";case t.x1560932450419330022x:return"EastButton";case t.x4013143264134052605x:return"SouthButton";case t.x1953472415904159130x:return"WestButton";case t.x66555738024172792x:return"LeftShoulder";case t.x197645231209482963x:return"RightShoulder";case t.x1086521091919493906x:return"StartButton";case t.x1394343627258386882x:return"SelectButton";default:return _.stringFromValueKey(e)}},t.getDisplayNameForGamepadControl=function(e){switch(e){case t.x1815053076914150693x:return"DPAD LEFT";case t.x3925453851648915313x:return"DPAD RIGHT";case t.x4222061567720598270x:return"DPAD UP";case t.x1902884764050545950x:return"DPAD DOWN";case t.x853497974139294038x:return"NORTH BUTTON";case t.x1560932450419330022x:return"EAST BUTTON";case t.x4013143264134052605x:return"SOUTH BUTTON";case t.x1953472415904159130x:return"WEST BUTTON";case t.x66555738024172792x:return"LEFT SHOULDER";case t.x197645231209482963x:return"RIGHT SHOULDER";case t.x1086521091919493906x:return"START BUTTON";case t.x1394343627258386882x:return"SELECT BUTTON";default:return""}},t.getGamePointerDeviceControlString=function(e){return t.getDeviceControlString(t.x1720077968432402440x,e)},t.convertGamePointerControlIndexToControlId=function(e){return t.sGamePointerControlIndicesToControlIds[e]},t.x1895821408227167398x=function(e){if(e>t.x809527923467977567x)return e;switch(e){case t.x4273847621742489106x:return t.x4118942471409581661x;case t.x681821804460372574x:return t.x1192695316336928342x;case t.x98661049614916643x:return t.x570019547852745646x;case t.x3410851966274932308x:return t.x4511512005538504249x;case t.x992871728003470496x:return t.x3539647805542598697x;case t.x3605177253368123172x:return t.x3163606521377284430x;case t.x1174785342683960535x:return t.x2590643693375499943x;case t.x3645551190621907073x:return t.x3606555202964050435x;case t.x420003829879409245x:return t.x4317097566504908574x;case t.x1351032406824873187x:return t.x2902747341458344744x;case t.x852883945569033714x:return t.x3787008412966666275x;case t.x4093880511777132361x:return t.x2717901938992321174x;case t.x3785616721084298107x:return t.x4277322369751757384x;case t.x3810831893913905494x:return t.x985521625235448858x;case t.x3024380476288398862x:return t.x3149258571713246740x;case t.x1858314313831416133x:return t.x3259219221274034497x;case t.x654560255949430659x:return t.x337504810943892794x;case t.x305452156373351116x:return t.x2127269286114222654x;case t.x2996126548842128961x:return t.x3898181670108348923x;case t.x3914191569086326418x:return t.x2529392067716443464x;case t.x1455345355999221419x:return t.x3360322034255901758x;case t.x1063659299384130888x:return t.x1464909752922100836x;case t.x4225098304454780430x:return t.x2024156778636919210x;case t.x2811859545545297557x:return t.x3020452106954581373x;case t.x4350509920063803215x:return t.x1205013417123024852x;case t.x4529443908146290940x:return t.x2697383774074890099x;case t.x2280846771405361259x:return t.x1962519119051149409x;case t.x767897264201764930x:return t.x52274844137270730x;case t.x3016509209686921261x:return t.x2622272372785424963x;case t.x2370381579488918821x:return t.x3995907627424036511x;case t.x1710869853553727315x:return t.x4464472373326641796x;case t.x3882672783802413901x:return t.x3480541275675112471x;case t.x323610348394870018x:return t.x568203252900799927x;case t.x1854995257319143369x:return t.x1863894374679201005x;case t.x4061584329109475604x:return t.x1287974630783448552x;case t.x1084639661457697313x:return t.x1631949429845383019x;case t.x3667493357834410092x:return t.x1099237346084367545x;case t.x3639927507228762684x:return t.x58004041260079158x;case t.x1098092986094817255x:return t.x4531978437761514431x;case t.x3090947045229823984x:return t.x3863253024451571134x;case t.x2647824885266115589x:return t.x3230348426976385119x;case t.x3726846605749134158x:return t.x2331042923168872677x;case t.x4093483441100681068x:return t.x497457187160603644x;case t.x1365830367762623406x:return t.x191497899744346186x;case t.x3486590037863682731x:return t.x930954375418023838x;case t.x26543671210140831x:return t.x1246726569829176802x;case t.x2177454810571464717x:return t.x212650701931967861x;case t.x2467225156407945542x:return t.x2922205888987295551x;case t.x1111363189685324224x:return t.x2999457064049710521x;case t.x3504413886167924675x:return t.x3979915346695094604x;case t.x1519184827774638122x:return t.x3398644811927568522x;case t.x3959678301624231918x:return t.x2816907610990574120x;case t.x3357341452055443815x:return t.x2913402928407614680x;case t.x3371430171543080024x:return t.x4338765421044190568x;case t.x811163189567893008x:return t.x4282702890000523885x;case t.x3902332369907965572x:return t.x2386509084288737859x;case t.x1613951340850847402x:return t.x2373113936354511219x;case t.x3829165342197697123x:return t.x3583553372997213304x;case t.x3754428494276737031x:return t.x4122778144210193543x;case t.x990104491097406251x:return t.x1397537522562797843x;case t.x1675455549400682791x:return t.x3995050306216729224x;case t.x4595818324394808771x:return t.x1291194838747118274x;case t.x1627447611102132547x:return t.x45368911222238734x;case t.x3971575762719390965x:return t.x2354211229588006606x;case t.x2407211556628728768x:return t.x3997706161191322808x;case t.x2282019373146133720x:return t.x2615536089808945740x;case t.x4209901131079225261x:return t.x3278919099519613808x;case t.x3939946188114794097x:return t.x1887062473282175476x;case t.x3101782174416700455x:return t.x1810930212893332644x;case t.x2941528763922714986x:return t.x2935021364838745126x;case t.x3983208411957987430x:return t.x819480569270102021x;case t.x2855255960408974419x:return t.x1502779342707634500x;case t.x1160090061252430526x:return t.x910468317512723140x;case t.x2676536973980377227x:return t.x2984855338479950350x;case t.x2378000789124314762x:return t.x3271812907451553358x;case t.x448274068776377810x:return t.x2177490601306734532x;case t.x1136594004178234652x:return t.x3089152141100382097x;case t.x57676018295038505x:return t.x1356690936807856820x;case t.x1709747577742404822x:return t.x4411889552808953875x;case t.x1435639287877813429x:return t.x3485647858775818743x;case t.x290400303255930090x:return t.x3151940752746783124x;case t.x878701174189614810x:return t.x255499295130193441x;case t.x3757239267464269409x:return t.x2574261610165646602x;case t.x865687765619099623x:return t.x2521386904738719452x;case t.x2729234241317830748x:return t.x351312286959440304x;case t.x266294733277165837x:return t.x1464724299316642720x;case t.x850971812680224057x:return t.x954639978070231840x;case t.x3996209038269895017x:return t.x3065743329551426407x;case t.x2760317478314531810x:return t.x4013304131980939757x;case t.x976240172253543608x:return t.x3342946391966100293x;case t.x2719345236873790198x:return t.x3275842622565339668x;case t.x344548285390848831x:return t.x592317261408725977x;case t.x3731584928465507191x:return t.x1645870714099475345x;case t.x4534872538828154151x:return t.x225495680702622963x;case t.x487585211849190249x:return t.x3736812805456946116x;case t.x2999411343539163126x:return t.x2297231059346369649x;case t.x871454758790415370x:return t.x4575872211449431002x;case t.x1791044447493868387x:return t.x4412530818738158924x;case t.x1444666976967411276x:return t.x460539044552008922x;case t.x3268027822851751771x:return t.x3230857152909328499x;case t.x2162791135790185266x:return t.x2753868653300708210x;case t.x2959028519844042329x:return t.x1284831657057048502x;case t.x186248274253566915x:return t.x842034172471903039x;case t.x1681211534805821161x:return t.x284455363989323573x;case t.x2813360778040005997x:return t.x304009144152011194x;case t.x527324077321655350x:return t.x4034378681244256036x;case t.x1333953258216022440x:return t.x4122631527729203775x;case t.x3581970492168002395x:return t.x3264621493280218085x;case t.x2326358223239121884x:return t.x2333634117072007355x;case t.x2802274031915315867x:return t.x4042211714178162656x;case t.x935452636593487393x:return t.x1755032036454588889x;case t.x1628191534914156856x:return t.x3791194284777422763x;default:return 0}},t._convertKeyboardControlIndexToControlId=function(e){switch(e){case t.x2031075461604940642x:return t.x2622272372785424963x;case t.x3793395597273850859x:return t.x2127269286114222654x;case t.x3963342409717787881x:return t.x3898181670108348923x;case t.x1123443005144201249x:return t.x2529392067716443464x;case t.x2217867072045043558x:return t.x3360322034255901758x;case t.x2469528026931163541x:return t.x2024156778636919210x;case t.x3092037480647136793x:return t.x1464909752922100836x;case t.x2063363902451456738x:return t.x2697383774074890099x;case t.x862384506834803510x:return t.x52274844137270730x;case t.x637403865338762295x:return t.x1205013417123024852x;case t.x912794599118958899x:return t.x4118942471409581661x;case t.x2476106482561184846x:return t.x3787008412966666275x;case t.x2708516146561934961x:return t.x4317097566504908574x;case t.x4412321548293381613x:return t.x570019547852745646x;case t.x1565851251572230479x:return t.x985521625235448858x;case t.x373052208174243582x:return t.x4511512005538504249x;case t.x4441479001262831879x:return t.x3163606521377284430x;case t.x1216066069960607233x:return t.x3539647805542598697x;case t.x1841262180112846409x:return t.x1863894374679201005x;case t.x3025814344245285988x:return t.x1099237346084367545x;case t.x471476587711915378x:return t.x4531978437761514431x;case t.x1845359995832605760x:return t.x1631949429845383019x;case t.x2887532283521135901x:return t.x930954375418023838x;case t.x2052634053877558500x:return t.x191497899744346186x;case t.x1498381321378424334x:return t.x4464472373326641796x;case t.x3614256572101385420x:return t.x1287974630783448552x;case t.x638406214973531319x:return t.x2717901938992321174x;case t.x40123020537810477x:return t.x3149258571713246740x;case t.x1127375599696122745x:return t.x1192695316336928342x;case t.x3702161530852535013x:return t.x337504810943892794x;case t.x1538768766956407340x:return t.x3480541275675112471x;case t.x2696537429312465970x:return t.x2902747341458344744x;case t.x4433964555720746089x:return t.x4277322369751757384x;case t.x1769926416454290301x:return t.x3606555202964050435x;case t.x2997870967278183055x:return t.x3259219221274034497x;case t.x4021921156152309382x:return t.x2590643693375499943x;case t.x2027611200291513698x:return t.x3230348426976385119x;case t.x4398660393532111405x:return t.x910468317512723140x;case t.x4277353101209857118x:return t.x2331042923168872677x;case t.x2035575595898339563x:return t.x819480569270102021x;case t.x949759515268949376x:return t.x3271812907451553358x;case t.x1681408958756368560x:return t.x1810930212893332644x;case t.x3773007475195165841x:return t.x1755032036454588889x;case t.x2380514893880378607x:return t.x304009144152011194x;case t.x4264003370067710404x:return t.x3020452106954581373x;case t.x836044430397616121x:return t.x2935021364838745126x;case t.x999230036307450258x:return t.x3264621493280218085x;case t.x4077279263762483189x:return t.x4575872211449431002x;case t.x2961309938772277241x:return t.x1645870714099475345x;case t.x2582497536174208742x:return t.x4412530818738158924x;case t.x18793108660460404x:return t.x225495680702622963x;case t.x539095647005412915x:return t.x2297231059346369649x;case t.x405468685192026164x:return t.x460539044552008922x;case t.x1105131086022919909x:return t.x3736812805456946116x;case t.x1839499708332557694x:return t.x3485647858775818743x;case t.x1315161689900623706x:return t.x2521386904738719452x;case t.x897698344206658193x:return t.x351312286959440304x;case t.x4261455826695128580x:return t.x4034378681244256036x;case t.x546298204617808249x:return t.x1464724299316642720x;case t.x2700867530349622393x:return t.x3342946391966100293x;case t.x3193600141222479805x:return t.x284455363989323573x;case t.x1447379378649892621x:return t.x954639978070231840x;case t.x85203079382870578x:return t.x3065743329551426407x;case t.x3981851410601304549x:return t.x4013304131980939757x;case t.x1891947003808087758x:return t.x3275842622565339668x;case t.x4546019340198433716x:return t.x592317261408725977x;case t.x2239999003834381102x:return t.x842034172471903039x;case t.x168521769330112272x:return t.x4411889552808953875x;case t.x52908036905992054x:return t.x212650701931967861x;case t.x1033189479985766309x:return t.x3230857152909328499x;case t.x3956042047106001690x:return t.x2753868653300708210x;case t.x4318320149115410459x:return t.x2386509084288737859x;case t.x72229524574901253x:return t.x2373113936354511219x;case t.x1972125876292428895x:return t.x3583553372997213304x;case t.x487979443104716707x:return t.x4122778144210193543x;case t.x4200909833758325191x:return t.x1397537522562797843x;case t.x1337458717680707447x:return t.x3995050306216729224x;case t.x1973060476436083460x:return t.x1291194838747118274x;case t.x2125810628962118147x:return t.x45368911222238734x;case t.x335641784540673328x:return t.x2354211229588006606x;case t.x315237084271256253x:return t.x3997706161191322808x;case t.x640974163109258340x:return t.x3398644811927568522x;case t.x1313948011031903022x:return t.x2922205888987295551x;case t.x2889773839973708815x:return t.x2816907610990574120x;case t.x3144719079562305928x:return t.x2913402928407614680x;case t.x1502312910175783977x:return t.x4282702890000523885x;case t.x1306386616856204606x:return t.x4338765421044190568x;case t.x3811406572757003202x:return t.x2999457064049710521x;case t.x4309075907038389749x:return t.x3979915346695094604x;case t.x1001996251453651947x:return t.x2333634117072007355x;case t.x1493218570409088764x:return t.x568203252900799927x;case t.x2338092856610580038x:return t.x1962519119051149409x;case t.x1186352600403514856x:return t.x2574261610165646602x;case t.x547280815472332486x:return t.x2984855338479950350x;case t.x3691179303808022575x:return t.x4122631527729203775x;case t.x1902550233562739009x:return t.x1284831657057048502x;case t.x4029861275387343396x:return t.x1246726569829176802x;case t.x3022606773656260143x:return t.x58004041260079158x;case t.x4556870186258825870x:return t.x2615536089808945740x;case t.x3465524895445938174x:return t.x4042211714178162656x;case t.x1004746058073237273x:return t.x3995907627424036511x;case t.x1228799761689628958x:return t.x1356690936807856820x;case t.x232857063838874509x:return t.x3089152141100382097x;case t.x2561563241301689384x:return t.x2177490601306734532x;case t.x2162427211577425818x:return t.x3863253024451571134x;case t.x1998289180609188810x:return t.x1502779342707634500x;case t.x3604356358972779403x:return t.x497457187160603644x;case t.x3507836671086731592x:return t.x1887062473282175476x;case t.x1291545778645006725x:return t.x3278919099519613808x;case t.x3806849982061258956x:return t.x3791194284777422763x;case t.x897077798949887891x:return t.x255499295130193441x;case t.x380762179666646404x:return t.x3151940752746783124x;default:return 0}},t._convertNativeKeyCodeToBPSKeyboardControlId=function(e){switch(e){case 65:return b;case 83:return O;case 68:return p;case 70:return S;case 72:return L;case 71:return B;case 90:return H;case 88:return N;case 67:return f;case 86:return G;case 66:return g;case 81:return E;case 87:return V;case 69:return P;case 82:return M;case 89:return U;case 84:return w;case 49:return u;case 50:return c;case 51:return k;case 52:return l;case 54:return K;case 53:return C;case 187:return z;case 57:return i;case 55:return I;case 189:return Ve;case 56:return s;case 48:return y;case 221:return qe;case 79:return T;case 85:return R;case 219:return Ge;case 73:return m;case 80:return v;case 76:return h;case 74:return D;case 222:return We;case 75:return F;case 186:return Xe;case 220:return Y;case 188:return Q;case 191:return Ze;case 78:return A;case 77:return x;case 190:return Ye;case 192:return fe;case 110:return ve;case 106:return Oe;case 107:return we;case 12:return Te;case 111:return Ee;case 109:return Me;case 96:return Pe;case 97:return Se;case 98:return Be;case 99:return Le;case 100:return me;case 101:return De;case 102:return Fe;case 103:return he;case 104:return xe;case 105:return Ae;case 13:return Qe;case 9:return $e;case 32:return ze;case 8:return X;case 27:return $;case 91:return j;case 16:return Je;case 20:return W;case 18:return Ne;case 17:return q;case 128:return ye;case 129:return ue;case 130:return ce;case 116:return Ke;case 117:return Ie;case 118:return se;case 114:return le;case 119:return ie;case 120:return be;case 122:return oe;case 124:return ne;case 127:return _e;case 125:return de;case 121:return re;case 123:return te;case 126:return ae;case 36:return pe;case 33:return He;case 46:return ge;case 115:return Ce;case 35:return Z;case 113:return ke;case 34:return Ue;case 112:return ee;case 37:return Re;case 39:return je;case 40:return J;case 38:return er}return 0},t._convertGamePointerControlIndexToControlId=function(e){switch(e){case t.x2653941211692401359x:return t.x3640455879983001038x;case t.x3556500005422982990x:return t.x2642756964213948005x;default:return 0}},t.isMouseButtonDown=function(e){return 0!=(t.sMouseButtonsDown&1<<e)},t.isAnyMouseButtonDown=function(){return 0!=t.sMouseButtonsDown},t.setMouseButtonIsDown=function(e,r){r?t.sMouseButtonsDown|=1<<e:t.sMouseButtonsDown&=~(1<<e)};var n=t.prototype;return n.addInputAction=function(e){if(!this.getInputAction(e)){var r=new a(e);this.mInputActions.setObjectValue(e,r)}},n.mapDeviceControl=function(e,r,o,t){(this.addInputAction(o),t&&this.unmapInputAction(o),0!=e)&&this.getDeviceControlsMap(e).setIntValue(r,o)},n.mapDeviceControlString=function(e,r,o){if(e&&""!=e){var n=t.getDeviceIdFromDeviceControlString(e),d=t.getControlIdFromDeviceControlString(e);this.mapDeviceControl(n,d,r,o)}},n.isDeviceControlMapped=function(e,r){return 0!=this.getMappedInputActionId(e,r)},n.getMappedInputActionId=function(e,r){var o=this.getDeviceControlsMap(e);return o?o.getIntValue(r):0},n.unmapDeviceControl=function(e,r){this.getDeviceControlsMap(e).setIntValue(r,0)},n.unmapInputAction=function(e){for(var r=null,o=this.mDevices.getNumValues(),t=0;t<o;t++)for(var n=(r=this.mDevices.getDictionaryAtIndex(t)).getNumValues(),d=0;d<n;d++)r.getIntValueAtIndex(d)==e&&r.setIntValueAtIndex(d,0)},n.setIsInputActionEnabled=function(e,r){r||this.handleInputActionCancelled(e);var o=this.getInputAction(e);o&&(o.mIsEnabled=r)},n.handleDeviceControlOn=function(e,r,o,n){return e==t.x48919500500765123x&&t.sConvertTouchInputToMouseInput&&(e=t.x320090993451744452x,r=t.x4239702654204980592x),this.x1937296197675522194x(e,r,o,n),this.mDelegate&&this.mDelegate.x484463892230083241x(e,r,o,n),!!this.handleInputActionOn(this.getMappedInputActionId(e,r),o,n)||!(!this.mDelegate||!this.mDelegate.x1104500125373923703x(e,r,o,n))},n.handleDeviceControlOff=function(e,r,o,n){return e==t.x48919500500765123x&&t.sConvertTouchInputToMouseInput&&(e=t.x320090993451744452x,r=t.x4239702654204980592x),this.x2514339149133249104x(e,r,o,n),this.mDelegate&&this.mDelegate.x947251687283958489x(e,r,o,n),!!this.handleInputActionOff(this.getMappedInputActionId(e,r),o,n)||!(!this.mDelegate||!this.mDelegate.x3674464915954390731x(e,r,o,n))},n.handleDeviceControlValues=function(e,r,o,n){return e==t.x48919500500765123x&&t.sConvertTouchInputToMouseInput&&(e=t.x320090993451744452x,r=t.x4239702654204980592x),this.x2694417587445475726x(e,r,o,n),this.mDelegate&&this.mDelegate.x3275854245884094907x(e,r,o,n),!!this.handleInputActionValues(this.getMappedInputActionId(e,r),o,n)||!(!this.mDelegate||!this.mDelegate.x448608036333324202x(e,r,o,n))},n.handleDeviceControlCancelled=function(e,r){return e==t.x48919500500765123x&&t.sConvertTouchInputToMouseInput&&(e=t.x320090993451744452x,r=t.x4239702654204980592x),this.x3732412445737631878x(e,r),this.mDelegate&&this.mDelegate.x403248184809029252x(e,r),!!this.handleInputActionCancelled(this.getMappedInputActionId(e,r))||!(!this.mDelegate||!this.mDelegate.x3483006147505539359x(e,r))},n.restartAllOnInputActions=function(){for(var e=this.mInputActions.getNumValues(),r=0;r<e;r++){var o=this.mInputActions.getObjectValueAtIndex(r);if(o&&o.mIsEnabled)if(o.mIsOn)!this.x1358675297668479797x(o.mInputActionId,o.mValueA,o.mValueB)&&this.mDelegate&&this.mDelegate.x2530596703611903079x(o.mInputActionId,o.mValueA,o.mValueB)}},n.cancelAllInputActions=function(){for(var e=this.mInputActions.getNumValues(),r=0;r<e;r++){var o=this.mInputActions.getObjectValueAtIndex(r);this.handleInputActionCancelled(o.mInputActionId)}},n.getInputAction=function(e){return this.mInputActions.getObjectValue(e)},n.getDeviceControlsMap=function(e){var r=this.mDevices.getDictionary(e);return r||(r=new d(!0),this.mDevices.setObjectValue(e,r)),r},n.handleInputActionOn=function(e,r,o){if(0==e)return!1;var t=!1,n=this.getInputAction(e);return n&&n.mIsEnabled&&(n.mValueA=r,n.mValueB=o,n.mIsOn||(n.mIsOn=!0,!(t=this.x1358675297668479797x(e,n.mValueA,n.mValueB))&&this.mDelegate&&(t=this.mDelegate.x2530596703611903079x(e,n.mValueA,n.mValueB)))),t},n.handleInputActionOff=function(e,r,o){if(0==e)return!1;var t=!1,n=this.getInputAction(e);return n&&n.mIsEnabled&&(n.mValueA=r,n.mValueB=o,n.mIsOn&&(n.mIsOn=!1,!(t=this.x3156500901473858834x(e,n.mValueA,n.mValueB))&&this.mDelegate&&(t=this.mDelegate.x87963723640924842x(e,n.mValueA,n.mValueB)))),t},n.handleInputActionValues=function(e,r,o){if(0==e)return!1;var t=!1,n=this.getInputAction(e);return n&&n.mIsEnabled&&(n.mValueA=r,n.mValueB=o,!(t=this.x747811859499429231x(e,n.mValueA,n.mValueB,n.mIsOn))&&this.mDelegate&&(t=this.mDelegate.x2857204447509868867x(e,n.mValueA,n.mValueB,n.mIsOn))),t},n.handleInputActionCancelled=function(e){if(0==e)return!1;var r=!1,o=this.getInputAction(e);return o&&o.mIsEnabled&&o.mIsOn&&(o.mIsOn=!1,!(r=this.x2909623306895768256x(e))&&this.mDelegate&&(r=this.mDelegate.x2603184932174055919x(e))),r},n.x1937296197675522194x=function(e,r,o,t){},n.x2514339149133249104x=function(e,r,o,t){},n.x2694417587445475726x=function(e,r,o,t){},n.x3732412445737631878x=function(e,r){},n.x1358675297668479797x=function(e,r,o){return!1},n.x3156500901473858834x=function(e,r,o){return!1},n.x747811859499429231x=function(e,r,o,t){return!1},n.x2909623306895768256x=function(e){return!1},n.x2766708504066152543x=function(){this.mDelegate=null,null!==this.mInputActions&&(this.mInputActions.destroy(),this.mInputActions=null),null!==this.mDevices&&(this.mDevices.destroy(),this.mDevices=null),e.prototype.x2766708504066152543x.call(this)},o(t,null,[{key:"x1465526023299306006x",get:function(){return 174492184}},{key:"x2622272372785424963x",get:function(){return y}},{key:"x2127269286114222654x",get:function(){return u}},{key:"x3898181670108348923x",get:function(){return c}},{key:"x2529392067716443464x",get:function(){return k}},{key:"x3360322034255901758x",get:function(){return l}},{key:"x2024156778636919210x",get:function(){return C}},{key:"x1464909752922100836x",get:function(){return K}},{key:"x2697383774074890099x",get:function(){return I}},{key:"x52274844137270730x",get:function(){return s}},{key:"x1205013417123024852x",get:function(){return i}},{key:"x4118942471409581661x",get:function(){return b}},{key:"x3787008412966666275x",get:function(){return g}},{key:"x4317097566504908574x",get:function(){return f}},{key:"x570019547852745646x",get:function(){return p}},{key:"x985521625235448858x",get:function(){return P}},{key:"x4511512005538504249x",get:function(){return S}},{key:"x3163606521377284430x",get:function(){return B}},{key:"x3539647805542598697x",get:function(){return L}},{key:"x1863894374679201005x",get:function(){return m}},{key:"x1099237346084367545x",get:function(){return D}},{key:"x4531978437761514431x",get:function(){return F}},{key:"x1631949429845383019x",get:function(){return h}},{key:"x930954375418023838x",get:function(){return x}},{key:"x191497899744346186x",get:function(){return A}},{key:"x4464472373326641796x",get:function(){return T}},{key:"x1287974630783448552x",get:function(){return v}},{key:"x2717901938992321174x",get:function(){return E}},{key:"x3149258571713246740x",get:function(){return M}},{key:"x1192695316336928342x",get:function(){return O}},{key:"x337504810943892794x",get:function(){return w}},{key:"x3480541275675112471x",get:function(){return R}},{key:"x2902747341458344744x",get:function(){return G}},{key:"x4277322369751757384x",get:function(){return V}},{key:"x3606555202964050435x",get:function(){return N}},{key:"x3259219221274034497x",get:function(){return U}},{key:"x2590643693375499943x",get:function(){return H}},{key:"x3230348426976385119x",get:function(){return Y}},{key:"x910468317512723140x",get:function(){return W}},{key:"x2331042923168872677x",get:function(){return Q}},{key:"x819480569270102021x",get:function(){return j}},{key:"x3271812907451553358x",get:function(){return q}},{key:"x1810930212893332644x",get:function(){return X}},{key:"x1755032036454588889x",get:function(){return J}},{key:"x304009144152011194x",get:function(){return Z}},{key:"x3020452106954581373x",get:function(){return z}},{key:"x2935021364838745126x",get:function(){return $}},{key:"x3264621493280218085x",get:function(){return ee}},{key:"x4575872211449431002x",get:function(){return re}},{key:"x1645870714099475345x",get:function(){return oe}},{key:"x4412530818738158924x",get:function(){return te}},{key:"x225495680702622963x",get:function(){return ne}},{key:"x2297231059346369649x",get:function(){return de}},{key:"x460539044552008922x",get:function(){return ae}},{key:"x3736812805456946116x",get:function(){return _e}},{key:"x3485647858775818743x",get:function(){return ye}},{key:"x2521386904738719452x",get:function(){return ue}},{key:"x351312286959440304x",get:function(){return ce}},{key:"x4034378681244256036x",get:function(){return ke}},{key:"x1464724299316642720x",get:function(){return 2097439379}},{key:"x3342946391966100293x",get:function(){return le}},{key:"x284455363989323573x",get:function(){return Ce}},{key:"x954639978070231840x",get:function(){return Ke}},{key:"x3065743329551426407x",get:function(){return Ie}},{key:"x4013304131980939757x",get:function(){return se}},{key:"x3275842622565339668x",get:function(){return ie}},{key:"x592317261408725977x",get:function(){return be}},{key:"x842034172471903039x",get:function(){return ge}},{key:"x4411889552808953875x",get:function(){return 2052110793}},{key:"x212650701931967861x",get:function(){return fe}},{key:"x3230857152909328499x",get:function(){return 487459218}},{key:"x2753868653300708210x",get:function(){return pe}},{key:"x2386509084288737859x",get:function(){return Pe}},{key:"x2373113936354511219x",get:function(){return Se}},{key:"x3583553372997213304x",get:function(){return Be}},{key:"x4122778144210193543x",get:function(){return Le}},{key:"x1397537522562797843x",get:function(){return me}},{key:"x3995050306216729224x",get:function(){return De}},{key:"x1291194838747118274x",get:function(){return Fe}},{key:"x45368911222238734x",get:function(){return he}},{key:"x2354211229588006606x",get:function(){return xe}},{key:"x3997706161191322808x",get:function(){return Ae}},{key:"x3398644811927568522x",get:function(){return Te}},{key:"x2922205888987295551x",get:function(){return ve}},{key:"x2816907610990574120x",get:function(){return Ee}},{key:"x2913402928407614680x",get:function(){return 1017376019}},{key:"x4282702890000523885x",get:function(){return 1371014756}},{key:"x4338765421044190568x",get:function(){return Me}},{key:"x2999457064049710521x",get:function(){return Oe}},{key:"x3979915346695094604x",get:function(){return we}},{key:"x2333634117072007355x",get:function(){return Re}},{key:"x568203252900799927x",get:function(){return Ge}},{key:"x1962519119051149409x",get:function(){return Ve}},{key:"x2574261610165646602x",get:function(){return 228136778}},{key:"x2984855338479950350x",get:function(){return Ne}},{key:"x4122631527729203775x",get:function(){return Ue}},{key:"x1284831657057048502x",get:function(){return He}},{key:"x1246726569829176802x",get:function(){return Ye}},{key:"x58004041260079158x",get:function(){return We}},{key:"x2615536089808945740x",get:function(){return Qe}},{key:"x4042211714178162656x",get:function(){return je}},{key:"x3995907627424036511x",get:function(){return qe}},{key:"x1356690936807856820x",get:function(){return 1729767570}},{key:"x3089152141100382097x",get:function(){return 1842845056}},{key:"x2177490601306734532x",get:function(){return 1420120375}},{key:"x3863253024451571134x",get:function(){return Xe}},{key:"x1502779342707634500x",get:function(){return Je}},{key:"x497457187160603644x",get:function(){return Ze}},{key:"x1887062473282175476x",get:function(){return ze}},{key:"x3278919099519613808x",get:function(){return $e}},{key:"x3791194284777422763x",get:function(){return er}},{key:"x255499295130193441x",get:function(){return 1067020077}},{key:"x3151940752746783124x",get:function(){return 2028875942}},{key:"x2031075461604940642x",get:function(){return 0}},{key:"x3793395597273850859x",get:function(){return 1}},{key:"x3963342409717787881x",get:function(){return 2}},{key:"x1123443005144201249x",get:function(){return 3}},{key:"x2217867072045043558x",get:function(){return 4}},{key:"x2469528026931163541x",get:function(){return 5}},{key:"x3092037480647136793x",get:function(){return 6}},{key:"x2063363902451456738x",get:function(){return 7}},{key:"x862384506834803510x",get:function(){return 8}},{key:"x637403865338762295x",get:function(){return 9}},{key:"x912794599118958899x",get:function(){return 10}},{key:"x2476106482561184846x",get:function(){return 11}},{key:"x2708516146561934961x",get:function(){return 12}},{key:"x4412321548293381613x",get:function(){return 13}},{key:"x1565851251572230479x",get:function(){return 14}},{key:"x373052208174243582x",get:function(){return 15}},{key:"x4441479001262831879x",get:function(){return 16}},{key:"x1216066069960607233x",get:function(){return 17}},{key:"x1841262180112846409x",get:function(){return 18}},{key:"x3025814344245285988x",get:function(){return 19}},{key:"x471476587711915378x",get:function(){return 20}},{key:"x1845359995832605760x",get:function(){return 21}},{key:"x2887532283521135901x",get:function(){return 22}},{key:"x2052634053877558500x",get:function(){return 23}},{key:"x1498381321378424334x",get:function(){return 24}},{key:"x3614256572101385420x",get:function(){return 25}},{key:"x638406214973531319x",get:function(){return 26}},{key:"x40123020537810477x",get:function(){return 27}},{key:"x1127375599696122745x",get:function(){return 28}},{key:"x3702161530852535013x",get:function(){return 29}},{key:"x1538768766956407340x",get:function(){return 30}},{key:"x2696537429312465970x",get:function(){return 31}},{key:"x4433964555720746089x",get:function(){return 32}},{key:"x1769926416454290301x",get:function(){return 33}},{key:"x2997870967278183055x",get:function(){return 34}},{key:"x4021921156152309382x",get:function(){return 35}},{key:"x2027611200291513698x",get:function(){return 36}},{key:"x4398660393532111405x",get:function(){return 37}},{key:"x4277353101209857118x",get:function(){return 38}},{key:"x2035575595898339563x",get:function(){return 39}},{key:"x949759515268949376x",get:function(){return 40}},{key:"x1681408958756368560x",get:function(){return 41}},{key:"x3773007475195165841x",get:function(){return 42}},{key:"x2380514893880378607x",get:function(){return 43}},{key:"x4264003370067710404x",get:function(){return 44}},{key:"x836044430397616121x",get:function(){return 45}},{key:"x999230036307450258x",get:function(){return 46}},{key:"x4077279263762483189x",get:function(){return 47}},{key:"x2961309938772277241x",get:function(){return 48}},{key:"x2582497536174208742x",get:function(){return 49}},{key:"x18793108660460404x",get:function(){return 50}},{key:"x539095647005412915x",get:function(){return 51}},{key:"x405468685192026164x",get:function(){return 52}},{key:"x1105131086022919909x",get:function(){return 53}},{key:"x1839499708332557694x",get:function(){return 54}},{key:"x1315161689900623706x",get:function(){return 55}},{key:"x897698344206658193x",get:function(){return 56}},{key:"x4261455826695128580x",get:function(){return 57}},{key:"x546298204617808249x",get:function(){return 58}},{key:"x2700867530349622393x",get:function(){return 59}},{key:"x3193600141222479805x",get:function(){return 60}},{key:"x1447379378649892621x",get:function(){return 61}},{key:"x85203079382870578x",get:function(){return 62}},{key:"x3981851410601304549x",get:function(){return 63}},{key:"x1891947003808087758x",get:function(){return 64}},{key:"x4546019340198433716x",get:function(){return 65}},{key:"x2239999003834381102x",get:function(){return 66}},{key:"x168521769330112272x",get:function(){return 67}},{key:"x52908036905992054x",get:function(){return 68}},{key:"x1033189479985766309x",get:function(){return 69}},{key:"x3956042047106001690x",get:function(){return 70}},{key:"x4318320149115410459x",get:function(){return 71}},{key:"x72229524574901253x",get:function(){return 72}},{key:"x1972125876292428895x",get:function(){return 73}},{key:"x487979443104716707x",get:function(){return 74}},{key:"x4200909833758325191x",get:function(){return 75}},{key:"x1337458717680707447x",get:function(){return 76}},{key:"x1973060476436083460x",get:function(){return 77}},{key:"x2125810628962118147x",get:function(){return 78}},{key:"x335641784540673328x",get:function(){return 79}},{key:"x315237084271256253x",get:function(){return 80}},{key:"x640974163109258340x",get:function(){return 81}},{key:"x1313948011031903022x",get:function(){return 82}},{key:"x2889773839973708815x",get:function(){return 83}},{key:"x3144719079562305928x",get:function(){return 84}},{key:"x1502312910175783977x",get:function(){return 85}},{key:"x1306386616856204606x",get:function(){return 86}},{key:"x3811406572757003202x",get:function(){return 87}},{key:"x4309075907038389749x",get:function(){return 88}},{key:"x1001996251453651947x",get:function(){return 89}},{key:"x1493218570409088764x",get:function(){return 90}},{key:"x2338092856610580038x",get:function(){return 91}},{key:"x1186352600403514856x",get:function(){return 92}},{key:"x547280815472332486x",get:function(){return 93}},{key:"x3691179303808022575x",get:function(){return 94}},{key:"x1902550233562739009x",get:function(){return 95}},{key:"x4029861275387343396x",get:function(){return 96}},{key:"x3022606773656260143x",get:function(){return 97}},{key:"x4556870186258825870x",get:function(){return 98}},{key:"x3465524895445938174x",get:function(){return 99}},{key:"x1004746058073237273x",get:function(){return 100}},{key:"x1228799761689628958x",get:function(){return 101}},{key:"x232857063838874509x",get:function(){return 102}},{key:"x2561563241301689384x",get:function(){return 103}},{key:"x2162427211577425818x",get:function(){return 104}},{key:"x1998289180609188810x",get:function(){return 105}},{key:"x3604356358972779403x",get:function(){return 106}},{key:"x3507836671086731592x",get:function(){return 107}},{key:"x1291545778645006725x",get:function(){return 108}},{key:"x3806849982061258956x",get:function(){return 109}},{key:"x897077798949887891x",get:function(){return 110}},{key:"x380762179666646404x",get:function(){return 111}},{key:"x914226281298378768x",get:function(){return 112}},{key:"x1905839577642705795x",get:function(){return 256}},{key:"x320090993451744452x",get:function(){return 1499064852}},{key:"x4239702654204980592x",get:function(){return 732323210}},{key:"x3293944736935869883x",get:function(){return 647965405}},{key:"x467853889310125129x",get:function(){return 0}},{key:"x1628307320175073458x",get:function(){return 1}},{key:"x48919500500765123x",get:function(){return 885030702}},{key:"x3689174771238144386x",get:function(){return 847793614}},{key:"x1204206699037006952x",get:function(){return 544774128}},{key:"x1815053076914150693x",get:function(){return 479358567}},{key:"x3925453851648915313x",get:function(){return 1216853340}},{key:"x4222061567720598270x",get:function(){return 1007317915}},{key:"x1902884764050545950x",get:function(){return 760842146}},{key:"x853497974139294038x",get:function(){return 1630589766}},{key:"x1560932450419330022x",get:function(){return 1304829056}},{key:"x4013143264134052605x",get:function(){return 1534726350}},{key:"x1953472415904159130x",get:function(){return 306625778}},{key:"x66555738024172792x",get:function(){return 19754616}},{key:"x197645231209482963x",get:function(){return 460243531}},{key:"x1086521091919493906x",get:function(){return 403230339}},{key:"x1394343627258386882x",get:function(){return 2011664255}},{key:"x1720077968432402440x",get:function(){return 1043977754}},{key:"x3640455879983001038x",get:function(){return 1314194821}},{key:"x2642756964213948005x",get:function(){return 1314194822}},{key:"x2653941211692401359x",get:function(){return 0}},{key:"x3556500005422982990x",get:function(){return 1}},{key:"x919284446612857061x",get:function(){return 2}},{key:"kBPSTetInputMgrMessage_inputActionOn",get:function(){return 685483425}},{key:"kBPSTetInputMgrMessageDataKey_inputActionOn_inputActionId",get:function(){return 459992624}},{key:"kBPSTetInputMgrMessage_inputActionOff",get:function(){return 866566413}},{key:"kBPSTetInputMgrMessageDataKey_inputActionOff_inputActionId",get:function(){return 1580974902}},{key:"kBPSTetInputMgrMessage_inputActionCancelled",get:function(){return 1800158159}},{key:"kBPSTetInputMgrMessageDataKey_inputActionCancelled_inputActionId",get:function(){return 541123448}},{key:"kBPSLegacyKeyCode_MIN_KEYCODE",get:function(){return 0}},{key:"x4273847621742489106x",get:function(){return 0}},{key:"x681821804460372574x",get:function(){return 1}},{key:"x98661049614916643x",get:function(){return 2}},{key:"x3410851966274932308x",get:function(){return 3}},{key:"x992871728003470496x",get:function(){return 4}},{key:"x3605177253368123172x",get:function(){return 5}},{key:"x1174785342683960535x",get:function(){return 6}},{key:"x3645551190621907073x",get:function(){return 7}},{key:"x420003829879409245x",get:function(){return 8}},{key:"x1351032406824873187x",get:function(){return 9}},{key:"x852883945569033714x",get:function(){return 11}},{key:"x4093880511777132361x",get:function(){return 12}},{key:"x3785616721084298107x",get:function(){return 13}},{key:"x3810831893913905494x",get:function(){return 14}},{key:"x3024380476288398862x",get:function(){return 15}},{key:"x1858314313831416133x",get:function(){return 16}},{key:"x654560255949430659x",get:function(){return 17}},{key:"x305452156373351116x",get:function(){return 18}},{key:"x2996126548842128961x",get:function(){return 19}},{key:"x3914191569086326418x",get:function(){return 20}},{key:"x1455345355999221419x",get:function(){return 21}},{key:"x1063659299384130888x",get:function(){return 22}},{key:"x4225098304454780430x",get:function(){return 23}},{key:"x2811859545545297557x",get:function(){return 24}},{key:"x4350509920063803215x",get:function(){return 25}},{key:"x4529443908146290940x",get:function(){return 26}},{key:"x2280846771405361259x",get:function(){return 27}},{key:"x767897264201764930x",get:function(){return 28}},{key:"x3016509209686921261x",get:function(){return 29}},{key:"x2370381579488918821x",get:function(){return 30}},{key:"x1710869853553727315x",get:function(){return 31}},{key:"x3882672783802413901x",get:function(){return 32}},{key:"x323610348394870018x",get:function(){return 33}},{key:"x1854995257319143369x",get:function(){return 34}},{key:"x4061584329109475604x",get:function(){return 35}},{key:"x1084639661457697313x",get:function(){return 37}},{key:"x3667493357834410092x",get:function(){return 38}},{key:"x3639927507228762684x",get:function(){return 39}},{key:"x1098092986094817255x",get:function(){return 40}},{key:"x3090947045229823984x",get:function(){return 41}},{key:"x2647824885266115589x",get:function(){return 42}},{key:"x3726846605749134158x",get:function(){return 43}},{key:"x4093483441100681068x",get:function(){return 44}},{key:"x1365830367762623406x",get:function(){return 45}},{key:"x3486590037863682731x",get:function(){return 46}},{key:"x26543671210140831x",get:function(){return 47}},{key:"x2177454810571464717x",get:function(){return 50}},{key:"x2467225156407945542x",get:function(){return 65}},{key:"x1111363189685324224x",get:function(){return 67}},{key:"x3504413886167924675x",get:function(){return 69}},{key:"x1519184827774638122x",get:function(){return 71}},{key:"x3959678301624231918x",get:function(){return 75}},{key:"x3357341452055443815x",get:function(){return 76}},{key:"x3371430171543080024x",get:function(){return 78}},{key:"x811163189567893008x",get:function(){return 81}},{key:"x3902332369907965572x",get:function(){return 82}},{key:"x1613951340850847402x",get:function(){return 83}},{key:"x3829165342197697123x",get:function(){return 84}},{key:"x3754428494276737031x",get:function(){return 85}},{key:"x990104491097406251x",get:function(){return 86}},{key:"x1675455549400682791x",get:function(){return 87}},{key:"x4595818324394808771x",get:function(){return 88}},{key:"x1627447611102132547x",get:function(){return 89}},{key:"x3971575762719390965x",get:function(){return 91}},{key:"x2407211556628728768x",get:function(){return 92}},{key:"x2282019373146133720x",get:function(){return 36}},{key:"x4209901131079225261x",get:function(){return 48}},{key:"x3939946188114794097x",get:function(){return 49}},{key:"x3101782174416700455x",get:function(){return 51}},{key:"x2941528763922714986x",get:function(){return 53}},{key:"x3983208411957987430x",get:function(){return 55}},{key:"x2855255960408974419x",get:function(){return 56}},{key:"x1160090061252430526x",get:function(){return 57}},{key:"x2676536973980377227x",get:function(){return 58}},{key:"x2378000789124314762x",get:function(){return 59}},{key:"x448274068776377810x",get:function(){return 60}},{key:"x1136594004178234652x",get:function(){return 61}},{key:"x57676018295038505x",get:function(){return 62}},{key:"x1709747577742404822x",get:function(){return 63}},{key:"x1435639287877813429x",get:function(){return 64}},{key:"x290400303255930090x",get:function(){return 72}},{key:"x878701174189614810x",get:function(){return 73}},{key:"x3757239267464269409x",get:function(){return 74}},{key:"x865687765619099623x",get:function(){return 79}},{key:"x2729234241317830748x",get:function(){return 80}},{key:"x266294733277165837x",get:function(){return 90}},{key:"x850971812680224057x",get:function(){return 96}},{key:"x3996209038269895017x",get:function(){return 97}},{key:"x2760317478314531810x",get:function(){return 98}},{key:"x976240172253543608x",get:function(){return 99}},{key:"x2719345236873790198x",get:function(){return 100}},{key:"x344548285390848831x",get:function(){return 101}},{key:"x3731584928465507191x",get:function(){return 103}},{key:"x4534872538828154151x",get:function(){return 105}},{key:"x487585211849190249x",get:function(){return 106}},{key:"x2999411343539163126x",get:function(){return 107}},{key:"x871454758790415370x",get:function(){return 109}},{key:"x1791044447493868387x",get:function(){return 111}},{key:"x1444666976967411276x",get:function(){return 113}},{key:"x3268027822851751771x",get:function(){return 114}},{key:"x2162791135790185266x",get:function(){return 115}},{key:"x2959028519844042329x",get:function(){return 116}},{key:"x186248274253566915x",get:function(){return 117}},{key:"x1681211534805821161x",get:function(){return 118}},{key:"x2813360778040005997x",get:function(){return 119}},{key:"x527324077321655350x",get:function(){return 120}},{key:"x1333953258216022440x",get:function(){return 121}},{key:"x3581970492168002395x",get:function(){return 122}},{key:"x2326358223239121884x",get:function(){return 123}},{key:"x2802274031915315867x",get:function(){return 124}},{key:"x935452636593487393x",get:function(){return 125}},{key:"x1628191534914156856x",get:function(){return 126}},{key:"x809527923467977567x",get:function(){return 126}}]),t}(n));rr.sDidStaticInit=!1,rr.sKeyboardControlIndicesToControlIds=null,rr.sNativeKeyCodesToKeyboardControlIds=null,rr.sGamePointerControlIndicesToControlIds=null,rr.sIsMouseHoverEnabled=!0,rr.sMouseWorldX=-1e6,rr.sMouseWorldY=-1e6,rr.sMouseButtonsDown=0,rr.sIsTouchInputEnabled=!1,rr.sConvertTouchInputToMouseInput=!0,t._RF.pop()}}}));System.register("chunks:///_virtual/x2751816676112477481x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x1825263265700717187x.ts","./x2226225843525126927x.ts"],(function(e){"use strict";var t,l,a,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){l=e.cclegacy},function(e){a=e.x2825914500079770252x},function(e){i=e.x1825263265700717187x},function(e){u=e.x2226225843525126927x}],execute:function(){l._RF.push({},"12a3dfEal1MPLf99s+fA5bB","x2751816676112477481x",void 0);e("x2751816676112477481x",function(e){function l(){var t;return(t=e.call(this)||this).mRefillValues=new i(!0),t.mBagSizeMultiplier=1,t.mBagValues=new i(!0),t.mRNG=new u,t}t(l,e);var a=l.prototype;return a.setRNGSeed=function(e){this.mRNG.setSeed(e)},a.setBagSizeMultiplier=function(e){this.mBagSizeMultiplier=e},a.addRefillValue=function(e,t){for(var l=0;l<t;l++)this.mRefillValues.pushBackIntValue(e)},a.containsRefillValue=function(e){for(var t=this.mRefillValues.getNumValues(),l=0;l<t;l++)if(this.mRefillValues.getIntValueAtIndex(l)==e)return!0;return!1},a.removeAllRefillValues=function(){this.mRefillValues.removeAllValues()},a.refillBag=function(e){e&&this.mBagValues.removeAllValues();for(var t=this.mBagSizeMultiplier>0?this.mBagSizeMultiplier:1,l=0;l<t;l++)for(var a=this.mRefillValues.getNumValues(),i=0;i<a;i++)this.mBagValues.pushBackIntValue(this.mRefillValues.getIntValueAtIndex(i))},a.refillBagIfEmpty=function(){0==this.mBagValues.getNumValues()&&this.refillBag(!1)},a.pullNextValueFromBag=function(){this.refillBagIfEmpty();var e=this.mBagValues.getNumValues(),t=this.mRNG.nextIntInRange(0,e-1),l=this.mBagValues.getIntValueAtIndex(t);return this.mBagSizeMultiplier>0&&this.mBagValues.removeValueAtIndex(t),l},a.addBagValue=function(e,t){for(var l=0;l<t;l++)this.mBagValues.pushBackIntValue(e)},a.removeValueFromBag=function(e,t){this.mBagValues.removeIntValue(e,t)},a.copyBagValuesIntoDictionary=function(e){for(var t=this.mBagValues.getNumValues(),l=0;l<t;l++)e.pushBackIntValue(this.mBagValues.getIntValueAtIndex(l))},a.x2766708504066152543x=function(){null!==this.mRefillValues&&(this.mRefillValues.destroy(),this.mRefillValues=null),null!==this.mBagValues&&(this.mBagValues.destroy(),this.mBagValues=null),null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),e.prototype.x2766708504066152543x.call(this)},l}(a));l._RF.pop()}}}));System.register("chunks:///_virtual/x3255644122958964683x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1654909725214686057x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,n,o,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.x1654909725214686057x},function(t){l=t.x1390687146982484874x}],execute:function(){n._RF.push({},"8673eUl8ahDyJrggOWtt5OP","x3255644122958964683x",void 0),t("x3255644122958964683x",function(t){function n(){var e;return(e=t.call(this,o.x3783032619504109691x)||this).mValue=0,e}e(n,t),n.getAvailableInstance=function(){n.sPool||(n.sPool=new Array);var t=null;return n.sPool.length>0?(t=n.sPool[n.sPool.length-1],n.sPool.pop()):t=new n,t},n.recycleAvailableInstance=function(t){n.sPool||(n.sPool=new Array),t.recycle(),n.sPool.push(t)},n.destroyPool=function(){if(n.sPool){for(var t=n.sPool.length,e=0;e<t;e++){var o=n.sPool[e];null!==o&&(o.destroy(),o=null)}null!==n.sPool&&(n.sPool=null)}};var u=n.prototype;return u.getValue=function(){return this.mValue},u.setValue=function(t){this.mValue=t},u.x2904717359915390404x=function(){return t.prototype.x2904717359915390404x.call(this),this.mValue=0,!0},u.x2766708504066152543x=function(){this.mValue=0,t.prototype.x2766708504066152543x.call(this)},u.setValueWithInt=function(t){this.mValue=t},u.setValueWithFloat=function(t){this.mValue=~~t},u.setValueWithBool=function(t){this.mValue=t?1:0},u.setValueWithString=function(t){this.mValue=l.stringToInt(t)},u.toInt=function(){return this.mValue},u.toFloat=function(){return this.mValue},u.toBool=function(){return 0!=this.mValue},u.toString=function(){return l.stringFromInt(this.mValue,1,!1)},n}(o)).sPool=null,n._RF.pop()}}}));System.register("chunks:///_virtual/x3624803980696404420x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3995270518114367194x.ts","./x1825263265700717187x.ts","./x2825914500079770252x.ts","./x1390687146982484874x.ts","./x3061436937539478368x.ts","./x2697327737977927830x.ts","./x3950773521023582268x.ts","./x3363722297214968445x.ts","./x3956211014191467053x.ts","./x4010102164439179233x.ts"],(function(e){"use strict";var a,t,n,l,r,i,o,s,m,_,u,P,k,d;return{setters:[function(e){a=e.inheritsLoose,t=e.createClass,n=e.assertThisInitialized},function(e){l=e.cclegacy},function(e){r=e.x3995270518114367194x},function(e){i=e.x1825263265700717187x},function(e){o=e.x2825914500079770252x},function(e){s=e.x1390687146982484874x},function(e){m=e.x3061436937539478368x},function(e){_=e.x2697327737977927830x},function(e){u=e.x3950773521023582268x},function(e){P=e.x3363722297214968445x},function(e){k=e.x3956211014191467053x},function(e){d=e.x4010102164439179233x}],execute:function(){l._RF.push({},"536c3eDkBBNN4pK1w6QwymP","x3624803980696404420x",void 0);e("x3624803980696404420x",function(e){function l(a,t){var r;(r=e.call(this,l.x1109057396118299453x,a)||this).getParams().setIntValue(l.x3979234455250196779x,0),r.getParams().createDictionary(l.x2885530622023613176x,"",999,!0),r.getParams().getDictionary(l.x2885530622023613176x).setBoolValue(l.x1762636206279047293x,!1),r.getParams().getDictionary(l.x2885530622023613176x).setStringValue(l.x29137099010631933x,""),r.getParams().getDictionary(l.x2885530622023613176x).setBoolValue(l.x2927380417122941853x,!0),r.getParams().getDictionary(l.x2885530622023613176x).setBoolValue(l.x4492388641263984473x,!0),r.getParams().getDictionary(l.x2885530622023613176x).setBoolValue(l.x3520616868697023296x,!0),r.getParams().setStringValue(l.x2509688979644481912x,"30"),r.getParams().setIntValue(l.x3682057520897767799x,30),r.getParams().setBoolValue(l.x143585902790855539x,!0),r.getParams().setBoolValue(l.x4429505227145459201x,!0),r.getParams().setBoolValue(l.x1284968897886898391x,!1),r.getParams().setBoolValue(l.x4479641415361064530x,!0),r.getParams().setBoolValue(l.x2945014272570471193x,!0),r.getParams().setIntValue(l.x2086480628059169262x,1),r.getParams().setIntValue(l.x2130798802903339537x,2),r.getParams().setIntValue(l.x990173398089030427x,3),r.getParams().setIntValue(l.x896789259345180053x,4),r.getParams().setIntValue(l.x3717730523405420733x,1),r.getParams().setIntValue(l.x3307274893218727152x,1),r.getParams().setIntValue(l.x2898328190179806124x,2),r.getParams().setIntValue(l.x1074883652037225375x,3),r.getParams().setIntValue(l.x4601056244479192746x,1),r.getParams().setIntValue(l.x427918919419946427x,1e3);for(var o=r.getParams().createDictionary(l.x732297382166996544x,"",999,!0),m=0;m<30;m++){var _=new i(!0);o.pushBackObjectValue(_);var u=s.stringFromInt(m+1,0,!1);switch(_.setStringValue(l.x3142946539742012286x,u),_.setStringValue(l.x3948923322474734873x,u),_.setBoolValue(l.x1580662662633700056x,!1),m+1){case 1:_.setIntValue(l.x3036979306975779172x,1e3),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 2:_.setIntValue(l.x3036979306975779172x,793),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 3:_.setIntValue(l.x3036979306975779172x,618),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 4:_.setIntValue(l.x3036979306975779172x,473),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 5:_.setIntValue(l.x3036979306975779172x,355),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 6:_.setIntValue(l.x3036979306975779172x,262),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 7:_.setIntValue(l.x3036979306975779172x,190),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 8:_.setIntValue(l.x3036979306975779172x,135),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 9:_.setIntValue(l.x3036979306975779172x,94),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 10:_.setIntValue(l.x3036979306975779172x,64),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 11:_.setIntValue(l.x3036979306975779172x,43),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 12:_.setIntValue(l.x3036979306975779172x,28),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 13:_.setIntValue(l.x3036979306975779172x,18),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 14:_.setIntValue(l.x3036979306975779172x,11),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 15:_.setIntValue(l.x3036979306975779172x,7),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 16:_.setIntValue(l.x3036979306975779172x,4),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 17:_.setIntValue(l.x3036979306975779172x,3),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 18:_.setIntValue(l.x3036979306975779172x,1),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 19:_.setIntValue(l.x3036979306975779172x,0),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,500),_.setIntValue(l.x3602030204303870475x,-1);break;case 20:_.setIntValue(l.x3036979306975779172x,0),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,450),_.setIntValue(l.x3602030204303870475x,-1);break;case 21:_.setIntValue(l.x3036979306975779172x,0),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,400),_.setIntValue(l.x3602030204303870475x,-1);break;case 22:_.setIntValue(l.x3036979306975779172x,0),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,350),_.setIntValue(l.x3602030204303870475x,-1);break;case 23:_.setIntValue(l.x3036979306975779172x,0),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,300),_.setIntValue(l.x3602030204303870475x,-1);break;case 24:_.setIntValue(l.x3036979306975779172x,0),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,250),_.setIntValue(l.x3602030204303870475x,-1);break;case 25:_.setIntValue(l.x3036979306975779172x,0),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,200),_.setIntValue(l.x3602030204303870475x,-1);break;case 26:_.setIntValue(l.x3036979306975779172x,0),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,195),_.setIntValue(l.x3602030204303870475x,-1);break;case 27:_.setIntValue(l.x3036979306975779172x,0),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,184),_.setIntValue(l.x3602030204303870475x,-1);break;case 28:_.setIntValue(l.x3036979306975779172x,0),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,167),_.setIntValue(l.x3602030204303870475x,-1);break;case 29:_.setIntValue(l.x3036979306975779172x,0),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,151),_.setIntValue(l.x3602030204303870475x,-1);break;case 30:default:_.setIntValue(l.x3036979306975779172x,0),_.setIntValue(l.x4555918415202139028x,-20),_.setIntValue(l.x3402306380075644685x,150),_.setIntValue(l.x3602030204303870475x,-1)}_.setBoolValue(l.x725566932179369156x,!1);var P=new i(!0);P.setStringValue(l.x3602426786701774148x,"lineClears"),P.setIntValue(l.x3035308166494852955x,10),_.setObjectValue(l.x3995219909313477895x,P),_.setBoolValue(l.x519697267331933906x,!0),_.setBoolValue(l.x1872747333233150542x,!1)}return r.getParams().copy(t,!1),a&&(a.addMessageListener(n(r)),r.getGame().addMessageListener(n(r))),r.mMessageParams=new i(!1),r.mScoreComponent=null,r.mControlComponent=null,r.mIsOnboardingRequired=r.getParams().getDictionary(l.x2885530622023613176x).getBoolValue(l.x1762636206279047293x),r.mOnboardingFinalLevelIndex=r.getLevelIndexForLevelId(r.getParams().getDictionary(l.x2885530622023613176x).getStringValue(l.x29137099010631933x)),r.mDidCompleteOnboarding=!1,r.mBaseStartingLevelIndex=s.maxInt(0,r.mOnboardingFinalLevelIndex+1),r.mLevelIndex=0,r.mPendingLevelIndex=-1,r.mLevelEndConditionType=0,r.mLevelEndConditionTargetValue=0,r.mLevelRemainingActionGoal=0,r.mLevelElapsedTimeMSEC=-1,r.setNextState(1,!1),r}a(l,e),l.getLevelEndConditionType=function(e){return s.stringToHash32(e)};var r=l.prototype;return r.isOnboardingRequired=function(){return this.mIsOnboardingRequired},r.isOnboardingInputTypeSupported=function(e){switch(e){case m.x3699220901933188103x:return this.getParams().getDictionary(l.x2885530622023613176x).getBoolValue(l.x2927380417122941853x);case m.x1641265582704792431x:return this.getParams().getDictionary(l.x2885530622023613176x).getBoolValue(l.x4492388641263984473x);case m.x3007826297304550775x:return this.getParams().getDictionary(l.x2885530622023613176x).getBoolValue(l.x3520616868697023296x);default:return!1}},r.getBaseStartingLevelIndex=function(){return this.mBaseStartingLevelIndex},r.getCurrentLevelIndex=function(){return this.mLevelIndex},r.getLevelIdForLevelIndex=function(e){return e<this.getParams().getDictionary(l.x732297382166996544x).getNumValues()?this.getParams().getDictionary(l.x732297382166996544x).getDictionaryAtIndex(e).getStringValue(l.x3142946539742012286x):s.stringFromInt(e+1,1,!1)},r.getLevelIndexForLevelId=function(e){for(var a=this.getParams().getDictionary(l.x732297382166996544x).getNumValues(),t=0;t<a;t++){if(this.getParams().getDictionary(l.x732297382166996544x).getDictionaryAtIndex(t).getStringValue(l.x3142946539742012286x)==e)return t}return-1},r.getLevelDisplayNameForLevelIndex=function(e){return e<this.getParams().getDictionary(l.x732297382166996544x).getNumValues()?this.getParams().getDictionary(l.x732297382166996544x).getDictionaryAtIndex(e).getStringValue(l.x3948923322474734873x):s.stringFromInt(e+1,1,!1)},r.getLevelRemainingActionGoal=function(){return this.mLevelRemainingActionGoal},r.getLevelParams=function(e){var a=this.getParams().getDictionary(l.x732297382166996544x).getNumValues(),t=s.minInt(a-1,e);return this.getParams().getDictionary(l.x732297382166996544x).getDictionaryAtIndex(t)},r.startLevel=function(e){this.mLevelIndex=e,this.mLevelEndConditionType=0,this.mLevelEndConditionTargetValue=0,this.mLevelRemainingActionGoal=0,this.mLevelElapsedTimeMSEC=0;var a=this.getLevelParams(this.mLevelIndex);if(a){var t=this.getPlayer(),n=a.getDictionary(l.x3995219909313477895x);switch(this.mLevelEndConditionType=l.getLevelEndConditionType(n.getStringValue(l.x3602426786701774148x)),this.mLevelEndConditionType){case l.x664534238825444556x:if(e==this.getParams().getIntValue(l.x3979234455250196779x)&&this.getParams().getBoolValue(l.x1284968897886898391x)){this.mLevelRemainingActionGoal=0;for(var r=0;r<e;r++){var i=this.getParams().getDictionary(l.x732297382166996544x).getDictionaryAtIndex(r);l.getLevelEndConditionType(i.getDictionary(l.x3995219909313477895x).getStringValue(l.x3602426786701774148x))==l.x664534238825444556x&&(this.mLevelEndConditionTargetValue+=i.getDictionary(l.x3995219909313477895x).getIntValue(l.x3035308166494852955x))}}else this.mLevelEndConditionTargetValue=n.getIntValue(l.x3035308166494852955x);e==this.mBaseStartingLevelIndex&&(this.mLevelEndConditionTargetValue=s.maxInt(this.mLevelEndConditionTargetValue-t.getTotalMatrixMinoPatternMatches(),0)),this.mLevelRemainingActionGoal=this.mLevelEndConditionTargetValue;break;case l.x1750413505012432364x:this.mLevelEndConditionTargetValue=n.getIntValue(l.x3311097224371421498x),this.mLevelRemainingActionGoal=this.mLevelEndConditionTargetValue;break;case l.x1677466644092856926x:this.mLevelEndConditionTargetValue=n.getIntValue(l.x2018523287053767179x),this.mLevelRemainingActionGoal=this.mLevelEndConditionTargetValue;break;case l.x194384548025723354x:this.mLevelEndConditionTargetValue=n.getIntValue(l.x2235779199159753730x),this.mLevelRemainingActionGoal=1;break;case l.x1824530537601327475x:this.mLevelEndConditionTargetValue=n.getIntValue(l.x4598737849010883298x),this.mLevelRemainingActionGoal=1}var o=a.getDictionary(l.x4549909279642955911x);if(o){var m=o.getIntValue(l.x443033029413257013x),u=o.getIntValue(l.x2613812077990580685x),d=o.getIntValue(l.x2152961239449208997x),y=u+d;t.getMatrix().isSizeEqual(m,y,u)||t.constructMatrix(m,u,d);var g=o.getDictionary(l.x3078109380424971319x);t.getMatrix().createAndInsertMinos(g,!0)}a.hasValue(l.x1687170967805915413x)&&t.getParams().setIntValue(P.x2379337660823166827x,a.getIntValue(l.x1687170967805915413x)),a.hasValue(l.x60617438372103938x)&&t.getParams().setIntValue(P.x1217250536790954798x,a.getIntValue(l.x60617438372103938x));var c=t.getPieceSequenceGenerator();if(a.hasValue(l.x340986297634955475x)&&c.setPieceIdRefillValuesWithPieceNamesList(a.getStringValue(l.x340986297634955475x)),a.hasValue(l.x1290901560865158842x)&&c.setRefillMultiplier(a.getIntValue(l.x1290901560865158842x)),a.hasValue(l.x3264538393570454731x)&&c.setSequenceWithPieceNamesList(a.getStringValue(l.x3264538393570454731x)),a.getBoolValue(l.x1580662662633700056x)&&(t.getPieceQueue().clear(),t.getPieceQueue().fillToCapacity()),t.setIsPieceGenerationEnabled(!a.getBoolValue(l.x725566932179369156x)),this.mScoreComponent&&this.getParams().getBoolValue(l.x4479641415361064530x)){var v=s.maxInt(e+1-this.mBaseStartingLevelIndex,1);this.mScoreComponent.getParams().setIntValue(k.x4102348512340683332x,v)}if(this.mControlComponent){var S=a.getIntValue(l.x3036979306975779172x),p=a.getIntValue(l.x4555918415202139028x);p<0&&(p=~~((S>=0?S:-S)/(p>=0?p:-p))),this.mControlComponent.x3653139289778280998x().x1817562374766709528x(S),this.mControlComponent.x3653139289778280998x().getModel().setMaxNormalFallSteps(a.getIntValue(l.x3602030204303870475x)),this.mControlComponent.x3653139289778280998x().x2971872900368380681x(p),this.mControlComponent.x3653139289778280998x().x3194411021721653419x(a.getIntValue(l.x3402306380075644685x));var C="all";a.hasValue(l.x2164982330667658026x)&&(C=a.getStringValue(l.x2164982330667658026x));for(var K="all"==C,I=_.x1368284773568313387x;I<=_.x175341970939122441x;I++)if(K)this.mControlComponent.x3653139289778280998x().getController().setIsControlActionEnabled(I,!0);else{var L=!0;switch(I){case _.x1163264438382801197x:L=s.firstIndexInString(C,"moveLeft")>=0;break;case _.x1148181501057868572x:L=s.firstIndexInString(C,"moveRight")>=0;break;case _.x3037978297644400982x:case _.x1045657441224132560x:L=s.firstIndexInString(C,"rotateCW")>=0;break;case _.x3627316749632917279x:case _.x1632269064637221348x:L=s.firstIndexInString(C,"rotateCCW")>=0;break;case _.x2009612428084326544x:case _.x3398658093998472145x:L=s.firstIndexInString(C,"softDrop")>=0;break;case _.x3093225339302193578x:L=s.firstIndexInString(C,"hardDrop")>=0;break;case _.x476144921134076668x:L=s.firstIndexInString(C,"hold")>=0;break;default:L=K||s.firstIndexInString(C,_.getControlActionName(I))>=0}this.mControlComponent.x3653139289778280998x().getController().setIsControlActionEnabled(I,L)}}}this.mMessageParams.setIntValue(l.x4154390777278676273x,e),this.dispatchMessage(l.x1457963563670105106x,this,this.mMessageParams)},r.completeLevel=function(e){var a=this.getLevelParams(e);if(a){var t=this.getPlayer();a.getBoolValue(l.x1872747333233150542x)&&t.setGameBreakPending()}this.mIsOnboardingRequired&&!this.mDidCompleteOnboarding&&e==this.mOnboardingFinalLevelIndex&&(this.mDidCompleteOnboarding=!0,this.mMessageParams.setIntValue(l.x4154390777278676273x,e),this.dispatchMessage(l.x2374827856532033883x,this,this.mMessageParams)),this.mMessageParams.setIntValue(l.x4154390777278676273x,e),this.dispatchMessage(l.x962074113366836009x,this,this.mMessageParams)},r.processScoreEventMessage=function(e){if(!e.getBoolValue(k.x2485413609040593399x)&&this.mLevelEndConditionType==l.x664534238825444556x){var a=0;if(0==e.getIntValue(k.x482162241822821234x)){var t=e.getIntValue(k.x1392439065935303313x);switch(e.getIntValue(k.x3226881466546944827x)){case s.x2762047832241342883x:if(0==e.getIntValue(k.x482162241822821234x))switch(t){case 0:break;case 1:a=this.getParams().getIntValue(l.x2086480628059169262x);break;case 2:a=this.getParams().getIntValue(l.x2130798802903339537x);break;case 3:a=this.getParams().getIntValue(l.x990173398089030427x);break;case 4:default:a=this.getParams().getIntValue(l.x896789259345180053x)}else a=t*this.getParams().getIntValue(l.x3717730523405420733x);break;case s.x3109280748125391346x:switch(t){case 1:a=this.getParams().getIntValue(l.x3307274893218727152x);break;case 2:a=this.getParams().getIntValue(l.x2898328190179806124x);break;case 3:a=this.getParams().getIntValue(l.x1074883652037225375x)}break;case s.x1235464930560725342x:switch(t){case 1:a=this.getParams().getIntValue(l.x4601056244479192746x)}}e.getBoolValue(k.x4396903821025096640x)&&(a=s.FXPTToInt(s.FXPTMultiply(s.FXPTFromInt(a),this.getParams().getIntValue(l.x427918919419946427x)))),this.processCurrentLevelRemainingActionGoal(a,this.getParams().getBoolValue(l.x2945014272570471193x))}}},r.processPieceXEndCondition=function(){if(this.mLevelEndConditionType==l.x194384548025723354x){var e=this.getPlayer().getLivePiece();e&&e.getX()==this.mLevelEndConditionTargetValue&&this.processCurrentLevelRemainingActionGoal(1,!1)}},r.processCurrentLevelRemainingActionGoal=function(e,a){var t=this.mLevelIndex,n=this.mLevelIndex,r=this.getParams().getStringValue(l.x2509688979644481912x),i=0;(i=r&&""!=r?this.getLevelIndexForLevelId(r):this.getParams().getIntValue(l.x3682057520897767799x)-1)<0&&(i=s.x2812288279383445977x);var o=this.getParams().getBoolValue(l.x143585902790855539x),m=!(!o&&n==i&&this.mLevelRemainingActionGoal<=0);if(m)for(var _=this.getPlayer(),u=e;m;)if(this.mLevelRemainingActionGoal-u<=0){if((n<i||o)&&(this.completeLevel(n),n++),n>i){m=!1,this.mLevelRemainingActionGoal=0,this.mLevelIndex=i,o&&_.tryEndGame(l.x4209450311333888677x,!0,this.getParams().getBoolValue(l.x4429505227145459201x),!1);break}a&&!_.isGameBreakPending()?m=(u-=this.mLevelRemainingActionGoal)>0:(this.mLevelRemainingActionGoal=0,m=!1),_.isGameBreakPending()?this.mPendingLevelIndex=n:this.startLevel(n)}else this.mLevelRemainingActionGoal-=u,m=!1;if(n>t){var P=this.getLevelParams(t);P&&P.getBoolValue(l.x519697267331933906x)&&(this.mMessageParams.setIntValue(l.x4154390777278676273x,this.mLevelIndex),this.dispatchMessage(l.x3441132995988855501x,this,this.mMessageParams))}},r.x2766708504066152543x=function(){null!==this.mMessageParams&&(this.mMessageParams.destroy(),this.mMessageParams=null),e.prototype.x2766708504066152543x.call(this)},r.x3139096472792676868x=function(e,a,t,n){switch(e){case o.x3461483973768069303x:return a;case o.x353128994538654894x:return 0;case o.x3589770202422279121x:return this.mLevelElapsedTimeMSEC>=0&&(this.mLevelElapsedTimeMSEC+=n,this.mLevelEndConditionType==l.x1824530537601327475x&&this.mLevelElapsedTimeMSEC>=this.mLevelEndConditionTargetValue&&this.processCurrentLevelRemainingActionGoal(1,!1)),n;case o.x2931974030808705080x:default:return 0}},r.x976210321608527258x=function(e,a,t){if(a==this.mControlComponent)switch(e){case d.x4491464698703395871x:switch(this.mLevelEndConditionType){case l.x1750413505012432364x:switch(t.getIntValue(d.x331532947125194439x)){case _.x1163264438382801197x:case _.x1148181501057868572x:this.processCurrentLevelRemainingActionGoal(1,!1)}break;case l.x1677466644092856926x:switch(t.getIntValue(d.x331532947125194439x)){case _.x3037978297644400982x:case _.x3627316749632917279x:case _.x1045657441224132560x:case _.x1632269064637221348x:this.processCurrentLevelRemainingActionGoal(1,!1)}break;case l.x194384548025723354x:this.processPieceXEndCondition()}}else if(a==this.mScoreComponent)switch(e){case k.x2401449302245799433x:this.processScoreEventMessage(t)}else if(a==this.getPlayer())switch(e){case P.x2278663471402292977x:this.mScoreComponent=this.getPlayer().getComponent(k.x2916177341484739471x),this.mScoreComponent&&this.mScoreComponent.addMessageListener(this),this.mControlComponent=this.getPlayer().getComponent(d.x3301674176453018463x),this.mControlComponent&&this.mControlComponent.addMessageListener(this),this.startLevel(this.getParams().getIntValue(l.x3979234455250196779x))}else if(a==this.getGame()){var n=this.getGame();switch(e){case u.x819623676867487918x:switch(n.getCurrentState()){case u.x4426913439973074479x:this.mPendingLevelIndex>=0&&(this.startLevel(this.mPendingLevelIndex),this.mPendingLevelIndex=-1)}}}},t(l,null,[{key:"x1109057396118299453x",get:function(){return 385983840}},{key:"x3979234455250196779x",get:function(){return 485883807}},{key:"x2885530622023613176x",get:function(){return 286203276}},{key:"x1762636206279047293x",get:function(){return 357672730}},{key:"x29137099010631933x",get:function(){return 1955077050}},{key:"x2927380417122941853x",get:function(){return 1603663720}},{key:"x4492388641263984473x",get:function(){return 1250012754}},{key:"x3520616868697023296x",get:function(){return 2071300818}},{key:"x2509688979644481912x",get:function(){return 1241027820}},{key:"x3682057520897767799x",get:function(){return 171961503}},{key:"x143585902790855539x",get:function(){return 1304739915}},{key:"x4429505227145459201x",get:function(){return 1673420803}},{key:"x1284968897886898391x",get:function(){return 1188309429}},{key:"x4479641415361064530x",get:function(){return 360805488}},{key:"x2945014272570471193x",get:function(){return 1472514076}},{key:"x2086480628059169262x",get:function(){return 1667761981}},{key:"x2130798802903339537x",get:function(){return 1905391174}},{key:"x990173398089030427x",get:function(){return 2024814419}},{key:"x896789259345180053x",get:function(){return 108231374}},{key:"x3717730523405420733x",get:function(){return 53490867}},{key:"x3307274893218727152x",get:function(){return 495642761}},{key:"x2898328190179806124x",get:function(){return 733271954}},{key:"x1074883652037225375x",get:function(){return 852695199}},{key:"x4601056244479192746x",get:function(){return 135281650}},{key:"x427918919419946427x",get:function(){return 1818060953}},{key:"x732297382166996544x",get:function(){return 385983840}},{key:"x3142946539742012286x",get:function(){return 728817068}},{key:"x3948923322474734873x",get:function(){return 2004467484}},{key:"x4549909279642955911x",get:function(){return 1188213234}},{key:"x443033029413257013x",get:function(){return 1587188853}},{key:"x2613812077990580685x",get:function(){return 1205693224}},{key:"x2152961239449208997x",get:function(){return 477905680}},{key:"x3078109380424971319x",get:function(){return 1011251269}},{key:"x340986297634955475x",get:function(){return 1430739843}},{key:"x1290901560865158842x",get:function(){return 1135737762}},{key:"x3264538393570454731x",get:function(){return 1337055948}},{key:"x1580662662633700056x",get:function(){return 1603947392}},{key:"x2164982330667658026x",get:function(){return 384192327}},{key:"x1687170967805915413x",get:function(){return 2044242970}},{key:"x3036979306975779172x",get:function(){return 282277049}},{key:"x4555918415202139028x",get:function(){return 1534606224}},{key:"x3602030204303870475x",get:function(){return 227519090}},{key:"x3402306380075644685x",get:function(){return 167210893}},{key:"x60617438372103938x",get:function(){return 2139584221}},{key:"x725566932179369156x",get:function(){return 219898226}},{key:"x3995219909313477895x",get:function(){return 1213093393}},{key:"x3602426786701774148x",get:function(){return 639050091}},{key:"x3035308166494852955x",get:function(){return 1104766767}},{key:"x3311097224371421498x",get:function(){return 1104766767}},{key:"x2018523287053767179x",get:function(){return 1104766767}},{key:"x2235779199159753730x",get:function(){return 1104766767}},{key:"x4598737849010883298x",get:function(){return 1104766767}},{key:"x519697267331933906x",get:function(){return 1600192595}},{key:"x1872747333233150542x",get:function(){return 618136206}},{key:"x664534238825444556x",get:function(){return 512613131}},{key:"x1750413505012432364x",get:function(){return 17748539}},{key:"x1677466644092856926x",get:function(){return 1510828305}},{key:"x194384548025723354x",get:function(){return 1735239899}},{key:"x1824530537601327475x",get:function(){return 228502562}},{key:"x1457963563670105106x",get:function(){return 1284037203}},{key:"x962074113366836009x",get:function(){return 429520410}},{key:"x3441132995988855501x",get:function(){return 1221981006}},{key:"x2374827856532033883x",get:function(){return 2012803077}},{key:"x4154390777278676273x",get:function(){return 1386842367}},{key:"x4209450311333888677x",get:function(){return 1365953012}}]),l}(r));l._RF.pop()}}}));System.register("chunks:///_virtual/x2706134342423168171x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x2384331738405430424x.ts","./x1825263265700717187x.ts","./x2938621194761123466x.ts","./x975618616374684578x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var i,e,n,s,r,a,o,h,l;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy},function(t){s=t.x4472346643782045245x},function(t){r=t.x2384331738405430424x},function(t){a=t.x1825263265700717187x},function(t){o=t.x2938621194761123466x},function(t){h=t.x975618616374684578x},function(t){l=t.x1390687146982484874x}],execute:function(){n._RF.push({},"1d52dZH85xNoqXC96753/vI","x2706134342423168171x",void 0);t("x2706134342423168171x",function(t){function n(i,e,n,s){var r;for((r=t.call(this)||this).mScratchCellDataGrid=new Array,r.mPlayerIndex=s,r.mWidth=i,r.mHeight=e,r.mVisibleHeight=n,r.mMinosGrid=new o(i*e),r.mScratchCellDataGrid.length=0;r.mScratchCellDataGrid.length<i*e;)r.mScratchCellDataGrid.push(0);return r.mExternalMinosAbove=new o(0),r.mExternalMinosBelow=new o(0),r.mDidMatrixDestabilizeInternal=!1,r.mForcedDestabilizeCount=0,r.mForceDisableMovementCount=0,r.mIsGravityLimited=!0,r.mGravityStepElapsedTimeMSEC=-1,r.mGravityMSECPerLineMax=50,r.mGravityMSECPerLineMin=50,r.mGravityMSECPerLineDeltaPerSEC=0,r.mCurrentGravityMSECPerLine=0,r.mMovingMinos=new o(0),r.mMovingMinos.reserveCapacity(i*e),r.mIsVerticalShiftEnabled=!1,r.mIsVerticalShiftUpwards=!0,r.mVerticalShiftMSECPerLine=100,r.mVerticalShiftStepElapsedTimeMSEC=-1,r.mVerticalShiftMinoInitialYOffset=0,r.mScratchMessageData=new a(!1),r.mMinoArrayPool=new h(100,r.mWidth),r.mScratchMinosArray=new o(0),r.mScratchMinosArray.reserveCapacity(i*e),r}i(n,t),n.getMinosMinY=function(t){var i=t.getNumObjects();if(i<=0)return 0;for(var e=l.x2812288279383445977x,n=0,s=0;s<i;s++)(n=t.getAtIndex(s).getY())<e&&(e=n);return e},n.getMinosMaxY=function(t){var i=t.getNumObjects();if(i<=0)return 0;for(var e=l.x2311178134419187541x,n=0,s=0;s<i;s++)(n=t.getAtIndex(s).getY())>e&&(e=n);return e},n.getMinoPatternMatchesMinY=function(t){var i=t.getNumObjects();if(i<=0)return 0;for(var e=l.x2812288279383445977x,s=0,r=0;r<i;r++){var a=t.getAtIndex(r);(s=n.getMinosMinY(a))<e&&(e=s)}return e},n.getMinoPatternMatchesMaxY=function(t){var i=t.getNumObjects();if(i<=0)return 0;for(var e=l.x2311178134419187541x,s=0,r=0;r<i;r++){var a=t.getAtIndex(r);(s=n.getMinosMaxY(a))>e&&(e=s)}return e};var s=n.prototype;return s.getPlayerIndex=function(){return this.mPlayerIndex},s.getWidth=function(){return this.mWidth},s.getHeight=function(){return this.mHeight},s.getVisibleHeight=function(){return this.mVisibleHeight},s.isSizeEqual=function(t,i,e){return this.mWidth==t&&this.mHeight==i&&this.mVisibleHeight==e},s.isCellInsideMatrix=function(t,i){return!(t<0)&&(!(t>=this.mWidth)&&(!(i<0)&&!(i>=this.mHeight)))},s.isCellInsideVisibleMatrix=function(t,i){return!(t<0)&&(!(t>=this.mWidth)&&(!(i<0)&&!(i>=this.mVisibleHeight)))},s.getMinoAt=function(t,i){return this.isCellInsideMatrix(t,i)?this.mMinosGrid.getAtIndex(this.computeGridIndex(t,i)):null},s.insertMinoAt=function(t,i,e){if(t){this.isCellInsideMatrix(i,e)||(i=0,e=0);var n=this.getMinoAt(i,e);null!==n&&(n.destroy(),n=null),t.setPosition(i,e),t.setInitialPosition(i,this.mVerticalShiftMinoInitialYOffset+e),t.setLogicalState(r.x4418531170524797231x),t.resetFallSteps(this.mIsGravityLimited),this.mMinosGrid.setAtIndex(this.computeGridIndex(i,e),t)}},s.removeMinoAt=function(t,i){var e=this.getMinoAt(t,i);e&&(this.unstickMino(e),this.mMinosGrid.setAtIndex(this.computeGridIndex(t,i),null),this.destabilizeInternal())},s.destroyMinoAt=function(t,i){var e=this.getMinoAt(t,i);e&&(this.removeMinoAt(t,i),null!==e&&(e.destroy(),e=null))},s.hasAnyLiveMinos=function(){for(var t=this.getHighestMinoY(),i=0;i<=t;i++)for(var e=0;e<this.mWidth;e++){var n=this.getMinoAt(e,i);if(n&&n.isLive())return!0}return!1},s.hasAnyMinosInRow=function(t){for(var i=0;i<this.mWidth;i++){if(this.getMinoAt(i,t))return!0}return!1},s.hasAnyMinosInRowWithMinoTypeId=function(t,i){for(var e=0;e<this.mWidth;e++){var n=this.getMinoAt(e,t);if(n&&n.getMinoTypeId()==i)return!0}return!1},s.hasAnyMinosInRowWithLogicalState=function(t,i){for(var e=0;e<this.mWidth;e++){var n=this.getMinoAt(e,t);if(n&&n.getLogicalState()==i)return!0}return!1},s.getHighestMinoY=function(){for(var t=this.mHeight-1;t>=0;t--)if(this.hasAnyMinosInRow(t))return t;return-1},s.getHighestMinoYWithMinoTypeId=function(t){for(var i=this.mHeight-1;i>=0;i--)if(this.hasAnyMinosInRowWithMinoTypeId(i,t))return i;return-1},s.getHighestMinoYWithLogicalState=function(t){for(var i=this.mHeight-1;i>=0;i--)if(this.hasAnyMinosInRowWithLogicalState(i,t))return i;return-1},s.getMinosInRect=function(t,i,e,n,s){var r=0,a=l.clampInt(t+e,0,this.mWidth),o=l.clampInt(i+n,0,this.mHeight);t=l.clampInt(t,0,this.mWidth);for(var h=i=l.clampInt(i,0,this.mHeight);h<o;h++)for(var c=t;c<a;c++){var M=this.getMinoAt(c,h);M&&(r++,s.pushBack(M))}return r},s.getMinosWithLogicalStates=function(t,i,e,n){for(var s=0,a=this.mWidth*this.mHeight,o=0;o<a;o++){var h=this.getMinoAtIndex(o);if(h)switch(h.getLogicalState()){case r.x4418531170524797231x:t&&(s++,n.pushBack(h));break;case r.x2888872409233056218x:i&&(s++,n.pushBack(h));break;case r.x2197645481220261035x:case r.x761328147008202104x:e&&(s++,n.pushBack(h))}}return s},s.getNumMinosWithActionItems=function(){for(var t=0,i=this.mWidth*this.mHeight,e=0;e<i;e++){var n=this.getMinoAtIndex(e);n&&n.getMinoPlayerActionItem()&&t++}return t},s.getMinosWithActionItems=function(t){for(var i=0,e=this.mWidth*this.mHeight,n=0;n<e;n++){var s=this.getMinoAtIndex(n);s&&s.getMinoPlayerActionItem()&&(i++,t.pushBack(s))}return i},s.createAndInsertMinos=function(t,i){if(t&&0!=t.getNumValues()){var e=null;if(i){this.mMovingMinos.removeAll();for(var n=this.mWidth*this.mHeight,s=0;s<n;s++)null!==(e=this.getMinoAtIndex(s))&&(e.destroy(),e=null),this.mMinosGrid.setAtIndex(s,null)}var a=t.getNumValues();a=l.minInt(a,this.mHeight);for(var o=0;o<a;o++){var h=t.getStringValueAtIndex(a-1-o),c=h.length;c=l.minInt(c,this.mWidth);for(var M=0;M<c;M++){var m=l.substringFromIndexWithLength(h,M,1);if("-"!=m){var g=l.getStandardPieceTypeId(m);(e=new r).setMinoTypeId(g),e.setCanFall(!0),e.setIsMatchable(!0),e.setIsKillable(!0),this.insertMinoAt(e,M,o)}}}}},s.insertMinosFromPiece=function(t){for(var i=t.getNumMinos(),e=0;e<i;e++){var n=t.getMinoAtIndex(e);n.setCanFall(!0),n.setIsMatchable(!0),n.setIsKillable(!0),this.insertMinoAt(n,n.getX(),n.getY())}t.removeAllMinos()},s.canInsertPiece=function(t){for(var i=t.getNumMinos(),e=0;e<i;e++){var n=t.getMinoAtIndex(e);if(!this.isCellInsideMatrix(n.getX(),n.getY())||this.getMinoAt(n.getX(),n.getY()))return!1}return!0},s.isPieceFullyInsideVisibleMatrix=function(t){for(var i=t.getNumMinos(),e=0;e<i;e++){var n=t.getMinoAtIndex(e);if(!this.isCellInsideVisibleMatrix(n.getX(),n.getY())||this.getMinoAt(n.getX(),n.getY()))return!1}return!0},s.isPieceFullyOutsideVisibleMatrix=function(t){for(var i=t.getNumMinos(),e=0;e<i;e++){var n=t.getMinoAtIndex(e);if(this.isCellInsideVisibleMatrix(n.getX(),n.getY())||this.getMinoAt(n.getX(),n.getY()))return!1}return!0},s.findMinoPatternMatches=function(t,i,e,n){var s=0,r=null;for(i.startIterating();i.isIteratorValid();){e.getNumObjects()<=s&&(r=n.x1002648176477665588x(0),e.pushBack(r)),r=e.getAtIndex(s);var a=i.getCurrentX(),o=i.getCurrentY();for(t.startIterating();t.isIteratorValid();){var h=this.getMinoAt(a+t.getCurrentX(),o+t.getCurrentY());h&&h.isMatchable()?(r.pushBack(h),t.advanceIterator()):(r.removeAll(),t.invalidateIterator())}r.getNumObjects()>0&&s++,i.advanceIterator()}for(var l=e.getNumObjects()-1;l>=0;l--)0==(r=e.getAtIndex(l)).getNumObjects()&&(e.removeAtIndex(l),n.recycleObject(r));return s},s.setMinoPatternMatchesMinoTypeId=function(t,i){for(var e=t.getNumObjects(),n=0;n<e;n++)for(var s=t.getAtIndex(n),r=s.getNumObjects(),a=0;a<r;a++){s.getAtIndex(a).setMinoTypeId(i)}},s.setMinoPatternMatchesLogicalState=function(t,i){for(var e=t.getNumObjects(),n=0;n<e;n++)for(var s=t.getAtIndex(n),r=s.getNumObjects(),a=0;a<r;a++){s.getAtIndex(a).setLogicalState(i)}},s.unstickMinoPatternMatches=function(t){for(var i=t.getNumObjects(),e=0;e<i;e++){var n=t.getAtIndex(e);this.unstickMinos(n)}},s.unstickMinos=function(t){for(var i=t.getNumObjects(),e=0;e<i;e++)this.unstickMino(t.getAtIndex(e))},s.shatterMinoPatternMatches=function(t,i){this.mScratchMessageData.setObjectValue(n.x1962986316494257234x,t),this.dispatchMessage(n.x2693217113497475490x,this,this.mScratchMessageData),this.mScratchMessageData.clearObjectValues();for(var e=t.getNumObjects(),s=0;s<e;s++){var r=t.getAtIndex(s);this.shatterMinos(r,i)}},s.shatterMinos=function(t,i){this.mScratchMessageData.setObjectValue(n.x2755558217284321637x,t),this.dispatchMessage(n.x3758149950634928344x,this,this.mScratchMessageData),this.mScratchMessageData.clearObjectValues();for(var e=t.getNumObjects(),s=0;s<e;s++)this.shatterMino(t.getAtIndex(s),i)},s.shatterMino=function(t,i){t&&(this.mScratchMessageData.setObjectValue(n.x2980055457588518480x,t),this.dispatchMessage(n.x1265705154482254186x,this,this.mScratchMessageData),this.mScratchMessageData.clearObjectValues(),t.shatter(i)&&this.destabilizeInternal())},s.killMinoPatternMatches=function(t,i,e){for(var n=t.getNumObjects(),s=0;s<n;s++){var r=t.getAtIndex(s);this.killMinos(r,i,e)}},s.killMinos=function(t,i,e){this.mScratchMessageData.setObjectValue(n.x1604641793113321170x,t),this.dispatchMessage(n.x4081888631945616839x,this,this.mScratchMessageData),this.mScratchMessageData.clearObjectValues();for(var s=t.getNumObjects(),r=0;r<s;r++)this.killMino(t.getAtIndex(r),i,e)},s.killMino=function(t,i,e){t&&(this.mScratchMessageData.setObjectValue(n.x2208952345841194565x,t),this.dispatchMessage(n.x2076442862645559003x,this,this.mScratchMessageData),this.mScratchMessageData.clearObjectValues(),this.unstickMino(t),t.kill(i,e),this.destabilizeInternal())},s.setIsGravityLimited=function(t){this.mIsGravityLimited=t},s.setGravityMSECPerLineMax=function(t){this.mGravityMSECPerLineMax=t},s.setGravityMSECPerLineMin=function(t){this.mGravityMSECPerLineMin=t},s.setGravityMSECPerLineDeltaPerSEC=function(t){this.mGravityMSECPerLineDeltaPerSEC=t},s.setIsVerticalShiftEnabled=function(t){this.mIsVerticalShiftEnabled=t},s.setIsVerticalShiftUpwards=function(t){this.mIsVerticalShiftUpwards=t},s.setVerticalShiftMSECPerLine=function(t){this.mVerticalShiftMSECPerLine=t},s.getNumExternalRowsAbove=function(){return this.mExternalMinosAbove.getNumObjects()},s.getExternalMinoAbove=function(t,i){return i>=this.getNumExternalRowsAbove()?null:this.mExternalMinosAbove.getAtIndex(i).getAtIndex(t)},s.addExternalRowAbove=function(t,i){for(var e=l.minInt(t.getNumObjects(),this.mWidth),n=this.mMinoArrayPool.x1002648176477665588x(e),s=0;s<e;s++){var a=t.getAtIndex(s);a&&(a.setPosition(s,0),a.setInitialPosition(s,this.mVerticalShiftMinoInitialYOffset+this.mHeight),a.setLogicalState(r.x4418531170524797231x)),n.setAtIndex(s,a),t.setAtIndex(s,null)}i?this.mExternalMinosAbove.pushFront(n):this.mExternalMinosAbove.pushBack(n)},s.destroyAllExternalMinosAbove=function(){this.mExternalMinosAbove.destroyAllInObjectsAsObjectArrays(),this.mExternalMinosAbove.destroyAll()},s.getNumExternalRowsBelow=function(){return this.mExternalMinosBelow.getNumObjects()},s.getExternalMinoBelow=function(t,i){return i>=this.getNumExternalRowsBelow()?null:this.mExternalMinosBelow.getAtIndex(i).getAtIndex(t)},s.addExternalRowBelow=function(t,i){for(var e=l.minInt(t.getNumObjects(),this.mWidth),n=this.mMinoArrayPool.x1002648176477665588x(e),s=0;s<e;s++){var a=t.getAtIndex(s);a&&(a.setPosition(s,0),a.setInitialPosition(s,this.mVerticalShiftMinoInitialYOffset-1),a.setLogicalState(r.x2888872409233056218x)),n.setAtIndex(s,a),t.setAtIndex(s,null)}i?this.mExternalMinosBelow.pushFront(n):this.mExternalMinosBelow.pushBack(n)},s.destroyAllExternalMinosBelow=function(){this.mExternalMinosBelow.destroyAllInObjectsAsObjectArrays(),this.mExternalMinosBelow.destroyAll()},s.findMovableMinosInRect=function(t,i,e,s,r,a){var o=0,h=0,c=0,M=null,m=l.minInt(t+e,this.mWidth),g=l.minInt(i+s,this.mHeight);for(h=i;h<g;h++)for(o=t;o<m;o++)c=l.computeGridIndex(o,h,this.mWidth),(M=this.getMinoAtIndex(c))?this.canMinoMoveInRect(M,t,i,e,s,r)?this.mScratchCellDataGrid[c]=n.x1962567911700066164x:this.mScratchCellDataGrid[c]=n.x3992505329086339807x:this.mScratchCellDataGrid[c]=0;for(h=i;h<g;h++)for(o=t;o<m;o++)c=l.computeGridIndex(o,h,this.mWidth),(M=this.getMinoAtIndex(c))&&this.mScratchCellDataGrid[c]==n.x3992505329086339807x&&this.propagateMinoCannotMove(M,r);for(a.removeAll(),h=i;h<g;h++)for(o=t;o<m;o++)c=l.computeGridIndex(o,h,this.mWidth),(M=this.getMinoAtIndex(c))&&this.mScratchCellDataGrid[c]==n.x1962567911700066164x&&a.pushBack(M);for(h=i;h<g;h++)for(o=t;o<m;o++)c=l.computeGridIndex(o,h,this.mWidth),this.mScratchCellDataGrid[c]=0},s.canMoveMinosInRect=function(t,i,e,n,s){this.mScratchMinosArray.removeAll(),this.findMovableMinosInRect(t,i,e,n,s,this.mScratchMinosArray);var r=this.mScratchMinosArray.getNumObjects();return this.mScratchMinosArray.removeAll(),r>0},s.moveMinosInRect=function(t,i,e,n,s){var r=0,a=null;if(this.mScratchMinosArray.removeAll(),this.findMovableMinosInRect(t,i,e,n,s,this.mScratchMinosArray),0==this.mScratchMinosArray.getNumObjects())return!1;var o=this.mScratchMinosArray.getNumObjects();for(r=0;r<o;r++)a=this.mScratchMinosArray.getAtIndex(r),this.mMinosGrid.setAtIndex(this.computeGridIndex(a.getX(),a.getY()),null);for(r=0;r<o;r++)(a=this.mScratchMinosArray.getAtIndex(r)).move(s),this.destroyMinoAt(a.getX(),a.getY()),this.mMinosGrid.setAtIndex(this.computeGridIndex(a.getX(),a.getY()),a);return this.mScratchMinosArray.removeAll(),!0},s.invertMinosX=function(t,i){var e=t.getNumObjects(),n=0,s=null;for(n=0;n<e;n++)s=t.getAtIndex(n),this.mMinosGrid.setAtIndex(this.computeGridIndex(s.getX(),s.getY()),null);for(n=0;n<e;n++)(s=t.getAtIndex(n)).setPosition(i-s.getX(),s.getY()),this.destroyMinoAt(s.getX(),s.getY()),this.mMinosGrid.setAtIndex(this.computeGridIndex(s.getX(),s.getY()),s)},s.invertMinosY=function(t,i){var e=t.getNumObjects(),n=0,s=null;for(n=0;n<e;n++)s=t.getAtIndex(n),this.mMinosGrid.setAtIndex(this.computeGridIndex(s.getX(),s.getY()),null);for(n=0;n<e;n++)(s=t.getAtIndex(n)).setPosition(s.getX(),i-s.getY()),this.destroyMinoAt(s.getX(),s.getY()),this.mMinosGrid.setAtIndex(this.computeGridIndex(s.getX(),s.getY()),s)},s.setMinosVisualAnimationOffsetX_FXPT=function(t){for(var i=this.mWidth*this.mHeight,e=0;e<i;e++){var n=this.getMinoAtIndex(e);n&&n.setVisualAnimationOffsetX_FXPT(t)}},s.setMinosVisualAnimationOffsetY_FXPT=function(t){for(var i=this.mWidth*this.mHeight,e=0;e<i;e++){var n=this.getMinoAtIndex(e);n&&n.setVisualAnimationOffsetY_FXPT(t)}},s.setMinosVisualAnimationOffsetXY_FXPT=function(t,i){for(var e=this.mWidth*this.mHeight,n=0;n<e;n++){var s=this.getMinoAtIndex(n);s&&(s.setVisualAnimationOffsetX_FXPT(t),s.setVisualAnimationOffsetY_FXPT(i))}},s.isStable=function(){if(this.mDidMatrixDestabilizeInternal||this.mForcedDestabilizeCount>0||this.isVerticalShiftActive())return!1;for(var t=this.mWidth*this.mHeight,i=0;i<t;i++){var e=this.getMinoAtIndex(i);if(e&&!e.isStable())return!1}return!0},s.pushDestabilize=function(){this.mForcedDestabilizeCount++},s.popDestabilize=function(){this.mForcedDestabilizeCount--,this.mForcedDestabilizeCount<0&&(this.mForcedDestabilizeCount=0)},s.isMovementEnabled=function(){return this.mForceDisableMovementCount<=0},s.pushMovementDisabled=function(){this.mForceDisableMovementCount++},s.popMovementDisabled=function(){this.mForceDisableMovementCount--,this.mForceDisableMovementCount<0&&(this.mForceDisableMovementCount=0)},s.areAnyMinosObscured=function(){var t=0,i=this.mWidth*this.mHeight,e=null;for(t=0;t<i;t++)if((e=this.getMinoAtIndex(t))&&e.getObscurationFactor_FXPT()>0)return!0;return!1},s.setObscurationFactor_FXPT=function(t){var i=0,e=this.mWidth*this.mHeight,n=null;for(i=0;i<e;i++)(n=this.getMinoAtIndex(i))&&n.setObscurationFactor_FXPT(t)},s.setColumnObscurationFactor_FXPT=function(t,i){for(var e=0;e<this.mHeight;e++){var n=this.getMinoAt(t,e);n&&n.setObscurationFactor_FXPT(i)}},s.processTime=function(t){var i=0,e=this.mWidth*this.mHeight,n=null;for(i=0;i<e;i++)if(n=this.getMinoAtIndex(i))switch(n.processTime(t),n.getLogicalState()){case r.x2197645481220261035x:case r.x761328147008202104x:this.unstickMino(n);break;case r.x1578295516015752124x:this.destroyMinoAt(n.getX(),n.getY())}!this.mIsGravityLimited&&this.mDidMatrixDestabilizeInternal&&(this.resetAllMinosFallSteps(!1),this.mDidMatrixDestabilizeInternal=!1),this.processMovement(t),!this.mIsGravityLimited&&this.mDidMatrixDestabilizeInternal&&(this.resetAllMinosFallSteps(!1),this.mDidMatrixDestabilizeInternal=!1),this.mDidMatrixDestabilizeInternal=!1},s.computeGridIndex=function(t,i){return i*this.mWidth+t},s.getMinoAtIndex=function(t){return this.mMinosGrid.getAtIndex(t)},s.stickMino=function(t){if(t){t.setStickyBits(0);for(var i=l.x2484402922611265012x;i<=l.x4268706274728069679x;i<<=1){var e=this.getMinoNeighbor(t,i,!1);t.canStickToMino(e)&&(t.setIsStuckInDirection(i,!0),e.setIsStuckInDirection(l.getOppositeDirection(i),!0))}}},s.stickIncomingMino=function(t,i,e){t&&(t.setInitialPosition(i,this.mVerticalShiftMinoInitialYOffset+e),e<0?(this.stickIncomingMinoInNeighborDirection(t,i,e,l.x4268706274728069679x),this.stickIncomingMinoInNeighborDirection(t,i,e,l.x2484402922611265012x),this.stickIncomingMinoInNeighborDirection(t,i,e,l.x3244718963149409389x)):e>=this.mHeight&&(this.stickIncomingMinoInNeighborDirection(t,i,e,l.x1608540311894516498x),this.stickIncomingMinoInNeighborDirection(t,i,e,l.x4064892280639253967x),this.stickIncomingMinoInNeighborDirection(t,i,e,l.x3319376958055402371x)),t.validateStickyBits())},s.stickIncomingMinoInNeighborDirection=function(t,i,e,n){if(t){var s=this.getCellNeighbor(i,e,n,!0);t.canStickToMino(s)?(t.setIsStuckInDirection(n,!0),s.setIsStuckInDirection(l.getOppositeDirection(n),!0)):(t.setIsStuckInDirection(n,!1),s&&s.setIsStuckInDirection(l.getOppositeDirection(n),!1))}},s.unstickMino=function(t){if(t&&0!=t.getStickyBits()){var i=0,e=null;for(i=l.x2484402922611265012x;i<=l.x4268706274728069679x;i<<=1)(e=this.getMinoNeighbor(t,i,!0))&&e.setIsStuckInDirection(l.getOppositeDirection(i),!1);for(t.setStickyBits(0),i=l.x2484402922611265012x;i<=l.x4268706274728069679x;i<<=1)(e=this.getMinoNeighbor(t,i,!0))&&e.validateStickyBits();this.mIsGravityLimited||t.setCanFall(!0),this.destabilizeInternal()}},s.processMovement=function(t){!this.isStable()&&this.isMovementEnabled()&&(this.processGravity(t),this.processVerticalShift(t))},s.processGravity=function(t){var i=null,e=0;if(this.findMovingMinos(this.mMovingMinos),this.mIsGravityLimited&&0==this.mMovingMinos.getNumObjects()&&this.processLimitedGravity()&&this.findMovingMinos(this.mMovingMinos),this.mMovingMinos.getNumObjects()>0)if(this.mGravityStepElapsedTimeMSEC<0)this.mCurrentGravityMSECPerLine=this.mGravityMSECPerLineMax,this.mGravityStepElapsedTimeMSEC=0;else{var s=0,r=l.FXPTFromInt(this.mGravityMSECPerLineDeltaPerSEC),a=l.FXPTDivide(l.FXPTFromInt(t),l.FXPTFromInt(1e3)),o=l.FXPTMultiply(r,a),h=l.FXPTFromInt(this.mCurrentGravityMSECPerLine);for(this.mCurrentGravityMSECPerLine=l.FXPTToInt(h+o),this.mCurrentGravityMSECPerLine=l.clampInt(this.mCurrentGravityMSECPerLine,this.mGravityMSECPerLineMin,this.mGravityMSECPerLineMax),this.mGravityStepElapsedTimeMSEC+=t;this.mGravityStepElapsedTimeMSEC>=this.mCurrentGravityMSECPerLine&&this.mMovingMinos.getNumObjects()>0;){for(s=this.mMovingMinos.getNumObjects(),e=0;e<s;e++)i=this.mMovingMinos.getAtIndex(e),this.mMinosGrid.setAtIndex(this.computeGridIndex(i.getX(),i.getY()),null);for(e=0;e<s;e++)(i=this.mMovingMinos.getAtIndex(e)).fall(),this.destroyMinoAt(i.getX(),i.getY()),this.mMinosGrid.setAtIndex(this.computeGridIndex(i.getX(),i.getY()),i);this.findMovingMinos(this.mMovingMinos),this.mGravityStepElapsedTimeMSEC-=this.mCurrentGravityMSECPerLine}0==this.mMovingMinos.getNumObjects()&&(this.dispatchMessage(n.x1310216488710323262x,this,null),this.mGravityStepElapsedTimeMSEC=-1);var c=this.mCurrentGravityMSECPerLine>0?-l.FXPTDivide(l.FXPTFromInt(this.mGravityStepElapsedTimeMSEC),l.FXPTFromInt(this.mCurrentGravityMSECPerLine)):0;for(s=this.mMovingMinos.getNumObjects(),e=0;e<s;e++)(i=this.mMovingMinos.getAtIndex(e)).setVisualFallOffsetY_FXPT(c);this.mMovingMinos.removeAll()}else this.mGravityStepElapsedTimeMSEC=-1},s.processLimitedGravity=function(){if(!this.mIsGravityLimited)return!1;for(var t=this.getHighestMinoY(),i=0;i<t;i++)if(!this.hasAnyMinosInRow(i))for(var e=i+1;e<=t;e++)for(var n=0;n<this.mWidth;n++){var s=this.getMinoAt(n,e);s&&s.incrementRemainingFallSteps()}return!1},s.processVerticalShift=function(t){var i=null,e=0,s=0,a=null;if(this.isVerticalShiftActive()){if(this.mVerticalShiftStepElapsedTimeMSEC<0)this.mVerticalShiftStepElapsedTimeMSEC=0,this.stickVerticalShiftIncomingRow();else for(this.mVerticalShiftStepElapsedTimeMSEC+=t;this.mVerticalShiftStepElapsedTimeMSEC>=this.mVerticalShiftMSECPerLine&&this.isVerticalShiftActive();){var o=0,h=0,c=0,M=0,m=0,g=null,u=null;for(this.mIsVerticalShiftUpwards?(h=-1,o=l.maxInt(this.mHeight-2,h),c=-1,M=this.mHeight-1,m=0,g=this.mExternalMinosAbove,u=this.mExternalMinosBelow,this.mVerticalShiftMinoInitialYOffset--):(h=this.mHeight,o=l.minInt(1,h),c=1,M=0,m=this.mHeight-1,g=this.mExternalMinosBelow,u=this.mExternalMinosAbove,this.mVerticalShiftMinoInitialYOffset++),a=this.mMinoArrayPool.x1002648176477665588x(this.mWidth),g.pushFront(a),e=0;e<this.mWidth;e++)(i=this.getMinoAt(e,M))&&i.setPosition(e,M+c),a.setAtIndex(e,i),this.mMinosGrid.setAtIndex(this.computeGridIndex(e,M),null);a=null;for(var d=o;d!=h;){for(e=0;e<this.mWidth;e++)(i=this.getMinoAt(e,d))&&i.setPosition(e,d-c),this.mMinosGrid.setAtIndex(this.computeGridIndex(e,d),null),this.mMinosGrid.setAtIndex(this.computeGridIndex(e,d-c),i);d+=c}for(a=u.getAtIndex(0),u.popFront(),s=l.minInt(a.getNumObjects(),this.mWidth),e=0;e<s;e++)i=a.getAtIndex(e),a.setAtIndex(e,null),i&&(this.insertMinoAt(i,e,m),i.setLogicalState(r.x2888872409233056218x));this.mMinoArrayPool.recycleObject(a),a=null,this.stickVerticalShiftIncomingRow(),this.mVerticalShiftStepElapsedTimeMSEC-=this.mVerticalShiftMSECPerLine,this.mIsVerticalShiftUpwards?this.dispatchMessage(n.x4598992458170706570x,this,null):this.dispatchMessage(n.x2691254743590088201x,this,null)}this.mIsGravityLimited||this.isVerticalShiftActive()||this.destabilizeInternal()}else this.mVerticalShiftStepElapsedTimeMSEC=-1;var f=0;for(this.isVerticalShiftActive()&&(f=l.FXPTDivide(l.FXPTFromInt(this.mVerticalShiftStepElapsedTimeMSEC),l.FXPTFromInt(this.mVerticalShiftMSECPerLine)),this.mIsVerticalShiftUpwards||(f=-f)),s=this.mWidth*this.mHeight,e=0;e<s;e++)(i=this.getMinoAtIndex(e))&&i.setVisualShiftOffsetY_FXPT(f);if(this.getNumExternalRowsAbove()>0)for(s=(a=this.mExternalMinosAbove.getAtIndex(0)).getNumObjects(),e=0;e<s;e++)(i=a.getAtIndex(e))&&i.setVisualShiftOffsetY_FXPT(f);if(this.getNumExternalRowsBelow()>0)for(s=(a=this.mExternalMinosBelow.getAtIndex(0)).getNumObjects(),e=0;e<s;e++)(i=a.getAtIndex(e))&&i.setVisualShiftOffsetY_FXPT(f)},s.stickVerticalShiftIncomingRow=function(){var t=0,i=null;if(this.mIsVerticalShiftUpwards?(t=-1,i=this.mExternalMinosBelow):(t=this.mHeight,i=this.mExternalMinosAbove),0!=i.getNumObjects()){var e=i.getAtIndex(0);if(e)for(var n=l.minInt(e.getNumObjects(),this.mWidth),s=0;s<n;s++){var r=e.getAtIndex(s);this.stickIncomingMino(r,s,t)}}},s.findMovingMinos=function(t){var i=this.mWidth*this.mHeight,e=null,s=0;for(s=0;s<i;s++)(e=this.getMinoAtIndex(s))?e.canFall()?this.mScratchCellDataGrid[s]=n.x2278562239220358763x:this.mScratchCellDataGrid[s]=n.x2482834067221740885x:this.mScratchCellDataGrid[s]=0;for(s=0;s<i;s++)(e=this.getMinoAtIndex(s))&&this.mScratchCellDataGrid[s]==n.x2482834067221740885x&&this.propagateMinoCannotFall(e);for(t.removeAll(),s=0;s<i;s++)(e=this.getMinoAtIndex(s))&&this.mScratchCellDataGrid[s]==n.x2278562239220358763x&&t.pushBack(e)},s.resetAllMinosFallSteps=function(t){for(var i=this.mWidth*this.mHeight,e=0;e<i;e++){var n=this.getMinoAtIndex(e);n&&n.resetFallSteps(t)}},s.propagateMinoCannotFall=function(t){if(t){t.stopFall();var i=t.getX(),e=t.getY(),s=this.computeGridIndex(i,e);this.mScratchCellDataGrid[s]!=n.x1406555128586474019x&&(this.mScratchCellDataGrid[s]=n.x1406555128586474019x,this.propagateMinoCannotFall(this.getMinoNeighbor(t,l.x2484402922611265012x,!1)),this.propagateMinoCannotFall(this.getMinoNeighbor(t,l.x196245965280186343x,!0)),this.propagateMinoCannotFall(this.getMinoNeighbor(t,l.x4064892280639253967x,!0)),this.propagateMinoCannotFall(this.getMinoNeighbor(t,l.x3311267247859839537x,!0)))}},s.canMinoMoveInRect=function(t,i,e,n,s,r){switch(r){case l.x2484402922611265012x:return t.getY()<e+s-1;case l.x196245965280186343x:return t.getX()<i+n-1;case l.x4064892280639253967x:return t.getY()>e;case l.x3311267247859839537x:return t.getX()>i}return!1},s.propagateMinoCannotMove=function(t,i){if(t){var e=t.getX(),s=t.getY(),r=this.computeGridIndex(e,s);if(this.mScratchCellDataGrid[r]!=n.x4552613035831915739x){this.mScratchCellDataGrid[r]=n.x4552613035831915739x;var a=l.getOppositeDirection(i),o=l.rotateDirections90(a,!0),h=l.rotateDirections90(o,!0),c=l.rotateDirections90(h,!0);this.propagateMinoCannotMove(this.getMinoNeighbor(t,a,!1),i),this.propagateMinoCannotMove(this.getMinoNeighbor(t,o,!0),i),this.propagateMinoCannotMove(this.getMinoNeighbor(t,h,!0),i),this.propagateMinoCannotMove(this.getMinoNeighbor(t,c,!0),i)}}},s.getMinoNeighbor=function(t,i,e){if(!t)return null;var n=this.getCellNeighbor(t.getX(),t.getY(),i,!1);if(n&&e){var s=l.getOppositeDirection(i);return t.isStuckInDirection(i)&&n.isStuckInDirection(s)?n:null}return n},s.getCellNeighbor=function(t,i,e,n){var s=t,r=i;switch(e){case l.x2484402922611265012x:r+=1;break;case l.x3244718963149409389x:r+=1,s+=1;break;case l.x196245965280186343x:s+=1;break;case l.x3319376958055402371x:r-=1,s+=1;break;case l.x4064892280639253967x:r-=1;break;case l.x1608540311894516498x:r-=1,s-=1;break;case l.x3311267247859839537x:s-=1;break;case l.x4268706274728069679x:r+=1,s-=1}return s<0||s>=this.mWidth?null:r>=0&&r<this.mHeight?this.getMinoAt(s,r):n?r<0?this.getExternalMinoBelow(s,-r-1):this.getExternalMinoAbove(s,r-this.mHeight-1):null},s.isVerticalShiftActive=function(){return this.mIsVerticalShiftEnabled&&this.mVerticalShiftMSECPerLine>0&&(this.mIsVerticalShiftUpwards?this.getNumExternalRowsBelow():this.getNumExternalRowsAbove())>0},s.destabilizeInternal=function(){this.mDidMatrixDestabilizeInternal=!0},s.x2766708504066152543x=function(){this.mMovingMinos.removeAll(),null!==this.mMovingMinos&&(this.mMovingMinos.destroy(),this.mMovingMinos=null),this.mMinosGrid.destroyAll(),null!==this.mMinosGrid&&(this.mMinosGrid.destroy(),this.mMinosGrid=null),this.destroyAllExternalMinosAbove(),null!==this.mExternalMinosAbove&&(this.mExternalMinosAbove.destroy(),this.mExternalMinosAbove=null),this.destroyAllExternalMinosBelow(),null!==this.mExternalMinosBelow&&(this.mExternalMinosBelow.destroy(),this.mExternalMinosBelow=null),null!==this.mScratchMessageData&&(this.mScratchMessageData.destroy(),this.mScratchMessageData=null),null!==this.mMinoArrayPool&&(this.mMinoArrayPool.destroy(),this.mMinoArrayPool=null),this.mScratchMinosArray.removeAll(),null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),t.prototype.x2766708504066152543x.call(this)},e(n,null,[{key:"x2693217113497475490x",get:function(){return 133920054}},{key:"x1962986316494257234x",get:function(){return 1861366225}},{key:"x3758149950634928344x",get:function(){return 2015804576}},{key:"x2755558217284321637x",get:function(){return 1011251269}},{key:"x1265705154482254186x",get:function(){return 2100041331}},{key:"x2980055457588518480x",get:function(){return 2131289520}},{key:"x4081888631945616839x",get:function(){return 818438005}},{key:"x1604641793113321170x",get:function(){return 216897861}},{key:"x2076442862645559003x",get:function(){return 1495646334}},{key:"x2208952345841194565x",get:function(){return 1485075374}},{key:"x1310216488710323262x",get:function(){return 958636679}},{key:"x4598992458170706570x",get:function(){return 246329689}},{key:"x2691254743590088201x",get:function(){return 1430177376}},{key:"x2278562239220358763x",get:function(){return 1}},{key:"x2482834067221740885x",get:function(){return 2}},{key:"x1406555128586474019x",get:function(){return 3}},{key:"x1962567911700066164x",get:function(){return 4}},{key:"x3992505329086339807x",get:function(){return 5}},{key:"x4552613035831915739x",get:function(){return 6}}]),n}(s));n._RF.pop()}}}));System.register("chunks:///_virtual/x2384331738405430424x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x1390687146982484874x.ts","./x2132475033604646101x.ts"],(function(t){"use strict";var i,e,a,n,l,s;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){a=t.cclegacy},function(t){n=t.x4472346643782045245x},function(t){l=t.x1390687146982484874x},function(t){s=t.x2132475033604646101x}],execute:function(){a._RF.push({},"066e2DVgr5A1q45j0btr/g5","x2384331738405430424x",void 0);t("x2384331738405430424x",function(t){function a(){var i;return(i=t.call(this)||this).mMinoTypeId=0,i.mLogicalState=a.x1719209372222163494x,i.mLogicalStateElapsedTimeMSEC=0,i.mLogicalStateDurationMSEC=0,i.mLogicalStateTween_FXPT=0,i.mCanFall=!0,i.mIsMatchable=!0,i.mIsKillable=!0,i.mRemainingKills=0,i.mX=0,i.mY=0,i.mInitialX=0,i.mInitialY=0,i.mVisualFallOffsetY_FXPT=0,i.mVisualShiftOffsetY_FXPT=0,i.mVisualAnimationOffsetX_FXPT=0,i.mVisualAnimationOffsetY_FXPT=0,i.mStickyBits=0,i.mMinoPlayerActionItem=null,i.mObscurationFactor_FXPT=0,i}i(a,t);var n=a.prototype;return n.getMinoTypeId=function(){return this.mMinoTypeId},n.setMinoTypeId=function(t){this.mMinoTypeId=t},n.getLogicalState=function(){return this.mLogicalState},n.setLogicalState=function(t){this._setLogicalState(t,0)},n.getLogicalStateElapsedTimeMSEC=function(){return this.mLogicalStateElapsedTimeMSEC},n.getLogicalStateTween_FXPT=function(){return this.mLogicalStateTween_FXPT},n.setLogicalStateTween_FXPT=function(t){this.mLogicalStateTween_FXPT=t},n.canFall=function(){switch(this.mLogicalState){case a.x1173741150021443541x:case a.x1578295516015752124x:return!1;default:return this.mCanFall&&this.mY>0&&this.mRemainingFallSteps>0}},n.setCanFall=function(t){this.mCanFall=t},n.resetFallSteps=function(t){this.mRemainingFallSteps=t?0:l.x2812288279383445977x,this.mVisualFallOffsetY_FXPT=0},n.incrementRemainingFallSteps=function(){this.mRemainingFallSteps<l.x2812288279383445977x-1&&this.mRemainingFallSteps++},n.fall=function(){this.canFall()&&(this.mY--,this.mRemainingFallSteps<l.x2812288279383445977x&&this.mRemainingFallSteps--)},n.stopFall=function(){this.mRemainingFallSteps=0,this.mVisualFallOffsetY_FXPT=0},n.move=function(t){switch(t){case l.x2484402922611265012x:this.mY++;break;case l.x196245965280186343x:this.mX++;break;case l.x4064892280639253967x:this.mY--;break;case l.x3311267247859839537x:this.mX--}},n.isMatchable=function(){return this.mIsMatchable},n.setIsMatchable=function(t){this.mIsMatchable=!0},n.shatter=function(t){switch(this.mLogicalState){case a.x4418531170524797231x:case a.x96024195983438242x:case a.x2888872409233056218x:case a.x3566893743968584298x:if(t>0)switch(this.mLogicalState){case a.x4418531170524797231x:case a.x96024195983438242x:this._setLogicalState(a.x96024195983438242x,t);break;case a.x2888872409233056218x:case a.x3566893743968584298x:this._setLogicalState(a.x3566893743968584298x,t)}else switch(this.mLogicalState){case a.x4418531170524797231x:case a.x96024195983438242x:this._setLogicalState(a.x2197645481220261035x,t);break;case a.x2888872409233056218x:case a.x3566893743968584298x:this._setLogicalState(a.x761328147008202104x,t)}return!0;default:return!1}},n.isLive=function(){switch(this.mLogicalState){case a.x1173741150021443541x:case a.x1578295516015752124x:return!1;default:return!0}},n.isKillable=function(){return this.mIsKillable&&this.mRemainingKills<=0&&(!this.mMinoPlayerActionItem||this.mMinoPlayerActionItem.didActivate())},n.setIsKillable=function(t){this.mIsKillable=!0},n.getRemainingKills=function(){return this.mRemainingKills},n.setRemainingKills=function(t){this.mRemainingKills=t},n.kill=function(t,i){if(this.mMinoPlayerActionItem&&(i?this.tryActivateMinoPlayerActionItem():null!==this.mMinoPlayerActionItem&&(this.mMinoPlayerActionItem.destroy(),this.mMinoPlayerActionItem=null)),this.isKillable())switch(this.mLogicalState){case a.x4418531170524797231x:case a.x2197645481220261035x:case a.x2888872409233056218x:case a.x761328147008202104x:case a.x1173741150021443541x:t>0?this._setLogicalState(a.x1173741150021443541x,t):this._setLogicalState(a.x1578295516015752124x,0)}this.mRemainingKills>0&&this.mRemainingKills--},n.isStable=function(){switch(this.mLogicalState){case a.x96024195983438242x:case a.x3566893743968584298x:case a.x1173741150021443541x:case a.x1578295516015752124x:return!1;default:if(this.canFall())return!1}return!0},n.getX=function(){return this.mX},n.getY=function(){return this.mY},n.setPosition=function(t,i){this.mX=t,this.mY=i},n.getInitialX=function(){return this.mInitialX},n.getInitialY=function(){return this.mInitialY},n.setInitialPosition=function(t,i){this.mInitialX=t,this.mInitialY=i},n.getVisualX_FXPT=function(){return l.FXPTFromInt(this.mX)+this.mVisualAnimationOffsetX_FXPT},n.getVisualY_FXPT=function(){return l.FXPTFromInt(this.mY)+this.mVisualFallOffsetY_FXPT+this.mVisualShiftOffsetY_FXPT+this.mVisualAnimationOffsetY_FXPT},n.setVisualFallOffsetY_FXPT=function(t){this.mVisualFallOffsetY_FXPT=t},n.setVisualShiftOffsetY_FXPT=function(t){this.mVisualShiftOffsetY_FXPT=t},n.setVisualAnimationOffsetX_FXPT=function(t){this.mVisualAnimationOffsetX_FXPT=t},n.setVisualAnimationOffsetY_FXPT=function(t){this.mVisualAnimationOffsetY_FXPT=t},n.getStickyBits=function(){return this.mStickyBits},n.setStickyBits=function(t){this.mStickyBits=t},n.isStuckInDirection=function(t){return(this.mStickyBits&t)==t},n.setIsStuckInDirection=function(t,i){i?this.mStickyBits|=t:this.mStickyBits&=~t},n.validateStickyBits=function(){this.mStickyBits=l.validateStickyBits(this.mStickyBits)},n.canStickToMino=function(t){return t&&this.mMinoTypeId==t.mMinoTypeId&&this.mCanFall==t.mCanFall},n.getMinoPlayerActionItem=function(){return this.mMinoPlayerActionItem},n.attachPlayerAction=function(t,i){null!==this.mMinoPlayerActionItem&&(this.mMinoPlayerActionItem.destroy(),this.mMinoPlayerActionItem=null),this.mMinoPlayerActionItem=new s(this,t,i)},n.destroyPlayerAction=function(){null!==this.mMinoPlayerActionItem&&(this.mMinoPlayerActionItem.destroy(),this.mMinoPlayerActionItem=null)},n.getObscurationFactor_FXPT=function(){return this.mObscurationFactor_FXPT},n.setObscurationFactor_FXPT=function(t){this.mObscurationFactor_FXPT=l.clampInt(t,0,l.x2045759414872908808x)},n.processTime=function(t){if(this.mMinoPlayerActionItem&&(this.mMinoPlayerActionItem.processTime(t),this.mMinoPlayerActionItem.didActivate()&&null!==this.mMinoPlayerActionItem&&(this.mMinoPlayerActionItem.destroy(),this.mMinoPlayerActionItem=null)),this.mLogicalStateDurationMSEC>0){if(this.mLogicalStateElapsedTimeMSEC<this.mLogicalStateDurationMSEC)if(this.mLogicalStateElapsedTimeMSEC+=t,this.mLogicalStateElapsedTimeMSEC>=this.mLogicalStateDurationMSEC)switch(this.mLogicalStateElapsedTimeMSEC=this.mLogicalStateDurationMSEC,this.mLogicalStateTween_FXPT=l.x2045759414872908808x,this.mLogicalState){case a.x96024195983438242x:this._setLogicalState(a.x2197645481220261035x,0);break;case a.x3566893743968584298x:this._setLogicalState(a.x761328147008202104x,0);break;case a.x1173741150021443541x:this._setLogicalState(a.x1578295516015752124x,0)}else this.mLogicalStateTween_FXPT=l.FXPTDivide(l.FXPTFromInt(this.mLogicalStateElapsedTimeMSEC),l.FXPTFromInt(this.mLogicalStateDurationMSEC))}else this.mLogicalStateElapsedTimeMSEC+=t,this.mLogicalStateTween_FXPT=0},n._setLogicalState=function(t,i){switch(this.mLogicalState=t,this.mLogicalStateElapsedTimeMSEC=0,this.mLogicalStateDurationMSEC=i,this.mLogicalStateTween_FXPT=0,t){case a.x172275987817698842x:case a.x4375944479620694405x:case a.x4504825273042151964x:case a.x2263785423814173765x:case a.x3750735363819884705x:case a.x3118197035351235600x:case a.x1578295516015752124x:this.mCanFall=!1,this.mIsMatchable=!1,this.mIsKillable=!1;break;case a.x1173741150021443541x:this.mIsMatchable=!1,this.mIsKillable=!1}},n.tryActivateMinoPlayerActionItem=function(){this.mMinoPlayerActionItem&&this.mMinoPlayerActionItem.tryActivate()},n.x2766708504066152543x=function(){null!==this.mMinoPlayerActionItem&&(this.mMinoPlayerActionItem.destroy(),this.mMinoPlayerActionItem=null),t.prototype.x2766708504066152543x.call(this)},e(a,null,[{key:"x1719209372222163494x",get:function(){return 0}},{key:"x172275987817698842x",get:function(){return 1660688746}},{key:"x4375944479620694405x",get:function(){return 1978283288}},{key:"x4504825273042151964x",get:function(){return 963673670}},{key:"x2263785423814173765x",get:function(){return 803931831}},{key:"x3750735363819884705x",get:function(){return 1363350631}},{key:"x3118197035351235600x",get:function(){return 1648973022}},{key:"x4418531170524797231x",get:function(){return 845684953}},{key:"x96024195983438242x",get:function(){return 451273058}},{key:"x2197645481220261035x",get:function(){return 539438911}},{key:"x2888872409233056218x",get:function(){return 1997489507}},{key:"x3566893743968584298x",get:function(){return 961662188}},{key:"x761328147008202104x",get:function(){return 1599455541}},{key:"x1173741150021443541x",get:function(){return 1635965563}},{key:"x1578295516015752124x",get:function(){return 1709189334}},{key:"x1105279010852267609x",get:function(){return 304419727}}]),a}(n));a._RF.pop()}}}));System.register("chunks:///_virtual/x2848172429188458269x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x2362680020733037980x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var i,e,a,s,c;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){a=t.x2825914500079770252x},function(t){s=t.x2362680020733037980x},function(t){c=t.x1390687146982484874x}],execute:function(){e._RF.push({},"cb66bMHrUJA+5JJYhlfTDiB","x2848172429188458269x",void 0);t("x2848172429188458269x",function(t){function e(i,e,a,s,c,n,r){var o,m=c;return(o=t.call(this)||this).mIsSticky=s>=5*m&&n,o.mMaxNumStickyNeighbors=r,o.mSpacingInDestBitmap=1,o.mNativeBitmap=null,o.construct(i,e,a,s,c),o}i(e,t);var a=e.prototype;return a.getNativeBitmap=function(){return this.mNativeBitmap},a.getWidth=function(){return s.NativeBitmap_getWidth(this.mNativeBitmap)},a.getHeight=function(){return s.NativeBitmap_getHeight(this.mNativeBitmap)},a.getMinoX=function(t){return t*(this.getHeight()+this.mSpacingInDestBitmap)},a.isSticky=function(){return this.mIsSticky},a.getNumIndexedStickyBits=function(){if(!this.isSticky())return 1;switch(this.mMaxNumStickyNeighbors){case 0:case 1:case 2:case 3:return c.x1202564054033431097x;case 8:default:return c.x1562271628994622354x}},a.getIndexedStickyBits=function(t){switch(this.getNumIndexedStickyBits()){case 1:return 0;case c.x1202564054033431097x:return c.getIndexedStickyBitsMax3(t);case c.x1562271628994622354x:default:return c.getIndexedStickyBitsMax8(t)}},a.construct=function(t,i,e,a,n){var r=n;if(this.isSticky()){var o=~~(r/2),m=o+r%2,u=~~((a-5*r)/4),p=this.getNumIndexedStickyBits();this.mNativeBitmap=s.NativeBitmap_createWithSize((r+this.mSpacingInDestBitmap)*p,n,!0);for(var B=0;B<p;B++)for(var k=this.getIndexedStickyBits(B),S=c.x3244718963149409389x;S<=c.x4268706274728069679x;S<<=2){var h=this.getQuadrantIndexInBaseBitmap(S,k),N=~~(c.computeXFromGridIndex(h,10)/2)*(r+u),d=0,g=0,v=0,f=0,y=0,_=0;switch(S){case c.x3244718963149409389x:d=m,g=m,v=N+o,f=0,y=B*(r+this.mSpacingInDestBitmap)+o,_=f;break;case c.x3319376958055402371x:d=m,g=o,v=N+o,f=m,y=B*(r+this.mSpacingInDestBitmap)+o,_=f;break;case c.x1608540311894516498x:d=o,g=o,v=N,f=m,y=B*(r+this.mSpacingInDestBitmap),_=f;break;case c.x4268706274728069679x:d=o,g=m,v=N,f=0,y=B*(r+this.mSpacingInDestBitmap),_=f}s.NativeBitmap_copy(t,v,f,d,g,this.mNativeBitmap,y,_)}}else this.mNativeBitmap=s.NativeBitmap_createWithSize(r,r,!0),s.NativeBitmap_copy(t,i,e,r,r,this.mNativeBitmap,0,0)},a.getQuadrantIndexInBaseBitmap=function(t,i){var e,a=0,s=0,n=0;switch(t){case c.x3244718963149409389x:i&=c.x3415148147941047326x,s=1,n=0;break;case c.x3319376958055402371x:i&=c.x3040098973470816745x,e=(1&(i=c.rotateDirections90(i,!1)))<<2|(4&i)>>>2,i&=-6,i|=e,s=1,n=1;break;case c.x1608540311894516498x:i&=c.x1780148556534776737x,i=c.rotateDirections180(i),s=0,n=1;break;case c.x4268706274728069679x:i&=c.x4554766959962672639x,e=(1&(i=c.rotateDirections90(i,!0)))<<2|(4&i)>>>2,i&=-6,i|=e,s=0,n=0}switch(i){case 0:a=0;break;case 4:case 6:a=1;break;case 1:case 3:a=2;break;case 5:a=3;break;case 7:a=4}return 10*n+(2*a+s)},a.x2766708504066152543x=function(){s.NativeBitmap_release(this.mNativeBitmap),t.prototype.x2766708504066152543x.call(this)},e}(a));e._RF.pop()}}}));System.register("chunks:///_virtual/x2132475033604646101x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2034250350103582503x.ts","./x2825914500079770252x.ts"],(function(t){"use strict";var e,i,n,a,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){a=t.x2034250350103582503x},function(t){c=t.x2825914500079770252x}],execute:function(){n._RF.push({},"1f560LhqrRIu5kF9Z5uhai6","x2132475033604646101x",void 0);t("x2132475033604646101x",function(t){function n(e,i,a){var c;return(c=t.call(this,n.x3289033361053604601x,null)||this).mOwnerMino=e,c.mPlayerAction=i,c.mActivationType=a,c.mIsTryingToActivate=!1,i.setSpawnedMatrixPosition(e.getX(),e.getY()),c}e(n,t);var a=n.prototype;return a.getOwnerMino=function(){return this.mOwnerMino},a.getPlayerAction=function(){return this.mPlayerAction},a.preActivate=function(){this.setNextState(n.x2581374924334205391x,!1)},a.tryActivate=function(){if(this.mPlayerAction&&!this.mIsTryingToActivate)switch(this.mActivationType){case n.x2267504265286146599x:this.mIsTryingToActivate=!0,this.mPlayerAction.tryActivate(this.mOwnerMino.getX(),this.mOwnerMino.getY())?(this.mPlayerAction=null,this.setNextState(n.x3004597915030404921x,!1)):this.setNextState(n.x2581374924334205391x,!1),this.mIsTryingToActivate=!1;break;case n.x1594089641068066194x:this.getPlayerAction().setActivationMatrixPosition(this.mOwnerMino.getX(),this.mOwnerMino.getY()),this.getPlayerAction().getPlayer().enqueuePendingAction(this.mPlayerAction),this.mPlayerAction=null}},a.didActivate=function(){return!this.mPlayerAction||this.mPlayerAction.didActivate()},a.x2766708504066152543x=function(){null!==this.mPlayerAction&&(this.mPlayerAction.destroy(),this.mPlayerAction=null),t.prototype.x2766708504066152543x.call(this)},a.x3139096472792676868x=function(e,i,a,r){switch(i){case n.x3289033361053604601x:break;case n.x2581374924334205391x:switch(e){case c.x3589770202422279121x:return this.tryActivate(),r}}return t.prototype.x3139096472792676868x.call(this,e,i,a,r)},i(n,null,[{key:"x3289033361053604601x",get:function(){return 1}},{key:"x2581374924334205391x",get:function(){return 2}},{key:"x3004597915030404921x",get:function(){return 3}},{key:"x2267504265286146599x",get:function(){return 1}},{key:"x1594089641068066194x",get:function(){return 2}}]),n}(a));n._RF.pop()}}}));System.register("chunks:///_virtual/x4414577972885951283x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x2362680020733037980x.ts","./x2848172429188458269x.ts","./x2495712160562647907x.ts","./x1825263265700717187x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,i,a,n,o,s,l,c;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){a=t.x2825914500079770252x},function(t){n=t.x2362680020733037980x},function(t){o=t.x2848172429188458269x},function(t){s=t.x2495712160562647907x},function(t){l=t.x1825263265700717187x},function(t){c=t.x1390687146982484874x}],execute:function(){i._RF.push({},"16bf6UzzFJMhJHtbbYzXl79","x4414577972885951283x",void 0);t("x4414577972885951283x",function(t){function i(e){var i;return(i=t.call(this)||this).mMinoBitmapsByLogicalState=new l(!0),i.mMinoIsStickyByLogicalState=new l(!0),i.mMinoSpriteFramesByLogicalState=new l(!0),i.mDefaultLogicalState=e,i.mRemappedLogicalStates=new l(!0),i.mRemappedMinoTypes=new l(!0),i}e(i,t);var a=i.prototype;return a.addMinoBitmap=function(t,e,i,a,n,s,c,r,m){if(i){var S=this.mMinoBitmapsByLogicalState.getDictionary(t),u=this.mMinoIsStickyByLogicalState.getDictionary(t);S||(S=new l(!0),this.mMinoBitmapsByLogicalState.setObjectValue(t,S),u=new l(!0),this.mMinoIsStickyByLogicalState.setObjectValue(t,u));var p=new o(i,a,n,s,c,r,m);S.setObjectValue(e,p),u.setBoolValue(e,p.isSticky())}},a.remapMinoLogicalState=function(t,e){this.mRemappedLogicalStates.setIntValue(t,e)},a.remapMinoType=function(t,e){this.mRemappedMinoTypes.setIntValue(t,e)},a.constructSpriteFrames=function(){this.mMinoSpriteFramesByLogicalState.removeAllValues();var t,e=this.mMinoBitmapsByLogicalState.getNumValues(),i=0,a=0,o=0,r=null,m=null,S=null,u=null,p=0,g=0;for(i=0;i<e;i++)for(a=(r=this.mMinoBitmapsByLogicalState.getDictionaryAtIndex(i)).getNumValues(),o=0;o<a;o++)S=r.getObjectValueAtIndex(o),p=c.maxInt(p,S.getWidth()),g+=S.getHeight()+1;t=n.NativeBitmap_createWithSize(p,g,!0);var y=0,B=0;for(i=0;i<e;i++)for(a=(r=this.mMinoBitmapsByLogicalState.getDictionaryAtIndex(i)).getNumValues(),o=0;o<a;o++)S=r.getObjectValueAtIndex(o),n.NativeBitmap_copy(S.getNativeBitmap(),0,0,S.getWidth(),S.getHeight(),t,y,B),B+=S.getHeight()+1;for(u=n.NativeTexture_createWithBitmap(t),y=0,B=0,i=0;i<e;i++)for(m=new l(!0),this.mMinoSpriteFramesByLogicalState.setObjectValue(this.mMinoBitmapsByLogicalState.getValueKeyAtIndex(i),m),a=(r=this.mMinoBitmapsByLogicalState.getDictionaryAtIndex(i)).getNumValues(),o=0;o<a;o++){var h=new l(!0);m.setObjectValue(r.getValueKeyAtIndex(o),h);var M=null,d=null,L=(S=r.getObjectValueAtIndex(o)).getNumIndexedStickyBits(),f=0,v=B,I=S.getHeight(),V=0;S.isSticky()&&(V=.4);for(var T=2*V,b=0;b<L;b++){var k=S.getIndexedStickyBits(b);f=y+S.getMinoX(b),M=n.NativeSpriteFrame_createWithTexture(u,f+V,v+V,I-T,I-T),d=new s(M),h.setObjectValue(k,d)}B+=S.getHeight()+1}this.mMinoBitmapsByLogicalState.removeAllValues(),n.NativeBitmap_release(t),u=null},a.isMinoSticky=function(t,e){var i=this.mMinoIsStickyByLogicalState.getDictionary(t);return i||(i=this.mMinoIsStickyByLogicalState.getDictionary(this.mDefaultLogicalState)),!!i&&i.getBoolValueWithDefault(e,!1)},a.getMinoNativeSpriteFrame=function(t,e,i){i=c.validateStickyBits(i);var a=this.mMinoSpriteFramesByLogicalState.getDictionary(t);if(!a&&!(a=this.mMinoSpriteFramesByLogicalState.getDictionary(this.mRemappedLogicalStates.getIntValue(t)))&&!(a=this.mMinoSpriteFramesByLogicalState.getDictionary(this.mDefaultLogicalState)))return null;var n=a.getDictionary(e);if(!n&&!(n=a.getDictionary(this.mRemappedMinoTypes.getIntValue(e)))&&!(n=a.getDictionaryAtIndex(0)))return null;var o=0;switch(n.getNumValues()){case 1:o=0;break;case c.x1202564054033431097x:o=c.getIndexForStickyBitsMax3(i);break;case c.x1562271628994622354x:o=c.getIndexForStickyBitsMax8(i)}var s=n.getObjectValueAtIndex(o);return s?s.getNativeObject():null},a.x2766708504066152543x=function(){null!==this.mMinoBitmapsByLogicalState&&(this.mMinoBitmapsByLogicalState.destroy(),this.mMinoBitmapsByLogicalState=null),null!==this.mMinoIsStickyByLogicalState&&(this.mMinoIsStickyByLogicalState.destroy(),this.mMinoIsStickyByLogicalState=null),null!==this.mMinoSpriteFramesByLogicalState&&(this.mMinoSpriteFramesByLogicalState.destroy(),this.mMinoSpriteFramesByLogicalState=null),null!==this.mRemappedLogicalStates&&(this.mRemappedLogicalStates.destroy(),this.mRemappedLogicalStates=null),null!==this.mRemappedMinoTypes&&(this.mRemappedMinoTypes.destroy(),this.mRemappedMinoTypes=null),t.prototype.x2766708504066152543x.call(this)},i}(a));i._RF.pop()}}}));System.register("chunks:///_virtual/x95827006032380762x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x2362680020733037980x.ts"],(function(t){"use strict";var e,c,i,n,s;return{setters:[function(t){e=t.inheritsLoose,c=t.createClass},function(t){i=t.cclegacy},function(t){n=t.x2825914500079770252x},function(t){s=t.x2362680020733037980x}],execute:function(){i._RF.push({},"a2dcbxL/ghB/44umQ4kR767","x95827006032380762x",void 0);t("x95827006032380762x",function(t){function i(e){var c;return(c=t.call(this)||this).mObjects=new Array,c.mObjectType=e,c.mTopIndex=-1,c}e(i,t);var n=i.prototype;return n.recycleObject=function(t){var e=this.mObjects.length;this.getNumAvailableObjects()>=e&&this.mObjects.push(null),this.mTopIndex++,this.mObjects[this.mTopIndex]=t},n.getNumAvailableObjects=function(){return this.mTopIndex+1},n.getAvailableObject=function(){if(this.mTopIndex>=0){var t=this.mObjects[this.mTopIndex];return this.mObjects[this.mTopIndex]=null,this.mTopIndex--,t}return null},n.x2766708504066152543x=function(){switch(this.mObjectType){case i.x2729875467793938751x:for(var e=this.mObjects.length,c=0;c<e;c++){var n=this.mObjects[c];s.NativeView_destroy(n,!0)}}this.mObjects.length=0,t.prototype.x2766708504066152543x.call(this)},c(i,null,[{key:"kObjectType_NativeARCObject",get:function(){return 1}},{key:"x2729875467793938751x",get:function(){return 2}}]),i}(n));i._RF.pop()}}}));System.register("chunks:///_virtual/x2495712160562647907x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts"],(function(t){"use strict";var e,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){c=t.cclegacy},function(t){i=t.x2825914500079770252x}],execute:function(){c._RF.push({},"21b89euN81C0I36ymYvgCKT","x2495712160562647907x",void 0);t("x2495712160562647907x",function(t){function c(e){var c;return(c=t.call(this)||this).mNativeObject=e,c}e(c,t);var i=c.prototype;return i.getNativeObject=function(){return this.mNativeObject},i.setNativeObject=function(t){this.mNativeObject=t},i.x2766708504066152543x=function(){this.mNativeObject=null,t.prototype.x2766708504066152543x.call(this)},c}(i));c._RF.pop()}}}));System.register("chunks:///_virtual/x3999020355746490672x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x275027197533560474x.ts","./x2362680020733037980x.ts","./x1390687146982484874x.ts","./x832182382730187518x.ts"],(function(e){"use strict";var t,i,r,a,o,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){r=e.x275027197533560474x},function(e){a=e.x2362680020733037980x},function(e){o=e.x1390687146982484874x},function(e){s=e.x832182382730187518x}],execute:function(){i._RF.push({},"9cd8f2JQAxOEqYoIr+jENff","x3999020355746490672x",void 0);e("x3999020355746490672x",function(e){function i(t,i,r,a,o){var s;return(s=e.call(this,t,i,r,a)||this).mFilePath=o,s.mNativeBitmap=null,s}t(i,e),i.x3879711672363357604x=function(e){return o.stringToHash32("459508803-"+e)};var r=i.prototype;return r.getNativeBitmap=function(){return this.mNativeBitmap},r.x2766708504066152543x=function(){a.NativeBitmap_release(this.mNativeBitmap),this.mNativeBitmap=null,e.prototype.x2766708504066152543x.call(this)},r.x4178238697573865838x=function(){},r.x1161725769148004327x=function(){var e=this.getResourceMgr().expandFilePath(this.mFilePath);if(a.isFilePathRemote(e)){e=a.prepareRemoteResourceFilePath(e);var t=new Image,i=this;t.onload=function(){i.mNativeBitmap=document.createElement("canvas"),i.mNativeBitmap.width=t.width,i.mNativeBitmap.height=t.height,i.mNativeBitmap.getContext("2d").drawImage(t,0,0),i.setNextState(s.x124968005714418926x,!1)},t.onerror=function(){i.setNextState(s.x1412212870364691859x,!1)},t.src=e}else e=a.prepareLocalResourceFilePath(e),i.setNextState(s.x1412212870364691859x,!1)},r.x3627957228776672854x=function(){return s.x1733733731846033593x},i}(r));i._RF.pop()}}}));System.register("chunks:///_virtual/x2635158806370081912x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x275027197533560474x.ts","./x2362680020733037980x.ts","./x1390687146982484874x.ts","./x832182382730187518x.ts"],(function(e){"use strict";var t,o,i,n,r,u,s;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){i=e.cclegacy},function(e){n=e.x275027197533560474x},function(e){r=e.x2362680020733037980x},function(e){u=e.x1390687146982484874x},function(e){s=e.x832182382730187518x}],execute:function(){i._RF.push({},"d40d76Kbq9Na57OV+dK/w0k","x2635158806370081912x",void 0);e("x2635158806370081912x",function(e){function i(t,o,n,r,u,s,a){var d;d=e.call(this,t,o,n,r)||this,i.verifyNativeAudioSupport();var c="";switch(s){case i.x4547099600013315426x:case i.x1934298939901694138x:c=".mp3"}return d.mFilePath=u+c,d.mSoundType=s,d.mRequirePreload=a,d.mNativeSound=null,d.mDidPlay=!1,d}t(i,e),i.x2094309140622122997x=function(e){return u.stringToHash32("621423319-"+e)},i.verifyNativeAudioSupport=function(){if(r.isBrowserIE())return!1;if(null==i.sAudioContextForLoading){window.AudioContext=window.AudioContext||window.webkitAudioContext;try{i.sAudioContextForLoading=new AudioContext}catch(e){i.sAudioContextForLoading=null}}return null!=i.sAudioContextForLoading};var n=i.prototype;return n.isNativeSoundLoaded=function(){return!!this.mNativeSound&&!r.isBrowserIE()},n.getNativeSound=function(){return this.mNativeSound},n.getDidPlay=function(){return this.mDidPlay},n.setDidPlay=function(e){this.mDidPlay=e},n.x2766708504066152543x=function(){this.mNativeSound=null,e.prototype.x2766708504066152543x.call(this)},n.x4178238697573865838x=function(){},n.x1161725769148004327x=function(){if(this.mFilePath&&""!=this.mFilePath&&this.mFilePath.charCodeAt(this.mFilePath.length-1)!="/".charCodeAt()){var e=this.getResourceMgr().expandFilePath(this.mFilePath);if(r.isFilePathRemote(e))if(e=r.prepareRemoteResourceFilePath(e),r.isBrowserIE())this.setNextState(s.x124968005714418926x,!1);else if(i.sAudioContextForLoading){var t=new XMLHttpRequest,o=this;t.onload=function(){i.sAudioContextForLoading.decodeAudioData(t.response,(function(e){o.mNativeSound=e,o.setNextState(s.x124968005714418926x,!1)}),(function(){this.mNativeSound=null,o.setNextState(s.x1412212870364691859x,!1)}))},t.onerror=function(){this.mNativeSound=null,o.setNextState(s.x1412212870364691859x,!1)},t.onabort=function(){o.setNextState(s.x1412212870364691859x,!1)},t.open("GET",e,!0),t.responseType="arraybuffer",t.send(),this.mRequirePreload||this.setNextState(s.x124968005714418926x,!1)}else this.setNextState(s.x1412212870364691859x,!1);else e=r.prepareLocalResourceFilePath(e),this.setNextState(s.x124968005714418926x,!1)}else this.setNextState(s.x124968005714418926x,!1)},n.x3627957228776672854x=function(){return r.isBrowserIE()||null!=this.mNativeSound?s.x124968005714418926x:s.x1733733731846033593x},o(i,null,[{key:"x4547099600013315426x",get:function(){return 1}},{key:"x1934298939901694138x",get:function(){return 2}}]),i}(n));i._RF.pop()}}}));System.register("chunks:///_virtual/x4405506462505654100x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x275027197533560474x.ts","./x2362680020733037980x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x832182382730187518x.ts"],(function(e){"use strict";var t,r,i,a,s,u,n;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){i=e.x275027197533560474x},function(e){a=e.x2362680020733037980x},function(e){s=e.x2938621194761123466x},function(e){u=e.x1390687146982484874x},function(e){n=e.x832182382730187518x}],execute:function(){r._RF.push({},"3356eZyi69AbIOgduXJLwWR","x4405506462505654100x",void 0);e("x4405506462505654100x",function(e){function r(t,r,i,a,u){var n;return(n=e.call(this,t,r,i,a)||this).mNativeSpriteFrames=new Array,n.mFilePath=u,n.mNativeTextureResources=new s(0),n.mIsScale9=!1,n}t(r,e),r.x1726955363015440734x=function(e){return u.stringToHash32("342825776-"+e)};var i=r.prototype;return i.getNumNativeSpriteFrames=function(){return this.mNativeSpriteFrames.length},i.getNativeSpriteFrame=function(e){var t=this.mNativeSpriteFrames.length;return 0==t||e<0||e>=t?null:this.mNativeSpriteFrames[e]},i.isScale9=function(){return this.mIsScale9},i.getScale9LeftInset=function(){return a.NativeSpriteFrame_getWidth(this.getNativeSpriteFrame(0))},i.getScale9RightInset=function(){return a.NativeSpriteFrame_getWidth(this.getNativeSpriteFrame(2))},i.getScale9TopInset=function(){return a.NativeSpriteFrame_getHeight(this.getNativeSpriteFrame(0))},i.getScale9BottomInset=function(){return a.NativeSpriteFrame_getHeight(this.getNativeSpriteFrame(6))},i.createSpriteFrames=function(){for(var e=this.mNativeTextureResources.getNumObjects(),t=0;t<e;t++){var r=this.mNativeTextureResources.getAtIndex(t).getNativeTexture();if(u.stringHasParamValue(this.mFilePath,"inset")){var i=u.getParamIntValueFromString(this.mFilePath,"inset",4);this.createSpriteFramesAsScale9(r,i,i,i,i)}else u.stringHasParamValue(this.mFilePath,"leftInset")?this.createSpriteFramesAsScale9(r,u.getParamIntValueFromString(this.mFilePath,"leftInset",4),u.getParamIntValueFromString(this.mFilePath,"rightInset",4),u.getParamIntValueFromString(this.mFilePath,"topInset",4),u.getParamIntValueFromString(this.mFilePath,"bottomInset",4)):this.addSpriteFrame(r,0,0,a.NativeTexture_getWidth(r),a.NativeTexture_getHeight(r))}},i.createSpriteFramesAsScale9=function(e,t,r,i,s){this.mIsScale9=!0;var u=a.NativeTexture_getWidth(e),n=a.NativeTexture_getHeight(e),o=t,c=u-r,m=s,S=n-i,h=u-t-r,g=n-i-s;this.addSpriteFrame(e,0,0,t,s),this.addSpriteFrame(e,o,0,h,s),this.addSpriteFrame(e,c,0,r,s),this.addSpriteFrame(e,0,m,t,g),this.addSpriteFrame(e,o,m,h,g),this.addSpriteFrame(e,c,m,r,g),this.addSpriteFrame(e,0,S,t,i),this.addSpriteFrame(e,o,S,h,i),this.addSpriteFrame(e,c,S,r,i)},i.addSpriteFrame=function(e,t,r,i,s){var u=a.NativeSpriteFrame_createWithTexture(e,t,r,i,s);this.mNativeSpriteFrames.push(u)},i.x2766708504066152543x=function(){null!==this.mNativeTextureResources&&(this.mNativeTextureResources.destroy(),this.mNativeTextureResources=null),e.prototype.x2766708504066152543x.call(this)},i.x4178238697573865838x=function(){for(var e=a.getNumFilePathPermutations(this.mFilePath),t=0;t<e;t++){var r=a.getFilePathPermutation(this.mFilePath,t),i=a.getFilePathPermutation(this.getResourceName(),t);this.getResourceMgr().addNativeTextureResource(i,this.getResourceGroupName(),r),this.mNativeTextureResources.pushBack(this.getResourceMgr().getNativeTextureResource(i))}},i.x1161725769148004327x=function(){},i.x3627957228776672854x=function(){for(var e=this.mNativeTextureResources.getNumObjects(),t=0;t<e;t++){var r=this.mNativeTextureResources.getAtIndex(t);switch(this.getResourceMgr().getResourceStateWithId(r.getResourceId())){case n.x1733733731846033593x:return n.x1733733731846033593x;case n.x124968005714418926x:break;case n.x1108837026806222769x:case n.x2854197087750883165x:case n.x1412212870364691859x:default:return n.x1412212870364691859x}}return this.createSpriteFrames(),n.x124968005714418926x},r}(i));r._RF.pop()}}}));System.register("chunks:///_virtual/x3228613027168197037x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x275027197533560474x.ts","./x2362680020733037980x.ts","./x1390687146982484874x.ts","./x832182382730187518x.ts"],(function(e){"use strict";var t,r,s,o,u,i;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){s=e.x275027197533560474x},function(e){o=e.x2362680020733037980x},function(e){u=e.x1390687146982484874x},function(e){i=e.x832182382730187518x}],execute:function(){r._RF.push({},"d5779pozMFK16/ZLCQvoq2o","x3228613027168197037x",void 0);e("x3228613027168197037x",function(e){function r(t,r,s,o,u){var i;return(i=e.call(this,t,r,s,o)||this).mFilePath=u,i.mNativeBitmapResourceId=0,i.mNativeTexture=null,i}t(r,e),r.x3852409836968072709x=function(e){return u.stringToHash32("1353164259-"+e)};var s=r.prototype;return s.getNativeTexture=function(){return this.mNativeTexture},s.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},s.x4178238697573865838x=function(){this.mNativeBitmapResourceId=this.getResourceMgr().addNativeBitmapResource(this.getResourceName(),this.getResourceGroupName(),this.mFilePath)},s.x1161725769148004327x=function(){},s.x3627957228776672854x=function(){switch(this.getResourceMgr().getResourceStateWithId(this.mNativeBitmapResourceId)){case i.x1733733731846033593x:return i.x1733733731846033593x;case i.x124968005714418926x:return this.mNativeTexture=o.NativeTexture_createWithBitmap(this.getResourceMgr().getNativeBitmap(this.getResourceName())),this.mNativeTexture?i.x124968005714418926x:i.x1412212870364691859x;case i.x1108837026806222769x:case i.x2854197087750883165x:case i.x1412212870364691859x:default:return i.x1412212870364691859x}},r}(s));r._RF.pop()}}}));System.register("chunks:///_virtual/x2825914500079770252x.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"6e4008QKLNKVrV3AUllRzfX","x2825914500079770252x",void 0);t("x2825914500079770252x",function(){function t(){this.mIsDestroyed=!1,this.mRandomizedObjectId=~~(2147483647*Math.random())}t.safeDestroy=function(t){t&&t.destroy()};var n=t.prototype;return n.recycle=function(){return!this.mIsDestroyed&&this.x2904717359915390404x()},n.destroy=function(){this.mIsDestroyed||(this.x2766708504066152543x(),this.mIsDestroyed=!0)},n.isDestroyed=function(){return this.mIsDestroyed},n.getRandomizedObjectId=function(){return this.mRandomizedObjectId},n.x2589877392260963443x=function(){return t.x3508842651548971634x},n.x1051632698240992079x=function(e){return e==t.x3508842651548971634x},n.x2904717359915390404x=function(){return!1},n.x2766708504066152543x=function(){},n.x3493555497877612430x=function(t){return 0},n.x2561498820134418400x=function(t){return 0},n.x3544020690074873731x=function(t){return t&&""!=t?null:this},n.x3651818526805939130x=function(e,n,c,r){switch(e){case t.x3461483973768069303x:return n;case t.x3589770202422279121x:return r;default:return 0}},e(t,null,[{key:"x3461483973768069303x",get:function(){return 657902611}},{key:"x353128994538654894x",get:function(){return 141041035}},{key:"x3589770202422279121x",get:function(){return 488856084}},{key:"x2931974030808705080x",get:function(){return 619438977}},{key:"x4317431294016718164x",get:function(){return 2054803111}},{key:"x519131768066458130x",get:function(){return 275155186}},{key:"x3508842651548971634x",get:function(){return 1177524419}}]),t}());n._RF.pop()}}}));System.register("chunks:///_virtual/x4472346643782045245x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x2938621194761123466x.ts"],(function(e){"use strict";var t,n,s,i,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){s=e.cclegacy},function(e){i=e.x2825914500079770252x},function(e){c=e.x2938621194761123466x}],execute:function(){s._RF.push({},"da115eeL/pM2YoYKhYf5yLC","x4472346643782045245x",void 0);e("x4472346643782045245x",function(e){function s(){var t;return(t=e.call(this)||this).mMessageListeners=null,t}t(s,e);var i=s.prototype;return i.addMessageListener=function(e){e&&(this.mMessageListeners||(this.mMessageListeners=new c(0)),this.mMessageListeners.containsObject(e)||this.mMessageListeners.pushBack(e))},i.removeMessageListener=function(e){this.mMessageListeners&&e&&this.mMessageListeners.removeObject(e)},i.removeAllMessageListeners=function(){this.mMessageListeners&&this.mMessageListeners.removeAll()},i.hasAnyMessageListeners=function(){return this.mMessageListeners&&this.mMessageListeners.getNumObjects()>0},i.dispatchMessage=function(e,t,n){if(this.mMessageListeners)for(var s=this.mMessageListeners.getNumObjects(),i=0;i<s;i++){this.mMessageListeners.getAtIndex(i).x976210321608527258x(e,t,n)}},i.x976210321608527258x=function(e,t,n){},i.x484463892230083241x=function(e,t,n,s){},i.x947251687283958489x=function(e,t,n,s){},i.x3275854245884094907x=function(e,t,n,s){},i.x403248184809029252x=function(e,t){},i.x2530596703611903079x=function(e,t,n){return!1},i.x87963723640924842x=function(e,t,n){return!1},i.x2857204447509868867x=function(e,t,n,s){return!1},i.x2603184932174055919x=function(e){return!1},i.x1104500125373923703x=function(e,t,n,s){return!1},i.x3674464915954390731x=function(e,t,n,s){return!1},i.x448608036333324202x=function(e,t,n,s){return!1},i.x3483006147505539359x=function(e,t){return!1},i.x2766708504066152543x=function(){null!==this.mMessageListeners&&(this.mMessageListeners.destroy(),this.mMessageListeners=null),e.prototype.x2766708504066152543x.call(this)},n(s,null,[{key:"x2684418880735563207x",get:function(){return 873185495}},{key:"x2768670411435583712x",get:function(){return 186557458}},{key:"x3668045371996483309x",get:function(){return 1205460828}},{key:"x2553973959041204921x",get:function(){return 1657421263}},{key:"x546932693017569634x",get:function(){return 889165261}},{key:"x3239284327371955635x",get:function(){return 1686554918}}]),s}(i));s._RF.pop()}}}));System.register("chunks:///_virtual/x2938621194761123466x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts"],(function(t){"use strict";var e,s,n;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy},function(t){n=t.x2825914500079770252x}],execute:function(){s._RF.push({},"54681u6L4NMMrehnc3atEAD","x2938621194761123466x",void 0);t("x2938621194761123466x",function(t){function s(e){var s;if((s=t.call(this)||this).mObjects=new Array,e>0)for(s.mObjects.length=0;s.mObjects.length<e;)s.mObjects.push(null);return s}e(s,t);var n=s.prototype;return n.reserveCapacity=function(t){},n.getNumObjects=function(){return this.mObjects.length},n.getAtIndex=function(t){return this.mObjects[t]},n.setAtIndex=function(t,e){this.mObjects[t]=e},n.insertAtIndex=function(t,e){this.mObjects.splice(t,0,e)},n.removeAtIndex=function(t){this.mObjects.splice(t,1)},n.getObjectIndex=function(t){for(var e=this.getNumObjects(),s=0;s<e;s++)if(this.getAtIndex(s)==t)return s;return-1},n.setObjectIndex=function(t,e){var s=this.getNumObjects();if(1!=s){e<0?e=0:e>=s&&(e=s-1);var n=this.getObjectIndex(t);if(-1!=n&&n!=e){var c=0;for(c=n;c<s-1;c++)this.mObjects[c]=this.mObjects[c+1],this.mObjects[c+1]=null;for(c=s-1;c>e;c--)this.mObjects[c]=this.mObjects[c-1],this.mObjects[c-1]=null;this.mObjects[e]=t}}},n.containsObject=function(t){return this.getObjectIndex(t)>=0},n.removeObject=function(t){var e=this.getObjectIndex(t);e>=0&&this.removeAtIndex(e)},n.pushFront=function(t){this.mObjects.splice(0,0,t)},n.popFront=function(){this.mObjects.splice(0,1)},n.peekFront=function(){return this.mObjects[0]},n.pushBack=function(t){this.mObjects.push(t)},n.popBack=function(){this.mObjects.pop()},n.peekBack=function(){return this.mObjects[this.mObjects.length-1]},n.compactNullEntries=function(){for(var t=0,e=this.getNumObjects(),s=0;s<e;s++){var n=this.getAtIndex(s);if(n)t++;else for(var c=s+1;c<e;c++)(n=this.getAtIndex(c))&&(this.setAtIndex(s,n),this.setAtIndex(c,null),t++)}for(var i=e-t;i>0;)this.popBack(),i--},n.setAllToNull=function(){for(var t=0;t<this.mObjects.length;t++)this.mObjects[t]=null},n.removeAll=function(){this.mObjects.length=0},n.removeAllFromObjectsAsObjectArrays=function(){for(var t=this.getNumObjects(),e=0;e<t;e++){var s=this.getAtIndex(e);s&&s.removeAll()}},n.destroyAll=function(){for(var t=this.getNumObjects(),e=0;e<t;e++){var s=this.getAtIndex(e);null!==s&&(s.destroy(),s=null)}this.mObjects.length=0},n.destroyAllInObjectsAsObjectArrays=function(){for(var t=this.getNumObjects(),e=0;e<t;e++){var s=this.getAtIndex(e);s&&s.destroyAll()}},n.destroyAllAndResize=function(t){for(this.destroyAll(),this.getNumObjects(),this.mObjects.length=0;this.mObjects.length<t;)this.mObjects.push(null)},n.x2904717359915390404x=function(){return this.removeAll(),t.prototype.x2904717359915390404x.call(this),!0},n.x2766708504066152543x=function(){this.removeAll(),t.prototype.x2766708504066152543x.call(this)},s}(n));s._RF.pop()}}}));System.register("chunks:///_virtual/x975618616374684578x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3816109174930716273x.ts","./x2938621194761123466x.ts"],(function(t){"use strict";var e,r,o,c;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},function(t){o=t.x3816109174930716273x},function(t){c=t.x2938621194761123466x}],execute:function(){r._RF.push({},"1d4f0u60WZAtpHLFOpJ+hNv","x975618616374684578x",void 0);t("x975618616374684578x",function(t){function r(e,r){var o;return(o=t.call(this)||this).mArrayReserveCapacity=r,o.setAutoRefillCount(e),o.doAutoRefill(),o}e(r,t);var o=r.prototype;return o.x1002648176477665588x=function(t){var e=this.getAvailableObject();return e.destroyAllAndResize(t),e},o.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},o.x2027713709837142785x=function(){var t=new c(this.mArrayReserveCapacity);return t.reserveCapacity(this.mArrayReserveCapacity),t.destroyAllAndResize(0),t},r}(o));r._RF.pop()}}}));System.register("chunks:///_virtual/x3816109174930716273x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x2938621194761123466x.ts"],(function(t){"use strict";var e,c,s,o;return{setters:[function(t){e=t.inheritsLoose},function(t){c=t.cclegacy},function(t){s=t.x2825914500079770252x},function(t){o=t.x2938621194761123466x}],execute:function(){c._RF.push({},"aa58bSrdC1DSK62mZlN0nbQ","x3816109174930716273x",void 0);t("x3816109174930716273x",function(t){function c(){var e;return(e=t.call(this)||this).mObjects=new o(0),e.mAutoRefillCount=0,e}e(c,t);var s=c.prototype;return s.createObjects=function(t){for(var e=0;e<t;e++){var c=this.x2027713709837142785x();c&&this.mObjects.pushBack(c)}},s.recycleObject=function(t){t&&(this.x3799944225895678524x(t),t.recycle()?this.mObjects.pushBack(t):null!==t&&(t.destroy(),t=null))},s.recycleObjectsInArray=function(t,e){if(t){for(var c=t.getNumObjects(),s=0;s<c;s++)this.recycleObject(t.getAtIndex(s)),t.setAtIndex(s,null);e&&t.removeAll()}},s.getNumAvailableObjects=function(){return this.mObjects.getNumObjects()},s.getAvailableObject=function(){if(0==this.mObjects.getNumObjects()&&this.doAutoRefill(),this.mObjects.getNumObjects()>0){var t=this.mObjects.peekBack();return this.mObjects.popBack(),t}return null},s.setAutoRefillCount=function(t){this.mAutoRefillCount=t,this.mObjects.reserveCapacity(this.mAutoRefillCount)},s.doAutoRefill=function(){if(!(this.mAutoRefillCount<=0)){var t=this.mAutoRefillCount-this.getNumAvailableObjects();this.createObjects(t)}},s.x2027713709837142785x=function(){return null},s.x3799944225895678524x=function(t){},s.x2766708504066152543x=function(){this.mObjects.destroyAll(),null!==this.mObjects&&(this.mObjects.destroy(),this.mObjects=null),t.prototype.x2766708504066152543x.call(this)},c}(s));c._RF.pop()}}}));System.register("chunks:///_virtual/x2636448930905443261x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1654909725214686057x.ts"],(function(e){"use strict";var t,l,o;return{setters:[function(e){t=e.inheritsLoose},function(e){l=e.cclegacy},function(e){o=e.x1654909725214686057x}],execute:function(){l._RF.push({},"140a4bYtglDTaNemRd6cjQM","x2636448930905443261x",void 0),e("x2636448930905443261x",function(e){function l(){var t;return(t=e.call(this,o.x3500180382744555049x)||this).mValue=null,t.mIsObjectOwner=!1,t}t(l,e),l.getAvailableInstance=function(){l.sPool||(l.sPool=new Array);var e=null;return l.sPool.length>0?(e=l.sPool[l.sPool.length-1],l.sPool.pop()):e=new l,e},l.recycleAvailableInstance=function(e){l.sPool||(l.sPool=new Array),e.recycle(),l.sPool.push(e)},l.destroyPool=function(){if(l.sPool){for(var e=l.sPool.length,t=0;t<e;t++){var o=l.sPool[t];null!==o&&(o.destroy(),o=null)}null!==l.sPool&&(l.sPool=null)}};var n=l.prototype;return n.getValue=function(){return this.mValue},n.setValue=function(e,t){this.mIsObjectOwner&&null!==this.mValue&&(this.mValue.destroy(),this.mValue=null),this.mValue=e,this.mIsObjectOwner=t},n.setIsObjectOwner=function(e){this.mIsObjectOwner=e},n.x2904717359915390404x=function(){return e.prototype.x2904717359915390404x.call(this),this.setValue(null,!1),!0},n.x2766708504066152543x=function(){this.setValue(null,!1),e.prototype.x2766708504066152543x.call(this)},l}(o)).sPool=null,l._RF.pop()}}}));System.register("chunks:///_virtual/x128797566098593454x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x713925626457252070x.ts","./x2825914500079770252x.ts","./x1390687146982484874x.ts","./x3363722297214968445x.ts"],(function(t){"use strict";var e,a,r,n,P,c,i;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass},function(t){r=t.cclegacy},function(t){n=t.x713925626457252070x},function(t){P=t.x2825914500079770252x},function(t){c=t.x1390687146982484874x},function(t){i=t.x3363722297214968445x}],execute:function(){r._RF.push({},"ff21ct724hI24LtVVkKLtix","x128797566098593454x",void 0);t("x128797566098593454x",function(t){function r(e,a){return t.call(this,r.x2579173940506276196x,n.x760633668951967089x,e,c.x4379805376353750514x(r.x4183570915039330341x),a)||this}e(r,t);var o=r.prototype;return o.processState_active=function(t){var e=this.getPlayer().getMatrix(),a=this.getParams().getIntValue(r.x959275792254218048x),P=this.getParams().getIntValue(r.x2945000598072880942x),i=this.getParams().getIntValue(r.x1524414640191348463x),o=this.getCurrentStateElapsedTimeMSEC(),s=a+P+i;if(o>=s)e.setObscurationFactor_FXPT(0),this.setNextState(n.x2291148428533141857x,!1);else{var T=this.getParams().getIntValue(r.x3720155229293606785x),S=this.getParams().getIntValue(r.x2876039470219441233x),u=this.getParams().getIntValue(r.x4003607758267771291x),F=0,l=a+P,m=0,I=(o-a)%T,y=c.FXPTGetLerpFactor(c.FXPTFromInt(I),0,c.FXPTFromInt(T));o<a?m=c.FXPTGetLerpFactor(c.FXPTFromInt(o),c.FXPTFromInt(a),c.FXPTFromInt(0)):o>=l&&(m=c.FXPTGetLerpFactor(c.FXPTFromInt(o),c.FXPTFromInt(l),c.FXPTFromInt(s)));for(var B=e.getWidth(),M=0;M<B;M++){var X=c.x2045759414872908808x-c.FXPTGetLerpFactor(c.FXPTFromInt(M),0,c.FXPTFromInt(B)),O=c.loopInt(y+X,0,c.x2045759414872908808x);(O*=2)>c.x2045759414872908808x&&(O=c.x2045759414872908808x-(O-c.x2045759414872908808x)),F=c.FXPTLerp(u,S,O),F=c.FXPTLerp(F,0,m),e.setColumnObscurationFactor_FXPT(M,F)}}},o.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},o.x1832309505861141126x=function(){var t=this.getPlayer(),e=t.getMatrix();switch(t.getCurrentState()){case i.x1226525904332658665x:return e.isStable()}switch(t.getNextState()){case i.x1226525904332658665x:return e.isStable()}return!1},o.x3054795774673576263x=function(){this.setCurrentState(n.x1060886010737717951x,0)},o.x3139096472792676868x=function(e,a,r,c){switch(a){case n.x1060886010737717951x:switch(e){case P.x3589770202422279121x:return this.processState_active(c),c}}return t.prototype.x3139096472792676868x.call(this,e,a,r,c)},a(r,null,[{key:"x2579173940506276196x",get:function(){return 620779380}},{key:"x3720155229293606785x",get:function(){return 2066425965}},{key:"x4003607758267771291x",get:function(){return 153186009}},{key:"x2876039470219441233x",get:function(){return 1107103559}},{key:"x959275792254218048x",get:function(){return 179940333}},{key:"x2945000598072880942x",get:function(){return 745424144}},{key:"x1524414640191348463x",get:function(){return 1000974528}},{key:"x4183570915039330341x",get:function(){return"LDZMBMXDKAVDWPTNIBJNQARMOAPIBGIGQNIRMJZQBITEHTXJEOQFUQXEMLVOBQWMXPLMQQKDLPEDTHTLQHBLUORKCOPKWHJAMHXKJIROAHGTIPQHSLTTSLQTMPMNYIHIHQGLSPRLJQBSROMLBIULVDYNTCQHNHGDRGEPTJTNQJXGQKNGOKLGCPTBUNRLPDXJCSGKIRYNWLZSYGMPSKWOIKPODMMGYKXGPLLTDLWMXDAHFPEFFJCEUIWENCOKNRCECQZDAMXHUFXMUAVIGQTIQEMDDSLQBJZETHHFKHRKLHEFASLFUNTIKMJSUQAIJQGHKEUHRDSRNEWPCDDPADBLQCBQYLZPWHXPUHWPWQVMUQSIWDFINPFRNFBQSEQRNDBIGUVHUMLQKITPBCAPHBTOVLIELLSOXJHNUFRBCPRGCKPCAKXBYNVLRIKKGSGOISONQSCDKQQPILXOFHISAHBNWLZSMKPSKOERZNGKQOMKNOKKJMVEYLVJSFDJQBRNEMRIYFXG"}}]),r}(n));r._RF.pop()}}}));System.register("chunks:///_virtual/x2852667906570283554x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts"],(function(t){"use strict";var e,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},function(t){n=t.x2825914500079770252x}],execute:function(){r._RF.push({},"2976fnSncBGwZnJk/30sY1b","x2852667906570283554x",void 0);t("x2852667906570283554x",function(t){function r(){var e;return(e=t.call(this)||this).mIteratorIndex=-1,e}e(r,t);var n=r.prototype;return n.startIterating=function(){this.mIteratorIndex=0,this.x990659934254172584x()},n.isIteratorValid=function(){return this.mIteratorIndex>=0&&!this.x4037194803086073837x(this.mIteratorIndex)&&(this.mIteratorIndex=-1),this.mIteratorIndex>=0},n.advanceIterator=function(){this.isIteratorValid()&&this.mIteratorIndex++},n.invalidateIterator=function(){this.mIteratorIndex=-1},n.getCurrentX=function(){return this.isIteratorValid()?this.x974339422045466143x(this.mIteratorIndex):0},n.getCurrentY=function(){return this.isIteratorValid()?this.x1534477525712991046x(this.mIteratorIndex):0},n.x990659934254172584x=function(){},n.x4037194803086073837x=function(t){return!1},n.x974339422045466143x=function(t){return 0},n.x1534477525712991046x=function(t){return 0},n.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},r}(n));r._RF.pop()}}}));System.register("chunks:///_virtual/x1598037593311587316x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x2384331738405430424x.ts","./x2938621194761123466x.ts"],(function(i){"use strict";var t,e,n,o,s;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy},function(i){n=i.x4472346643782045245x},function(i){o=i.x2384331738405430424x},function(i){s=i.x2938621194761123466x}],execute:function(){e._RF.push({},"7a1b7/czoFE4reOsZ4emDhl","x1598037593311587316x",void 0);i("x1598037593311587316x",function(i){function e(t){var e;e=i.call(this)||this;var n=t.getNumMinos();e.mPieceDefinition=t,e.mMinos=new s(n),e.mX=0,e.mY=0,e.mFacing=0;for(var c=0;c<n;c++){var r=e.mPieceDefinition.getMino(c),m=new o;m.setMinoTypeId(t.getTypeId()),m.setPosition(r.mX,r.mY),m.setStickyBits(r.mStickyBits),e.mMinos.setAtIndex(c,m)}return e}t(e,i);var n=e.prototype;return n.createCopy=function(){return new e(this.mPieceDefinition)},n.getPieceDefinition=function(){return this.mPieceDefinition},n.getPieceTypeName=function(){return this.mPieceDefinition.getTypeName()},n.getPieceTypeId=function(){return this.mPieceDefinition.getTypeId()},n.getX=function(){return this.mX},n.getY=function(){return this.mY},n.getFacing=function(){return this.mFacing},n.setTransform=function(i,t,e){if(this.mX!=i||this.mY!=t||this.mFacing!=e){var n=this.mPieceDefinition.getFirstValidPieceForFacing(e);if(n){this.mX=i,this.mY=t,this.mFacing=e;for(var o=this.getNumMinos(),s=0;s<o;s++){var c=this.getMinoAtIndex(s);c.setPosition(i+n.getMinoXInPiece(s),t+n.getMinoYInPiece(s)),c.setStickyBits(n.getMinoStickyBits(s))}}}},n.getLocalCenterX_FXPT=function(){var i=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return i?this.mX-i.mX+i.mLocalCenterX_FXPT:0},n.getLocalCenterY_FXPT=function(){var i=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return i?this.mY-i.mY+i.mLocalCenterY_FXPT:0},n.getMinMinoX=function(){var i=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return i?this.mX-i.mX+i.mMinMinoX:0},n.getMaxMinoX=function(){var i=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return i?this.mX-i.mX+i.mMaxMinoX:0},n.getMinMinoY=function(){var i=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return i?this.mY-i.mY+i.mMinMinoY:0},n.getMaxMinoY=function(){var i=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return i?this.mY-i.mY+i.mMaxMinoY:0},n.getNumRows=function(){var i=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return i?i.getNumRows():0},n.getNumColumns=function(){var i=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return i?i.getNumColumns():0},n.getColumnXInMatrix=function(i){var t=this.mPieceDefinition.getPiece(this.mX,this.mY,this.mFacing);return t?t.getColumnXInMatrix(i):0},n.getColumnMinYInMatrix=function(i){var t=this.mPieceDefinition.getPiece(this.mX,this.mY,this.mFacing);return t?t.getColumnMinYInMatrix(i):0},n.getColumnMaxYInMatrix=function(i){var t=this.mPieceDefinition.getPiece(this.mX,this.mY,this.mFacing);return t?t.getColumnMaxYInMatrix(i):0},n.getNumMinos=function(){return this.mMinos.getNumObjects()},n.getMinoAtIndex=function(i){return this.mMinos.getAtIndex(i)},n.setMinosLogicalState=function(i){for(var t=this.getNumMinos(),e=0;e<t;e++){this.getMinoAtIndex(e).setLogicalState(i)}},n.setMinosLogicalStateTween_FXPT=function(i){for(var t=this.getNumMinos(),e=0;e<t;e++){this.getMinoAtIndex(e).setLogicalStateTween_FXPT(i)}},n.removeAllMinos=function(){this.mMinos.removeAll()},n.x2766708504066152543x=function(){this.mPieceDefinition=null,this.mMinos.destroyAll(),null!==this.mMinos&&(this.mMinos.destroy(),this.mMinos=null),i.prototype.x2766708504066152543x.call(this)},e}(n));e._RF.pop()}}}));System.register("chunks:///_virtual/x2240197311483503982x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x455603927613475591x.ts","./x2226225843525126927x.ts","./x1390687146982484874x.ts"],(function(e){"use strict";var t,i,s,n,l;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){s=e.x455603927613475591x},function(e){n=e.x2226225843525126927x},function(e){l=e.x1390687146982484874x}],execute:function(){i._RF.push({},"0d321HIhthA1b2Qi7M7xauQ","x2240197311483503982x",void 0);e("x2240197311483503982x",function(e){function i(){var t;return(t=e.call(this)||this).mRefillValues=new Array,t.mBagContents=new Array,t.mSequenceContents=new Array,t.mRefillMultiplier=1,t.mNumRandomRefillExtrasPerBag=0,t.mIsOrderRandom=!0,t.mRNG=new n,t}t(i,e);var s=i.prototype;return s.addPieceIdToRefillValues=function(e){this.mRefillValues.push(e)},s.setPieceIdRefillValues=function(e){this.clearRefillValues(),l.copyNativeIntVector(e,this.mRefillValues)},s.setPieceIdRefillValuesWithPieceNamesArray=function(e){this.clearRefillValues();for(var t=e.getNumValues(),i=0;i<t;i++){var s=e.getStringValueAtIndex(i);"x"==s?this.mNumRandomRefillExtrasPerBag++:this.addPieceIdToRefillValues(l.getStandardPieceTypeId(s))}},s.setPieceIdRefillValuesWithPieceNamesList=function(e){this.clearRefillValues();for(var t=l.numItemsInStringList(e),i=0;i<t;i++){var s=l.stringListItemAtIndex(e,i);"x"==s?this.mNumRandomRefillExtrasPerBag++:this.addPieceIdToRefillValues(l.getStandardPieceTypeId(s))}},s.clearRefillValues=function(){this.mNumRandomRefillExtrasPerBag=0,this.mRefillValues.length=0},s.setRefillMultiplier=function(e){this.mRefillMultiplier=e},s.setRNGSeed=function(e){this.mIsOrderRandom=-1!=e,this.mRNG.setSeed(e)},s.setSequenceWithPieceNamesList=function(e){this.mSequenceContents.length=0;for(var t=l.numItemsInStringList(e)-1;t>=0;t--){var i=l.stringListItemAtIndex(e,t);if("x"==i){var s=this.mRefillValues.length,n=this.mRNG.nextInt()%s;this.mSequenceContents.push(this.mRefillValues[n])}else this.mSequenceContents.push(l.getStandardPieceTypeId(i))}},s.x2766708504066152543x=function(){null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),e.prototype.x2766708504066152543x.call(this)},s.x2285239971158335084x=function(e){var t=0;if(this.mSequenceContents.length>0)return t=this.mSequenceContents[this.mSequenceContents.length-1],this.mSequenceContents.pop(),t;if(0==this.mBagContents.length){var i=0;if(this.mRefillMultiplier>0?i=this.mRefillMultiplier:this.mRefillMultiplier<0?0==e&&(i=-this.mRefillMultiplier):0==e&&(i=1),i>0)for(var s=this.mRefillValues.length,n=0;n<i;n++){for(var l=s-1;l>=0;l--)this.mBagContents.push(this.mRefillValues[l]);for(var r=0;r<this.mNumRandomRefillExtrasPerBag;r++){var a=this.mRNG.nextInt()%s;this.mBagContents.push(this.mRefillValues[a])}}}var u=this.mBagContents.length;if(u>0){var m=0;return this.mIsOrderRandom?(m=this.mRNG.nextInt()%u,t=this.mBagContents[m],0!=this.mRefillMultiplier&&this.mBagContents.splice(m,1),t):0==this.mRefillMultiplier?(m=u-1-e%u,t=this.mBagContents[m]):(m=u-1,t=this.mBagContents[m],this.mBagContents.pop(),t)}return 0},i}(s));i._RF.pop()}}}));System.register("chunks:///_virtual/x2451131491315760813x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x1598037593311587316x.ts"],(function(e){"use strict";var t,c,i,n;return{setters:[function(e){t=e.inheritsLoose},function(e){c=e.cclegacy},function(e){i=e.x2825914500079770252x},function(e){n=e.x1598037593311587316x}],execute:function(){c._RF.push({},"9e51eFVapFPOY1tXYbSPQtf","x2451131491315760813x",void 0);e("x2451131491315760813x",function(e){function c(){var t;return(t=e.call(this)||this).mPieceData=null,t}t(c,e);var i=c.prototype;return i.getPieceData=function(){return this.mPieceData},i.setPieceData=function(e){this.mPieceData=e},i.x2344160630140192692x=function(e,t){var c=this.mPieceData.getPieceDefinition(e);return c?new n(c):null},i.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},c}(i));c._RF.pop()}}}));System.register("chunks:///_virtual/x2867445869096855490x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x2384331738405430424x.ts","./x2938621194761123466x.ts"],(function(e){"use strict";var i,t,n,c,s;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy},function(e){n=e.x2825914500079770252x},function(e){c=e.x2384331738405430424x},function(e){s=e.x2938621194761123466x}],execute:function(){t._RF.push({},"1b90cU4Bo5NB6cElLHgYH9R","x2867445869096855490x",void 0);e("x2867445869096855490x",function(e){function t(i){var t;return(t=e.call(this)||this).mPieceSequenceGenerator=null,t.mCapacity=0,t.mPieceInitialFacing=i,t.mPieces=new s(0),t.mRemainingNumPieceFills=-1,t.mIsFillingEnabled=!0,t}i(t,e);var n=t.prototype;return n.getPieceSequenceGenerator=function(){return this.mPieceSequenceGenerator},n.setPieceSequenceGenerator=function(e){this.mPieceSequenceGenerator=e},n.getCapacity=function(){return this.mCapacity},n.setCapacity=function(e){this.mPieces.reserveCapacity(e),this.mCapacity=e},n.fillToCapacity=function(){this.fillToNumPieces(this.mCapacity)},n.fillToNumPieces=function(e){this.fillWithNumPieces(e-this.getNumPieces())},n.fillWithNumPieces=function(e){if(this.mIsFillingEnabled)for(;e>0&&this.getNumPieces()<this.mCapacity&&0!=this.mRemainingNumPieceFills;){var i=this.mPieceSequenceGenerator.generateNextPiece();i.setMinosLogicalState(c.x172275987817698842x),i.setTransform(0,0,this.mPieceInitialFacing),this.mPieces.pushBack(i),this.mRemainingNumPieceFills>0&&this.mRemainingNumPieceFills--,e--}},n.clear=function(){for(var e=this.popFront();e;)null!==e&&(e.destroy(),e=null),e=this.popFront()},n.getNumPieces=function(){return this.mPieces.getNumObjects()},n.getPieceAtIndex=function(e){return e<this.getNumPieces()?this.mPieces.getAtIndex(e):null},n.popFront=function(){if(this.getNumPieces()>0){var e=this.getPieceAtIndex(0);return this.mPieces.popFront(),e}return null},n.setRemainingNumPieceFills=function(e){this.mRemainingNumPieceFills=e},n.setIsFillingEnabled=function(e){this.mIsFillingEnabled=e},n.x2766708504066152543x=function(){this.mPieces.destroyAll(),null!==this.mPieces&&(this.mPieces.destroy(),this.mPieces=null),e.prototype.x2766708504066152543x.call(this)},t}(n));t._RF.pop()}}}));System.register("chunks:///_virtual/x455603927613475591x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts"],(function(e){"use strict";var t,n,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){c=e.x2825914500079770252x}],execute:function(){n._RF.push({},"dcfa7NIloxA261CIeuuvA9b","x455603927613475591x",void 0);e("x455603927613475591x",function(e){function n(){var t;return(t=e.call(this)||this).mPieceFactory=null,t.mGenerationIndex=0,t}t(n,e);var c=n.prototype;return c.setPieceFactory=function(e){this.mPieceFactory=e},c.getGenerationIndex=function(){return this.mGenerationIndex},c.generateNextPiece=function(){var e=this.x2285239971158335084x(this.mGenerationIndex);return this.mPieceFactory.x2344160630140192692x(e,this.mGenerationIndex)},c.x2285239971158335084x=function(e){return 0},c.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},n}(c));n._RF.pop()}}}));System.register("chunks:///_virtual/x3645332506817008919x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2034250350103582503x.ts","./x1825263265700717187x.ts","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x713925626457252070x.ts"],(function(e){"use strict";var t,n,i,s,a,o,c,r,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){i=e.cclegacy},function(e){s=e.x2034250350103582503x},function(e){a=e.x1825263265700717187x},function(e){o=e.x2825914500079770252x},function(e){c=e.x2938621194761123466x},function(e){r=e.x1390687146982484874x},function(e){u=e.x713925626457252070x}],execute:function(){i._RF.push({},"eb633LuI0FLY6+9zUGC3wJM","x3645332506817008919x",void 0);e("x3645332506817008919x",function(e){function i(t,n,i){var s;return(s=e.call(this,0,null)||this).mParams=new a(!0),s.mPlayerId=t,s.mPlayerIndex=n,s.mGame=i,s.mDidConstruct=!1,s.mComponents=new c(0),s.mPendingActionsQueueMaxSize=1,s.mPendingActionsQueue=new c(0),s.mAutoActivatePendingActionsQueue=!0,s.mActions=new c(0),s.x4531003883108638463x=new a(!1),s}t(i,e);var s=i.prototype;return s.construct=function(){this.mDidConstruct||(this.x4469416558114357602x(),this.mDidConstruct=!0)},s.getParams=function(){return this.mParams},s.getPlayerId=function(){return this.mPlayerId},s.getPlayerIndex=function(){return this.mPlayerIndex},s.getGame=function(){return this.mGame},s.addComponentWithParams=function(e,t){var n=this.x2021707447703295105x(e,t);return n&&this.addComponent(n),n},s.addComponent=function(e){this.mComponents.pushBack(e)},s.getComponent=function(e){for(var t=this.mComponents.getNumObjects(),n=0;n<t;n++){var i=this.mComponents.getAtIndex(n);if(i.getComponentId()==e)return i}return null},s.getNumComponents=function(){return this.mComponents.getNumObjects()},s.getComponentAtIndex=function(e){return this.mComponents.getAtIndex(e)},s.addMessageListenerToComponents=function(e){for(var t=this.mComponents.getNumObjects(),n=0;n<t;n++){this.mComponents.getAtIndex(n).addMessageListener(e)}},s.removeMessageListenerFromComponents=function(e){for(var t=this.mComponents.getNumObjects(),n=0;n<t;n++){this.mComponents.getAtIndex(n).removeMessageListener(e)}},s.getAutoActivatePendingActionsQueue=function(){return this.mAutoActivatePendingActionsQueue},s.setAutoActivatePendingActionsQueue=function(e){this.mAutoActivatePendingActionsQueue=e},s.setPendingActionsQueueMaxSize=function(e){this.mPendingActionsQueueMaxSize=e,this.updatePendingActionsQueueSize()},s.enqueuePendingAction=function(e){this.mPendingActionsQueue.pushBack(e),this.x4531003883108638463x.setObjectValue(i.x3255302811440110472x,e),this.dispatchMessage(i.x3558825997769479104x,this,this.x4531003883108638463x),this.updatePendingActionsQueueSize(),this.mAutoActivatePendingActionsQueue&&this.tryActivateNextQueuedPendingAction()},s.getNextQueuedPendingAction=function(){return this.mPendingActionsQueue.getNumObjects()>0?this.mPendingActionsQueue.peekFront():null},s.tryActivateNextQueuedPendingAction=function(){if(this.mPendingActionsQueue.getNumObjects()>0){var e=this.mPendingActionsQueue.peekFront();e.tryActivate(e.getActivationMatrixX(),e.getActivationMatrixY())&&this.mPendingActionsQueue.popFront()}},s.dispatchActionSpawnedMessage=function(e){this.x4531003883108638463x.setObjectValue(i.x4487631293345544181x,e),this.dispatchMessage(i.x952370844696561785x,this,this.x4531003883108638463x),this.x4531003883108638463x.clearObjectValues()},s.dispatchActionPreActivatedMessage=function(e){this.x4531003883108638463x.setObjectValue(i.x1848193954809207789x,e),this.dispatchMessage(i.x1977299127213275389x,this,this.x4531003883108638463x),this.x4531003883108638463x.clearObjectValues()},s.activateAndManageAction=function(e){switch(e.getConcurrencyType()){case u.x3083342802879284661x:break;case u.x2793160334047733717x:case u.x760633668951967089x:var t=0,n=this.mActions.getNumObjects(),s=null,a=e.getActionId();switch(e.getConcurrencyType()){case u.x2793160334047733717x:for(t=0;t<n;t++)if(!(s=this.mActions.getAtIndex(t)).isComplete()&&s.getActionId()==a){e._cancel();break}break;case u.x760633668951967089x:for(t=0;t<n;t++)if(!(s=this.mActions.getAtIndex(t)).isComplete()&&s.getActionId()==a){s._cancel();break}}}this.mActions.pushBack(e),e.isComplete()||(e._activate(),this.x4531003883108638463x.setObjectValue(i.x1863057587496635561x,e),this.dispatchMessage(i.x2436794152278512146x,this,this.x4531003883108638463x),this.x4531003883108638463x.clearObjectValues())},s.askComponentsIfPlayerCanExitState=function(e){for(var t=this.mComponents.getNumObjects(),n=0;n<t;n++){if(!this.mComponents.getAtIndex(n).x3436843243535344853x(e))return!1}return!0},s.askComponentsIfPlayerCanEndGame=function(e){for(var t=this.mComponents.getNumObjects(),n=0;n<t;n++){if(!this.mComponents.getAtIndex(n).x3856714731809549581x(e))return!1}return!0},s.processComponents=function(e){for(var t=this.mComponents.getNumObjects(),n=0;n<t;n++){this.mComponents.getAtIndex(n).processTime(e)}},s.processActions=function(e){this.mPendingActionsQueue.getNumObjects()>0&&((a=this.mPendingActionsQueue.peekFront()).didTryActivate()&&this.tryActivateNextQueuedPendingAction());for(var t=!1,n=this.mActions.getNumObjects(),s=0;s<n;s++){var a;(a=this.mActions.getAtIndex(s)).processTime(e),a.isComplete()&&(this.x4531003883108638463x.setObjectValue(i.x789171500465171556x,a),this.dispatchMessage(i.x2615971472494097178x,this,this.x4531003883108638463x),this.x4531003883108638463x.clearObjectValues(),this.mActions.setAtIndex(s,null),null!==a&&(a.destroy(),a=null),t=!0)}t&&this.mActions.compactNullEntries()},s.updatePendingActionsQueueSize=function(){for(;this.mPendingActionsQueue.getNumObjects()>this.mPendingActionsQueueMaxSize;){var e=this.mPendingActionsQueue.peekFront();this.mPendingActionsQueue.popFront(),null!==e&&(e.destroy(),e=null)}},s.x4469416558114357602x=function(){},s.x2021707447703295105x=function(e,t){return null},s.x2766708504066152543x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),this.mComponents.destroyAll(),null!==this.mComponents&&(this.mComponents.destroy(),this.mComponents=null),this.mPendingActionsQueue.destroyAll(),null!==this.mPendingActionsQueue&&(this.mPendingActionsQueue.destroy(),this.mPendingActionsQueue=null),this.mActions.destroyAll(),null!==this.mActions&&(this.mActions.destroy(),this.mActions=null),null!==this.x4531003883108638463x&&(this.x4531003883108638463x.destroy(),this.x4531003883108638463x=null),e.prototype.x2766708504066152543x.call(this)},s.x3139096472792676868x=function(e,t,n,i){switch(e){case o.x3461483973768069303x:return t;case o.x353128994538654894x:return 0;case o.x3589770202422279121x:return this.processComponents(i),this.processActions(i),i;case o.x2931974030808705080x:default:return 0}},s.x3544020690074873731x=function(t){switch(r.getFirstValueKeyInPath(t)){case i.x353398322827702730x:return this.x3544020690074873731x(r.chompToNextItemInPath(t));case i.x2271847448158964354x:t=r.chompToNextItemInPath(t);var n=r.getFirstValueKeyInPath(t),s=this.getComponent(n);return s?s.x3544020690074873731x(r.chompToNextItemInPath(t)):null;default:return e.prototype.x3544020690074873731x.call(this,t)}},n(i,null,[{key:"x353398322827702730x",get:function(){return 65853458}},{key:"x2271847448158964354x",get:function(){return 1136936839}},{key:"x3558825997769479104x",get:function(){return 201095054}},{key:"x3255302811440110472x",get:function(){return 1076778727}},{key:"x952370844696561785x",get:function(){return 253778376}},{key:"x4487631293345544181x",get:function(){return 1076778727}},{key:"x1977299127213275389x",get:function(){return 1419743013}},{key:"x1848193954809207789x",get:function(){return 1076778727}},{key:"x2436794152278512146x",get:function(){return 1214876754}},{key:"x1863057587496635561x",get:function(){return 1076778727}},{key:"x2615971472494097178x",get:function(){return 1941985592}},{key:"x789171500465171556x",get:function(){return 1076778727}}]),i}(s));i._RF.pop()}}}));System.register("chunks:///_virtual/x713925626457252070x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2034250350103582503x.ts","./x1825263265700717187x.ts"],(function(t){"use strict";var e,i,n,a,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){a=t.x2034250350103582503x},function(t){r=t.x1825263265700717187x}],execute:function(){n._RF.push({},"5eb10jWjp1I1a/z1mILg7dd","x713925626457252070x",void 0);t("x713925626457252070x",function(t){function n(e,i,a,c,o){var s;return(s=t.call(this,n.x3019900432567042923x,null)||this).mActionId=e,s.mConcurrencyType=i,s.mParams=new r(!0),c&&""!=c&&s.mParams.parseJSONString(c,!1,!1),o&&s.mParams.copy(o,!1),s.mPlayer=a,s.mSpawnedMatrixX=0,s.mSpawnedMatrixY=0,s.mActivationTries=0,s.mActivationMatrixX=0,s.mActivationMatrixY=0,s.mDidActivate=!1,s.mCustomData1=0,s.mMessageData=null,s}e(n,t);var a=n.prototype;return a.getActionId=function(){return this.mActionId},a.getParams=function(){return this.mParams},a.getPlayer=function(){return this.mPlayer},a.getConcurrencyType=function(){return this.mConcurrencyType},a.getCustomData1=function(){return this.mCustomData1},a.setCustomData1=function(t){this.mCustomData1=t},a.getSpawnedMatrixX=function(){return this.mSpawnedMatrixX},a.getSpawnedMatrixY=function(){return this.mSpawnedMatrixY},a.setSpawnedMatrixPosition=function(t,e){this.mSpawnedMatrixX=t,this.mSpawnedMatrixY=e},a.tryActivate=function(t,e){return this.getCurrentState()==n.x3019900432567042923x&&(this.mActivationMatrixX=t,this.mActivationMatrixY=e,this.x1832309505861141126x()?(this.mPlayer.activateAndManageAction(this),!0):(0==this.mActivationTries&&this.mPlayer.dispatchActionPreActivatedMessage(this),this.mActivationTries++,!1))},a.getActivationMatrixX=function(){return this.mActivationMatrixX},a.getActivationMatrixY=function(){return this.mActivationMatrixY},a.setActivationMatrixPosition=function(t,e){this.mActivationMatrixX=t,this.mActivationMatrixY=e},a.didTryActivate=function(){return this.mActivationTries>0},a.didActivate=function(){return this.mDidActivate},a.isComplete=function(){return this.getCurrentState()==n.x2291148428533141857x},a._activate=function(){this.mDidActivate||(this.mDidActivate=!0,this.x3054795774673576263x())},a._cancel=function(){this.mDidActivate&&(this.x3590716489417980242x(),this.setCurrentState(n.x2291148428533141857x,0))},a.getMessageData=function(){return this.mMessageData||(this.mMessageData=new r(!1)),this.mMessageData},a.x1832309505861141126x=function(){return!0},a.x3054795774673576263x=function(){this.setCurrentState(n.x2291148428533141857x,0)},a.x3590716489417980242x=function(){},a.x2766708504066152543x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mMessageData&&(this.mMessageData.destroy(),this.mMessageData=null),t.prototype.x2766708504066152543x.call(this)},i(n,null,[{key:"x3019900432567042923x",get:function(){return 1524848358}},{key:"x1060886010737717951x",get:function(){return 713161411}},{key:"x2291148428533141857x",get:function(){return 885080214}},{key:"x3083342802879284661x",get:function(){return 1}},{key:"x2793160334047733717x",get:function(){return 2}},{key:"x760633668951967089x",get:function(){return 3}}]),n}(a));n._RF.pop()}}}));System.register("chunks:///_virtual/x3995270518114367194x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2034250350103582503x.ts","./x1825263265700717187x.ts","./x2825914500079770252x.ts","./x1518338894798977330x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,n,r,i,a,c,s,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){i=t.x2034250350103582503x},function(t){a=t.x1825263265700717187x},function(t){c=t.x2825914500079770252x},function(t){s=t.x1518338894798977330x},function(t){o=t.x1390687146982484874x}],execute:function(){r._RF.push({},"3fb4ciMpA9J8ZgRK3stITbU","x3995270518114367194x",void 0);t("x3995270518114367194x",function(t){function r(e,n){var r;return(r=t.call(this,0,null)||this).mParams=new a(!0),r.mComponentId=e,r.mPlayer=n,r.mTimerMgr=new s,r}e(r,t);var i=r.prototype;return i.getParams=function(){return this.mParams},i.getComponentId=function(){return this.mComponentId},i.getPlayer=function(){return this.mPlayer},i.getPlayerIndex=function(){return this.mPlayer.getPlayerIndex()},i.getGame=function(){return this.mPlayer?this.mPlayer.getGame():null},i.startTimer=function(t,e,n){this.mTimerMgr.startTimer(t,e,n)},i.resetTimer=function(t){this.mTimerMgr.resetTimer(t)},i.cancelTimer=function(t){this.mTimerMgr.cancelTimer(t)},i.cancelAllTimers=function(){this.mTimerMgr.cancelAllTimers()},i.x3436843243535344853x=function(t){return!0},i.x3856714731809549581x=function(t){return!0},i.x2766708504066152543x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mTimerMgr&&(this.mTimerMgr.destroy(),this.mTimerMgr=null),t.prototype.x2766708504066152543x.call(this)},i.x3139096472792676868x=function(t,e,n,r){switch(this.mTimerMgr.processTimeMSEC(r),t){case c.x3461483973768069303x:return e;case c.x353128994538654894x:return 0;case c.x3589770202422279121x:return r;case c.x2931974030808705080x:default:return 0}},i.x2561498820134418400x=function(t){switch(o.getFirstValueKeyInPath(t)){case r.x353398322827702730x:return this.getPlayer().x2561498820134418400x(o.chompToNextItemInPath(t));default:return 0}},n(r,null,[{key:"x353398322827702730x",get:function(){return 65853458}}]),r}(i));r._RF.pop()}}}));System.register("chunks:///_virtual/x7850470305573934x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x713925626457252070x.ts","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x2226225843525126927x.ts","./x3363722297214968445x.ts"],(function(t){"use strict";var e,r,a,i,s,n,c,o,l;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){a=t.cclegacy},function(t){i=t.x713925626457252070x},function(t){s=t.x2825914500079770252x},function(t){n=t.x2938621194761123466x},function(t){c=t.x1390687146982484874x},function(t){o=t.x2226225843525126927x},function(t){l=t.x3363722297214968445x}],execute:function(){a._RF.push({},"393a5jpTfRD5Jumn+DPwyQ2","x7850470305573934x",void 0);t("x7850470305573934x",function(t){function a(e,r){var s;return(s=t.call(this,a.x3828259796318759308x,i.x760633668951967089x,e,c.x4379805376353750514x(a.x4183570915039330341x),r)||this).mRNG=new o,s.mScratchRowMinosArray=new n(0),s.mScratchMinosArray=new n(0),s.mStepTimerMSEC=0,s}e(a,t);var S=a.prototype;return S.setRNGSeed=function(t){0==t&&(t=c.nextNativeRandomInt()),this.mRNG.setSeed(t)},S.processState_active=function(t){var e=this.getPlayer().getMatrix();if(this.mScratchMinosArray.getNumObjects()>0&&(this.mStepTimerMSEC-=t,this.mStepTimerMSEC<=0)){this.mStepTimerMSEC+=this.getParams().getIntValue(a.x2451300721920857921x);var r=this.mScratchMinosArray.getAtIndex(0);this.getMessageData().setObjectValue(a.x3166330234813484377x,r),this.getPlayer().dispatchMessage(a.x743369394046717932x,this,this.getMessageData()),this.getMessageData().clearObjectValues(),e.killMino(r,this.getParams().getIntValue(a.x1217250536790954798x),!0),this.mScratchMinosArray.removeAtIndex(0)}0==this.mScratchMinosArray.getNumObjects()&&(e.popDestabilize(),e.popMovementDisabled(),this.setNextState(i.x2291148428533141857x,!1))},S.x2766708504066152543x=function(){null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),null!==this.mScratchRowMinosArray&&(this.mScratchRowMinosArray.destroy(),this.mScratchRowMinosArray=null),null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),t.prototype.x2766708504066152543x.call(this)},S.x1832309505861141126x=function(){var t=this.getPlayer(),e=t.getMatrix();switch(t.getCurrentState()){case l.x1226525904332658665x:return e.isStable()}switch(t.getNextState()){case l.x1226525904332658665x:return e.isStable()}return!1},S.x3054795774673576263x=function(){this.mStepTimerMSEC=0;var t=this.getPlayer().getMatrix(),e=this.getParams().getIntValue(a.x1491729524672686422x);this.mScratchMinosArray.removeAll(),this.mScratchMinosArray.reserveCapacity(e);var r=t.getWidth();this.mScratchRowMinosArray.reserveCapacity(r);var s=t.getHighestMinoY(),n=0;n=this.getParams().getBoolValue(a.x3402035996891445781x)?s+1-e:0;for(var o=c.minInt(n+e-1,s),l=n;l<=o;l++){this.mScratchRowMinosArray.removeAll(),t.getMinosInRect(0,l,r,1,this.mScratchRowMinosArray);var S=this.mScratchRowMinosArray.getNumObjects();if(S>0){var h=this.mRNG.nextIntInRange(0,S-1);this.mScratchMinosArray.pushBack(this.mScratchRowMinosArray.getAtIndex(h))}this.mScratchRowMinosArray.removeAll()}t.pushDestabilize(),t.pushMovementDisabled(),this.setCurrentState(i.x1060886010737717951x,0)},S.x3139096472792676868x=function(e,r,a,n){switch(r){case i.x1060886010737717951x:switch(e){case s.x3589770202422279121x:return this.processState_active(n),n}}return t.prototype.x3139096472792676868x.call(this,e,r,a,n)},r(a,null,[{key:"x3828259796318759308x",get:function(){return 372255306}},{key:"x3402035996891445781x",get:function(){return 1714318638}},{key:"x1491729524672686422x",get:function(){return 1617420701}},{key:"x1217250536790954798x",get:function(){return 2139584221}},{key:"x2451300721920857921x",get:function(){return 808890794}},{key:"x743369394046717932x",get:function(){return 69334705}},{key:"x3166330234813484377x",get:function(){return 1485075374}},{key:"x4183570915039330341x",get:function(){return"AEDLFKRCRPVFASEQYRCPNSZOISMLTQXPFMUPVHOMPQCMDKSFLILQZINPLLXOFRAMSQYHOLNUSOZSEIDMVBUGVNJKJOGKZHUJQFQKKJRMJFLRYNBGPJGSPIBSCOBLQGJFMNHJLLWIHLNOJFUIVDRL"}}]),a}(i));a._RF.pop()}}}));System.register("chunks:///_virtual/x2234778313209895001x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x713925626457252070x.ts","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x3363722297214968445x.ts"],(function(t){"use strict";var e,r,i,n,s,a,c,o;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){i=t.cclegacy},function(t){n=t.x713925626457252070x},function(t){s=t.x2825914500079770252x},function(t){a=t.x2938621194761123466x},function(t){c=t.x1390687146982484874x},function(t){o=t.x3363722297214968445x}],execute:function(){i._RF.push({},"99cd9GxvlxMP4Z7q5YwGRWM","x2234778313209895001x",void 0);t("x2234778313209895001x",function(t){function i(e,r){var s;return(s=t.call(this,i.x230667879672903562x,n.x760633668951967089x,e,c.x4379805376353750514x(i.x4183570915039330341x),r)||this).mStepTimerMSEC=0,s.mScratchMinosArray=new a(0),s.mIsToCenter=!0,s}e(i,t);var S=i.prototype;return S.isToCenter=function(){return this.mIsToCenter},S.processState_active=function(t){var e=this.getPlayer().getMatrix(),r=this.getParams().getIntValue(i.x2451300721920857921x),s=e.getWidth(),a=e.getHeight(),o=~~(s/2),S=this.mIsToCenter?c.x196245965280186343x:c.x3311267247859839537x,h=s-o,m=c.getOppositeDirection(S);if(this.mStepTimerMSEC-=t,this.mStepTimerMSEC<=0&&(this.mStepTimerMSEC+=r,e.moveMinosInRect(0,0,o,a,S),e.moveMinosInRect(h,0,o,a,m),e.setMinosVisualAnimationOffsetX_FXPT(0),e.canMoveMinosInRect(0,0,o,a,S)||e.canMoveMinosInRect(h,0,o,a,m)||(e.setMinosVisualAnimationOffsetX_FXPT(0),e.popDestabilize(),e.popMovementDisabled(),this.setNextState(n.x2291148428533141857x,!1))),this.getNextState()!=n.x2291148428533141857x){var l=c.FXPTGetLerpFactor(c.FXPTFromInt(this.mStepTimerMSEC),c.FXPTFromInt(r),0),y=0,M=0,P=l;for(S==c.x3311267247859839537x&&(P*=-1),this.mScratchMinosArray.removeAll(),e.findMovableMinosInRect(0,0,o,a,S,this.mScratchMinosArray),M=this.mScratchMinosArray.getNumObjects(),y=0;y<M;y++)this.mScratchMinosArray.getAtIndex(y).setVisualAnimationOffsetX_FXPT(P);var u=l;for(m==c.x3311267247859839537x&&(u*=-1),this.mScratchMinosArray.removeAll(),e.findMovableMinosInRect(h,0,o,a,m,this.mScratchMinosArray),M=this.mScratchMinosArray.getNumObjects(),y=0;y<M;y++)this.mScratchMinosArray.getAtIndex(y).setVisualAnimationOffsetX_FXPT(u);this.mScratchMinosArray.removeAll()}},S.x2766708504066152543x=function(){null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),t.prototype.x2766708504066152543x.call(this)},S.x1832309505861141126x=function(){var t=this.getPlayer(),e=t.getMatrix();switch(t.getCurrentState()){case o.x1226525904332658665x:return e.isStable()}switch(t.getNextState()){case o.x1226525904332658665x:return e.isStable()}return!1},S.x3054795774673576263x=function(){var t=this.getPlayer().getMatrix();switch(t.pushDestabilize(),t.pushMovementDisabled(),c.stringToHash32(this.getParams().getStringValue(i.x2514946646775179747x))){case i.x3993883590413325031x:this.mIsToCenter=!0;break;case i.x4170384008620131706x:this.mIsToCenter=!1;break;case i.x1004897802754142771x:var e=t.getWidth(),r=t.getHeight(),s=~~(e/2),a=e-s,o=0;this.mScratchMinosArray.removeAll(),t.findMovableMinosInRect(0,0,s,r,c.x196245965280186343x,this.mScratchMinosArray),o+=this.mScratchMinosArray.getNumObjects(),this.mScratchMinosArray.removeAll(),t.findMovableMinosInRect(a,0,s,r,c.x3311267247859839537x,this.mScratchMinosArray),o+=this.mScratchMinosArray.getNumObjects();var S=0;this.mScratchMinosArray.removeAll(),t.findMovableMinosInRect(0,0,s,r,c.x3311267247859839537x,this.mScratchMinosArray),S+=this.mScratchMinosArray.getNumObjects(),this.mScratchMinosArray.removeAll(),t.findMovableMinosInRect(a,0,s,r,c.x196245965280186343x,this.mScratchMinosArray),S+=this.mScratchMinosArray.getNumObjects(),this.mIsToCenter=o>S}this.mScratchMinosArray.removeAll(),t.getMinosInRect(0,0,t.getWidth(),t.getHeight(),this.mScratchMinosArray),t.unstickMinos(this.mScratchMinosArray),this.mScratchMinosArray.removeAll(),this.mStepTimerMSEC=this.getParams().getIntValue(i.x2451300721920857921x),this.setCurrentState(n.x1060886010737717951x,0)},S.x3139096472792676868x=function(e,r,i,a){switch(r){case n.x1060886010737717951x:switch(e){case s.x3589770202422279121x:return this.processState_active(a),a}}return t.prototype.x3139096472792676868x.call(this,e,r,i,a)},r(i,null,[{key:"x230667879672903562x",get:function(){return 684884306}},{key:"x2451300721920857921x",get:function(){return 808890794}},{key:"x2514946646775179747x",get:function(){return 2056434056}},{key:"x3993883590413325031x",get:function(){return 2132360993}},{key:"x4170384008620131706x",get:function(){return 1252440560}},{key:"x1004897802754142771x",get:function(){return 1425982939}},{key:"x4183570915039330341x",get:function(){return"IBPJHJDBDODFFRNOBSGMORSNIRDKIEPSAJZMPDYLLDHQZNSJXGNPJMNSKPQRAFJPEPAMRPVMNTSDDLQITHSLWTTPRPZP"}}]),i}(n));i._RF.pop()}}}));System.register("chunks:///_virtual/x2327442049556200630x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3995270518114367194x.ts","./x1825263265700717187x.ts","./x2751816676112477481x.ts","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x2132475033604646101x.ts","./x3645332506817008919x.ts","./x2226225843525126927x.ts","./x3624803980696404420x.ts","./x3956211014191467053x.ts","./x3363722297214968445x.ts","./x3975905769579210931x.ts","./x3982968798538976088x.ts","./x171523377489456697x.ts","./x2839937219054016575x.ts","./x128797566098593454x.ts","./x7850470305573934x.ts","./x2234778313209895001x.ts","./x1473388099617861376x.ts"],(function(t){"use strict";var e,n,a,i,I,P,r,s,o,c,S,M,K,E,N,L,m,G,C,O,F,A,B,Q;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,a=t.assertThisInitialized},function(t){i=t.cclegacy},function(t){I=t.x3995270518114367194x},function(t){P=t.x1825263265700717187x},function(t){r=t.x2751816676112477481x},function(t){s=t.x2825914500079770252x},function(t){o=t.x2938621194761123466x},function(t){c=t.x1390687146982484874x},function(t){S=t.x2132475033604646101x},function(t){M=t.x3645332506817008919x},function(t){K=t.x2226225843525126927x},function(t){E=t.x3624803980696404420x},function(t){N=t.x3956211014191467053x},function(t){L=t.x3363722297214968445x},function(t){m=t.x3975905769579210931x},function(t){G=t.x3982968798538976088x},function(t){C=t.x171523377489456697x},function(t){O=t.x2839937219054016575x},function(t){F=t.x128797566098593454x},function(t){A=t.x7850470305573934x},function(t){B=t.x2234778313209895001x},function(t){Q=t.x1473388099617861376x}],execute:function(){i._RF.push({},"1dcacAhCKZCnZE5yGMIA5GT","x2327442049556200630x",void 0);t("x2327442049556200630x",function(t){function i(e,n){var I;I=t.call(this,i.x1554835820352522805x,e)||this,i.x356073596967029546x(I.getParams(),!1),I.getParams().copy(n,!1),e.addMessageListener(a(I)),e.setAutoActivatePendingActionsQueue(!I.getParams().getBoolValue(i.x269460241295255218x)),I.mRNG=new K;var s=I.getParams().getIntValueWithDefault(i.x3314155485739473069x,0);return 0==s&&(s=c.nextNativeRandomInt()),I.mRNG.setSeed(s),I.mSpawnActionItemTimerMSEC=-1,I.mSpawnedActionItemTimeMSEC=-1,I.mNumConsecutiveDespawns=0,I.mLastActivatedActionId=0,I.mItemActivationStreakCount=0,I.mScratchMinosArray=new o(0),I.mActionsIndicesBag=new r,I.mActionsIndicesBag.setRNGSeed(I.mRNG.nextInt()),I.mActionsIndicesBag.setBagSizeMultiplier(I.getParams().getDictionary(i.x1760590540565637868x).getIntValue(i.x48201891288245308x)),I.mScratchActionsIndicesBagValues=new P(!0),I.mLevelsComponent=null,I.mScoreComponent=null,I.mDEBUG_actionItemOverride=-1,I.setNextState(i.x644521252633685723x,!1),I}e(i,t),i.x1004933299485363237x=function(t){var e=new P(!0);return i.x356073596967029546x(e,t),e},i.x356073596967029546x=function(t,e){t.parseJSONString(c.x4379805376353750514x("LDZMBMXDKAVDWPTNIBJNQAQNJDGLMHFFANBRXIKOFHCCTQOHHKDCEOBCEJPMCPZKAPWLQSAGMRRFULPOTLLOVSUOURMOMLYCALCPYKQOHEGRNNUFZIIQOHPPCMJJGFJEKMXIHNBMYPASLNBNGJDNHDXQXEFJZJHFAJRQRNDRWNUKIOKKEOKHZQQCLPANRCBGSOZFQONKUHNPUCKMALWOEKNOCLCIYKRHJLURQKIOGEPIEPNGOJEEDJAEOCTKNRCECQZDAMXHUFXMUAVIFRLMTIBGKSIPCJNFVITEAJELLFVFDSZEOOZIWLHSNPYIJPZHJEQHFCFQEDVPCDDPADBLQCARQPCUKLTTPKLSWQQMCQVIJEUGEPWSUETREERPWCIFHSEFRLYODGNNCBDNKABNIKVCYJIOSNRQBKDEFTFKYNLFZNHFESSPZJJKVSWOLSQLPQIBHOYMNHNLKDLPIDFJIIJQQHGRAQPTJQNLERBNSQZMLQJILPHMVJRMMFMQSPTMXJVFCKURTHLMTIYMZOEINMMCLHAPFKPNIDJHMKJCKKHGIKEHQHCLMGOKVGPKSRKOTMDUGHSPYJHPVLHJRFNTTMFIWLIIVIGMFCIIQEMIKRTMZNGOMBDKKBLJYFJJMQJOFHVGQJZFDKTMBGWEXPHHZKXBYFVBWPTLEPRHUORCRPBGYHHELIBPHRJLJHVJJRHPCIVNQHIUEHSTUQCFSQJUFQIRDKQFODGLROOGXCAFWAXOUGXJUBVNSBTNQBMESODSMOQSAKZEOKELNPZGROAHAOHRHOZJBUNPNTPKIONGXSARDLDQZTHOJTHPWMRDKMEQGMEQGLAQMRFORMQFPKMBUOWBLGOFONLFMNJJKNHJEHHKDHBOMJUNWENRWPYGWJPRAPSSXOTLTPWGKPDLBPMIVMKJYFIJRFUHKQTGUKDBOEFNMENMYHWILDHBIJFFGJJQGEHMEIAHIFNEFNRIYMUIWGANSQLJRCQHNCLJPHLDOCPOWBNKKGVJIQVOHIQGAKTGKJDGVUZGSSNHFTKHBPULXIXPUTEMPFYJVEQOZEZMWETAUEXLIPRBSNBGZOOBQENAOELKMOJGMNJBJOBEUQSOUGDONRFONOYHVCTTZGJKWCXOECVOCMPECHEPPMQSIOUSNEFQVPHLIPEHQSOHLKMKJBXQLALMMQJMQJJNGJHNEJPMCFENMNLJNNPFWRSFKLCJVPAIRPIMVPVGWKGNCJOMJIRMHPMKWNFEQHTKGHRKOGPKMCJELIFHUKOHDKHTMPFNPSBIFQNKFQNLSJTQJUHMAJCMKIAMGOMHNHKCMGCPVKYMHDTBKKHGSJFGQJJNQONGZDHKAGGKBMXILHVSZGEMRECHQDMRBIBQYHBPYCZOGCTEQAREULEQYKZGXLCQIESIYDGILRQFHNFPTCQOPAFNMADJAFHCAKLNYFVBGFCCPSBLUNKEDSNFASBGIHUOKSDPVPQINDFIZISLODPPMDNPKDNGUHVPIMJQFNKTDHJTHRLMJQLIQPGSKPINEFRRKQUJDOAJOQCOOKBJYEZIWANNUARGUFVNIKSODNVRPJVKRODKKOGKQMPEOQENBFCIUQQMNQCLYIVAZHZLWHHLUHFLUIRECIOFCMMEELPOXELHQRENXQBITLQTGFDNDKWLNDGHLPKJFICDVHBLTGIJOEBDCLBCCGZBAGXBIFVHEIWCWODCUKRGSKLACPPHMDZLTEWGMPPAIEJQQDRPODPLCIIGBQTDFMSIELEIQFTIFFKHYEHJZQYFVDWOGGYNUBVJUAWESKTOQGNCQBRNXBZMIOMHEOVRHOHQVJEDDSCIHMWEYQFETQZNNGONGRGNJPVHGPZAQNDMAILLYDZPWDSKSMDERRMDQQVESMWMORONBQONKQFJIPIOQJXNBGXRZFVMLHARXLOQHMKOYBJJWLTHELRHCLVOSKDOLFTLCEKLNNJKBPHGVHQNNFOICFDJZQOLKJJAKELMIIJMGIDGEODFDKXIMMGFZKLOZKLJPFEGTPQKSOJFJDSKOGZJMGXJKCJDUGHDSGPCPHCSQJDHXRMHAPZLOPXFHUULCJEJZFCEUMWDBFXAYEBMMPZHWDXHUNRBUEQBKIMECIUQUFKFARJEFQDELNRIKGJOROCIZCHJBCLPYHBPICZOGCHKECBEULFPBMQSFLYGIKAMQPTHTTPGCSXFTHOOLBDOZBWNZPNDOPLNIJTMGFJMKQHMOJBCBPBGBNBQOIYPORZOLRIJYMCFQRTEMKCKLQQNTQUMXOSHFNMMFIGMDESKOCPOMMLDMHNPKLLPILFJOFGIGMDIOLBEMLZNYEJIWETMDCWMGQRBCFTNQJBNOJBIOAKHLNFKMNMRTFSOPJZKNCNGQJDGOJLFIDJLYCJGGCGHSRBJFMRHAHATWEOOXHWMPBXQSJMFPJHFPIVQCHFGDCGFPMVDWLJIQFJNQAHJEFPINEIDYJJFRJCEGJPRIJOEESEGQQEGQNXEYHYOKSDLRGNKVRLFVKQRNEERXESGCOPGMCJAKMVPUCLPSCJPQNZIYPOTTODTHMNHBFWOHOEJWNOFTADEAKDJABRNYAZMWAXIKPWOQNFRZJSPEJSFCTIKXKIETOXDXPUNXQUMVQSMZPGCGODMAILLYHKLCPZKKOTEDJCEELVOBKEPOGNNCRBIVLLTEMWQRNOKECAGTMPIQMNIKGLOKFLJIFJJGBGOWOIKGKEGWIBSMNPRNGRFZOFKSOVKDLOENEBMPDZGQPXGYONGUDVPSDTLGIRLPDXDLMTIIMTHNMFPYLEJBEXICRRIZKRHFMWQWFFOODVHSSNGXNOESCNPPCUJABRJOFVCOKZNMGJCUFHCEUGIIPPCGPNCELBHIEVAMPLMTQIHEDFHCNFMCEPAAEBQIDYMMRGEYQFEYMGUIHUQPPMKKROFQMOAOMVJICJOGCJJUMHFDCPSOOQSUFLNXFNQVEUIDNWPQMXPWLWPYHEOPMPINMGEZKVCWOTMSDDHUPRLSPQLMJICIMXPRMGPGIPUISOHENEFALEFQQFEUEIJKRDOFRNNDRLERHAMNHPLBEALDNPJWGTCUGFOKGVJSFPDQLCJMKFGLKERAOOMUHEHKMOEFMTIPMABGQDIAEBIYDJHAQTFWETADFRQCMARFLLJVRLEJNKGTKQFEEUMTDEHRDCHDPMLXBDPKCLKJCJKIBJFGLHPEHAENKPRSFNMBULHYTZHMKSGIKBHPBOOZQFFBRQDQPXMKFNMKALMWPJIGEDCDPJQBJRQPIJEHITNYMAEIRQEQQZEGNRQBQYKMSAGMCXFUBVPUCVKSCTOQCROOMQQNPTTHPZSYKGRYPIMKPDIDPTGCOZQGHKJVCWNYRBJXMKFDLGNSJFISATMEQBMYJRNYEZMXIWNQMJKPSZIDNRJCNRFPRVOLLDKKSQJTQRNUREIMGGPLJEOTJINXDSKVIMFTIKRDNGPSLBECMZDQMNIZLXCUALJIFSJMIBMBQZKZIOFYIRRLJXLNIDMGSCGPMPESIGFCJGRHFAKVQWEZKUHVKJHLFIIDPCIRCBGOCZPMIPPWCNPUCVKIHPEBCJTQLQHCLYGKLZPWPQITDZHEUTHWORQKDJPZBYKVFNKPRMPJHQOVFRBSFVMSKPCQONCOOBNOFVALQLPYSLGNSRFASMFGKQPWRNOVSINFSFKKQZNSKPNKFUQZEAQSOCCNJORHNAQWLTJQBTIUMRISMPEMANOKKMKZEVQVEXQNDDGHIFSPNBSMNIRAERKWOLKYMRFGMPPVKAJRQQIPQEIPLAGWDXLKIVLUCVGWOJLQINEANSLEIPLMHNLKNHFKIHESHRIZIIQAGDFABLECNZIANHIEGWKDFUNMJRMPGUELMXGZFLCWFNOKKRHKPRCILFHQKMHYNPLRTDLGHGLSFUKJLQCBFURPFZNSERIOEGSNKASNFJRXDXPENRFUMRASMDQQINELCKPUQVIPFOHEFXIGLAMCGGSYDQRYEHNUSKSSNPSDKLGBKRFBRYEZLMEJQYCYOVMYPVLWPTLEPRHUORMOJLQEIGEZGBPDTVENMECDPKBUJANFEBKMNZJKNZAANLQYMFKSCUKCRDNLRQLMKETCKUNVGULBCJPFNCJFIGQDMEQXLQOMQFCMLJHKLIHSKFDCJFIBFYKOTRPLSAQUMZQANLQRMRPKMYGPLMGOKGGZIVAOIVFICTFUNHKUIRESIEMEGUNOFQJUEJJYQTGZJTRHGRNAKHOBHWFAIJHBHXCIGVCGQTIWPTDUPBDSLPHLGTEZTMMFIDMRGULEOPQNHLENIKBJGKNRRTEFRJFWMEHRIJQGODGRCBGYBZFCJZKWCXOTDRSMFCKAEITFPPSALUSJFNSCGLITMEGHMMQRMUOGHDNKADIOLBECQJDUOHNWAWNLUIQUTCMHMLFVMLQGNPPSHCDARQLRLOCHPCDDPWCLDXFOOLKMOJKUNHGGHHLEHPKBEZSIRAOILPSQPETTKGNOGZHIQHLYOTEIJCQNNVJKGIKLNMIWLTHULRNOFRIPEPIMENIWEIGKFHBIFJNGJHNEJBHEKNKLLAGKJXBEDVLUCFGSCNFUOQLXLSTMGRPOLWLHJSLEMIESHFERHNDOHRKABLEMQJEJNTGWKKHWEDNZIPLTTCFBOIONHPDMHROFSKKMGLEHQOOTFPBQFNBYELHYNLCMOTBVNQCONPTZSAOOSTKCHUIGGLUUFCUUGDTAGEPMQFJZPVTXPRTXISFPCIKFOUEQAREOAFPOBPNWANNKBNIXMHIAOGSVMFRLFFQJEEOJMXDQLWOBKLNYFFHGPVGGKDGFKBCSOYMSLJKHTCOMSAPKSKEHJQNNIFNBFMMZEWKZJWFDJMQIMTPGMNJGNEJENBJMMZEFHKNQIXMDIGNHFVMGKDGXJDSWOYOVGWJANSIVKRGSKVNSFTNCENHKDNCOKKHEOGKIIMLQGELQGTKZRTDBNNTGHDUHEWNUIDKRBHQUIRECIPEAINKMBYEKBVELOVIXQRGPFYPCFKNMJVNAIJRSIDFHHCEDHBLTMMEFPBDMOZCCGZBAQXLYPVHYOVCVPAFIIOECIEPFTHLYSKLHQZEJMJPHFGSOEGREREFSQVDFRXDCNATMEMNXQTMSQGJZBCPYKBKYBZNWBXNUBBDUKVOEPVOQGBOOGNHOLLHGKJDKPTHULSHIQFMGQDMOPDDAJBNYIINIMYPCTMPHNQGZKWBCNEMAIBMYNXEYIVEWITAUIRANHBJAFSJSQLNLRXLWKKLFIGLUHJLAEQJRNVEVINEGIPQHMWISEFDWLTHELRHCLRIOEZHLFTLUDCMTNFFYIREZGPQRHDKRHZEINVIJNTDQIIQMGMJSFCHDLLBRKKGZCZOGCZFWBXFUBFFSHVOSCSPWFJOVFENAUETAPSSJIEFPHDEVBGEGQNDOPLDMLVBGFTLKQHIHRCMMHGGRLRQFJLEDIUBTGSCLPGDHPEDFLMCFGYLRONKYNLGONVAMNTKGDHPUNGLDRPJSPMSDLLNAHPOWFWSSPLMFIERRMTQVLEPWAPIBMXHYLVDGLTDQJTIPFJMLESQPEXPHOZQYMEQSMUQQIZOIOCHLLYCWNACCJJGWCHGYOVKGOVFQITLQHAMRLCPGSOOHQXHPLLGAMLNOJCNWIMFLOKEGJYEVIOPGFHJKQHEIMPDGMDIAGXBKAAKLIRMXIVLQNWFMJPFZIQQYNARYGWCVPCCVKZJVNGJYGUKSGRKPGVIDSSTYGXSMHIMHDHLGCHQEMFQCIZDAIDPKCJJVAVEYLJPWHTDUHRNOBRIOQIFNAXDKAVNKBLNSAJNQAHJNPBGONQROJXQAJVEHQCNFLPGXODCEOCCYDRLCPZKAPXGUCUHELHPVHVOOHOTAGEOXIICJNFCYNRRZECLFOTKEOQGYNIQEMLJYFJJWBJIKMHIIMWORLZRMIKNVDPREFXKFNXRXJJQXNJRONLKROZJWOKKGOIGYLINPEGIYQEIRQGLCJZEMDDMAIVKYHJLWNWEFJPIWLOEHPRTTFNILRWFWOIKKOEFTBTJGGRJOFRESMBDMGJCKGMKQEVMPJUFUSIHUJYFDHIDJGNJPQNENQUDLMIIFMQAQOTHEPRHPDZGMDTAMEJATEWTCHJPLEPJUQNEINPIJMVHOGIKHPEGSCOGDBDFCCDOACBOYBZJYAZEWKWPWJCSUKYRDFQRMOBHHSVGPOTQIKLQJRFOPQRHJPPCGPNMKILMOPBMMPJLKPDBVJEQIMBQXGNEGIZNXLVEUKSEYQHEVQUOTOOLPOGLJOYEKLLPKGWJICJOGCHOEMDDOGEQDPLSHPZLXPZLWOWLJPRSUOESGHXKWCFKVNDLBPMJMISQYHUIPFQIIRAHBLWBPEQMMINMKIHGIORASIFFGJDFOJROKFAKJEXISRNNZQUHDDTMZCIMRGBKYFVDOHLDWGTCUGVOKQNHTPPDQLDIOLNCKALIMQJICIQJLPHDFFBBCFZAAFDIAELHXOKFRNCFVISBBGOBMSQGSNZAQNXAOJLPSCLKWNJGFDBJQFSTULNOJGPRHFKPFECFQNFRVMYQYIOEXIZNRNIFBMYDYPVDWPTNSATMQARMCQOJLNZQTNSPIJTQMEUOQNGGCMGGUMNQAMOQMSFPHSRJHNXEXOCDPIAMFQUKEOCKCOZJWHZKWGXKEGVKRDLMJQMHFKFTTPDTHPIKDDQEYNQJJMFIQLDOCFDJAFLIYAZMKQUCCJRQBOUPGNIRQHUFZKKIVKJHTKMOVEGIEEEIBQIGSJPFMDXKKDLLKCMGICTFFJOHQGXSXEGPQKDPAFBTXLJHGMUEDJQEOCCGRABEOAZDAMJCUFNNVALJIFSJIIKGGPERYIYFYIYEDIRKBTRFESHGFLAIDGNPGPBHYCZGCOZBAKHLUDVPSDVKFPDKXPFEKQJTRHHTKHKTRPZIOQJTBPHTRPYRYFYMSQHMJQZGGTPGKMGKCDSOUCQOBBBJYKBOYJZNWJXNUFRLSPDLTKPCQONCOOLMOPVGMPTKGTILSOHMEIPLCINLAEDLKSYEIIVAXMHQWHHLUDNJ"),e,!0)};var I=i.prototype;return I.DEBUG_setActionItemSpawnTimerTo0=function(){this.mSpawnActionItemTimerMSEC>0&&(this.mSpawnActionItemTimerMSEC=0)},I.DEBUG_setActionItemOverride=function(t){this.mDEBUG_actionItemOverride=t},I.setupActionsIndicesBagForLevel=function(t){this.mActionsIndicesBag.removeAllRefillValues();for(var e=this.getParams().getDictionary(i.x1667962745893692988x),n=e.getNumValues(),a=0;a<n;a++){var I=e.getDictionaryAtIndex(a),P=I.getIntValue(i.x3964642363702756232x),r=I.getIntValue(i.x478729682584864419x);if(t<P||t>r)this.mActionsIndicesBag.removeValueFromBag(a,-1);else{var s=I.getIntValue(i.x557207131520291319x);this.mActionsIndicesBag.addRefillValue(a,s)}}},I.processSpawnActionItemTimer=function(t){if(this.mSpawnActionItemTimerMSEC>0)this.mSpawnActionItemTimerMSEC-=t,this.mSpawnActionItemTimerMSEC<=0&&(this.mSpawnActionItemTimerMSEC=0);else if(this.mSpawnActionItemTimerMSEC<0){var e=this.getPlayer();0!=e.getMatrix().getNumMinosWithActionItems()||e.getNextQueuedPendingAction()||(this.mSpawnActionItemTimerMSEC=1e3*this.getParams().getIntValue(i.x4462246298594589994x),this.mNumConsecutiveDespawns=0)}},I.trySpawnActionItem=function(){if(0==this.mSpawnActionItemTimerMSEC){var t=this.getPlayer(),e=t.getMatrix();if(!(e.areAnyMinosObscured()||e.getNumMinosWithActionItems()>0)){var n=e.getHighestMinoY();if(this.mDEBUG_actionItemOverride<0){if((this.mLevelsComponent?this.mLevelsComponent.getCurrentLevelIndex():0)<this.getParams().getIntValue(i.x3810248914366546872x)-1)return;if(t.getTotalMatrixMinoPatternMatches()<this.getParams().getIntValue(i.x3341361856741498948x))return;if(n<this.getParams().getIntValue(i.x2642650184517257381x)-1)return}var a=this.getParams().getIntValue(i.x621459684175096022x),I=this.getParams().getIntValue(i.x4190859613665416758x),P=c.isOdd(this.mNumConsecutiveDespawns)?I:a,r=n+1,s=r-P;e.getMinosInRect(0,s,e.getWidth(),P,this.mScratchMinosArray);var o=this.mScratchMinosArray.getNumObjects();if(o>0){var M=this.mRNG.nextIntInRange(0,o-1),K=this.mScratchMinosArray.getAtIndex(M),E=this.getParams().getDictionary(i.x1667962745893692988x),N=null,L=-1;if(this.mDEBUG_actionItemOverride<0){this.mScratchActionsIndicesBagValues.removeAllValues(),this.mActionsIndicesBag.refillBagIfEmpty(),this.mActionsIndicesBag.copyBagValuesIntoDictionary(this.mScratchActionsIndicesBagValues);for(var m=this.mScratchActionsIndicesBagValues.getNumValues(),G=0;G<m;G++){L=this.mScratchActionsIndicesBagValues.getIntValueAtIndex(G),N=E.getDictionaryAtIndex(L);var C=!0;C=C&&!(N.getStringValueAsHash32(i.x2143698450011207967x)==this.mLastActivatedActionId);var O=N.getIntValue(i.x3005901502095900453x);(C=C&&!(O>0&&r>N.getIntValue(i.x3005901502095900453x)))||(this.mScratchActionsIndicesBagValues.removeIntValue(L,-1),G--,m=this.mScratchActionsIndicesBagValues.getNumValues()),N=null}if((m=this.mScratchActionsIndicesBagValues.getNumValues())>0){var F=this.mRNG.nextIntInRange(0,m-1);L=this.mScratchActionsIndicesBagValues.getIntValueAtIndex(F),N=E.getDictionaryAtIndex(L),this.mActionsIndicesBag.removeValueFromBag(L,1)}else this.mActionsIndicesBag.refillBag(!0);this.mScratchActionsIndicesBagValues.removeAllValues()}else{var A=this.getParams().getDictionary(i.x1667962745893692988x).getNumValues();N=E.getDictionaryAtIndex(c.clampInt(this.mDEBUG_actionItemOverride,0,A-1))}if(N){var B=this.createAction(N.getStringValueAsHash32(i.x2143698450011207967x),N.getDictionary(i.x1823444541863466000x));B.setCustomData1(L),K.attachPlayerAction(B,S.x1594089641068066194x),t.dispatchActionSpawnedMessage(B),B=null,this.mSpawnActionItemTimerMSEC=-1,this.mSpawnedActionItemTimeMSEC=t.getElapsedActiveGameTimeMSEC()}}this.mScratchMinosArray.removeAll()}}},I.createAction=function(t,e){var n=this.getPlayer();switch(t){case m.x414433306457105515x:return new m(n,e);case G.x1803283145394326311x:return new G(n,e);case C.x4076663082924797413x:return new C(n,e);case O.x4346400190625935653x:var a=new O(n,e);return a.setRNGSeed(this.mRNG.nextIntInRange(1,c.x2812288279383445977x)),a;case F.x2579173940506276196x:return new F(n,e);case A.x3828259796318759308x:var i=new A(n,e);return i.setRNGSeed(this.mRNG.nextIntInRange(1,c.x2812288279383445977x)),i;case B.x230667879672903562x:return new B(n,e);case Q.x3375684980073946266x:return new Q(n,e);default:return null}},I.tryDespawnActionItem=function(){if(!(this.mSpawnActionItemTimerMSEC>=0)){var t=this.getPlayer(),e=1e3*this.getParams().getIntValue(i.x1066253982993582282x);if(this.mSpawnedActionItemTimeMSEC>0&&t.getElapsedActiveGameTimeMSEC()>=this.mSpawnedActionItemTimeMSEC+e){this.mScratchMinosArray.removeAll(),t.getMatrix().getMinosWithActionItems(this.mScratchMinosArray);var n=this.mScratchMinosArray.getNumObjects();if(n>0){for(var a=0;a<n;a++){var I=this.mScratchMinosArray.getAtIndex(a),P=I.getMinoPlayerActionItem().getPlayerAction().getCustomData1();this.mActionsIndicesBag.containsRefillValue(P)&&this.mActionsIndicesBag.addBagValue(P,1),I.destroyPlayerAction()}if(this.mSpawnActionItemTimerMSEC=1e3*this.getParams().getIntValue(i.x438037176088889892x),this.mSpawnedActionItemTimeMSEC=-1,this.mNumConsecutiveDespawns++,this.mItemActivationStreakCount>0){this.mItemActivationStreakCount=c.maxInt(this.mItemActivationStreakCount-1,0);var r=this.getParams().getDictionary(i.x3238569294619407474x).getIntValue(i.x1273721301126980639x);if(0!=r){var s=this.mScoreComponent.getScoreMultiplier(),o=c.maxInt(s-r,0);o!=s&&this.mScoreComponent.setScoreMultiplier(o)}}}this.mScratchMinosArray.removeAll()}}},I.x2766708504066152543x=function(){null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),null!==this.mActionsIndicesBag&&(this.mActionsIndicesBag.destroy(),this.mActionsIndicesBag=null),null!==this.mScratchActionsIndicesBagValues&&(this.mScratchActionsIndicesBagValues.destroy(),this.mScratchActionsIndicesBagValues=null),this.mLevelsComponent=null,this.mScoreComponent=null,t.prototype.x2766708504066152543x.call(this)},I.x3139096472792676868x=function(e,n,a,I){switch(n){case i.x644521252633685723x:switch(e){case s.x3589770202422279121x:return this.processSpawnActionItemTimer(I),I}}return t.prototype.x3139096472792676868x.call(this,e,n,a,I)},I.x976210321608527258x=function(t,e,n){var a=this.getPlayer();switch(t){case L.x919670044951203337x:switch(a.getCurrentState()){case L.x2530639482016834782x:this.tryDespawnActionItem(),this.trySpawnActionItem()}break;case M.x3558825997769479104x:var I=n.getObjectValue(M.x1863057587496635561x);if(this.mLastActivatedActionId=I.getActionId(),this.mItemActivationStreakCount++,this.mScoreComponent){var P=this.getParams().getDictionary(i.x3238569294619407474x),r=P.getIntValue(i.x2703508630329486893x);0!=r&&this.mScoreComponent.addExternalEventScore(r,i.x722519165077873281x);var s=P.getIntValue(i.x1765869560553469509x);if(0!=s){var o=P.getIntValue(i.x1830326560677753764x),S=this.mScoreComponent.getScoreMultiplier(),K=c.minInt(S+s,o);K!=S&&this.mScoreComponent.setScoreMultiplier(K)}}break;case E.x1457963563670105106x:this.setupActionsIndicesBagForLevel(this.mLevelsComponent.getCurrentLevelIndex()+1);break;case L.x2278663471402292977x:this.mLevelsComponent=a.getComponent(E.x1109057396118299453x),this.mLevelsComponent&&(this.mLevelsComponent.addMessageListener(this),this.setupActionsIndicesBagForLevel(this.mLevelsComponent.getCurrentLevelIndex()+1)),this.mScoreComponent=a.getComponent(N.x2916177341484739471x)}},n(i,null,[{key:"x1554835820352522805x",get:function(){return 1557791586}},{key:"x3314155485739473069x",get:function(){return 1326329515}},{key:"x3810248914366546872x",get:function(){return 166759957}},{key:"x3341361856741498948x",get:function(){return 1774184266}},{key:"x2642650184517257381x",get:function(){return 1228338441}},{key:"x4462246298594589994x",get:function(){return 1926984805}},{key:"x1066253982993582282x",get:function(){return 1598328996}},{key:"x438037176088889892x",get:function(){return 1244659634}},{key:"x621459684175096022x",get:function(){return 1381910414}},{key:"x4190859613665416758x",get:function(){return 83078441}},{key:"x269460241295255218x",get:function(){return 172564624}},{key:"x3238569294619407474x",get:function(){return 1026088449}},{key:"x2703508630329486893x",get:function(){return 697741553}},{key:"x1765869560553469509x",get:function(){return 1785642501}},{key:"x1273721301126980639x",get:function(){return 1480627247}},{key:"x1830326560677753764x",get:function(){return 840165184}},{key:"x1760590540565637868x",get:function(){return 198372668}},{key:"x48201891288245308x",get:function(){return 302575929}},{key:"x1667962745893692988x",get:function(){return 575562572}},{key:"x2143698450011207967x",get:function(){return 1638311218}},{key:"x3005901502095900453x",get:function(){return 817065079}},{key:"x3964642363702756232x",get:function(){return 2050597539}},{key:"x478729682584864419x",get:function(){return 647887633}},{key:"x557207131520291319x",get:function(){return 1914099045}},{key:"x1823444541863466000x",get:function(){return 775810380}},{key:"x722519165077873281x",get:function(){return 445349600}},{key:"x644521252633685723x",get:function(){return 1}}]),i}(I));i._RF.pop()}}}));System.register("chunks:///_virtual/x734406084208825918x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3995270518114367194x.ts","./x1825263265700717187x.ts","./x2825914500079770252x.ts","./x1390687146982484874x.ts","./x2697327737977927830x.ts","./x3645332506817008919x.ts","./x3363722297214968445x.ts","./x3860921982419207728x.ts","./x3956211014191467053x.ts","./x4010102164439179233x.ts"],(function(e){"use strict";var t,n,a,s,r,o,i,c,m,S,l,P,u,d;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,a=e.assertThisInitialized},function(e){s=e.cclegacy},function(e){r=e.x3995270518114367194x},function(e){o=e.x1825263265700717187x},function(e){i=e.x2825914500079770252x},function(e){c=e.x1390687146982484874x},function(e){m=e.x2697327737977927830x},function(e){S=e.x3645332506817008919x},function(e){l=e.x3363722297214968445x},function(e){P=e.x3860921982419207728x},function(e){u=e.x3956211014191467053x},function(e){d=e.x4010102164439179233x}],execute:function(){s._RF.push({},"1f70eDbLN9HS6E4bQRkzEZq","x734406084208825918x",void 0);e("x734406084208825918x",function(e){function s(t,n){var r;return r=e.call(this,s.x3823834812270465190x,t)||this,s.x1916904547874714365x(r.getParams(),!1),r.getParams().copy(n,!1),t.addMessageListener(a(r)),t.addMessageListenerToComponents(a(r)),r.mScoreComponent=null,r.mAchievementsComponent=null,r.mTotalSmallPointsVisual=0,r.mTotalSmallPointsMusic=0,r.mPrevLargeScorePoints=0,r.mNumLineClearsPerSendCurrentScores=10,r.mRemainingLineClearsUntilSendCurrentScores=r.mNumLineClearsPerSendCurrentScores,r.setNextState(s.x3798410592801814835x,!1),r}t(s,e),s.x2391002681822613810x=function(e){var t=new o(!0);return s.x1916904547874714365x(t,e),t},s.x1916904547874714365x=function(e,t){e.parseJSONString(c.x4379805376353750514x("JGHNZMBQXMUSBODMAFPMIQDLPPOFJCKPLGSLPDIKWCIOHLPL"),t,!0)};var r=s.prototype;return r.sendDifficulty=function(e){try{window.sendDifficulty(e)}catch(e){}},r.sendSmallScore=function(e,t){if(0!=e)try{window.sendSmallScore(e,t)}catch(e){}},r.sendLargeScore=function(e){if(0!=e)try{window.sendLargeScore(e)}catch(e){}},r.sendAchievement=function(e){try{window.sendAchievement(e)}catch(e){}},r.sendCurrentScores=function(){switch(this.getParams().getStringValueAsHash32(s.x2590379625467075678x)){case s.x368934106996482324x:if(this.mScoreComponent){var e=this.mScoreComponent.getScore(),t=e-this.mPrevLargeScorePoints;this.sendLargeScore(t),this.mPrevLargeScorePoints=e}}},r.sendGameOver=function(){try{window.sendGameOver()}catch(e){}},r.x2766708504066152543x=function(){this.mScoreComponent=null,this.mAchievementsComponent=null,e.prototype.x2766708504066152543x.call(this)},r.x3139096472792676868x=function(t,n,a,r){switch(n){case s.x3798410592801814835x:switch(t){case i.x3589770202422279121x:var o=this.getPlayer();if(o.getGame().wasMusicActiveDuringGame()){var c=~~(o.getElapsedActiveGameTimeMSEC()/(1e3*this.getParams().getIntValue(s.x3307541503650716691x))),m=c-this.mTotalSmallPointsMusic;m>0&&(this.sendSmallScore(m,"music"),this.mTotalSmallPointsMusic=c)}return r}}return e.prototype.x3139096472792676868x.call(this,t,n,a,r)},r.x976210321608527258x=function(e,t,n){var a=null;switch(e){case d.x4491464698703395871x:switch(n.getIntValue(d.x331532947125194439x)){case m.x476144921134076668x:this.sendSmallScore(1,"memory")}break;case u.x2401449302245799433x:if(!n.getBoolValue(u.x2485413609040593399x)){var r=n.getIntValue(u.x1392439065935303313x);switch(r){case 1:this.sendSmallScore(1,"logic");break;case 2:case 3:this.sendSmallScore(1,"creativity");break;case 4:this.sendSmallScore(1,"strategy")}switch(n.getIntValue(u.x3226881466546944827x)!=c.x2762047832241342883x&&this.sendSmallScore(1,"strategy"),this.getParams().getStringValueAsHash32(s.x2590379625467075678x)){case s.x2935453510357897246x:var o=~~(((a=this.getPlayer()).getTotalMatrixMinoPatternMatches()-10*this.mTotalSmallPointsVisual)/10);o>0&&(this.sendSmallScore(o,"visual"),this.mTotalSmallPointsVisual+=o)}this.mRemainingLineClearsUntilSendCurrentScores-=r,this.mRemainingLineClearsUntilSendCurrentScores<=0&&(this.sendCurrentScores(),this.mRemainingLineClearsUntilSendCurrentScores=this.mNumLineClearsPerSendCurrentScores)}break;case S.x2436794152278512146x:this.sendSmallScore(1,"visual");break;case l.x2278663471402292977x:this.mScoreComponent=this.getPlayer().getComponent(u.x2916177341484739471x),this.mScoreComponent&&this.mScoreComponent.addMessageListener(this),this.mAchievementsComponent=this.getPlayer().getComponent(P.x2691552542941415216x),this.mAchievementsComponent&&this.mAchievementsComponent.addMessageListener(this);break;case l.x919670044951203337x:switch((a=t).getCurrentState()){case l.x3961798951401593355x:switch(this.sendCurrentScores(),this.getParams().getStringValueAsHash32(s.x2590379625467075678x)){case s.x2935453510357897246x:if(a.didCompleteGameSuccessfully()){var i=this.getParams().getIntValueWithKeyStringPath("RB02.largePoints.maxScore"),h=1e3*this.getParams().getIntValueWithKeyStringPath("RB02.largePoints.maxTimeSEC"),g=a.getElapsedActiveGameTimeMSEC(),B=~~((h-c.clampInt(g,0,h))/h*i);this.sendLargeScore(B)}}a.getGameEndCondition(),this.sendGameOver()}break;case P.x1562744017121291944x:var C=n.getObjectValue(P.x2045851600977432944x);this.sendAchievement(C.getAchievementId())}},n(s,null,[{key:"x3823834812270465190x",get:function(){return 1703339161}},{key:"x2590379625467075678x",get:function(){return 1143865294}},{key:"x3307541503650716691x",get:function(){return 1110938844}},{key:"kParamKeyDict_RB02",get:function(){return 1557791587}},{key:"kParamKeyDict_RB02_largePoints",get:function(){return 102513197}},{key:"kParamKeyInt_RB02_largePoints_maxScore",get:function(){return 564234559}},{key:"kParamKeyInt_RB02_largePoints_maxTimeSEC",get:function(){return 1683927601}},{key:"x368934106996482324x",get:function(){return 1557791586}},{key:"x2935453510357897246x",get:function(){return 1557791587}},{key:"x3798410592801814835x",get:function(){return 1}}]),s}(r));s._RF.pop()}}}));System.register("chunks:///_virtual/x2911010402591379538x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2852667906570283554x.ts"],(function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.x2852667906570283554x}],execute:function(){n._RF.push({},"541b78qelhPqrfthBNt/s+b","x2911010402591379538x",void 0);t("x2911010402591379538x",function(t){function n(e,n,r,i){var s;return(s=t.call(this)||this).setRect(e,n,r,i),s}e(n,t);var r=n.prototype;return r.setRect=function(t,e,n,r){this.mX=t,this.mY=e,this.mWidth=n,this.mHeight=r},r.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},r.x990659934254172584x=function(){},r.x4037194803086073837x=function(t){return t<this.mWidth*this.mHeight},r.x974339422045466143x=function(t){return this.mX+t%this.mWidth},r.x1534477525712991046x=function(t){return this.mY+~~(t/this.mWidth)},n}(r));n._RF.pop()}}}));System.register("chunks:///_virtual/x275027197533560474x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2034250350103582503x.ts","./x2825914500079770252x.ts","./x832182382730187518x.ts"],(function(e){"use strict";var t,r,s,c,o;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){s=e.x2034250350103582503x},function(e){c=e.x2825914500079770252x},function(e){o=e.x832182382730187518x}],execute:function(){r._RF.push({},"b3a9cuA3g5BQ7v0Jgoru5rR","x275027197533560474x",void 0);e("x275027197533560474x",function(e){function r(t,r,s,c){var o;return(o=e.call(this,0,null)||this).mResourceMgr=t,o.mResourceId=r,o.mResourceName=s,o.mResourceGroupName=c,o}t(r,e);var s=r.prototype;return s.getResourceMgr=function(){return this.mResourceMgr},s.getResourceId=function(){return this.mResourceId},s.getResourceName=function(){return this.mResourceName},s.getResourceGroupName=function(){return this.mResourceGroupName},s.addDependenciesToMgr=function(){this.x4178238697573865838x()},s.processLoading=function(){switch(this.getCurrentState()){case o.x2854197087750883165x:this.setNextState(o.x1733733731846033593x,!1)}return this.processTime(1),this.getCurrentState()},s.x4178238697573865838x=function(){},s.x1161725769148004327x=function(){},s.x3627957228776672854x=function(){return o.x124968005714418926x},s.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},s.x3139096472792676868x=function(e,t,r,s){switch(e){case c.x3461483973768069303x:return t;case c.x353128994538654894x:switch(t){case o.x1733733731846033593x:this.x1161725769148004327x()}return 0;case c.x3589770202422279121x:switch(t){case o.x1733733731846033593x:switch(this.x3627957228776672854x()){case o.x1733733731846033593x:break;case o.x124968005714418926x:this.setNextState(o.x124968005714418926x,!1);break;default:this.setNextState(o.x1412212870364691859x,!1)}}return s;case c.x2931974030808705080x:default:return 0}},r}(s));r._RF.pop()}}}));System.register("chunks:///_virtual/x832182382730187518x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x2362680020733037980x.ts","./x1825263265700717187x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x202109358152903168x.ts","./x3999020355746490672x.ts","./x2635158806370081912x.ts","./x4405506462505654100x.ts","./x2799104515848125009x.ts","./x3228613027168197037x.ts"],(function(e){"use strict";var t,r,s,u,o,i,a,c,n,g,R,d,S,m;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){s=e.cclegacy},function(e){u=e.x4472346643782045245x},function(e){o=e.x2362680020733037980x},function(e){i=e.x1825263265700717187x},function(e){a=e.x2938621194761123466x},function(e){c=e.x1390687146982484874x},function(e){n=e.x202109358152903168x},function(e){g=e.x3999020355746490672x},function(e){R=e.x2635158806370081912x},function(e){d=e.x4405506462505654100x},function(e){S=e.x2799104515848125009x},function(e){m=e.x3228613027168197037x}],execute:function(){s._RF.push({},"d0615FkqbJLe6OgVr/jwZ8H","x832182382730187518x",void 0);e("x832182382730187518x",function(e){function s(t){var r;return(r=e.call(this)||this).mResourcesPath=t,r.mResources=new i(!0),r.mResourcesToLoad=new a(0),r.mIsLoading=!1,r.mMessageData=new i(!1),r}t(s,e);var u=s.prototype;return u.addBitmapFontResource=function(e,t,r){if(!r||""==r)return 0;var s=n.x2052015985526265577x(e);if(!this.mResources.getObjectValue(s)){var u=new n(this,s,e,t,r);this.addResource(u)}return s},u.getBitmapFontResourceState=function(e){return this.getResourceStateWithId(n.x2052015985526265577x(e))},u.getBitmapFontResource=function(e){return this.mResources.getObjectValue(n.x2052015985526265577x(e))},u.removeBitmapFontResource=function(e){this.mResources.setObjectValue(n.x2052015985526265577x(e),null)},u.addNativeBitmapResource=function(e,t,r){if(!r||""==r)return 0;var s=g.x3879711672363357604x(e);if(!this.mResources.getObjectValue(s)){var u=new g(this,s,e,t,r);this.addResource(u)}return s},u.getNativeBitmapResourceState=function(e){return this.getResourceStateWithId(g.x3879711672363357604x(e))},u.getNativeBitmap=function(e){var t=this.mResources.getObjectValue(g.x3879711672363357604x(e));return t?t.getNativeBitmap():null},u.removeNativeBitmapResource=function(e){this.mResources.setObjectValue(g.x3879711672363357604x(e),null)},u.addNativeSpriteFrameResource=function(e,t,r){if(!r||""==r)return 0;var s=d.x1726955363015440734x(e);if(!this.mResources.getObjectValue(s)){var u=new d(this,s,e,t,r);this.addResource(u)}return s},u.getNativeSpriteFrameResourceState=function(e){return this.getResourceStateWithId(d.x1726955363015440734x(e))},u.getNativeSpriteFrameResource=function(e){return this.mResources.getObjectValue(d.x1726955363015440734x(e))},u.getNativeSpriteFrame=function(e,t){var r=this.getNativeSpriteFrameResource(e);return r?r.getNativeSpriteFrame(t):null},u.removeNativeSpriteFrameResource=function(e){this.mResources.setObjectValue(d.x1726955363015440734x(e),null)},u.addNativeSoundResource=function(e,t,r,s,u){if(!r||""==r)return 0;var o=R.x2094309140622122997x(e);if(!this.mResources.getObjectValue(o)){var i=new R(this,o,e,t,r,s,u);this.addResource(i)}return o},u.getNativeSoundResourceState=function(e){return this.getResourceStateWithId(R.x2094309140622122997x(e))},u.getNativeSoundResource=function(e){return this.mResources.getObjectValue(R.x2094309140622122997x(e))},u.getNativeSound=function(e,t){var r=this.getNativeSoundResource(e);return r?r.getNativeSound():null},u.removeNativeSoundResource=function(e){this.mResources.setObjectValue(R.x2094309140622122997x(e),null)},u.addNativeTextureResource=function(e,t,r){if(!r||""==r)return 0;var s=m.x3852409836968072709x(e);if(!this.mResources.getObjectValue(s)){var u=new m(this,s,e,t,r);this.addResource(u)}return s},u.getNativeTextureResourceState=function(e){return this.getResourceStateWithId(m.x3852409836968072709x(e))},u.getNativeTextureResource=function(e){return this.mResources.getObjectValue(m.x3852409836968072709x(e))},u.getNativeTexture=function(e){var t=this.mResources.getObjectValue(m.x3852409836968072709x(e));return t?t.getNativeTexture():null},u.removeNativeTextureResource=function(e){this.mResources.setObjectValue(m.x3852409836968072709x(e),null)},u.addTextResource=function(e,t,r){if(!r||""==r)return 0;var s=S.x3096436427819994940x(e);if(!this.mResources.getObjectValue(s)){var u=new S(this,s,e,t,r);this.addResource(u)}return s},u.getTextResourceState=function(e){return this.getResourceStateWithId(S.x3096436427819994940x(e))},u.getText=function(e,t){var r=this.mResources.getObjectValue(S.x3096436427819994940x(e));return r?r.getText(t):""},u.removeTextResource=function(e){this.mResources.setObjectValue(S.x3096436427819994940x(e),null)},u.startLoading=function(){this.mIsLoading=!0},u.processLoading=function(){if(this.mIsLoading){for(var e=null,t="",r=this.mResourcesToLoad.getNumObjects(),u=0;u<r;u++)if(e=this.mResourcesToLoad.getAtIndex(u),""==t&&(t=e.getResourceGroupName()),e.getResourceGroupName()==t){var o=!1;switch(e.processLoading()){case s.x1733733731846033593x:break;case s.x124968005714418926x:o=!0;break;case s.x1412212870364691859x:o=!0,this.mMessageData.setIntValue(s.x1716943262197064814x,e.getResourceId()),this.mMessageData.setStringValue(s.x47965295685281886x,e.getResourceName()),this.dispatchMessage(s.x4509196677503158335x,this,this.mMessageData)}o&&(this.mResourcesToLoad.removeAtIndex(u),u--,r--)}this.mIsLoading=this.mResourcesToLoad.getNumObjects()>0}},u.isDoneLoading=function(e){if(this.mIsLoading){for(var t=null,r=this.mResourcesToLoad.getNumObjects(),u=0;u<r;u++)if(t=this.mResourcesToLoad.getAtIndex(u),!e||""==e||t.getResourceGroupName()==e)switch(t.getCurrentState()){case s.x2854197087750883165x:case s.x1733733731846033593x:return!1}return!0}return!0},u.getResourceStateWithId=function(e){var t=this.mResources.getObjectValue(e);return t?t.getCurrentState():s.x1108837026806222769x},u.expandFilePath=function(e){return c.stringStartsWith(e,"/")||o.isFilePathRemote(e)?e:this.mResourcesPath+"/"+e},u.addResource=function(e){this.mResources.getObjectValue(e.getResourceId())||(e.addDependenciesToMgr(),this.mResources.setObjectValue(e.getResourceId(),e),this.mResourcesToLoad.pushBack(e))},u.x2766708504066152543x=function(){null!==this.mResources&&(this.mResources.destroy(),this.mResources=null),null!==this.mMessageData&&(this.mMessageData.destroy(),this.mMessageData=null),null!==this.mResourcesToLoad&&(this.mResourcesToLoad.destroy(),this.mResourcesToLoad=null),e.prototype.x2766708504066152543x.call(this)},r(s,null,[{key:"x2854197087750883165x",get:function(){return 0}},{key:"x1733733731846033593x",get:function(){return 725494694}},{key:"x124968005714418926x",get:function(){return 1539576827}},{key:"x1412212870364691859x",get:function(){return 1444051506}},{key:"x1108837026806222769x",get:function(){return 2095299568}},{key:"kBPSTetResourceMgrMessageId_loadingStarted",get:function(){return 2094229076}},{key:"kBPSTetResourceMgrMessageId_loadingEnded",get:function(){return 1230625869}},{key:"x4509196677503158335x",get:function(){return 1086178089}},{key:"x1716943262197064814x",get:function(){return 585222863}},{key:"x47965295685281886x",get:function(){return 136336319}}]),s}(u));s._RF.pop()}}}));System.register("chunks:///_virtual/x2226225843525126927x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts"],(function(t){"use strict";var e,i,s,n;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy},function(t){n=t.x2825914500079770252x}],execute:function(){s._RF.push({},"849e4ZYlXNK/Yr+dj8s4oef","x2226225843525126927x",void 0);t("x2226225843525126927x",function(t){function s(){var e;for((e=t.call(this)||this).mt=new Array,e.mag01=new Array,e.mSeed=0,e.mt.length=0;e.mt.length<s.N;)e.mt.push(0);for(var i=0;i<s.N;i++)e.mt[i]=0;for(e.mti=s.N+1,e.mag01.length=0;e.mag01.length<2;)e.mag01.push(0);return e.mag01[0]=0,e.mag01[1]=s.MATRIX_A,e.reset(),e}e(s,t);var n=s.prototype;return n.getSeed=function(){return this.mSeed},n.setSeed=function(t){for(this.mSeed=t,this.mt[0]=4294967295&this.mSeed,this.mti=1;this.mti<s.N;this.mti++)this.mt[this.mti]=1812433253*(this.mt[this.mti-1]^this.mt[this.mti-1]>>>30)+this.mti,this.mt[this.mti]&=4294967295},n.nextInt=function(){var t;if(this.mti>=s.N){var e;for(e=0;e<s.N-s.M;e++)t=this.mt[e]&s.UPPER_MASK|this.mt[e+1]&s.LOWER_MASK,this.mt[e]=this.mt[e+s.M]^t>>>1^this.mag01[~~(1&t)];for(;e<s.N-1;e++)t=this.mt[e]&s.UPPER_MASK|this.mt[e+1]&s.LOWER_MASK,this.mt[e]=this.mt[e+(s.M-s.N)]^t>>>1^this.mag01[~~(1&t)];t=this.mt[s.N-1]&s.UPPER_MASK|this.mt[0]&s.LOWER_MASK,this.mt[s.N-1]=this.mt[s.M-1]^t>>>1^this.mag01[~~(1&t)],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,2147483647&~~(t^=t>>>18)},n.nextIntInRange=function(t,e){return e<t?t:t+this.nextInt()%(e-t+1)},n.reset=function(){this.setSeed(this.mSeed)},n.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},i(s,null,[{key:"N",get:function(){return 624}},{key:"M",get:function(){return 397}},{key:"MATRIX_A",get:function(){return 2567483615}},{key:"UPPER_MASK",get:function(){return 2147483648}},{key:"LOWER_MASK",get:function(){return 2147483647}}]),s}(n));s._RF.pop()}}}));System.register("chunks:///_virtual/x526139153965636318x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3061436937539478368x.ts","./x1390687146982484874x.ts","./x2697327737977927830x.ts","./x2384331738405430424x.ts"],(function(e){"use strict";var t,i,o,n,a,r;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){o=e.x3061436937539478368x},function(e){n=e.x1390687146982484874x},function(e){a=e.x2697327737977927830x},function(e){r=e.x2384331738405430424x}],execute:function(){i._RF.push({},"7d1c6yNCMxPQrY47u8vbyTx","x526139153965636318x",void 0);e("x526139153965636318x",function(e){function i(t,i){var o;return(o=e.call(this,i.getMatrixWidth(),i.getMatrixHeight(),i.getMatrixVisibleHeight(),i.getPieceFactory().getPieceData())||this).x1569920874608224159x=t,o.mPlayer=i,o}t(i,e);var c=i.prototype;return c.destroy=function(){e.prototype.destroy.call(this)},c.x2458387539630665861x=function(){for(var e=this.mPlayer.getMatrix(),t=e.getWidth(),i=e.getHeight(),o=0;o<i;o++)for(var n=0;n<t;n++){var a=e.getMinoAt(n,o);a&&this.setCurrentStateMatrixMino(a.getMinoTypeId(),n,o)}},c.x2471836074014505605x=function(){return this.mPlayer.getTotalElapsedTimeMSEC()},c.x1049491425727914269x=function(e,t,i,o,n){var r=this.mPlayer.getLivePiece();switch(r&&r.setTransform(e,t,i),o){case a.x1754747052250615582x:this.isSoftDropOn()&&this.mPlayer.handleLivePieceSoftDropSteps(1)}this.x1569920874608224159x.dispatchControlActionSucceededMessage(o)},c.x2196891656787529984x=function(e){switch(e){case a.x476144921134076668x:return this.mPlayer.performHoldAction(),this.x1569920874608224159x.dispatchControlActionSucceededMessage(e),!0;case a.x969972148126808315x:return this.mPlayer.tryActivateNextQueuedPendingAction(),!0;default:return!1}},c.x1058575956147559628x=function(e){this.x1569920874608224159x.dispatchControlActionFailedMessage(e)},c.x3060691252252401211x=function(e,t,i){var o=this.mPlayer.getGhostPiece(!0);o&&o.setTransform(e,t,i)},c.x3893763665171516694x=function(e){this.mPlayer.setIsGhostPieceValid(e)},c.x1316092419706207274x=function(e){var t=this.mPlayer.getLivePiece();t&&t.setMinosLogicalState(r.x4504825273042151964x);var i=this.mPlayer.getGhostPiece(!0);i&&i.setMinosLogicalState(r.x3750735363819884705x)},c.x4547241539657516365x=function(e,t){var i=n.FXPTDivide(n.FXPTFromInt(e),n.FXPTFromInt(e+t)),o=this.mPlayer.getLivePiece();o&&(o.setMinosLogicalState(r.x4504825273042151964x),o.setMinosLogicalStateTween_FXPT(i));var a=this.mPlayer.getGhostPiece(!0);a&&(a.setMinosLogicalState(r.x3750735363819884705x),a.setMinosLogicalStateTween_FXPT(i))},c.x1685273721742577488x=function(){var e=this.mPlayer.getLivePiece();e&&(e.setMinosLogicalState(r.x4504825273042151964x),e.setMinosLogicalStateTween_FXPT(n.x2045759414872908808x));var t=this.mPlayer.getGhostPiece(!0);t&&(t.setMinosLogicalState(r.x3750735363819884705x),t.setMinosLogicalStateTween_FXPT(n.x2045759414872908808x))},c.x3249519766427856812x=function(){var e=this.mPlayer.getLivePiece();e&&e.setMinosLogicalState(r.x4375944479620694405x);var t=this.mPlayer.getGhostPiece(!0);t&&t.setMinosLogicalState(r.x2263785423814173765x)},c.x786254112047252119x=function(){this.getActiveInputType()==o.x1641265582704792431x&&this.mPlayer.handleLivePieceSoftDropSteps(this.getSoftDropStepsForPiece()),this.mPlayer.handleLivePieceHardDropSteps(this.getHardDropStepsForPiece()),this.mPlayer.handleLivePieceTSpin(this.getTSpinTypeForPiece()),this.mPlayer.lockLivePieceIntoMatrix()},i}(o));i._RF.pop()}}}));System.register("chunks:///_virtual/x4010102164439179233x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3995270518114367194x.ts","./x526139153965636318x.ts","./x1825263265700717187x.ts","./x1180903263758642626x.ts","./x2825914500079770252x.ts","./x1390687146982484874x.ts","./x3061436937539478368x.ts","./x3950773521023582268x.ts","./x3363722297214968445x.ts"],(function(t){"use strict";var e,a,r,n,i,u,o,m,_,I,s,l,g;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass,r=t.assertThisInitialized},function(t){n=t.cclegacy},function(t){i=t.x3995270518114367194x},function(t){u=t.x526139153965636318x},function(t){o=t.x1825263265700717187x},function(t){m=t.x1180903263758642626x},function(t){_=t.x2825914500079770252x},function(t){I=t.x1390687146982484874x},function(t){s=t.x3061436937539478368x},function(t){l=t.x3950773521023582268x},function(t){g=t.x3363722297214968445x}],execute:function(){n._RF.push({},"96eeaY1NdRIYrOwFnX96Rha","x4010102164439179233x",void 0);t("x4010102164439179233x",function(t){function n(e,a){var i;return(i=t.call(this,n.x3301674176453018463x,e)||this).getParams().setIntValue(n.x2312718743725336004x,1),i.getParams().setIntValue(n.x3384238351963949869x,1),i.getParams().setIntValue(n.x1023591171362429555x,1),i.getParams().setIntValue(n.x2971669707370487439x,1e3),i.getParams().setIntValue(n.x2995846692127679092x,50),i.getParams().setIntValue(n.x2399851014409547463x,500),i.getParams().setBoolValue(n.x1691066081327097378x,!0),i.getParams().setBoolValue(n.x317396018027454382x,!1),i.getParams().setBoolValue(n.x1000665712897834237x,!1),i.getParams().setStringValue(n.x2936254658398210837x,"direct"),i.getParams().setBoolValue(n.x1116142239305666807x,!0),i.getParams().createDictionary(n.x866806459843252649x,"",999,!0),i.getParams().getDictionary(n.x866806459843252649x).setBoolValue(n.x2595514591341556674x,!1),i.getParams().getDictionary(n.x866806459843252649x).setBoolValue(n.x1228636233614642021x,!0),i.getParams().getDictionary(n.x866806459843252649x).setBoolValue(n.x4250314023584551005x,!0),i.getParams().getDictionary(n.x866806459843252649x).setBoolValue(n.x2882842008471110732x,!0),i.getParams().getDictionary(n.x866806459843252649x).setBoolValue(n.x720635435353204012x,!1),i.getParams().getDictionary(n.x866806459843252649x).setIntValue(n.x3972605385881378912x,0),i.getParams().getDictionary(n.x866806459843252649x).setIntValue(n.x2308752975283140136x,200),i.getParams().getDictionary(n.x866806459843252649x).setIntValue(n.x1378961682647975772x,400),i.getParams().getDictionary(n.x866806459843252649x).setIntValue(n.x1355456826469717601x,50),i.getParams().getDictionary(n.x866806459843252649x).createDictionary(n.x753306404338031336x,"",999,!0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x344011308228506164x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x922285905441845049x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x1325249260487405303x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x1355750640778486361x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x63820175700562609x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x2031740976780684032x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x3144452628692595572x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x3386997914699975546x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x3778801207342427056x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x2663165817000402034x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x1517224180812551449x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x2975533063746284864x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x552462049367254414x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x227099338974418872x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x1369668883620633516x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x4570962867041478607x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x2190868198006228890x,0),i.getParams().getDictionary2(n.x866806459843252649x,n.x753306404338031336x).setIntValue(n.x1907664758727713621x,0),i.getParams().createDictionary(n.x2693459361962759386x,"",999,!0),i.getParams().getDictionary(n.x2693459361962759386x).setBoolValue(n.x1480305906698830553x,!0),i.getParams().getDictionary(n.x2693459361962759386x).setBoolValue(n.x2615151928599765867x,!0),i.getParams().getDictionary(n.x2693459361962759386x).setIntValue(n.x1510635418654858591x,170),i.getParams().getDictionary(n.x2693459361962759386x).setIntValue(n.x2813118358039524054x,50),i.getParams().getDictionary(n.x2693459361962759386x).setIntValue(n.x1232372192219049704x,15),i.getParams().getDictionary(n.x2693459361962759386x).createDictionary(n.x1781223535930572298x,"",999,!0),i.getParams().getDictionary2(n.x2693459361962759386x,n.x1781223535930572298x).setStringValue(n.x1756195259258847193x,m.getKeyboardDeviceControlString(m.x2333634117072007355x)),i.getParams().getDictionary2(n.x2693459361962759386x,n.x1781223535930572298x).setStringValue(n.x4462609275397508130x,m.getKeyboardDeviceControlString(m.x4042211714178162656x)),i.getParams().getDictionary2(n.x2693459361962759386x,n.x1781223535930572298x).setStringValue(n.x2485566445609192574x,m.getKeyboardDeviceControlString(m.x3791194284777422763x)),i.getParams().getDictionary2(n.x2693459361962759386x,n.x1781223535930572298x).setStringValue(n.x3644883498931234587x,m.getKeyboardDeviceControlString(m.x2590643693375499943x)),i.getParams().getDictionary2(n.x2693459361962759386x,n.x1781223535930572298x).setStringValue(n.x2756587437564913206x,m.getKeyboardDeviceControlString(m.x1755032036454588889x)),i.getParams().getDictionary2(n.x2693459361962759386x,n.x1781223535930572298x).setStringValue(n.x2221768872469792321x,m.getKeyboardDeviceControlString(m.x1887062473282175476x)),i.getParams().getDictionary2(n.x2693459361962759386x,n.x1781223535930572298x).setStringValue(n.x2609758420987985937x,m.getKeyboardDeviceControlString(m.x4317097566504908574x)),i.getParams().getDictionary2(n.x2693459361962759386x,n.x1781223535930572298x).setStringValue(n.x4339716125345899495x,""),i.getParams().createDictionary(n.x3686266827777414074x,"",999,!0),i.getParams().getDictionary(n.x3686266827777414074x).setBoolValue(n.x2796511609448322432x,!0),i.getParams().getDictionary(n.x3686266827777414074x).setBoolValue(n.x1265190505406914708x,!0),i.getParams().getDictionary(n.x3686266827777414074x).setIntValue(n.x4330127701213171908x,2),i.getParams().getDictionary(n.x3686266827777414074x).setBoolValue(n.x2889677954699573528x,!1),i.getParams().getDictionary(n.x3686266827777414074x).setIntValue(n.x365143048155458683x,I.FXPTFromFloat(.1)),i.getParams().getDictionary(n.x3686266827777414074x).setBoolValue(n.x4550934020534844010x,!1),i.getParams().getDictionary(n.x3686266827777414074x).setBoolValue(n.x790362482858513206x,!0),i.getParams().getDictionary(n.x3686266827777414074x).setBoolValue(n.x1247700662855072069x,!0),i.getParams().getDictionary(n.x3686266827777414074x).setBoolValue(n.x1946626742317089969x,!0),i.getParams().getDictionary(n.x3686266827777414074x).setIntValue(n.x2616503094488118133x,20),i.getParams().getDictionary(n.x3686266827777414074x).setBoolValue(n.x2738355691158825447x,!0),i.getParams().getDictionary(n.x3686266827777414074x).setBoolValue(n.x1859566365810154057x,!0),i.getParams().getDictionary(n.x3686266827777414074x).setIntValue(n.x1948801446477971460x,1e3),i.getParams().getDictionary(n.x3686266827777414074x).setIntValue(n.x2688985368762396262x,1e3),i.getParams().getDictionary(n.x3686266827777414074x).setIntValue(n.x1443890336961319041x,I.FXPTFromFloat(0)),i.getParams().getDictionary(n.x3686266827777414074x).setBoolValue(n.x812614217262890459x,!0),i.getParams().getDictionary(n.x3686266827777414074x).setIntValue(n.x483511012001102739x,30),i.getParams().getDictionary(n.x3686266827777414074x).setIntValue(n.x955991768511938655x,0),i.getParams().getDictionary(n.x3686266827777414074x).createDictionary(n.x3391637387205283538x,"",999,!0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x344011308228506164x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x922285905441845049x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x1325249260487405303x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x1355750640778486361x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x63820175700562609x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x2031740976780684032x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x3144452628692595572x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x3386997914699975546x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x3778801207342427056x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x2663165817000402034x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x1517224180812551449x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x2975533063746284864x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x552462049367254414x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x227099338974418872x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x1369668883620633516x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x4570962867041478607x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x2190868198006228890x,0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x3391637387205283538x).setIntValue(n.x1907664758727713621x,0),i.getParams().getDictionary(n.x3686266827777414074x).createDictionary(n.x1441512471414405650x,"",999,!0),i.getParams().getDictionary2(n.x3686266827777414074x,n.x1441512471414405650x).setStringValue(n.x4534798640442363002x,m.getGamePointerDeviceControlString(m.x3640455879983001038x)),i.getParams().getDictionary2(n.x3686266827777414074x,n.x1441512471414405650x).setStringValue(n.x3276046692857518956x,m.getGamePointerDeviceControlString(m.x3640455879983001038x)),i.getParams().getDictionary2(n.x3686266827777414074x,n.x1441512471414405650x).setStringValue(n.x362015576947302125x,""),i.getParams().getDictionary2(n.x3686266827777414074x,n.x1441512471414405650x).setStringValue(n.x2551523224056439333x,""),i.getParams().getDictionary2(n.x3686266827777414074x,n.x1441512471414405650x).setStringValue(n.x969218207670102929x,""),i.getParams().getDictionary2(n.x3686266827777414074x,n.x1441512471414405650x).setStringValue(n.x1111211878396188311x,m.getKeyboardDeviceControlString(m.x1887062473282175476x)),i.getParams().getDictionary2(n.x3686266827777414074x,n.x1441512471414405650x).setStringValue(n.x229155520416887889x,m.getGamePointerDeviceControlString(m.x2642756964213948005x)),i.getParams().getDictionary2(n.x3686266827777414074x,n.x1441512471414405650x).setStringValue(n.x213419826276596554x,""),i.getParams().getDictionary2(n.x3686266827777414074x,n.x1441512471414405650x).setStringValue(n.x2027736939987437747x,""),i.getParams().getDictionary2(n.x3686266827777414074x,n.x1441512471414405650x).setStringValue(n.x448270992957615922x,""),i.getParams().createDictionary(n.x196870230594261535x,"",999,!0),i.getParams().getDictionary(n.x196870230594261535x).setBoolValue(n.x2933163542969392006x,!0),i.getParams().getDictionary(n.x196870230594261535x).setIntValue(n.x1767167004892390969x,I.FXPTFromFloat(1.399)),i.getParams().getDictionary(n.x196870230594261535x).setBoolValue(n.x854069207537983842x,!0),i.getParams().getDictionary(n.x196870230594261535x).setIntValue(n.x3105462828742453253x,I.FXPTFromFloat(1.4)),i.getParams().getDictionary(n.x196870230594261535x).setIntValue(n.x990178278523411620x,I.FXPTFromFloat(2)),i.getParams().getDictionary(n.x196870230594261535x).setIntValue(n.x364146939392814108x,I.FXPTFromFloat(4)),i.getParams().getDictionary(n.x196870230594261535x).setIntValue(n.x2708363391546477598x,I.FXPTFromFloat(1)),i.getParams().getDictionary(n.x196870230594261535x).setIntValue(n.x101058088154035880x,I.FXPTFromFloat(1)),i.getParams().getDictionary(n.x196870230594261535x).setIntValue(n.x182536151834517455x,I.FXPTFromFloat(1.5)),i.getParams().getDictionary(n.x196870230594261535x).setIntValue(n.x2017233104602903965x,I.FXPTFromFloat(8)),i.getParams().getDictionary(n.x196870230594261535x).setIntValue(n.x3717853367678174457x,I.FXPTFromFloat(1.5)),i.getParams().getDictionary(n.x196870230594261535x).setIntValue(n.x952089402091897067x,I.FXPTFromFloat(8)),i.getParams().getDictionary(n.x196870230594261535x).setIntValue(n.x1307099560327359067x,I.FXPTFromFloat(.9)),i.getParams().getDictionary(n.x196870230594261535x).createDictionary(n.x3542945394183214667x,"",999,!0),i.getParams().getDictionary2(n.x196870230594261535x,n.x3542945394183214667x).setStringValue(n.x816825226038511123x,m.getGamePointerDeviceControlString(m.x3640455879983001038x)),i.getParams().getDictionary2(n.x196870230594261535x,n.x3542945394183214667x).setStringValue(n.x3816173364647863336x,m.getGamePointerDeviceControlString(m.x3640455879983001038x)),i.getParams().getDictionary2(n.x196870230594261535x,n.x3542945394183214667x).setStringValue(n.x997560164308537259x,m.getGamePointerDeviceControlString(m.x2642756964213948005x)),i.getParams().getDictionary2(n.x196870230594261535x,n.x3542945394183214667x).setStringValue(n.x1744942960013258951x,""),i.getParams().copy(a,!1),i.x3900500190758937674x=null,i.mInputMgr=null,i.mMessageData=null,e&&(e.addMessageListener(r(i)),e.getGame().addMessageListener(r(i)),i.mInputMgr=new m(r(i)),i.x3900500190758937674x=new u(r(i),i.getPlayer()),i.x3651278163007321703x(i.getParams()),i.x3900500190758937674x.suspendActivity(),i.mMessageData=new o(!1),i.setNextState(1,!1)),i}e(n,t),n.createDefaultParams=function(){var t=new o(!0),e=new n(null,null);return t.copy(e.getParams(),!0),null!==e&&(e.destroy(),e=null),t};var i=n.prototype;return i.x3653139289778280998x=function(){return this.x3900500190758937674x},i.x3651278163007321703x=function(t){this.getParams().copy(t,!1);var e=this.getParams();if(this.x3900500190758937674x.x1595169078597172032x(e.getIntValue(n.x1023591171362429555x)),this.x3900500190758937674x.x1817562374766709528x(e.getIntValue(n.x2971669707370487439x)),this.x3900500190758937674x.x2971872900368380681x(e.getIntValue(n.x2995846692127679092x)),this.x3900500190758937674x.x3194411021721653419x(e.getIntValue(n.x2399851014409547463x)),this.x3900500190758937674x.x2673848003465801723x(e.getBoolValue(n.x1691066081327097378x)),this.x3900500190758937674x.x737048906452715467x(e.getBoolValue(n.x317396018027454382x)),this.x3900500190758937674x.getModel().mAllowInfiniteHold=e.getBoolValue(n.x1000665712897834237x),e.getDictionary(n.x866806459843252649x).getBoolValue(n.x2595514591341556674x)){this.x3900500190758937674x.enableInputType(s.x1783666039364785772x),this.x3900500190758937674x.getController().getAIInputMgr().mParameter_enablePieceFall=e.getDictionary(n.x866806459843252649x).getBoolValue(n.x1228636233614642021x),this.x3900500190758937674x.getController().getAIInputMgr().mParameter_enableLockTimer=e.getDictionary(n.x866806459843252649x).getBoolValue(n.x4250314023584551005x),this.x3900500190758937674x.getController().getAIInputMgr().mParameter_enableHardDrop=e.getDictionary(n.x866806459843252649x).getBoolValue(n.x2882842008471110732x),this.x3900500190758937674x.getController().getAIInputMgr().mParameter_enableHold=e.getDictionary(n.x866806459843252649x).getBoolValue(n.x720635435353204012x),this.x3900500190758937674x.getController().getAIInputMgr().mParameter_actionPreDelayMSEC_firstStepMin=e.getDictionary(n.x866806459843252649x).getIntValue(n.x2308752975283140136x),this.x3900500190758937674x.getController().getAIInputMgr().mParameter_actionPreDelayMSEC_firstStepMax=e.getDictionary(n.x866806459843252649x).getIntValue(n.x1378961682647975772x);var a=e.getDictionary(n.x866806459843252649x).getIntValue(n.x1355456826469717601x);this.x3900500190758937674x.getController().getAIInputMgr().mParameter_actionPreDelayMSEC_moveLR=a,this.x3900500190758937674x.getController().getAIInputMgr().mParameter_actionPreDelayMSEC_rotate=a,this.x3900500190758937674x.getController().getAIInputMgr().mParameter_actionPreDelayMSEC_hardDrop=a;var r=this.x3900500190758937674x.getController().getAIInputMgr().getTargetFinder();r.mParameter_evaluation_singleLineClear=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x344011308228506164x),r.mParameter_evaluation_doubleLineClear=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x922285905441845049x),r.mParameter_evaluation_tripleLineClear=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x1325249260487405303x),r.mParameter_evaluation_tetrisLineClear=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x1355750640778486361x),r.mParameter_evaluation_perTouchedNSurface=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x63820175700562609x),r.mParameter_evaluation_perTouchedSSurface=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x2031740976780684032x),r.mParameter_evaluation_perTouchedESurface=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x3144452628692595572x),r.mParameter_evaluation_perTouchedWSurface=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x3386997914699975546x),r.mParameter_evaluation_perRowFit=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x3778801207342427056x),r.mParameter_evaluation_touchingRightWall=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x2663165817000402034x),r.mParameter_evaluation_perCave=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x1517224180812551449x),r.mParameter_evaluation_holeCheckDepthLimit=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x2975533063746284864x),r.mParameter_evaluation_perHole=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x552462049367254414x),r.mParameter_evaluation_perCoveredISlotDepth=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x227099338974418872x),r.mParameter_evaluation_coveredISlotMaxTopDepth=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x1369668883620633516x),r.mParameter_evaluation_coveredISlotMaxSize=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x4570962867041478607x),r.mParameter_evaluation_NFacingVSEquivalent=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x710990780801561050x),r.mParameter_evaluation_maxMinoYMultiplier=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValue(n.x2190868198006228890x),r.mParameter_evaluation_digModeActivationHeight=e.getDictionary2(n.x866806459843252649x,n.x753306404338031336x).getIntValueWithDefault(n.x1907664758727713621x,1e6)}else this.x3900500190758937674x.disableInputType(s.x1783666039364785772x);if(e.getDictionary(n.x2693459361962759386x).getBoolValue(n.x1480305906698830553x)?(this.x3900500190758937674x.enableInputType(s.x3699220901933188103x),this.x3900500190758937674x.setDirectInputParameter_enableMoveLRAutoRepeat(e.getDictionary(n.x2693459361962759386x).getBoolValue(n.x2615151928599765867x)),this.x3900500190758937674x.setDirectInputParameter_moveLRAutoRepeatInitialDelayMSEC(e.getDictionary(n.x2693459361962759386x).getIntValue(n.x1510635418654858591x)),this.x3900500190758937674x.setDirectInputParameter_moveLRAutoRepeatDelayMSEC(e.getDictionary(n.x2693459361962759386x).getIntValue(n.x2813118358039524054x))):this.x3900500190758937674x.disableInputType(s.x3699220901933188103x),this.x3900500190758937674x.setDirectInputParameter_placementsAllowedBeforeLock(e.getDictionary(n.x2693459361962759386x).getIntValue(n.x1232372192219049704x)),e.getDictionary(n.x3686266827777414074x).getBoolValue(n.x2796511609448322432x)){this.x3900500190758937674x.enableInputType(s.x1641265582704792431x),this.x3900500190758937674x.setSmartInputParameter_isTargetFacingFixed(e.getDictionary(n.x3686266827777414074x).getBoolValue(n.x2889677954699573528x)),this.x3900500190758937674x.setSmartInputParameter_cellTrackingInset_FXPT(e.getDictionary(n.x3686266827777414074x).getIntValue(n.x365143048155458683x)),this.x3900500190758937674x.setSmartInputParameter_restrictReachableTransforms(e.getDictionary(n.x3686266827777414074x).getBoolValue(n.x4550934020534844010x)),this.x3900500190758937674x.setSmartInputParameter_searchCellForTarget(e.getDictionary(n.x3686266827777414074x).getBoolValue(n.x790362482858513206x)),this.x3900500190758937674x.setSmartInputParameter_searchColumnForTarget(e.getDictionary(n.x3686266827777414074x).getBoolValue(n.x1247700662855072069x)),this.x3900500190758937674x.setSmartInputParameter_lockLivePieceAtTarget(e.getDictionary(n.x3686266827777414074x).getBoolValue(n.x1946626742317089969x)),this.x3900500190758937674x.setSmartInputParameter_snapToTargetOnTouchDownFallSpeedMSEC(e.getDictionary(n.x3686266827777414074x).getIntValue(n.x2616503094488118133x)),this.x3900500190758937674x.setSmartInputParameter_updateTargetWhilePointerInputIsOff(e.getDictionary(n.x3686266827777414074x).getBoolValue(n.x2738355691158825447x)),this.x3900500190758937674x.setSmartInputParameter_forceValidTarget(e.getDictionary(n.x3686266827777414074x).getBoolValue(n.x812614217262890459x)),this.x3900500190758937674x.setSmartInputParameter_pointerSelectTargetMatrixBufferX(e.getDictionary(n.x3686266827777414074x).getIntValue(n.x1948801446477971460x)),this.x3900500190758937674x.setSmartInputParameter_pointerSelectTargetMatrixBufferY(e.getDictionary(n.x3686266827777414074x).getIntValue(n.x2688985368762396262x)),this.x3900500190758937674x.setSmartInputParameter_selectTargetAtPointerInputOn(e.getDictionary(n.x3686266827777414074x).getBoolValue(n.x1859566365810154057x)),this.x3900500190758937674x.setSmartInputParameter_pointerSmoothingWeight_FXPT(e.getDictionary(n.x3686266827777414074x).getIntValue(n.x1443890336961319041x)),this.x3900500190758937674x.getModel().mEnablePathToTarget=e.getDictionary(n.x3686266827777414074x).getIntValue(n.x955991768511938655x)>0;var i=this.x3900500190758937674x.getController().getSmartInputMgr().getTargetFinder();i.mParameter_evaluation_singleLineClear=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x344011308228506164x),i.mParameter_evaluation_doubleLineClear=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x922285905441845049x),i.mParameter_evaluation_tripleLineClear=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x1325249260487405303x),i.mParameter_evaluation_tetrisLineClear=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x1355750640778486361x),i.mParameter_evaluation_perTouchedNSurface=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x63820175700562609x),i.mParameter_evaluation_perTouchedSSurface=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x2031740976780684032x),i.mParameter_evaluation_perTouchedESurface=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x3144452628692595572x),i.mParameter_evaluation_perTouchedWSurface=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x3386997914699975546x),i.mParameter_evaluation_perRowFit=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x3778801207342427056x),i.mParameter_evaluation_touchingRightWall=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x2663165817000402034x),i.mParameter_evaluation_perCave=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x1517224180812551449x),i.mParameter_evaluation_holeCheckDepthLimit=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x2975533063746284864x),i.mParameter_evaluation_perHole=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x552462049367254414x),i.mParameter_evaluation_perCoveredISlotDepth=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x227099338974418872x),i.mParameter_evaluation_coveredISlotMaxTopDepth=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x1369668883620633516x),i.mParameter_evaluation_coveredISlotMaxSize=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x4570962867041478607x),i.mParameter_evaluation_NFacingVSEquivalent=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x710990780801561050x),i.mParameter_evaluation_maxMinoYMultiplier=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValue(n.x2190868198006228890x),i.mParameter_evaluation_digModeActivationHeight=e.getDictionary2(n.x3686266827777414074x,n.x753306404338031336x).getIntValueWithDefault(n.x1907664758727713621x,999999),this.x3900500190758937674x.getController().getSmartInputMgr().mEnablePathToTargetHardDrop=!0,this.x3900500190758937674x.getController().getSmartInputMgr().mOptimizePathToTarget=!0}else this.x3900500190758937674x.disableInputType(s.x1641265582704792431x);this.x3900500190758937674x.setSmartInputParameter_smartPlacementsAllowedBeforeLock(e.getDictionary(n.x3686266827777414074x).getIntValue(n.x483511012001102739x)),e.getDictionary(n.x196870230594261535x).getBoolValue(n.x2933163542969392006x)?(this.x3900500190758937674x.enableInputType(s.x3007826297304550775x),this.x3900500190758937674x.setGestureInputParameter_maxRotationTapDistance_FXPT(e.getDictionary(n.x196870230594261535x).getIntValue(n.x1767167004892390969x)),this.x3900500190758937674x.setGestureInputParameter_maxRotationTapTimeMSEC(e.getDictionary(n.x196870230594261535x).getIntValue(n.x593129514967514618x)),this.x3900500190758937674x.setGestureInputParameter_enableCCWRotation(e.getDictionary(n.x196870230594261535x).getBoolValue(n.x854069207537983842x)),this.x3900500190758937674x.setGestureInputParameter_moveLRDragDistanceX_FXPT(e.getDictionary(n.x196870230594261535x).getIntValue(n.x3105462828742453253x)),this.x3900500190758937674x.setGestureInputParameter_minSoftDropDragDistanceY_FXPT(e.getDictionary(n.x196870230594261535x).getIntValue(n.x990178278523411620x)),this.x3900500190758937674x.setGestureInputParameter_minSoftDropDragVelocityY_FXPT(e.getDictionary(n.x196870230594261535x).getIntValue(n.x364146939392814108x)),this.x3900500190758937674x.setGestureInputParameter_minStopSoftDropDragDistanceY_FXPT(e.getDictionary(n.x196870230594261535x).getIntValue(n.x2708363391546477598x)),this.x3900500190758937674x.setGestureInputParameter_minStopSoftDropDragVelocityY_FXPT(e.getDictionary(n.x196870230594261535x).getIntValue(n.x101058088154035880x)),this.x3900500190758937674x.setGestureInputParameter_minHardDropDragDistanceY_FXPT(e.getDictionary(n.x196870230594261535x).getIntValue(n.x182536151834517455x)),this.x3900500190758937674x.setGestureInputParameter_minHardDropDragVelocityY_FXPT(e.getDictionary(n.x196870230594261535x).getIntValue(n.x2017233104602903965x)),this.x3900500190758937674x.setGestureInputParameter_minHoldDragDistanceY_FXPT(e.getDictionary(n.x196870230594261535x).getIntValue(n.x3717853367678174457x)),this.x3900500190758937674x.setGestureInputParameter_minHoldDragVelocityY_FXPT(e.getDictionary(n.x196870230594261535x).getIntValue(n.x952089402091897067x)),this.x3900500190758937674x.setGestureInputParameter_velocitySmoothingWeight_FXPT(e.getDictionary(n.x196870230594261535x).getIntValue(n.x1307099560327359067x))):this.x3900500190758937674x.disableInputType(s.x3007826297304550775x),this.initializeInputs()},i.getInputMgr=function(){return this.mInputMgr},i.initializeInputs=function(){this.remapInputs(),this.x3900500190758937674x.setActiveInputType(s.getInputTypeForName(this.getParams().getStringValue(n.x2936254658398210837x))),this.x3900500190758937674x.setEnableAutomaticInputTypeSwitching(this.getParams().getBoolValue(n.x1116142239305666807x))},i.remapInputs=function(){this.remapInputsForInputType(s.x3699220901933188103x),this.remapInputsForPointerInputType(this.getParams().getIntValue(n.x2312718743725336004x),!1)},i.handleDeviceControlOn=function(t,e,a,r){return this.mInputMgr.handleDeviceControlOn(t,e,a,r)},i.handleDeviceControlOff=function(t,e,a,r){return this.mInputMgr.handleDeviceControlOff(t,e,a,r)},i.handleDeviceControlValues=function(t,e,a,r){return this.mInputMgr.handleDeviceControlValues(t,e,a,r)},i.handleDeviceControlCancelled=function(t,e){return this.mInputMgr.handleDeviceControlCancelled(t,e)},i.dispatchControlActionSucceededMessage=function(t){this.mMessageData.setIntValue(n.x331532947125194439x,t),this.dispatchMessage(n.x4491464698703395871x,this,this.mMessageData)},i.dispatchControlActionFailedMessage=function(t){this.mMessageData.setIntValue(n.x2888490929257310549x,t),this.dispatchMessage(n.x3580994146359383424x,this,this.mMessageData)},i.remapInputsForInputType=function(t){var e=this.getParams().getDictionary2(n.x2693459361962759386x,n.x1781223535930572298x);switch(t){case s.x3699220901933188103x:this.x3900500190758937674x.isInputTypeEnabled(t)&&(this.mapDeviceControlString(e.getStringValue(n.x1756195259258847193x),s.x4586196557313081711x,!0),this.mapDeviceControlString(e.getStringValue(n.x4462609275397508130x),s.x1897916893597930055x,!0),this.mapDeviceControlString(e.getStringValue(n.x2485566445609192574x),s.x545603278423867930x,!0),this.mapDeviceControlString(e.getStringValue(n.x3644883498931234587x),s.x1454075296883474303x,!0),this.mapDeviceControlString(e.getStringValue(n.x2756587437564913206x),s.x1175664325626108064x,!0),this.mapDeviceControlString(e.getStringValue(n.x2221768872469792321x),s.x2775384362865261197x,!0),this.mapDeviceControlString(e.getStringValue(n.x2609758420987985937x),s.x1907265081617522753x,!0),this.mapDeviceControlString(e.getStringValue(n.x4339716125345899495x),s.x746131496791512721x,!0));break;case s.x1641265582704792431x:if(this.x3900500190758937674x.isInputTypeEnabled(t)){var a=this.getParams().getDictionary2(n.x3686266827777414074x,n.x1441512471414405650x);a.setStringValue(n.x1111211878396188311x,e.getStringValue(n.x2221768872469792321x)),this.mapDeviceControlString(a.getStringValue(n.x4534798640442363002x),s.x568991368002764633x,!0),this.mapDeviceControlString(a.getStringValue(n.x3276046692857518956x),s.x568991368002764633x,!0),this.mapDeviceControlString(a.getStringValue(n.x362015576947302125x),s.x574709296923727193x,!0),this.mapDeviceControlString(a.getStringValue(n.x2551523224056439333x),s.x2431621942526423033x,!0),this.mapDeviceControlString(a.getStringValue(n.x969218207670102929x),s.x3904630102218357360x,!0),this.mapDeviceControlString(a.getStringValue(n.x1111211878396188311x),s.x647909415883484730x,!0),this.mapDeviceControlString(a.getStringValue(n.x229155520416887889x),s.x1465652599581225916x,!0),this.mapDeviceControlString(a.getStringValue(n.x213419826276596554x),s.x4412847438902153040x,!0),this.mapDeviceControlString(a.getStringValue(n.x2027736939987437747x),s.x2314494749819423868x,!0),this.mapDeviceControlString(a.getStringValue(n.x448270992957615922x),s.x4077703401742326325x,!0)}break;case s.x3007826297304550775x:if(this.x3900500190758937674x.isInputTypeEnabled(t)){var r=this.getParams().getDictionary2(n.x196870230594261535x,n.x3542945394183214667x);this.mapDeviceControlString(r.getStringValue(n.x816825226038511123x),s.x1328887132852754850x,!0),this.mapDeviceControlString(r.getStringValue(n.x3816173364647863336x),s.x1328887132852754850x,!0),this.mapDeviceControlString(r.getStringValue(n.x997560164308537259x),s.x810082637762071836x,!0),this.mapDeviceControlString(r.getStringValue(n.x1744942960013258951x),s.x3017040020277318283x,!0)}}},i.remapInputsForPointerInputType=function(t,e){switch(this.getParams().setIntValue(n.x2312718743725336004x,t),t){case 1:this.remapInputsForInputType(s.x1641265582704792431x);break;case 2:this.remapInputsForInputType(s.x3007826297304550775x)}if(e&&this.x3900500190758937674x)switch(t){case 1:this.x3900500190758937674x.setActiveInputType(s.x1641265582704792431x);break;case 2:this.x3900500190758937674x.setActiveInputType(s.x3007826297304550775x)}},i.mapDeviceControlString=function(t,e,a){t&&""!=t?(this.mInputMgr.addInputAction(e),this.mInputMgr.mapDeviceControlString(t,e,a)):a&&this.mInputMgr.unmapInputAction(e)},i.x2766708504066152543x=function(){null!==this.x3900500190758937674x&&(this.x3900500190758937674x.destroy(),this.x3900500190758937674x=null),null!==this.mInputMgr&&(this.mInputMgr.destroy(),this.mInputMgr=null),null!==this.mMessageData&&(this.mMessageData.destroy(),this.mMessageData=null),t.prototype.x2766708504066152543x.call(this)},i.x3139096472792676868x=function(t,e,a,r){switch(t){case _.x3461483973768069303x:return e;case _.x353128994538654894x:return 0;case _.x3589770202422279121x:return this.getPlayer().isGameActive()&&this.x3900500190758937674x.processTime(),r;case _.x2931974030808705080x:default:return 0}},i.x976210321608527258x=function(t,e,a){if(e==this.getPlayer()){var r=this.getPlayer();switch(t){case g.x919670044951203337x:switch(this.getPlayer().getCurrentState()){case g.x2336038995542297844x:var i=r.getLivePiece();this.x3900500190758937674x.performEvaluationForIncomingPiece(i.getPieceTypeId(),i.getX(),i.getY(),i.getFacing(),r.getHoldPieceTypeId()),this.dispatchMessage(n.x4273972476268771520x,this,null),this.x3900500190758937674x.handleLivePieceDidActivate();break;case g.x1718930399393454155x:this.x3900500190758937674x.handleLivePieceDidDeactivate()}break;case g.x1990302596667154556x:var u=r.getMatrix();this.x3900500190758937674x.setMatrixLimits(u.getWidth(),u.getHeight(),u.getVisibleHeight())}}else if(e==this.getGame())switch(t){case l.x1950391814350285748x:switch(this.getGame().getCurrentState()){case l.x290591613925852943x:this.x3900500190758937674x.resumeActivity(),this.mInputMgr.restartAllOnInputActions()}break;case l.x819623676867487918x:switch(this.getGame().getCurrentState()){case l.x290591613925852943x:this.x3900500190758937674x.suspendActivity()}}},i.x2530596703611903079x=function(t,e,a){switch(this.getGame().getCurrentState()){case l.x290591613925852943x:var r=I.FXPTFromFloat(e),n=I.FXPTFromFloat(a);this.x3900500190758937674x.handleInputIsOn(t,r,n);break;case l.x3885372347840313037x:var i=this.getPlayer();if(!i.isReadyToStartGame())switch(t){case s.x4586196557313081711x:case s.x1897916893597930055x:case s.x545603278423867930x:case s.x1454075296883474303x:case s.x1175664325626108064x:case s.x2775384362865261197x:case s.x1907265081617522753x:case s.x746131496791512721x:i.setIsReadyToStartGame()}}return!0},i.x87963723640924842x=function(t,e,a){switch(this.getGame().getCurrentState()){case l.x290591613925852943x:var r=I.FXPTFromFloat(e),n=I.FXPTFromFloat(a);this.x3900500190758937674x.handleInputIsOff(t,r,n)}return!0},i.x2857204447509868867x=function(t,e,a,r){var n=I.FXPTFromFloat(e),i=I.FXPTFromFloat(a);return this.x3900500190758937674x.handleInputPositionChanged(t,n,i),!0},i.x2603184932174055919x=function(t){return this.x3900500190758937674x.handleInputOnIsCancelled(t),!0},a(n,null,[{key:"x3301674176453018463x",get:function(){return 1114946604}},{key:"x2312718743725336004x",get:function(){return 1047210200}},{key:"x3384238351963949869x",get:function(){return 590791853}},{key:"x1023591171362429555x",get:function(){return 1189968019}},{key:"x2971669707370487439x",get:function(){return 1350722040}},{key:"x2995846692127679092x",get:function(){return 584792710}},{key:"x2399851014409547463x",get:function(){return 167210893}},{key:"x1691066081327097378x",get:function(){return 622665322}},{key:"x317396018027454382x",get:function(){return 474009247}},{key:"x1000665712897834237x",get:function(){return 984330603}},{key:"x2936254658398210837x",get:function(){return 1299843627}},{key:"x1116142239305666807x",get:function(){return 681216289}},{key:"x866806459843252649x",get:function(){return 484565649}},{key:"x2595514591341556674x",get:function(){return 488921072}},{key:"x1228636233614642021x",get:function(){return 679462389}},{key:"x4250314023584551005x",get:function(){return 321788102}},{key:"x2882842008471110732x",get:function(){return 1386830446}},{key:"x720635435353204012x",get:function(){return 226925331}},{key:"x3972605385881378912x",get:function(){return 1587504546}},{key:"x2308752975283140136x",get:function(){return 242002602}},{key:"x1378961682647975772x",get:function(){return 1191826712}},{key:"x1355456826469717601x",get:function(){return 1791712459}},{key:"x753306404338031336x",get:function(){return 941248493}},{key:"x344011308228506164x",get:function(){return 1197318688}},{key:"x922285905441845049x",get:function(){return 282740567}},{key:"x1325249260487405303x",get:function(){return 368452490}},{key:"x1355750640778486361x",get:function(){return 679015631}},{key:"x63820175700562609x",get:function(){return 1356492561}},{key:"x2031740976780684032x",get:function(){return 3336140}},{key:"x3144452628692595572x",get:function(){return 356200282}},{key:"x3386997914699975546x",get:function(){return 209301192}},{key:"x3778801207342427056x",get:function(){return 1208623235}},{key:"x2663165817000402034x",get:function(){return 1733430738}},{key:"x1517224180812551449x",get:function(){return 1685229017}},{key:"x2975533063746284864x",get:function(){return 1061770863}},{key:"x552462049367254414x",get:function(){return 1408202796}},{key:"x227099338974418872x",get:function(){return 1478291558}},{key:"x1369668883620633516x",get:function(){return 2053636528}},{key:"x4570962867041478607x",get:function(){return 43460291}},{key:"x710990780801561050x",get:function(){return 914205182}},{key:"x2190868198006228890x",get:function(){return 962738282}},{key:"x1907664758727713621x",get:function(){return 1593130929}},{key:"x2693459361962759386x",get:function(){return 1549362512}},{key:"x1480305906698830553x",get:function(){return 488921072}},{key:"x2615151928599765867x",get:function(){return 477486351}},{key:"x1510635418654858591x",get:function(){return 1304103375}},{key:"x2813118358039524054x",get:function(){return 343082491}},{key:"x1232372192219049704x",get:function(){return 548306771}},{key:"x1781223535930572298x",get:function(){return 384192327}},{key:"x1756195259258847193x",get:function(){return 111885618}},{key:"x4462609275397508130x",get:function(){return 862820689}},{key:"x2485566445609192574x",get:function(){return 1055329417}},{key:"x3644883498931234587x",get:function(){return 122753314}},{key:"x2756587437564913206x",get:function(){return 56765075}},{key:"x2221768872469792321x",get:function(){return 378870580}},{key:"x2609758420987985937x",get:function(){return 1185341913}},{key:"x4339716125345899495x",get:function(){return 1400929786}},{key:"x3686266827777414074x",get:function(){return 2079135890}},{key:"x2796511609448322432x",get:function(){return 488921072}},{key:"x1265190505406914708x",get:function(){return 2084874335}},{key:"x4330127701213171908x",get:function(){return 571174877}},{key:"x2889677954699573528x",get:function(){return 1956132718}},{key:"x365143048155458683x",get:function(){return 1552564841}},{key:"x4550934020534844010x",get:function(){return 178963719}},{key:"x790362482858513206x",get:function(){return 872043519}},{key:"x1247700662855072069x",get:function(){return 1541444011}},{key:"x1946626742317089969x",get:function(){return 2019411786}},{key:"x2616503094488118133x",get:function(){return 1756665589}},{key:"x2738355691158825447x",get:function(){return 395171474}},{key:"x1859566365810154057x",get:function(){return 415469309}},{key:"x1948801446477971460x",get:function(){return 847681022}},{key:"x2688985368762396262x",get:function(){return 847681023}},{key:"x1443890336961319041x",get:function(){return 582062390}},{key:"x812614217262890459x",get:function(){return 203174259}},{key:"x483511012001102739x",get:function(){return 548306771}},{key:"x955991768511938655x",get:function(){return 941619813}},{key:"x3391637387205283538x",get:function(){return 941248493}},{key:"x1441512471414405650x",get:function(){return 384192327}},{key:"x4534798640442363002x",get:function(){return 742736366}},{key:"x3276046692857518956x",get:function(){return 414835339}},{key:"x362015576947302125x",get:function(){return 2121949249}},{key:"x2551523224056439333x",get:function(){return 1383479810}},{key:"x969218207670102929x",get:function(){return 406780223}},{key:"x1111211878396188311x",get:function(){return 299849701}},{key:"x229155520416887889x",get:function(){return 1135099415}},{key:"x213419826276596554x",get:function(){return 179748338}},{key:"x2027736939987437747x",get:function(){return 1624685049}},{key:"x448270992957615922x",get:function(){return 2134877244}},{key:"x196870230594261535x",get:function(){return 1127149842}},{key:"x2933163542969392006x",get:function(){return 488921072}},{key:"x1767167004892390969x",get:function(){return 1217261725}},{key:"x593129514967514618x",get:function(){return 60106083}},{key:"x854069207537983842x",get:function(){return 942400097}},{key:"x3105462828742453253x",get:function(){return 761230109}},{key:"x990178278523411620x",get:function(){return 131933164}},{key:"x364146939392814108x",get:function(){return 1531833348}},{key:"x2708363391546477598x",get:function(){return 1542785354}},{key:"x101058088154035880x",get:function(){return 795201890}},{key:"x182536151834517455x",get:function(){return 690053003}},{key:"x2017233104602903965x",get:function(){return 2089953187}},{key:"x3717853367678174457x",get:function(){return 463925030}},{key:"x952089402091897067x",get:function(){return 1863825214}},{key:"x1307099560327359067x",get:function(){return 1826249940}},{key:"x3542945394183214667x",get:function(){return 384192327}},{key:"x816825226038511123x",get:function(){return 1523702382}},{key:"x3816173364647863336x",get:function(){return 705358347}},{key:"x997560164308537259x",get:function(){return 333989271}},{key:"x1744942960013258951x",get:function(){return 187317436}},{key:"x4273972476268771520x",get:function(){return 916890388}},{key:"x4491464698703395871x",get:function(){return 211591815}},{key:"x331532947125194439x",get:function(){return 586782071}},{key:"x3580994146359383424x",get:function(){return 1550314967}},{key:"x2888490929257310549x",get:function(){return 57093263}}]),n}(i));n._RF.pop()}}}));System.register("chunks:///_virtual/x3956211014191467053x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3995270518114367194x.ts","./x3363722297214968445x.ts","./x1825263265700717187x.ts","./x1390687146982484874x.ts"],(function(e){"use strict";var t,a,r,s,n,o,i,c;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass,r=e.assertThisInitialized},function(e){s=e.cclegacy},function(e){n=e.x3995270518114367194x},function(e){o=e.x3363722297214968445x},function(e){i=e.x1825263265700717187x},function(e){c=e.x1390687146982484874x}],execute:function(){s._RF.push({},"6d477fdzDtK0rFXFGhZm2Zk","x3956211014191467053x",void 0);e("x3956211014191467053x",function(e){function s(t,a){var n;return(n=e.call(this,s.x2916177341484739471x,t)||this).getParams().setIntValue(s.x4102348512340683332x,1),n.getParams().setIntValue(s.x3204544990607781817x,100),n.getParams().setIntValue(s.x1535823338504517738x,300),n.getParams().setIntValue(s.x3740567540420744796x,500),n.getParams().setIntValue(s.x1362589542363522668x,800),n.getParams().setIntValue(s.x3845021649465654916x,50),n.getParams().setIntValue(s.x2325868714834556041x,20),n.getParams().setIntValue(s.x436735434294545881x,100),n.getParams().setIntValue(s.x3511321399556264887x,400),n.getParams().setIntValue(s.x925366016123708512x,800),n.getParams().setIntValue(s.x2507856365595120067x,1200),n.getParams().setIntValue(s.x3027620990538936872x,1600),n.getParams().setIntValue(s.x3878916153217113108x,100),n.getParams().setIntValue(s.x972681268298260481x,200),n.getParams().setIntValue(s.x4312396787957699648x,1),n.getParams().setIntValue(s.x2925202068922835110x,2),n.getParams().setBoolValue(s.x483356138708568827x,!1),n.getParams().setIntValue(s.x2474986190909723988x,50),n.getParams().setIntValue(s.x1041733344161695378x,800),n.getParams().setIntValue(s.x2781949165149681398x,1200),n.getParams().setIntValue(s.x4544419551085518715x,1800),n.getParams().setIntValue(s.x420276572661475961x,2e3),n.getParams().setIntValue(s.x2345533520570542325x,3200),n.getParams().setIntValue(s.x4202855323463248077x,1500),n.getParams().copy(a,!1),t.addMessageListener(r(n)),n.mScore=0,n.mTSpinType=c.x2762047832241342883x,n.mCurrentCascadeCount=0,n.mIsBackToBackChainActive=!1,n.mCurrentComboCount=0,n.mScoreEventMessageData=new i(!1),n.mStats=new i(!0),n.initStats(),n.setNextState(1,!1),n}t(s,e),s.getEventDescriptionWithMessageData=function(e){var t=e.getIntValue(s.x1392439065935303313x);return c.getStandardScoreEventDescription(t,e.getIntValue(s.x3226881466546944827x),e.getBoolValue(s.x4396903821025096640x),e.getBoolValue(s.x56138074968748260x),e.getIntValue(s.x2201480181276618034x),e.getIntValue(s.x482162241822821234x))};var n=s.prototype;return n.getScore=function(){return this.mScore},n.addExternalEventScore=function(e,t){if(0!=e){var a=e,r=a*this.getParams().getIntValue(s.x4102348512340683332x);this.mScore+=r,this.mScoreEventMessageData.setBoolValue(s.x2485413609040593399x,!0),this.mScoreEventMessageData.setIntValue(s.x4292414311595181585x,t),this.mScoreEventMessageData.setIntValue(s.x2838892652241781387x,this.mScore),this.mScoreEventMessageData.setIntValue(s.x2902843544366174193x,a),this.mScoreEventMessageData.setIntValue(s.x2704093983957425827x,r),this.mScoreEventMessageData.setIntValue(s.x1355806399762741595x,0),this.mScoreEventMessageData.setIntValue(s.x1364737316466423165x,0),this.mScoreEventMessageData.setIntValue(s.x1392439065935303313x,0),this.mScoreEventMessageData.setIntValue(s.x3226881466546944827x,c.x2762047832241342883x),this.mScoreEventMessageData.setBoolValue(s.x4396903821025096640x,!1),this.mScoreEventMessageData.setBoolValue(s.x56138074968748260x,!1),this.mScoreEventMessageData.setIntValue(s.x2201480181276618034x,0),this.mScoreEventMessageData.setIntValue(s.x482162241822821234x,0),this.mScoreEventMessageData.setObjectValue(s.x3146374273093412746x,null),this.dispatchMessage(s.x2401449302245799433x,this,this.mScoreEventMessageData)}},n.getScoreMultiplier=function(){return this.getParams().getIntValue(s.x4102348512340683332x)},n.setScoreMultiplier=function(e){if(e!=this.getScoreMultiplier()){var t=e>this.getScoreMultiplier();this.getParams().setIntValue(s.x4102348512340683332x,e),t?this.dispatchMessage(s.x4529897626885787788x,this,null):this.dispatchMessage(s.x4239705541280003426x,this,null)}},n.getStatValue=function(e){return this.mStats.getIntValue(e)},n.getLastScoreEventDescription=function(){return s.getEventDescriptionWithMessageData(this.mScoreEventMessageData)},n.initStats=function(){this.setStat(s.x2238703765517006909x,0),this.setStat(s.x787591959983419248x,0),this.setStat(s.x2449430413348917220x,0),this.setStat(s.x4398362710481915654x,0),this.setStat(s.x2951146069810336849x,0),this.setStat(s.x4453370105494108401x,0),this.setStat(s.x4114396191780310574x,0),this.setStat(s.x3251665430519023822x,0),this.setStat(s.x3933968844943281187x,0),this.setStat(s.x4115153685527268114x,0),this.setStat(s.x2280889990574408822x,0),this.setStat(s.x4588271033758540766x,0),this.setStat(s.x2764202726521685643x,0),this.setStat(s.x2066677302826689849x,0)},n.setStat=function(e,t){this.mStats.setIntValue(e,t)},n.addStat=function(e,t){this.mStats.setIntValue(e,this.mStats.getIntValue(e)+t)},n.tryStatMax=function(e,t){t>this.mStats.getIntValue(t)&&this.setStat(e,t)},n.tryStatMin=function(e,t){t<this.mStats.getIntValue(t)&&this.setStat(e,t)},n.processPatternMatches=function(e){var t=this.getPlayer(),a=e.getIntValue(o.x2301328769946693746x),r=e.getIntValue(o.x951761552184473335x),n=a+r,i=e.getIntValue(o.x4578201182268288818x);i>this.mCurrentCascadeCount&&(this.mCurrentCascadeCount=i),this.addStat(s.x2238703765517006909x,n);var S,u=0,l=c.x2762047832241342883x,k=!1,g=!1,m=!1,y=!1,P=!1,_=!1,p=i>0||this.mCurrentCascadeCount>0,T=this.getParams().getIntValue(s.x2474986190909723988x);if(p)u=n*this.getParams().getIntValue(s.x436735434294545881x)*this.mCurrentCascadeCount;else{switch(this.mCurrentComboCount>0&&0==n&&(this.mCurrentComboCount=0),l=this.mTSpinType){case c.x2762047832241342883x:switch(n){case 0:u=0;break;case 1:u=this.getParams().getIntValue(s.x3204544990607781817x),g=!0,this.addStat(s.x787591959983419248x,1);break;case 2:u=this.getParams().getIntValue(s.x1535823338504517738x),g=!0,this.addStat(s.x2449430413348917220x,1);break;case 3:u=this.getParams().getIntValue(s.x3740567540420744796x),g=!0,this.addStat(s.x4398362710481915654x,1);break;case 4:u=this.getParams().getIntValue(s.x1362589542363522668x),k=!0,this.addStat(s.x2951146069810336849x,1);break;default:u=this.getParams().getIntValue(s.x1362589542363522668x)}break;case c.x3109280748125391346x:switch(this.addStat(s.x4114396191780310574x,1),n){case 0:u=this.getParams().getIntValue(s.x3511321399556264887x);break;case 1:u=this.getParams().getIntValue(s.x925366016123708512x),k=!0,this.addStat(s.x787591959983419248x,1);break;case 2:u=this.getParams().getIntValue(s.x2507856365595120067x),k=!0,this.addStat(s.x2449430413348917220x,1);break;case 3:u=this.getParams().getIntValue(s.x3027620990538936872x),k=!0,this.addStat(s.x4398362710481915654x,1)}break;case c.x1235464930560725342x:switch(this.addStat(s.x3933968844943281187x,1),n){case 0:u=this.getParams().getIntValue(s.x3878916153217113108x);break;case 1:u=this.getParams().getIntValue(s.x972681268298260481x),k=!0,this.addStat(s.x787591959983419248x,1),this.addStat(s.x4115153685527268114x,1)}}if(this.mIsBackToBackChainActive&&k){switch(m=!0,(y=4==n)&&this.addStat(s.x4453370105494108401x,1),this.mTSpinType){case c.x3109280748125391346x:P=!0;break;case c.x1235464930560725342x:P=1==n}if(P)switch(this.addStat(s.x3251665430519023822x,1),this.mTSpinType){case c.x1235464930560725342x:switch(n){case 1:this.addStat(s.x2280889990574408822x,1)}}u=~~(u*c.FXPTToFloat(this.getParams().getIntValue(s.x4202855323463248077x)))}if(k?this.mIsBackToBackChainActive=!0:g&&(this.mIsBackToBackChainActive=!1),T>0&&this.mCurrentComboCount>0&&n>0&&(u+=this.getParams().getIntValue(s.x2474986190909723988x)*this.mCurrentComboCount,this.addStat(s.x2764202726521685643x,1),this.tryStatMax(s.x2066677302826689849x,this.mCurrentComboCount)),!t.getMatrix().hasAnyLiveMinos()&&a>0){switch(_=!0,a){case 1:u+=this.getParams().getIntValue(s.x1041733344161695378x);break;case 2:u+=this.getParams().getIntValue(s.x2781949165149681398x);break;case 3:u+=this.getParams().getIntValue(s.x4544419551085518715x);break;case 4:u+=y?this.getParams().getIntValue(s.x2345533520570542325x):this.getParams().getIntValue(s.x420276572661475961x)}this.addStat(s.x4588271033758540766x,1)}}(S=u*this.getParams().getIntValue(s.x4102348512340683332x))>0&&(this.mScore+=S,this.mScoreEventMessageData.setBoolValue(s.x2485413609040593399x,!1),this.mScoreEventMessageData.setIntValue(s.x4292414311595181585x,0),this.mScoreEventMessageData.setIntValue(s.x2838892652241781387x,this.mScore),this.mScoreEventMessageData.setIntValue(s.x2902843544366174193x,u),this.mScoreEventMessageData.setIntValue(s.x2704093983957425827x,S),this.mScoreEventMessageData.setIntValue(s.x1355806399762741595x,a),this.mScoreEventMessageData.setIntValue(s.x1364737316466423165x,r),this.mScoreEventMessageData.setIntValue(s.x1392439065935303313x,n),this.mScoreEventMessageData.setIntValue(s.x3226881466546944827x,l),this.mScoreEventMessageData.setBoolValue(s.x4396903821025096640x,m),this.mScoreEventMessageData.setBoolValue(s.x56138074968748260x,_),this.mScoreEventMessageData.setIntValue(s.x2201480181276618034x,this.mCurrentComboCount),this.mScoreEventMessageData.setIntValue(s.x482162241822821234x,this.mCurrentCascadeCount),this.mScoreEventMessageData.setObjectValue(s.x3146374273093412746x,e.getObjectValue(o.x1687319295715124996x)),this.mScoreEventMessageData.setIntValue(s.x772824778464948254x,e.getIntValue(o.x2841455039433684619x)),this.mScoreEventMessageData.setIntValue(s.x1267632410526420934x,e.getIntValue(o.x2872164780874391045x)),this.mScoreEventMessageData.setIntValue(s.x2595847264489467188x,e.getIntValue(o.x3861681751457300460x)),this.mScoreEventMessageData.setIntValue(s.x405648548384022495x,e.getIntValue(o.x1370329492842567322x)),this.mScoreEventMessageData.setIntValue(s.x2548933496437503842x,e.getIntValue(o.x3564216990280833034x)),this.dispatchMessage(s.x2401449302245799433x,this,this.mScoreEventMessageData)),n>0&&(T>0&&0==this.mCurrentCascadeCount&&this.mCurrentComboCount++,this.mCurrentCascadeCount++)},n.x2766708504066152543x=function(){null!==this.mScoreEventMessageData&&(this.mScoreEventMessageData.destroy(),this.mScoreEventMessageData=null),null!==this.mStats&&(this.mStats.destroy(),this.mStats=null),e.prototype.x2766708504066152543x.call(this)},n.x976210321608527258x=function(e,t,a){if(t==this.getPlayer())switch(e){case o.x919670044951203337x:switch(this.getPlayer().getCurrentState()){case o.x2530639482016834782x:this.mTSpinType=c.x2762047832241342883x,this.mCurrentCascadeCount=0}break;case o.x53856349791362332x:if(0!=this.getParams().getIntValue(s.x4312396787957699648x)){var r=a.getIntValue(o.x4014762654755533553x);this.getParams().getBoolValue(s.x483356138708568827x)?this.mScore+=r*this.getParams().getIntValue(s.x4312396787957699648x)*this.getParams().getIntValue(s.x4102348512340683332x):this.mScore+=r*this.getParams().getIntValue(s.x4312396787957699648x)}break;case o.x3896609636430422011x:if(0!=this.getParams().getIntValue(s.x2925202068922835110x)){var n=a.getIntValue(o.x650015932578648431x);this.getParams().getBoolValue(s.x483356138708568827x)?this.mScore+=n*this.getParams().getIntValue(s.x2925202068922835110x)*this.getParams().getIntValue(s.x4102348512340683332x):this.mScore+=n*this.getParams().getIntValue(s.x2925202068922835110x)}break;case o.x2653901615701832743x:this.mTSpinType=a.getIntValue(o.x2656793923152951166x);break;case o.x1604029509377330662x:this.processPatternMatches(a)}},n.x3493555497877612430x=function(t){switch(t){case s.x4383350261580149176x:return this.mScore;case s.x4570683489858303498x:return this.getScoreMultiplier();default:return this.mStats.hasValue(t)?this.mStats.getIntValue(t):e.prototype.x3493555497877612430x.call(this,t)}},a(s,null,[{key:"x2916177341484739471x",get:function(){return 1026088449}},{key:"x4102348512340683332x",get:function(){return 257226498}},{key:"x3204544990607781817x",get:function(){return 1423845520}},{key:"x1535823338504517738x",get:function(){return 1661474713}},{key:"x3740567540420744796x",get:function(){return 1780897958}},{key:"x1362589542363522668x",get:function(){return 2011798561}},{key:"x3845021649465654916x",get:function(){return 738501629}},{key:"x2325868714834556041x",get:function(){return 168910384}},{key:"x436735434294545881x",get:function(){return 237427488}},{key:"x3511321399556264887x",get:function(){return 2098375470}},{key:"x925366016123708512x",get:function(){return 679579382}},{key:"x2507856365595120067x",get:function(){return 917208575}},{key:"x3027620990538936872x",get:function(){return 1036631820}},{key:"x3878916153217113108x",get:function(){return 1002430231}},{key:"x972681268298260481x",get:function(){return 239424863}},{key:"x4312396787957699648x",get:function(){return 1942066381}},{key:"x2925202068922835110x",get:function(){return 1705788526}},{key:"x483356138708568827x",get:function(){return 1528072750}},{key:"x2474986190909723988x",get:function(){return 1980717767}},{key:"x1041733344161695378x",get:function(){return 349255024}},{key:"x2781949165149681398x",get:function(){return 586884217}},{key:"x4544419551085518715x",get:function(){return 706307462}},{key:"x420276572661475961x",get:function(){return 937208065}},{key:"x2345533520570542325x",get:function(){return 686504682}},{key:"x4202855323463248077x",get:function(){return 707848476}},{key:"x4383350261580149176x",get:function(){return 1026088449}},{key:"x4570683489858303498x",get:function(){return 257226498}},{key:"x2238703765517006909x",get:function(){return 2059679406}},{key:"x787591959983419248x",get:function(){return 2061800314}},{key:"x2449430413348917220x",get:function(){return 1715431089}},{key:"x4398362710481915654x",get:function(){return 1740531940}},{key:"x2951146069810336849x",get:function(){return 127206168}},{key:"x4453370105494108401x",get:function(){return 1600330696}},{key:"x4114396191780310574x",get:function(){return 655045486}},{key:"x3251665430519023822x",get:function(){return 1055302686}},{key:"x3933968844943281187x",get:function(){return 1481420997}},{key:"x4115153685527268114x",get:function(){return 1770438397}},{key:"x2280889990574408822x",get:function(){return 819427245}},{key:"x4588271033758540766x",get:function(){return 912443106}},{key:"x2764202726521685643x",get:function(){return 216875990}},{key:"x2066677302826689849x",get:function(){return 770377563}},{key:"x2401449302245799433x",get:function(){return 130161864}},{key:"x2838892652241781387x",get:function(){return 752801961}},{key:"x2485413609040593399x",get:function(){return 62778580}},{key:"x4292414311595181585x",get:function(){return 967554516}},{key:"x2902843544366174193x",get:function(){return 612843888}},{key:"x2704093983957425827x",get:function(){return 105068801}},{key:"x1355806399762741595x",get:function(){return 1571823306}},{key:"x1364737316466423165x",get:function(){return 431332910}},{key:"x1392439065935303313x",get:function(){return 871483411}},{key:"x3226881466546944827x",get:function(){return 1782381223}},{key:"x4396903821025096640x",get:function(){return 1754335484}},{key:"x56138074968748260x",get:function(){return 2087305459}},{key:"x2201480181276618034x",get:function(){return 1879716138}},{key:"x482162241822821234x",get:function(){return 1570042340}},{key:"x3146374273093412746x",get:function(){return 1181808500}},{key:"x772824778464948254x",get:function(){return 1518292488}},{key:"x1267632410526420934x",get:function(){return 698078297}},{key:"x2595847264489467188x",get:function(){return 632642247}},{key:"x405648548384022495x",get:function(){return 698078298}},{key:"x2548933496437503842x",get:function(){return 632642248}},{key:"x4529897626885787788x",get:function(){return 420124114}},{key:"x4239705541280003426x",get:function(){return 1873900054}}]),s}(n));s._RF.pop()}}}));System.register("chunks:///_virtual/x2896462190815440735x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x713925626457252070x.ts","./x1390687146982484874x.ts","./x3956211014191467053x.ts"],(function(t){"use strict";var e,n,r,i,c,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){i=t.x713925626457252070x},function(t){c=t.x1390687146982484874x},function(t){o=t.x3956211014191467053x}],execute:function(){r._RF.push({},"00b94JFnupDR4odil+d0sP5","x2896462190815440735x",void 0);t("x2896462190815440735x",function(t){function r(e,n){var o;return(o=t.call(this,r.x430544444583709677x,i.x760633668951967089x,e,c.x4379805376353750514x(r.x4183570915039330341x),n)||this).mMultiplierIncrement=1,o}e(r,t);var l=r.prototype;return l.getMultiplierIncrement=function(){return this.mMultiplierIncrement},l.setMultiplierIncrement=function(t){this.mMultiplierIncrement=t},l.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},l.x1832309505861141126x=function(){return!0},l.x3054795774673576263x=function(){var t=this.getPlayer().getComponent(o.x2916177341484739471x),e=t.getScoreMultiplier();e+=this.mMultiplierIncrement,t.setScoreMultiplier(e),this.setCurrentState(i.x2291148428533141857x,0)},n(r,null,[{key:"x430544444583709677x",get:function(){return 1985963746}},{key:"x4183570915039330341x",get:function(){return""}}]),r}(i));r._RF.pop()}}}));System.register("chunks:///_virtual/x1473388099617861376x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x713925626457252070x.ts","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x3363722297214968445x.ts"],(function(t){"use strict";var e,i,r,n,c,a,s,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){r=t.cclegacy},function(t){n=t.x713925626457252070x},function(t){c=t.x2825914500079770252x},function(t){a=t.x2938621194761123466x},function(t){s=t.x1390687146982484874x},function(t){o=t.x3363722297214968445x}],execute:function(){r._RF.push({},"fe118flBhtL0ZoOF50c8hq7","x1473388099617861376x",void 0);t("x1473388099617861376x",function(t){function r(e,i){var c;return(c=t.call(this,r.x3375684980073946266x,n.x760633668951967089x,e,s.x4379805376353750514x(r.x4183570915039330341x),i)||this).mStepTimerMSEC=0,c.mScratchMinosArray=new a(0),c.mDirection=0,c}e(r,t);var h=r.prototype;return h.isToLeft=function(){return this.mDirection==s.x3311267247859839537x},h.processState_active=function(t){var e=this.getPlayer().getMatrix(),i=this.getParams().getIntValue(r.x3949507358841926917x);if(this.mStepTimerMSEC-=t,this.mStepTimerMSEC<=0&&(this.mStepTimerMSEC+=i,e.moveMinosInRect(0,0,e.getWidth(),e.getHeight(),this.mDirection),e.setMinosVisualAnimationOffsetX_FXPT(0),e.canMoveMinosInRect(0,0,e.getWidth(),e.getHeight(),this.mDirection)||(e.popDestabilize(),e.popMovementDisabled(),this.setNextState(n.x2291148428533141857x,!1))),this.getNextState()!=n.x2291148428533141857x){var c=s.FXPTGetLerpFactor(s.FXPTFromInt(this.mStepTimerMSEC),s.FXPTFromInt(i),0);this.mDirection==s.x3311267247859839537x&&(c*=-1),this.mScratchMinosArray.removeAll(),e.findMovableMinosInRect(0,0,e.getWidth(),e.getHeight(),this.mDirection,this.mScratchMinosArray);for(var a=this.mScratchMinosArray.getNumObjects(),o=0;o<a;o++)this.mScratchMinosArray.getAtIndex(o).setVisualAnimationOffsetX_FXPT(c);this.mScratchMinosArray.removeAll()}},h.x2766708504066152543x=function(){null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),t.prototype.x2766708504066152543x.call(this)},h.x1832309505861141126x=function(){var t=this.getPlayer(),e=t.getMatrix();switch(t.getCurrentState()){case o.x1226525904332658665x:return e.isStable()}switch(t.getNextState()){case o.x1226525904332658665x:return e.isStable()}return!1},h.x3054795774673576263x=function(){var t=this.getPlayer().getMatrix();switch(t.pushDestabilize(),t.pushMovementDisabled(),s.stringToHash32(this.getParams().getStringValue(r.x2514946646775179747x))){case r.x904070031671118768x:this.mDirection=s.x3311267247859839537x;break;case r.x600915192613078304x:this.mDirection=s.x196245965280186343x;break;case r.x1004897802754142771x:this.mScratchMinosArray.removeAll(),t.findMovableMinosInRect(0,0,t.getWidth(),t.getHeight(),s.x196245965280186343x,this.mScratchMinosArray);var e=this.mScratchMinosArray.getNumObjects();this.mScratchMinosArray.removeAll(),t.findMovableMinosInRect(0,0,t.getWidth(),t.getHeight(),s.x3311267247859839537x,this.mScratchMinosArray);var i=this.mScratchMinosArray.getNumObjects();this.mDirection=e>i?s.x196245965280186343x:s.x3311267247859839537x}this.mScratchMinosArray.removeAll(),t.getMinosInRect(0,0,t.getWidth(),t.getHeight(),this.mScratchMinosArray),t.unstickMinos(this.mScratchMinosArray),this.mScratchMinosArray.removeAll(),this.mStepTimerMSEC=this.getParams().getIntValue(r.x3949507358841926917x),this.setCurrentState(n.x1060886010737717951x,0)},h.x3139096472792676868x=function(e,i,r,a){switch(i){case n.x1060886010737717951x:switch(e){case c.x3589770202422279121x:return this.processState_active(a),a}}return t.prototype.x3139096472792676868x.call(this,e,i,r,a)},i(r,null,[{key:"x3375684980073946266x",get:function(){return 624865713}},{key:"x3949507358841926917x",get:function(){return 808890794}},{key:"x2514946646775179747x",get:function(){return 2056434056}},{key:"x904070031671118768x",get:function(){return 670917368}},{key:"x600915192613078304x",get:function(){return 208332043}},{key:"x1004897802754142771x",get:function(){return 1425982939}},{key:"x4183570915039330341x",get:function(){return"GENKPJBCBPLFFNXJZSENWRQOQRDGMQZNYJHNNEWMZORLJJCFVHVPJINOUKQNOQSLCQCHRLOQJNKQJJINOUFHJMRM"}}]),r}(n));r._RF.pop()}}}));System.register("chunks:///_virtual/x1563246029959099938x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x713925626457252070x.ts","./x2825914500079770252x.ts","./x1390687146982484874x.ts","./x3363722297214968445x.ts"],(function(t){"use strict";var e,r,i,n,a,s,c;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){i=t.cclegacy},function(t){n=t.x713925626457252070x},function(t){a=t.x2825914500079770252x},function(t){s=t.x1390687146982484874x},function(t){c=t.x3363722297214968445x}],execute:function(){i._RF.push({},"117e6mc/cNBWInrq67R5xX4","x1563246029959099938x",void 0);t("x1563246029959099938x",function(t){function i(e,r){var a;return(a=t.call(this,i.x3168935570126442664x,n.x760633668951967089x,e,s.x4379805376353750514x(i.x4183570915039330341x),r)||this).mCurrentStep=0,a.mStepTimerMSEC=0,a}e(i,t);var o=i.prototype;return o.processState_active=function(t){var e=this.getPlayer().getMatrix(),r=s.maxInt(100,100)+1;if(this.mCurrentStep<r&&(this.mStepTimerMSEC-=t,this.mStepTimerMSEC<=0)){this.mStepTimerMSEC+=50;var i=this.getActivationMatrixY(),a=i+this.mCurrentStep,c=i-this.mCurrentStep;0==this.mCurrentStep?this.shatterRow(i,500):(this.mCurrentStep<=100&&this.shatterRow(a,500),this.mCurrentStep<=100&&this.shatterRow(c,500)),a<e.getHighestMinoY()||c>0?this.mCurrentStep++:this.mCurrentStep=s.x2812288279383445977x}this.mCurrentStep>=r&&(e.popDestabilize(),e.popMovementDisabled(),this.setNextState(n.x2291148428533141857x,!1))},o.shatterRow=function(t,e){for(var r=this.getPlayer().getMatrix(),i=0;i<r.getWidth();i++)r.shatterMino(r.getMinoAt(i,t),e)},o.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},o.x1832309505861141126x=function(){var t=this.getPlayer(),e=t.getMatrix();switch(t.getCurrentState()){case c.x1226525904332658665x:return e.isStable()}return!1},o.x3054795774673576263x=function(){this.mCurrentStep=0,this.mStepTimerMSEC=0;var t=this.getPlayer().getMatrix();t.pushDestabilize(),t.pushMovementDisabled(),this.setCurrentState(n.x1060886010737717951x,0)},o.x3139096472792676868x=function(e,r,i,s){switch(r){case n.x1060886010737717951x:switch(e){case a.x3589770202422279121x:return this.processState_active(s),s}}return t.prototype.x3139096472792676868x.call(this,e,r,i,s)},r(i,null,[{key:"x3168935570126442664x",get:function(){return 1788046122}},{key:"x4183570915039330341x",get:function(){return""}}]),i}(n));i._RF.pop()}}}));System.register("chunks:///_virtual/x4082149423481207881x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x2362680020733037980x.ts","./x2635158806370081912x.ts","./x1825263265700717187x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,n,o,s,u,i,d,a;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy},function(t){s=t.x2825914500079770252x},function(t){u=t.x2362680020733037980x},function(t){i=t.x2635158806370081912x},function(t){d=t.x1825263265700717187x},function(t){a=t.x1390687146982484874x}],execute:function(){o._RF.push({},"4a38fvlPBhP1KQwyKFcCNcr","x4082149423481207881x",void 0);t("x4082149423481207881x",function(t){function o(e){var n;n=t.call(this)||this,i.verifyNativeAudioSupport(),n.mSoundMgrType=e,n.mIsEnabled=!0,n.mIsMuted=!1,n.mSounds=new d(!1),n.mSoundsVolumes=new d(!0),n.mVolume=1,n.mIsPaused=!1;try{n.mAudioContext=null,n.mGainNode=null,u.isBrowserIE()||i.verifyNativeAudioSupport()&&(n.mAudioContext=o.getAvailableAudioContext(),n.mGainNode=n.mAudioContext.createGain(),n.mGainNode.connect(n.mAudioContext.destination),n.mAudioContext.resume())}catch(t){}return n}e(o,t),o.createAudioContexts=function(t){try{if(!i.verifyNativeAudioSupport())return;for(null==o.sAllAudioContexts&&(o.sAllAudioContexts=[]),window.AudioContext=window.AudioContext||window.webkitAudioContext;t-->0;){var e=new AudioContext,n=e.createBuffer(1,1,22050),s=e.createBufferSource();s.buffer=n,s.connect(e.destination),s.start(0),o.sAllAudioContexts.push(e),o.recycleAvailableAudioContext(e)}}catch(t){}},o.awakenAllAudioContexts=function(){try{for(var t=o.sAllAudioContexts.length,e=0;e<t;e++){o.sAllAudioContexts[e].resume()}}catch(t){}},o.closeAllAudioContexts=function(){try{for(var t=o.sAllAudioContexts.length,e=0;e<t;e++){o.sAllAudioContexts[e].close()}o.sAllAudioContexts=[]}catch(t){}},o.getAvailableAudioContext=function(){try{return o.sAvailableAudioContexts.pop()}catch(t){return null}},o.recycleAvailableAudioContext=function(t){if(null!=t)try{null==o.sAvailableAudioContexts&&(o.sAvailableAudioContexts=[]),o.sAvailableAudioContexts.push(t)}catch(t){}},o.setIsSoundPlaybackEnabled=function(t){o.sIsSoundPlaybackEnabled=t};var s=o.prototype;return s.getIsEnabled=function(){return this.mIsEnabled},s.setIsEnabled=function(t){this.mIsEnabled!=t&&(this.mIsEnabled=t,this.mIsEnabled||this.stopAllSounds())},s.getIsMuted=function(){return this.mIsMuted},s.setIsMuted=function(t){this.mIsMuted!=t&&(this.mIsMuted=t,this.mIsMuted&&this.stopAllSounds())},s.getVolume=function(){return this.mVolume},s.setVolume=function(t){if(t=a.clamp01(t),this.mVolume!=t){this.mVolume=t;try{if(!u.isBrowserIE()){if(!this.mAudioContext)return;this.mGainNode.gain.value=t}}catch(t){}}},s.addSound=function(t,e,n){this.mSounds.setObjectValue(t,e),this.setSoundVolume(t,n)},s.getSoundIdAtIndex=function(t){return this.mSounds.getValueKeyAtIndex(t)},s.isSoundLoaded=function(t){var e=this.getSoundResource(t);return!!e&&e.isNativeSoundLoaded()},s.canPlaySounds=function(){return(null==this.mAudioContext||"suspended"!=this.mAudioContext.state)&&(o.sIsSoundPlaybackEnabled&&this.mIsEnabled&&!this.mIsMuted&&!this.mIsPaused&&this.mVolume>0&&this.mSounds.getNumValues()>0)},s.playSound=function(t){if(this.canPlaySounds()){var e=this.getSoundResource(t);if(e&&!e.getDidPlay()){var n=this.getSoundVolume(t);if(!(n*this.mVolume<=.001)){var s=e.getNativeSound();if(s){var i=!1;switch(this.mSoundMgrType){case o.x522836750797873902x:i=!1;break;case o.x663109966230723214x:this.stopAllSounds(),i=!0}try{if(!u.isBrowserIE()){if(!this.mAudioContext)return;var d;n<1?((d=this.mAudioContext.createGain()).gain.value=n,d.connect(this.mGainNode)):d=this.mGainNode;var a=this.mAudioContext.createBufferSource();a.connect(d),a.buffer=s,a.loop=i,a.start(0)}}catch(t){}e.setDidPlay(!0)}}}}},s.getIsPaused=function(){return this.mIsPaused},s.setIsPaused=function(t){if(this.mIsEnabled&&this.mIsPaused!=t)if(this.mIsPaused=t,t)try{if(!u.isBrowserIE()){if(!this.mAudioContext)return;try{this.mAudioContext.suspend()}catch(t){this.mGainNode.gain.value=0}}}catch(t){}else try{if(!u.isBrowserIE()){if(!this.mAudioContext)return;try{this.mAudioContext.resume()}catch(t){this.mGainNode.gain.value=this.mVolume}}}catch(t){}},s.stopAllSounds=function(){try{if(!u.isBrowserIE()){if(!this.mAudioContext)return;this.mGainNode.disconnect(),this.mGainNode=this.mAudioContext.createGain(),this.mGainNode.connect(this.mAudioContext.destination),this.mGainNode.gain.value=this.mVolume}}catch(t){}},s.processTimeMSEC=function(t){for(var e=this.mSounds.getNumValues(),n=0;n<e;n++)this.mSounds.getObjectValueAtIndex(n).setDidPlay(!1)},s.getSoundResource=function(t){return this.mSounds.getObjectValue(t)},s.getSoundVolume=function(t){return this.mSoundsVolumes.getFloatValue(t)},s.setSoundVolume=function(t,e){this.mSoundsVolumes.setFloatValue(t,e)},s.x2766708504066152543x=function(){this.stopAllSounds(),null!==this.mSounds&&(this.mSounds.destroy(),this.mSounds=null),null!==this.mSoundsVolumes&&(this.mSoundsVolumes.destroy(),this.mSoundsVolumes=null),o.recycleAvailableAudioContext(this.mAudioContext),t.prototype.x2766708504066152543x.call(this)},n(o,null,[{key:"x522836750797873902x",get:function(){return 1}},{key:"x663109966230723214x",get:function(){return 2}}]),o}(s)).sIsSoundPlaybackEnabled=!0,o._RF.pop()}}}));System.register("chunks:///_virtual/x273117979158241950x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2446198698887643760x.ts","./x2362680020733037980x.ts"],(function(e){"use strict";var t,i,r,S,a;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){r=e.cclegacy},function(e){S=e.x2446198698887643760x},function(e){a=e.x2362680020733037980x}],execute:function(){r._RF.push({},"3d00ciVsqBCB43YybibTeG+","x273117979158241950x",void 0);e("x273117979158241950x",function(e){function r(t){var i;return(i=e.call(this)||this).mNativeSprite=a.NativeSprite_createWithSpriteFrame(t),a.NativeView_setName(i.mNativeSprite,"x273117979158241950x"),i.mNativeSpriteFrame=t,i.mSpriteFrameWidth=a.NativeSpriteFrame_getWidth(t),i.mSpriteFrameHeight=a.NativeSpriteFrame_getHeight(t),i.mSizeX=0,i.mSizeY=0,i.setNativeView(i.mNativeSprite),i}t(r,e),r.createWithParams=function(e,t,i){var S=new r(null);return S.setParams(e,t,i),S};var S=r.prototype;return S.setNativeSpriteFrame=function(e){this.mNativeSpriteFrame!=e&&(this.mNativeSpriteFrame=e,a.NativeSprite_setSpriteFrame(this.mNativeSprite,e,!0),this.mSpriteFrameWidth=a.NativeSpriteFrame_getWidth(e),this.mSpriteFrameHeight=a.NativeSpriteFrame_getHeight(e),this.x4508769045948436120x(this.getScaleX(),this.getScaleY()))},S.setSizeX=function(e){this.setSize(e,this.mSizeY)},S.setSizeY=function(e){this.setSize(this.mSizeX,e)},S.setSize=function(e,t){this.mSizeX==e&&this.mSizeY==t||(this.mSizeX=e,this.mSizeY=t,this.x4508769045948436120x(this.getScaleX(),this.getScaleY()))},S.x2766708504066152543x=function(){this.mNativeSprite=null,this.mNativeSpriteFrame=null,e.prototype.x2766708504066152543x.call(this)},S.x1655915324635530023x=function(e,t){var i=e.getDictionary(r.x1794686004396047329x);if(i){if(i.hasValue(r.x2067635063438088381x)){var S=i.getStringValue(r.x2067635063438088381x),a=i.getIntValue(r.x196618364093425927x),s=t.getNativeSpriteFrame(S,a);this.setNativeSpriteFrame(s)}this.setSize(i.getIntValueWithDefault(r.x3719999222692201093x,this.mSizeX),i.getIntValueWithDefault(r.x417155103298122365x,this.mSizeY)),this.x4508769045948436120x(this.getScaleX(),this.getScaleY())}},S.x2160475895434563892x=function(){return(this.mSizeX>0?this.mSizeX:this.mSpriteFrameWidth)*this.getScaleX()},S.x1228861745169446149x=function(){return(this.mSizeY>0?this.mSizeY:this.mSpriteFrameHeight)*this.getScaleY()},S.x4508769045948436120x=function(e,t){a.NativeSprite_setSize(this.mNativeSprite,this.x2160475895434563892x(),this.x1228861745169446149x())},S.x765908691221904626x=function(e){a.NativeSprite_setAlpha(this.mNativeSprite,e)},i(r,null,[{key:"x170526162870928303x",get:function(){return 1221677881}},{key:"x1794686004396047329x",get:function(){return 1221677881}},{key:"x2067635063438088381x",get:function(){return 863751099}},{key:"x196618364093425927x",get:function(){return 1309668948}},{key:"x3719999222692201093x",get:function(){return 1504668102}},{key:"x417155103298122365x",get:function(){return 1504668103}}]),r}(S));r._RF.pop()}}}));System.register("chunks:///_virtual/x500040461321591990x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2748210066315878912x.ts","./x3624803980696404420x.ts","./x3956211014191467053x.ts"],(function(e){"use strict";var t,a,r,n,u,c;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass},function(e){r=e.cclegacy},function(e){n=e.x2748210066315878912x},function(e){u=e.x3624803980696404420x},function(e){c=e.x3956211014191467053x}],execute:function(){r._RF.push({},"4c39amVDFBJEb/x/XtYnZKx","x500040461321591990x",void 0);e("x500040461321591990x",function(e){function r(t){var a;return(a=e.call(this,t)||this).mTrackedValueId=0,a.mTargetValue=0,a.mTargetValueType=0,a.mPlayer=t.getPlayer(),a.mLevelsComponent=null,a.mScoreComponent=null,a}t(r,e);var n=r.prototype;return n.processTrackedValue=function(e){var t=!1;switch(this.mTargetValueType){case r.x2540039137443778180x:t=e>this.mTargetValue;break;case r.x3445213510914571203x:t=e>=this.mTargetValue;break;case r.x1755883204598391878x:t=e<this.mTargetValue;break;case r.x3579174046194271077x:t=e<=this.mTargetValue;break;case r.x1193049833049889080x:t=e==this.mTargetValue}t&&this.setStatusComplete()},n.x2766708504066152543x=function(){this.mPlayer=null,this.mLevelsComponent=null,this.mScoreComponent=null,e.prototype.x2766708504066152543x.call(this)},n.x2978836047042515253x=function(e){var t=e.getDictionary(r.x944007200506527694x);t&&(this.mTrackedValueId=t.getStringValueAsHash32(r.x128777373689960317x),this.mTargetValue=t.getIntValue(r.x3883540580581961585x),this.mTargetValueType=t.getStringValueAsHash32(r.x4552198778187398694x))},n.x1673258973041966036x=function(){switch(this.mScoreComponent=this.getAchievementsComponent().getPlayer().getComponent(c.x2916177341484739471x),this.mLevelsComponent=this.getAchievementsComponent().getPlayer().getComponent(u.x1109057396118299453x),this.mTrackedValueId){case r.x4111113652204318200x:case r.x3468945597690861458x:case r.x4242429642059453289x:this.setDoProcessTime(!1)}},n.x893489279021507607x=function(){switch(this.mTrackedValueId){case r.x4111113652204318200x:this.processTrackedValue(this.mLevelsComponent.getCurrentLevelIndex()+1);break;case r.x3468945597690861458x:this.mPlayer.didCompleteGameSuccessfully()&&this.processTrackedValue(1);break;case r.x4242429642059453289x:this.mPlayer.didCompleteGameSuccessfully()&&this.processTrackedValue(this.mPlayer.getElapsedActiveGameTimeMSEC())}},n.x183889591455287691x=function(e){switch(this.mTrackedValueId){case r.x1850726015867691024x:this.processTrackedValue(this.mScoreComponent.getScore());break;case r.x63396987091664748x:this.processTrackedValue(this.mLevelsComponent.getCurrentLevelIndex()+1);break;default:this.processTrackedValue(this.mScoreComponent.getStatValue(this.mTrackedValueId))}},a(r,null,[{key:"x944007200506527694x",get:function(){return 2137801923}},{key:"x128777373689960317x",get:function(){return 425115699}},{key:"x3883540580581961585x",get:function(){return 1104766767}},{key:"x4552198778187398694x",get:function(){return 1538901705}},{key:"x1850726015867691024x",get:function(){return 1067253217}},{key:"x63396987091664748x",get:function(){return 1150906291}},{key:"kTrackedValueId_Lines",get:function(){return 2059679406}},{key:"kTrackedValueId_Tetrises",get:function(){return 127206168}},{key:"kTrackedValueId_B2BTetrises",get:function(){return 1600330696}},{key:"kTrackedValueId_TSpins",get:function(){return 655045486}},{key:"kTrackedValueId_B2BTSpins",get:function(){return 1055302686}},{key:"kTrackedValueId_MiniTSpins",get:function(){return 1481420997}},{key:"kTrackedValueId_MiniTSpinSingles",get:function(){return 1770438397}},{key:"kTrackedValueId_B2BMiniTSpinSingles",get:function(){return 819427245}},{key:"kTrackedValueId_Combos",get:function(){return 216875990}},{key:"kTrackedValueId_MaxCombo",get:function(){return 770377563}},{key:"kTrackedValueId_PerfectClears",get:function(){return 912443106}},{key:"x4111113652204318200x",get:function(){return 659738989}},{key:"x3468945597690861458x",get:function(){return 1254451100}},{key:"x4242429642059453289x",get:function(){return 1233794408}},{key:"x2540039137443778180x",get:function(){return 385932202}},{key:"x3445213510914571203x",get:function(){return 1281623330}},{key:"x1755883204598391878x",get:function(){return 679468939}},{key:"x3579174046194271077x",get:function(){return 975993729}},{key:"x1193049833049889080x",get:function(){return 2139689694}}]),r}(n));r._RF.pop()}}}));System.register("chunks:///_virtual/x3950773521023582268x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4233089510113986857x.ts","./x3363722297214968445x.ts","./x2825914500079770252x.ts","./x1390687146982484874x.ts"],(function(e){"use strict";var t,a,n,r,i,s,o;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass},function(e){n=e.cclegacy},function(e){r=e.x4233089510113986857x},function(e){i=e.x3363722297214968445x},function(e){s=e.x2825914500079770252x},function(e){o=e.x1390687146982484874x}],execute:function(){n._RF.push({},"75e07Ut/ZZNFa8tVHC03XbK","x3950773521023582268x",void 0);e("x3950773521023582268x",function(e){function n(t){var a;return(a=e.call(this)||this).getParams().setIntValue(n.x3516067021238334765x,1),a.getParams().setBoolValue(n.x717754608473715004x,!1),a.getParams().setIntValue(n.x4231986786798622784x,0),a.getParams().setIntValue(n.x3596112387526043308x,0),a.getParams().setIntValue(n.x4517055340943059493x,2e3),a.getParams().copy(t,!1),a.mRemainingWaitTimeForReadyPlayersMSEC=0,a.mIsAnyPlayerReady=!1,a.mDidStartPlayers=!1,a.mDidStartGame=!1,a.mPrevCountdownTween321=-1,a.mWasMusicActiveDuringGame=!1,a}t(n,e);var r=n.prototype;return r.startGame=function(){if(0==this.getCurrentState()&&(this.mRemainingWaitTimeForReadyPlayersMSEC=1e3*this.getParams().getIntValue(n.x4231986786798622784x),this.mIsAnyPlayerReady=!1,this.setNextState(n.x3885372347840313037x,!1),!this.getParams().getBoolValue(n.x717754608473715004x)))switch(this.getCurrentState()){case 0:case n.x3885372347840313037x:for(var e=this.getNumPlayers(),t=0;t<e;t++)this.getPlayerAtIndex(t).setIsReadyToStartGame()}},r.getDidStartPlayers=function(){return this.mDidStartPlayers},r.enterBreak=function(){switch(this.getCurrentState()){case n.x290591613925852943x:this.setNextState(n.x4426913439973074479x,!1),this.processTime(0)}},r.pauseGame=function(){switch(this.getCurrentState()){case n.x290591613925852943x:case n.x3997075334816415075x:this.setNextState(n.x3933957698802094611x,!1),this.processTime(0)}},r.resumeGame=function(){switch(this.getCurrentState()){case n.x4426913439973074479x:case n.x3933957698802094611x:this.setNextState(n.x3997075334816415075x,!1),this.processTime(0)}},r.togglePauseGame=function(){switch(this.getCurrentState()){case n.x290591613925852943x:case n.x3997075334816415075x:this.pauseGame();break;case n.x4426913439973074479x:case n.x3933957698802094611x:this.resumeGame()}},r.terminateGame=function(){if(!this.isGameEnded()){for(var e=this.getNumPlayers(),t=0;t<e;t++){var a=this.getPlayerAtIndex(t);a.tryEndGame(i.x1833828468078163270x,!1,!1,!1),a.processTime(0)}this.processTime(0)}},r.isGameEnded=function(){return this.getCurrentState()==n.x3961798951401593355x},r.getCountdownTween_FXPT=function(){switch(this.getCurrentState()){case n.x3997075334816415075x:return o.FXPTDivide(o.FXPTFromInt(this.getCurrentStateElapsedTimeMSEC()),o.FXPTFromInt(this.getParams().getIntValue(n.x4517055340943059493x)));default:return 0}},r.getCountdownTween321=function(){switch(this.getCurrentState()){case n.x3997075334816415075x:return o.clampInt(o.FXPTToInt(o.FXPTMultiply(o.x2045759414872908808x-this.getCountdownTween_FXPT(),o.FXPTFromInt(3))+o.x2045759414872908808x),1,3);default:return 0}},r.setWasMusicActiveDuringGame=function(e){this.mWasMusicActiveDuringGame=e},r.wasMusicActiveDuringGame=function(){return this.mWasMusicActiveDuringGame},r.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},r.x3139096472792676868x=function(e,t,a,r){switch(e){case s.x3461483973768069303x:return t;case s.x353128994538654894x:switch(this.dispatchMessage(n.x1950391814350285748x,this,null),t){case n.x290591613925852943x:this.mDidStartGame||(this.dispatchMessage(n.x1767676170085725439x,this,null),this.mDidStartGame=!0)}return 0;case s.x3589770202422279121x:var i=this.getNumPlayers(),o=0,u=null;switch(t){case n.x290591613925852943x:var m=!0;for(o=0;o<i;o++)(u=this.getPlayerAtIndex(o)).processTime(r),u.isGameEnded()||(m=!1);return m&&this.setNextState(n.x3961798951401593355x,!1),r;case n.x3885372347840313037x:var c=!0;for(this.getParams().getBoolValue(n.x717754608473715004x)&&this.mRemainingWaitTimeForReadyPlayersMSEC>0&&(this.mRemainingWaitTimeForReadyPlayersMSEC-=r),o=0;o<i;o++)u=this.getPlayerAtIndex(o),this.getParams().getBoolValue(n.x717754608473715004x)&&(!this.mIsAnyPlayerReady&&u.isReadyToStartGame()&&(this.mIsAnyPlayerReady=!0,this.getParams().getIntValue(n.x3596112387526043308x)>0&&(this.mRemainingWaitTimeForReadyPlayersMSEC=1e3*this.getParams().getIntValue(n.x3596112387526043308x))),this.mRemainingWaitTimeForReadyPlayersMSEC<=0&&(u.isReadyToStartGame()||u.isAIControlled()||u.setIsAIControlled())),u.isReadyToStartGame()||(c=!1);return c&&this.setNextState(n.x4387195251200424850x,!1),r;case n.x4387195251200424850x:for(o=0;o<i;o++)this.getPlayerAtIndex(o).preStartGame();return this.setNextState(n.x3997075334816415075x,!1),r;case n.x3997075334816415075x:if(this.mPrevCountdownTween321!=this.getCountdownTween321()&&(this.dispatchMessage(n.x3414013924328635841x,this,null),this.mPrevCountdownTween321=this.getCountdownTween321()),a>=this.getParams().getIntValue(n.x4517055340943059493x)){if(!this.mDidStartPlayers){for(o=0;o<i;o++)this.getPlayerAtIndex(o).startGame();this.mDidStartPlayers=!0}return this.setNextState(n.x290591613925852943x,!1),a-this.getParams().getIntValue(n.x4517055340943059493x)}return r;default:return r}case s.x2931974030808705080x:return this.dispatchMessage(n.x819623676867487918x,this,null),0;default:return 0}},r.x3493555497877612430x=function(e){switch(e){case n.x2582690213794756563x:return this.getCountdownTween_FXPT();case n.x3924009587346731363x:return this.getCountdownTween321();default:return 0}},r.x2561498820134418400x=function(e){return this.x3493555497877612430x(o.getFirstValueKeyInPath(e))},a(n,null,[{key:"x3516067021238334765x",get:function(){return 2018316349}},{key:"x717754608473715004x",get:function(){return 1080275783}},{key:"x4231986786798622784x",get:function(){return 327057537}},{key:"x3596112387526043308x",get:function(){return 632544111}},{key:"x4517055340943059493x",get:function(){return 1600659601}},{key:"x3885372347840313037x",get:function(){return 1781379263}},{key:"x4387195251200424850x",get:function(){return 952250112}},{key:"x1011447617138581434x",get:function(){return 1081266892}},{key:"x3997075334816415075x",get:function(){return 2145222954}},{key:"x290591613925852943x",get:function(){return 1842818272}},{key:"x4426913439973074479x",get:function(){return 957789285}},{key:"x3933957698802094611x",get:function(){return 1710917928}},{key:"x3961798951401593355x",get:function(){return 1246134240}},{key:"x2582690213794756563x",get:function(){return 1121523617}},{key:"x3924009587346731363x",get:function(){return 1407849831}},{key:"x1950391814350285748x",get:function(){return 1156735194}},{key:"x819623676867487918x",get:function(){return 1442133228}},{key:"x3414013924328635841x",get:function(){return 246041754}},{key:"x1767676170085725439x",get:function(){return 720188518}}]),n}(r));n._RF.pop()}}}));System.register("chunks:///_virtual/x3363722297214968445x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3645332506817008919x.ts","./x1825263265700717187x.ts","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x975618616374684578x.ts","./x1390687146982484874x.ts","./x3687945108292398046x.ts","./x2564479158417964948x.ts","./x2706134342423168171x.ts","./x2384331738405430424x.ts","./x2240197311483503982x.ts","./x2451131491315760813x.ts","./x2867445869096855490x.ts","./x2911010402591379538x.ts","./x3860921982419207728x.ts","./x4010102164439179233x.ts","./x1829961367305584157x.ts","./x3933757754418977954x.ts","./x2565336835544501x.ts","./x3624803980696404420x.ts","./x3956211014191467053x.ts","./x357457879647821544x.ts","./x734406084208825918x.ts","./x2327442049556200630x.ts"],(function(e){"use strict";var t,a,i,n,r,s,c,o,m,P,l,d,u,h,S,M,y,g,k,T,_,C,f,x,p,B,I;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass},function(e){i=e.cclegacy},function(e){n=e.x3645332506817008919x},function(e){r=e.x1825263265700717187x},function(e){s=e.x2825914500079770252x},function(e){c=e.x2938621194761123466x},function(e){o=e.x975618616374684578x},function(e){m=e.x1390687146982484874x},function(e){P=e.x3687945108292398046x},function(e){l=e.x2564479158417964948x},function(e){d=e.x2706134342423168171x},function(e){u=e.x2384331738405430424x},function(e){h=e.x2240197311483503982x},function(e){S=e.x2451131491315760813x},function(e){M=e.x2867445869096855490x},function(e){y=e.x2911010402591379538x},function(e){g=e.x3860921982419207728x},function(e){k=e.x4010102164439179233x},function(e){T=e.x1829961367305584157x},function(e){_=e.x3933757754418977954x},function(e){C=e.x2565336835544501x},function(e){f=e.x3624803980696404420x},function(e){x=e.x3956211014191467053x},function(e){p=e.x357457879647821544x},function(e){B=e.x734406084208825918x},function(e){I=e.x2327442049556200630x}],execute:function(){i._RF.push({},"d76a9Pi2OpDl7lxbktT/Htz","x3363722297214968445x",void 0);e("x3363722297214968445x",function(e){function i(t,a,n,s){var o;o=e.call(this,t,a,n)||this,i.setDefaultParams(o.getParams()),o.getParams().copy(s,!1),o.mAvatarIndex=o.getParams().getIntValue(i.x542352310452432956x),o.x2055535691186125924x=new r(!1),o.mDidPreStartGame=!1,o.mIsPieceGenerationEnabled=!0,o.mIsGameBreakPending=!1,o.mGameEndCondition=0,o.mDidCompleteGameSuccessfully=!1,o.mControlComponent=null,o.mMatrix=null,o.mPieceFactory=null,o.mPieceSequenceGenerator=null,o.mPieceQueue=null,o.mIncomingPiece=null,o.mLivePiece=null,o.mDidLivePieceExistForPieceCycle=!1,o.mDidHoldLivePiece=!1,o.mLockedPieceTypeId=0,o.mLockedPieceMinX=0,o.mLockedPieceMaxX=0,o.mLockedPieceMinY=0,o.mLockedPieceMaxY=0,o.mLockedPieceCenterX=0,o.mLockedPieceCenterY=0,o.mNumProcessStableMatrixForPiece=0,o.mIsGhostPieceEnabled=!0,o.mGhostPiece=null,o.mIsGhostPieceValid=!1,o.mHoldPiece=null,o.mMatrixMinoMatchPattern=null,o.mMatrixMinoMatchSearchPattern=null,o.mMatrixMinoPatternMatches=new c(0),o.mMatrixMinoPatternMatchesPool=null,o.mNumMatrixMinoPatternMatchesForPiece=0,o.mNumCascadesForPieceCycle=0,o.mTotalMatrixMinoPatternMatches=0,o.mElapsedActiveGameTimeMSEC=0,o.mRemainingTimeMSEC=0,o.mEnableEndGameOnTopoutDelaySEC=o.getParams().getIntValueWithDefault(i.x3783028151018935155x,0);var P=o.getParams().getIntValue(i.x3475186781912932236x);return 0==P&&(P=m.nextNativeRandomInt()),o.getParams().setIntValue(i.x3475186781912932236x,P),o.setNextState(i.x515292372428777811x,!1),o}t(i,e),i.createDefaultParams=function(){var e=new r(!0);return i.setDefaultParams(e),e},i.setDefaultParams=function(e){e.setIntValue(i.x542352310452432956x,0),e.setIntValue(i.x1667761219520724281x,10),e.setIntValue(i.x764670688718018734x,20),e.setIntValue(i.x937692048695963822x,4),e.setIntValue(i.x4317906133384108411x,P.x4521910664595926590x),e.setIntValue(i.x728819676302842884x,3),e.setBoolValue(i.x4261031809210033402x,!0),e.setStringValue(i.x2908746798704082364x,"I,J,L,O,S,T,Z"),e.setIntValue(i.x2402089646323107023x,1),e.setIntValue(i.x3475186781912932236x,0),e.setIntValue(i.x2379337660823166827x,50),e.setIntValue(i.x1873770505682872868x,0),e.setIntValue(i.x896356766801329562x,-1),e.setIntValue(i.x961106055986899183x,1),e.setStringValue(i.x761314917399768006x,m.getNameForFacing(m.x353242128309914033x)),e.setIntValue(i.x307531715252745743x,200),e.setIntValue(i.x1217250536790954798x,200),e.setIntValue(i.x3623485013197711396x,50),e.setIntValue(i.x594838259687711045x,50),e.setIntValue(i.x479828299705172745x,0),e.setBoolValue(i.x2257973198947587384x,!0),e.setBoolValue(i.x1920401028616498743x,!1),e.setIntValue(i.x4584934851256120701x,m.FXPTFromInt(1)),e.setIntValue(i.x2772216971655838393x,m.FXPTFromInt(1)),e.setIntValue(i.x2351449237404222659x,0),e.setBoolValue(i.x461173718861051139x,!1),e.setBoolValue(i.x3523144231267827487x,!0),e.setIntValue(i.x2344760719212907242x,500),e.setIntValue(i.x3729676224657895680x,5)},i.getStateName=function(e){switch(e){case i.x515292372428777811x:return"notReadyToStart";case i.x1532323915630833534x:return"readyToStart";case i.x1011447617138581434x:return"startGame";case i.x2530639482016834782x:return"pieceCycleStarting";case i.x3882455984204861445x:return"pieceGeneration";case i.x2336038995542297844x:return"pieceActive";case i.x1718930399393454155x:return"matrixCycleStarting";case i.x4443936901865630973x:return"processStableMatrix";case i.x3534554534315993740x:return"stabilizeMatrix";case i.x1226525904332658665x:return"matrixCycleComplete";case i.x329079028891625300x:return"pieceCycleComplete";case i.x4415664680696011753x:return"gameEnding";case i.x3961798951401593355x:return"gameEnded";default:return m.stringFromInt(e,1,!1)}};var n=i.prototype;return n.getAvatarIndex=function(){return this.mAvatarIndex},n.isReadyToStartGame=function(){return this.isAIControlled()&&this.setCurrentState(i.x1532323915630833534x,0),this.getCurrentState()==i.x1532323915630833534x},n.setIsReadyToStartGame=function(){switch(this.getCurrentState()){case 0:case i.x515292372428777811x:this.setCurrentState(i.x1532323915630833534x,0)}},n.preStartGame=function(){this.mDidPreStartGame||(this.dispatchMessage(i.x2278663471402292977x,this,null),this.getParams().getBoolValue(i.x4261031809210033402x)&&this.mPieceQueue.fillToCapacity(),this.setRemainingTimeMSEC(1e3*this.getParams().getIntValue(i.x2351449237404222659x)),this.mDidPreStartGame=!0)},n.startGame=function(){this.getCurrentState()==i.x1532323915630833534x&&this.setNextState(i.x1011447617138581434x,!1)},n.setIsPieceGenerationEnabled=function(e){this.mIsPieceGenerationEnabled=e},n.setGameBreakPending=function(){this.mIsGameBreakPending=!0},n.isGameBreakPending=function(){return this.mIsGameBreakPending},n.isGameActive=function(){switch(this.getCurrentState()){case i.x4415664680696011753x:case i.x3961798951401593355x:return!1;default:return!0}},n.tryEndGame=function(e,t,a,n){if(this.mGameEndCondition=e,this.mDidCompleteGameSuccessfully=t,this.isGameActive()){this.dispatchMessage(i.x1014284175245811543x,this,null);var r=!0;if(r&&a)switch(this.getCurrentState()){case i.x1226525904332658665x:case i.x329079028891625300x:r=this.mMatrix.isStable();break;default:r=!1}r&&n&&(r=this.askComponentsIfPlayerCanEndGame(e)),r&&this.setNextState(i.x4415664680696011753x,!1)}},n.isGameEnded=function(){return this.getCurrentState()==i.x3961798951401593355x},n.getGameEndCondition=function(){return this.mGameEndCondition},n.didCompleteGameSuccessfully=function(){return this.mDidCompleteGameSuccessfully},n.getControlComponent=function(){return this.mControlComponent},n.isAIControlled=function(){return this.mControlComponent.x3653139289778280998x().getActiveInputType()==l.x4300242453282062329x},n.setIsAIControlled=function(){this.mControlComponent.x3653139289778280998x().setActiveInputType(l.x4300242453282062329x)},n.constructMatrix=function(e,t,a){null!==this.mMatrix&&(this.mMatrix.destroy(),this.mMatrix=null),this.getParams().setIntValue(i.x1667761219520724281x,e),this.getParams().setIntValue(i.x764670688718018734x,t),this.getParams().setIntValue(i.x937692048695963822x,a);var n=t+a;this.mMatrix=new d(e,n,t,this.getPlayerIndex()),this.mMatrix.setIsGravityLimited(this.getParams().getBoolValue(i.x2257973198947587384x)),this.setMatrixGravityTimeValues();var r=new y(0,0,e,1);this.setMatrixMinoMatchPattern(r);var s=new y(0,0,1,n);this.setMatrixMinoMatchSearchPattern(s),this.mMatrixMinoPatternMatches.reserveCapacity(n),null!==this.mMatrixMinoPatternMatchesPool&&(this.mMatrixMinoPatternMatchesPool.destroy(),this.mMatrixMinoPatternMatchesPool=null),this.mMatrixMinoPatternMatchesPool=new o(n,e),this.mMatrix.addMessageListener(this),this.dispatchMessage(i.x1990302596667154556x,this,null)},n.getMatrix=function(){return this.mMatrix},n.getMatrixWidth=function(){return this.getParams().getIntValue(i.x1667761219520724281x)},n.getMatrixHeight=function(){return this.getParams().getIntValue(i.x764670688718018734x)+this.getParams().getIntValue(i.x937692048695963822x)},n.getMatrixVisibleHeight=function(){return this.getParams().getIntValue(i.x764670688718018734x)},n.getPieceFactory=function(){return this.mPieceFactory},n.setPieceFactory=function(e){null!==this.mPieceFactory&&(this.mPieceFactory.destroy(),this.mPieceFactory=null),this.mPieceFactory=e,this.mPieceSequenceGenerator&&this.mPieceSequenceGenerator.setPieceFactory(e)},n.getPieceSequenceGenerator=function(){return this.mPieceSequenceGenerator},n.setPieceSequenceGenerator=function(e){null!==this.mPieceSequenceGenerator&&(this.mPieceSequenceGenerator.destroy(),this.mPieceSequenceGenerator=null),this.mPieceSequenceGenerator=e},n.getPieceQueue=function(){return this.mPieceQueue},n.setPieceQueue=function(e){null!==this.mPieceQueue&&(this.mPieceQueue.destroy(),this.mPieceQueue=null),this.mPieceQueue=e},n.getIncomingPiece=function(){return this.mIncomingPiece},n.getLivePiece=function(){return this.mLivePiece},n.handleLivePieceSoftDropSteps=function(e){e>0&&(this.x2055535691186125924x.setIntValue(i.x4014762654755533553x,e),this.dispatchMessage(i.x53856349791362332x,this,this.x2055535691186125924x))},n.handleLivePieceHardDropSteps=function(e){e>0&&(this.x2055535691186125924x.setIntValue(i.x650015932578648431x,e),this.dispatchMessage(i.x3896609636430422011x,this,this.x2055535691186125924x))},n.handleLivePieceTSpin=function(e){e!=m.x2762047832241342883x&&(this.x2055535691186125924x.setIntValue(i.x2656793923152951166x,e),this.dispatchMessage(i.x2653901615701832743x,this,this.x2055535691186125924x))},n.forceLivePieceHardDrop=function(){this.mControlComponent.x3653139289778280998x().getModel().forceHardDropControlAction()},n.lockLivePieceIntoMatrix=function(){if(this.mLivePiece){this.dispatchMessage(i.x2835560522953721302x,this,null);var e=this.mMatrix.isPieceFullyOutsideVisibleMatrix(this.mLivePiece);this.mLockedPieceTypeId=this.mLivePiece.getPieceTypeId(),this.mLockedPieceMinX=this.mLivePiece.getMinMinoX(),this.mLockedPieceMaxX=this.mLivePiece.getMaxMinoX(),this.mLockedPieceMinY=this.mLivePiece.getMinMinoY(),this.mLockedPieceMaxY=this.mLivePiece.getMaxMinoY(),this.mLockedPieceCenterX=this.mLockedPieceMinX+.5*(this.mLockedPieceMaxX+1-this.mLockedPieceMinX),this.mLockedPieceCenterY=this.mLockedPieceMinY+.5*(this.mLockedPieceMaxY+1-this.mLockedPieceMinY),this.mMatrix.insertMinosFromPiece(this.mLivePiece),null!==this.mLivePiece&&(this.mLivePiece.destroy(),this.mLivePiece=null),null!==this.mGhostPiece&&(this.mGhostPiece.destroy(),this.mGhostPiece=null),e&&(this.dispatchMessage(i.x4465735992535929486x,this,null),this.getParams().getBoolValue(i.x3523144231267827487x)?this.tryEndGame(i.x1339170697143401255x,!1,!1,!1):this.doTopoutMatrixClear())}},n.getLockedPieceCenterX=function(){return this.mLockedPieceCenterX},n.getLockedPieceCenterY=function(){return this.mLockedPieceCenterY},n.setIsGhostPieceEnabled=function(e){this.mIsGhostPieceEnabled=e},n.getGhostPiece=function(e){return e||this.mIsGhostPieceEnabled?this.mGhostPiece:null},n.isGhostPieceValid=function(){return this.mIsGhostPieceValid},n.setIsGhostPieceValid=function(e){this.mIsGhostPieceValid=e},n.getHoldPiece=function(){return this.mHoldPiece},n.getHoldPieceTypeId=function(){if(this.mHoldPiece)return this.mHoldPiece.getPieceTypeId();var e=this.mPieceQueue.getPieceAtIndex(0);return e?e.getPieceTypeId():0},n.performHoldAction=function(){this.mIncomingPiece=this.mHoldPiece,this.mHoldPiece=this.mLivePiece,this.mLivePiece=null,this.mHoldPiece&&(this.mHoldPiece.setTransform(0,0,this.getGenerationFacing()),this.mHoldPiece.setMinosLogicalState(u.x3118197035351235600x)),this.mDidHoldLivePiece=!0},n.didHoldLivePiece=function(){return this.mDidHoldLivePiece},n.getMatrixMinoMatchPattern=function(){return this.mMatrixMinoMatchPattern},n.setMatrixMinoMatchPattern=function(e){null!==this.mMatrixMinoMatchPattern&&(this.mMatrixMinoMatchPattern.destroy(),this.mMatrixMinoMatchPattern=null),this.mMatrixMinoMatchPattern=e},n.getMatrixMinoMatchSearchPattern=function(){return this.mMatrixMinoMatchSearchPattern},n.setMatrixMinoMatchSearchPattern=function(e){null!==this.mMatrixMinoMatchSearchPattern&&(this.mMatrixMinoMatchSearchPattern.destroy(),this.mMatrixMinoMatchSearchPattern=null),this.mMatrixMinoMatchSearchPattern=e},n.getNumMatrixMinoPatternMatchesForPiece=function(){return this.mNumMatrixMinoPatternMatchesForPiece},n.getTotalMatrixMinoPatternMatches=function(){return this.mTotalMatrixMinoPatternMatches},n.getElapsedActiveGameTimeMSEC=function(){return this.mElapsedActiveGameTimeMSEC},n.getRemainingTimeMSEC=function(){return this.mRemainingTimeMSEC},n.addRemainingTimeMSEC=function(e){if(this.isGameActive()){var t=this.mRemainingTimeMSEC;this.setRemainingTimeMSEC(m.clampInt(this.mRemainingTimeMSEC+e,0,1e3*this.getParams().getIntValue(i.x2351449237404222659x))),this.x2055535691186125924x.setIntValue(i.x3664240333047066963x,e),this.dispatchMessage(i.x894642935438882348x,this,this.x2055535691186125924x),t<=0&&this.mRemainingTimeMSEC>0&&this.dispatchMessage(i.x745359542210094670x,this,null)}},n.getRemainingTimeSEC=function(){return~~((this.mRemainingTimeMSEC+999)/1e3)},n.isMatrixCycleActive=function(){switch(this.getNextState()){case i.x1718930399393454155x:case i.x4443936901865630973x:case i.x3534554534315993740x:return!0}switch(this.getCurrentState()){case i.x1718930399393454155x:case i.x4443936901865630973x:case i.x3534554534315993740x:return!0}return!1},n.setMatrixGravityTimeValues=function(){this.mMatrix.setGravityMSECPerLineMax(this.getCascadeScaledTimeMSEC(this.getParams().getIntValue(i.x3623485013197711396x))),this.mMatrix.setGravityMSECPerLineMin(this.getCascadeScaledTimeMSEC(this.getParams().getIntValue(i.x594838259687711045x))),this.mMatrix.setGravityMSECPerLineDeltaPerSEC(this.getCascadeScaledTimeMSEC(this.getParams().getIntValue(i.x479828299705172745x)))},n.getGenerationFacing=function(){return m.getFacingForName(this.getParams().getStringValue(i.x761314917399768006x))},n.createGhostPiece=function(){this.mGhostPiece&&null!==this.mGhostPiece&&(this.mGhostPiece.destroy(),this.mGhostPiece=null),this.mLivePiece&&(this.mGhostPiece=this.mLivePiece.createCopy(),this.mGhostPiece.setMinosLogicalState(u.x2263785423814173765x))},n.doTopoutMatrixClear=function(){for(var e=this.mMatrix.getVisibleHeight()-this.getParams().getIntValue(i.x3729676224657895680x),t=e=m.clampInt(e,0,this.mMatrix.getHeight());t<this.mMatrix.getHeight();t++)for(var a=0;a<this.mMatrix.getWidth();a++)this.mMatrix.killMino(this.mMatrix.getMinoAt(a,t),this.getParams().getIntValue(i.x2344760719212907242x),!1)},n.setNumCascadesForPieceCycle=function(e){this.mNumCascadesForPieceCycle=e,this.mCurrentCascadeScaleFXPT=m.x2045759414872908808x;var t=this.getParams().getIntValue(i.x4584934851256120701x);if(t!=m.x2045759414872908808x)for(var a=this.getParams().getIntValue(i.x2772216971655838393x);e>1&&this.mCurrentCascadeScaleFXPT>a;)this.mCurrentCascadeScaleFXPT=m.FXPTMultiply(this.mCurrentCascadeScaleFXPT,t),this.mCurrentCascadeScaleFXPT<a&&(this.mCurrentCascadeScaleFXPT=a),e--;this.setMatrixGravityTimeValues()},n.getCascadeScaledTimeMSEC=function(e){return this.mCurrentCascadeScaleFXPT==m.x2045759414872908808x?e:m.FXPTMultiply(e,this.mCurrentCascadeScaleFXPT)},n.isTimeLimitActive=function(){return this.getParams().getIntValue(i.x2351449237404222659x)>0},n.setRemainingTimeMSEC=function(e){if(this.mRemainingTimeMSEC!=e){this.mGameEndCondition==i.x3830140380322152320x&&this.mRemainingTimeMSEC>0&&(this.mGameEndCondition=0,this.mDidCompleteGameSuccessfully=!1);var t=~~((this.mRemainingTimeMSEC+999)/1e3),a=~~((e+999)/1e3);this.mRemainingTimeMSEC=e,a<t?this.dispatchMessage(i.x3365430949334814008x,this,null):a>t&&this.dispatchMessage(i.x789939039195586124x,this,null),0==this.mRemainingTimeMSEC&&this.dispatchMessage(i.x1423937423581516502x,this,null)}},n.isRemainingTimeExpired=function(){return!!this.isTimeLimitActive()&&this.mRemainingTimeMSEC<=0},n.x2766708504066152543x=function(){null!==this.x2055535691186125924x&&(this.x2055535691186125924x.destroy(),this.x2055535691186125924x=null),null!==this.mMatrix&&(this.mMatrix.destroy(),this.mMatrix=null),null!==this.mPieceFactory&&(this.mPieceFactory.destroy(),this.mPieceFactory=null),null!==this.mPieceSequenceGenerator&&(this.mPieceSequenceGenerator.destroy(),this.mPieceSequenceGenerator=null),null!==this.mPieceQueue&&(this.mPieceQueue.destroy(),this.mPieceQueue=null),null!==this.mIncomingPiece&&(this.mIncomingPiece.destroy(),this.mIncomingPiece=null),null!==this.mLivePiece&&(this.mLivePiece.destroy(),this.mLivePiece=null),null!==this.mGhostPiece&&(this.mGhostPiece.destroy(),this.mGhostPiece=null),null!==this.mHoldPiece&&(this.mHoldPiece.destroy(),this.mHoldPiece=null),null!==this.mMatrixMinoMatchPattern&&(this.mMatrixMinoMatchPattern.destroy(),this.mMatrixMinoMatchPattern=null),null!==this.mMatrixMinoMatchSearchPattern&&(this.mMatrixMinoMatchSearchPattern.destroy(),this.mMatrixMinoMatchSearchPattern=null),this.mMatrixMinoPatternMatches.destroyAll(),null!==this.mMatrixMinoPatternMatches&&(this.mMatrixMinoPatternMatches.destroy(),this.mMatrixMinoPatternMatches=null),null!==this.mMatrixMinoPatternMatchesPool&&(this.mMatrixMinoPatternMatchesPool.destroy(),this.mMatrixMinoPatternMatchesPool=null),e.prototype.x2766708504066152543x.call(this)},n.x4469416558114357602x=function(){var e=this.getMatrixWidth(),t=this.getMatrixHeight(),a=this.getMatrixVisibleHeight(),n=this.getParams().getIntValue(i.x937692048695963822x);this.constructMatrix(e,a,n);var r=new S,s=P.getSharedStandardPieceData(e,t,this.getParams().getIntValue(i.x4317906133384108411x));r.setPieceData(s),this.setPieceFactory(r);var c=new h;c.setPieceFactory(r),c.setRNGSeed(this.getParams().getIntValue(i.x3475186781912932236x)),c.setPieceIdRefillValuesWithPieceNamesList(this.getParams().getStringValue(i.x2908746798704082364x)),c.setRefillMultiplier(this.getParams().getIntValue(i.x2402089646323107023x)),this.setPieceSequenceGenerator(c);var o=new M(this.getGenerationFacing());o.setPieceSequenceGenerator(c),o.setCapacity(this.getParams().getIntValue(i.x728819676302842884x)),this.setPieceQueue(o)},n.x2021707447703295105x=function(e,t){switch(e){case k.x3301674176453018463x:return this.mControlComponent=new k(this,t),this.mControlComponent;case x.x2916177341484739471x:return new x(this,t);case f.x1109057396118299453x:return new f(this,t);case g.x2691552542941415216x:return new g(this,t);case T.x1191404771913136596x:return new T(this,t);case p.x2214276242903417212x:return new p(this,t);case C.x3786366945075547905x:return new C(this,t);case _.x2802427963640450520x:return new _(this,t);case I.x1554835820352522805x:return new I(this,t);case B.x3823834812270465190x:return new B(this,t);default:return null}},n.x3139096472792676868x=function(t,a,n,r){switch(e.prototype.x3139096472792676868x.call(this,t,a,n,r),t){case s.x3461483973768069303x:return a;case s.x353128994538654894x:switch(this.dispatchMessage(i.x919670044951203337x,this,null),a){case i.x1011447617138581434x:this.dispatchMessage(i.x2151033450644981339x,this,null),this.resetTotalElapsedTimeMSEC(),this.setNextState(i.x2530639482016834782x,!1);break;case i.x2530639482016834782x:this.mDidLivePieceExistForPieceCycle=!1,this.mDidHoldLivePiece=!1,this.mNumProcessStableMatrixForPiece=0,this.mNumMatrixMinoPatternMatchesForPiece=0,this.setNumCascadesForPieceCycle(0);break;case i.x1718930399393454155x:this.mMatrix.isStable()?this.setNextState(i.x4443936901865630973x,!1):this.setNextState(i.x3534554534315993740x,!1);break;case i.x4443936901865630973x:this.mDidLivePieceExistForPieceCycle&&this.mNumProcessStableMatrixForPiece++,this.mMatrixMinoPatternMatchesPool.recycleObjectsInArray(this.mMatrixMinoPatternMatches,!0);var c=this.mMatrix.findMinoPatternMatches(this.mMatrixMinoMatchPattern,this.mMatrixMinoMatchSearchPattern,this.mMatrixMinoPatternMatches,this.mMatrixMinoPatternMatchesPool),o=0,m=0,P=this.mNumCascadesForPieceCycle;c>0&&(this.setNumCascadesForPieceCycle(this.mNumCascadesForPieceCycle+1),this.mDidLivePieceExistForPieceCycle&&1==this.mNumProcessStableMatrixForPiece&&(this.mNumMatrixMinoPatternMatchesForPiece=c),this.mTotalMatrixMinoPatternMatches+=c,this.mDidLivePieceExistForPieceCycle&&1==this.mNumProcessStableMatrixForPiece&&this.getParams().getBoolValue(i.x1920401028616498743x)?(o=c,this.mMatrix.shatterMinoPatternMatches(this.mMatrixMinoPatternMatches,this.getParams().getIntValue(i.x307531715252745743x))):(m=c,this.mMatrix.killMinoPatternMatches(this.mMatrixMinoPatternMatches,this.getCascadeScaledTimeMSEC(this.getParams().getIntValue(i.x1217250536790954798x)),!0))),this.x2055535691186125924x.setIntValue(i.x3946491196760315955x,c),this.x2055535691186125924x.setIntValue(i.x951761552184473335x,o),this.x2055535691186125924x.setIntValue(i.x2301328769946693746x,m),this.x2055535691186125924x.setIntValue(i.x4578201182268288818x,P),this.x2055535691186125924x.setObjectValue(i.x1687319295715124996x,this.mMatrixMinoPatternMatches),this.x2055535691186125924x.setIntValue(i.x2841455039433684619x,this.mLockedPieceTypeId),this.x2055535691186125924x.setIntValue(i.x2872164780874391045x,this.mLockedPieceMinX),this.x2055535691186125924x.setIntValue(i.x3861681751457300460x,this.mLockedPieceMaxX),this.x2055535691186125924x.setIntValue(i.x1370329492842567322x,this.mLockedPieceMinY),this.x2055535691186125924x.setIntValue(i.x3564216990280833034x,this.mLockedPieceMaxY),this.dispatchMessage(i.x1604029509377330662x,this,this.x2055535691186125924x),this.x2055535691186125924x.clearObjectValues(),this.mMatrixMinoPatternMatchesPool.recycleObjectsInArray(this.mMatrixMinoPatternMatches,!0),this.mMatrix.isStable()?this.setNextState(i.x1226525904332658665x,!1):this.setNextState(i.x3534554534315993740x,!1);break;case i.x3534554534315993740x:this.mMatrix.isStable()?this.setNextState(i.x1226525904332658665x,!1):1==this.mNumProcessStableMatrixForPiece&&0==this.mNumCascadesForPieceCycle&&(this.mNumCascadesForPieceCycle=1);break;case i.x1226525904332658665x:this.mMatrix.isStable()?this.setNextState(i.x329079028891625300x,!1):this.setNextState(i.x3534554534315993740x,!1);break;case i.x329079028891625300x:0==this.mGameEndCondition?this.mIsGameBreakPending?(this.getGame().enterBreak(),this.mIsGameBreakPending=!1,this.setNextState(i.x2530639482016834782x,!0)):this.setNextState(i.x2530639482016834782x,!1):this.setNextState(i.x4415664680696011753x,!1);break;case i.x3961798951401593355x:switch(this.mGameEndCondition){case i.x1833828468078163270x:break;default:this.dispatchMessage(i.x3323755018575939356x,this,null)}}return 0;case s.x3589770202422279121x:this.mMatrix.processTime(r);var l=r;switch(a){case i.x2530639482016834782x:this.isRemainingTimeExpired()?this.setNextState(i.x1718930399393454155x,!1):this.mIsPieceGenerationEnabled&&this.mMatrix.isStable()&&this.setNextState(i.x3882455984204861445x,!1);break;case i.x3882455984204861445x:if(this.isRemainingTimeExpired())this.setNextState(i.x1718930399393454155x,!1);else{var d=0;if(n>=(d=this.mIncomingPiece?0:this.getParams().getIntValue(i.x2379337660823166827x))){var h=this.mIncomingPiece;if(h||(this.mPieceQueue.fillToCapacity(),this.mIncomingPiece=this.mPieceQueue.popFront(),this.mPieceQueue.fillToCapacity()),this.mIncomingPiece){for(var S=!1,M=~~((this.mMatrix.getWidth()-1)/2),y=this.mMatrix.getVisibleHeight()-1+this.getParams().getIntValue(i.x896356766801329562x),g=this.mMatrix.getVisibleHeight()-1+this.getParams().getIntValue(i.x961106055986899183x),k=y;!S&&k<=g;)this.mIncomingPiece.setTransform(M,k,this.getGenerationFacing()),S=this.mMatrix.canInsertPiece(this.mIncomingPiece),k++;S?(this.mLivePiece=this.mIncomingPiece,this.mIncomingPiece=null,this.mLivePiece.setMinosLogicalState(u.x4375944479620694405x),this.createGhostPiece(),this.mDidLivePieceExistForPieceCycle=!0,this.setNextState(i.x2336038995542297844x,!1)):(h||this.dispatchMessage(i.x4465735992535929486x,this,null),this.getParams().getBoolValue(i.x3523144231267827487x)?(this.mLivePiece=this.mIncomingPiece,this.mIncomingPiece=null,this.mLivePiece.setMinosLogicalState(u.x4375944479620694405x),this.lockLivePieceIntoMatrix(),this.tryEndGame(i.x1339170697143401255x,!1,!1,!1)):(this.doTopoutMatrixClear(),this.setNextState(i.x1718930399393454155x,!1)))}l=n-d}}break;case i.x2336038995542297844x:this.mLivePiece||(this.mDidHoldLivePiece?this.setNextState(i.x1226525904332658665x,!1):this.setNextState(i.x1718930399393454155x,!1));break;case i.x3534554534315993740x:this.mMatrix.isStable()&&this.setNextState(i.x4443936901865630973x,!1);break;case i.x1226525904332658665x:this.mMatrix.isStable()||this.setNextState(i.x3534554534315993740x,!1);break;case i.x4415664680696011753x:this.askComponentsIfPlayerCanExitState(a)&&this.setNextState(i.x3961798951401593355x,!1)}switch(a){case i.x1011447617138581434x:case i.x4415664680696011753x:case i.x3961798951401593355x:break;default:if(this.mElapsedActiveGameTimeMSEC+=l,this.mEnableEndGameOnTopoutDelaySEC>0&&this.mElapsedActiveGameTimeMSEC>=1e3*this.mEnableEndGameOnTopoutDelaySEC&&(this.getParams().setBoolValue(i.x3523144231267827487x,!0),this.mEnableEndGameOnTopoutDelaySEC=0),this.isTimeLimitActive()&&(this.mRemainingTimeMSEC>0&&this.setRemainingTimeMSEC(this.mRemainingTimeMSEC-l),this.isRemainingTimeExpired()))if(this.setRemainingTimeMSEC(0),this.getParams().getBoolValue(i.x461173718861051139x)&&this.mLivePiece)this.forceLivePieceHardDrop();else{var T=!1;switch(a){case i.x2530639482016834782x:case i.x3882455984204861445x:case i.x329079028891625300x:T=!0;break;default:switch(this.getNextState()){case i.x2530639482016834782x:case i.x3882455984204861445x:case i.x329079028891625300x:T=!0}}T&&this.tryEndGame(i.x3830140380322152320x,!0,!0,!0)}}return l;case s.x2931974030808705080x:return this.dispatchMessage(i.x2639895036082321026x,this,null),0;default:return 0}},n.x976210321608527258x=function(e,t,a){t==this.mMatrix&&this.dispatchMessage(e,t,a)},n.x3493555497877612430x=function(e){switch(e){case i.x1579415630049097311x:return this.mTotalMatrixMinoPatternMatches;case i.x195135797631162586x:return this.mElapsedActiveGameTimeMSEC;case i.x3811937687082655964x:return this.getRemainingTimeMSEC();case i.x3299751119265596573x:return this.getRemainingTimeSEC();default:return 0}},n.x2561498820134418400x=function(e){return this.x3493555497877612430x(m.getFirstValueKeyInPath(e))},a(i,null,[{key:"x542352310452432956x",get:function(){return 1419987112}},{key:"x1667761219520724281x",get:function(){return 19959700}},{key:"x764670688718018734x",get:function(){return 1306224711}},{key:"x937692048695963822x",get:function(){return 81182511}},{key:"x4317906133384108411x",get:function(){return 204308890}},{key:"x728819676302842884x",get:function(){return 940257486}},{key:"x4261031809210033402x",get:function(){return 1385826328}},{key:"x2908746798704082364x",get:function(){return 1430739843}},{key:"x2402089646323107023x",get:function(){return 1135737762}},{key:"x3475186781912932236x",get:function(){return 127572369}},{key:"x2379337660823166827x",get:function(){return 2044242970}},{key:"x1873770505682872868x",get:function(){return 571174876}},{key:"x896356766801329562x",get:function(){return 1365138589}},{key:"x961106055986899183x",get:function(){return 390159883}},{key:"x761314917399768006x",get:function(){return 1155997219}},{key:"x307531715252745743x",get:function(){return 1431206972}},{key:"x1217250536790954798x",get:function(){return 2139584221}},{key:"x3623485013197711396x",get:function(){return 899559795}},{key:"x594838259687711045x",get:function(){return 900084577}},{key:"x479828299705172745x",get:function(){return 636045435}},{key:"x2257973198947587384x",get:function(){return 1948735944}},{key:"x1920401028616498743x",get:function(){return 718737196}},{key:"x4584934851256120701x",get:function(){return 557418256}},{key:"x2772216971655838393x",get:function(){return 69263278}},{key:"x2351449237404222659x",get:function(){return 330699284}},{key:"x461173718861051139x",get:function(){return 1480444255}},{key:"x3523144231267827487x",get:function(){return 450226548}},{key:"x3783028151018935155x",get:function(){return 545108223}},{key:"x2344760719212907242x",get:function(){return 1645154643}},{key:"x3729676224657895680x",get:function(){return 1572814045}},{key:"x515292372428777811x",get:function(){return 1591710735}},{key:"x1532323915630833534x",get:function(){return 240090380}},{key:"x1011447617138581434x",get:function(){return 1081266892}},{key:"x2530639482016834782x",get:function(){return 755675072}},{key:"x3882455984204861445x",get:function(){return 956968254}},{key:"x2336038995542297844x",get:function(){return 517965580}},{key:"x1718930399393454155x",get:function(){return 728742429}},{key:"x4443936901865630973x",get:function(){return 1500597635}},{key:"x3534554534315993740x",get:function(){return 1422770632}},{key:"x1226525904332658665x",get:function(){return 1469121558}},{key:"x329079028891625300x",get:function(){return 1496054201}},{key:"x4415664680696011753x",get:function(){return 1972607178}},{key:"x3961798951401593355x",get:function(){return 1246134240}},{key:"x1579415630049097311x",get:function(){return 69950196}},{key:"x195135797631162586x",get:function(){return 906055060}},{key:"x3811937687082655964x",get:function(){return 1952536086}},{key:"x3299751119265596573x",get:function(){return 657678079}},{key:"x1990302596667154556x",get:function(){return 140561292}},{key:"x2278663471402292977x",get:function(){return 1812395830}},{key:"x2151033450644981339x",get:function(){return 355392424}},{key:"x919670044951203337x",get:function(){return 596437483}},{key:"x2639895036082321026x",get:function(){return 1901221787}},{key:"x53856349791362332x",get:function(){return 1483381253}},{key:"x4014762654755533553x",get:function(){return 686774499}},{key:"x3896609636430422011x",get:function(){return 1805486758}},{key:"x650015932578648431x",get:function(){return 602444418}},{key:"x2653901615701832743x",get:function(){return 502312522}},{key:"x2656793923152951166x",get:function(){return 1478734563}},{key:"x2835560522953721302x",get:function(){return 1363911283}},{key:"x1604029509377330662x",get:function(){return 1554166088}},{key:"x3946491196760315955x",get:function(){return 1317346330}},{key:"x951761552184473335x",get:function(){return 1518749246}},{key:"x2301328769946693746x",get:function(){return 1524530743}},{key:"x4578201182268288818x",get:function(){return 783092493}},{key:"x1687319295715124996x",get:function(){return 1954549490}},{key:"x2841455039433684619x",get:function(){return 1518292488}},{key:"x2872164780874391045x",get:function(){return 698078297}},{key:"x3861681751457300460x",get:function(){return 632642247}},{key:"x1370329492842567322x",get:function(){return 698078298}},{key:"x3564216990280833034x",get:function(){return 632642248}},{key:"x1423937423581516502x",get:function(){return 531453808}},{key:"x3365430949334814008x",get:function(){return 1769851484}},{key:"x789939039195586124x",get:function(){return 542680480}},{key:"x894642935438882348x",get:function(){return 383640398}},{key:"x3664240333047066963x",get:function(){return 1804438038}},{key:"x745359542210094670x",get:function(){return 816788846}},{key:"x4465735992535929486x",get:function(){return 1274824812}},{key:"x1014284175245811543x",get:function(){return 904397847}},{key:"x3323755018575939356x",get:function(){return 1612617121}},{key:"x1339170697143401255x",get:function(){return 633812624}},{key:"x3830140380322152320x",get:function(){return 1045315777}},{key:"x1833828468078163270x",get:function(){return 596455450}}]),i}(n));i._RF.pop()}}}));System.register("chunks:///_virtual/x2034250350103582503x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x2825914500079770252x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,i,a,s,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){a=t.x4472346643782045245x},function(t){s=t.x2825914500079770252x},function(t){r=t.x1390687146982484874x}],execute:function(){i._RF.push({},"d9520iYK8RDIoUEdo/WlGP/","x2034250350103582503x",void 0);t("x2034250350103582503x",function(t){function i(e,i){var a;return(a=t.call(this)||this).mDelegate=i,a.mCurrentState=e,a.mCurrentStateElapsedTimeMSEC=0,a.mDidProcessCurrentState=!1,a.mNextState=0,a.mYieldForNextState=!1,a.mPreviousState=0,a.mMaxTickMSEC=r.x2812288279383445977x,a.mAvailableDeltaTimeMSEC=0,a.mTotalElapsedTimeMSEC=0,a}e(i,t);var a=i.prototype;return a.setMaxTickMSEC=function(t){this.mMaxTickMSEC=t},a.getCurrentState=function(){return this.mCurrentState},a.getCurrentStateElapsedTimeMSEC=function(){return this.mCurrentStateElapsedTimeMSEC},a.setCurrentState=function(t,e){this.setNextState(t,!1),this.processTime(e)},a.getNextState=function(){return this.mNextState},a.setNextState=function(t,e){this.mNextState=t,this.mYieldForNextState=e},a.getPreviousState=function(){return this.mPreviousState},a.processTime=function(t){this.mAvailableDeltaTimeMSEC+=t;var e=0;e=this.mAvailableDeltaTimeMSEC>this.mMaxTickMSEC?this.mMaxTickMSEC:this.mAvailableDeltaTimeMSEC;var i=0;for(0!=this.mCurrentState&&0==this.mNextState?(i=r.minInt(this.x3139096472792676868x(s.x3589770202422279121x,this.mCurrentState,this.mCurrentStateElapsedTimeMSEC,e),e),this.mDidProcessCurrentState=!0):i=e,this.mCurrentStateElapsedTimeMSEC+=i,this.mTotalElapsedTimeMSEC+=i,this.mAvailableDeltaTimeMSEC-=i;0!=this.mNextState&&!this.mYieldForNextState;)this.mNextState=this.x3139096472792676868x(s.x3461483973768069303x,this.mNextState,this.mCurrentStateElapsedTimeMSEC,0),0!=this.mNextState&&(0!=this.mCurrentState&&(this.mDidProcessCurrentState||(this.x3139096472792676868x(s.x3589770202422279121x,this.mCurrentState,0,0),this.mDidProcessCurrentState=!0),this.x3139096472792676868x(s.x2931974030808705080x,this.mCurrentState,this.mCurrentStateElapsedTimeMSEC,0)),this.mPreviousState=this.mCurrentState,this.mCurrentState=this.mNextState,this.mCurrentStateElapsedTimeMSEC=0,this.mDidProcessCurrentState=!1,this.mNextState=0,this.x3139096472792676868x(s.x353128994538654894x,this.mCurrentState,0,0));this.mYieldForNextState=!1},a.getTotalElapsedTimeMSEC=function(){return this.mTotalElapsedTimeMSEC},a.resetTotalElapsedTimeMSEC=function(){this.mTotalElapsedTimeMSEC=0},a.x3139096472792676868x=function(t,e,i,a){if(this.mDelegate)return this.mDelegate.x3651818526805939130x(t,e,i,a);switch(t){case s.x3461483973768069303x:return e;case s.x3589770202422279121x:return a;default:return 0}},a.x2766708504066152543x=function(){this.mDelegate=null,t.prototype.x2766708504066152543x.call(this)},i}(a));i._RF.pop()}}}));System.register("chunks:///_virtual/x109322611791924071x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x2825914500079770252x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,i,a,n,s,S;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){a=t.cclegacy},function(t){n=t.x4472346643782045245x},function(t){s=t.x2825914500079770252x},function(t){S=t.x1390687146982484874x}],execute:function(){a._RF.push({},"b7f4fOm0CBBuJO6lJwxQU1q","x109322611791924071x",void 0);t("x109322611791924071x",function(t){function a(e){var i;return(i=t.call(this)||this).mStatesStack=new Array,i.mDelegate=e,i.mCurrentStateElapsedTimeMSEC=0,i.mPendingAction=a.x2611143178044269184x,i.mPendingNumPops=0,i.mPendingState=-1,i.mPreviousState=0,i.mMaxTickMSEC=S.x2812288279383445977x,i.mAvailableDeltaTimeMSEC=0,i.mTotalElapsedTimeMSEC=0,i}e(a,t);var n=a.prototype;return n.setMaxTickMSEC=function(t){this.mMaxTickMSEC=t},n.getCurrentState=function(){return this.mStatesStack.length>0?this.mStatesStack[this.mStatesStack.length-1]:-1},n.getCurrentStateElapsedTimeMSEC=function(){return this.mCurrentStateElapsedTimeMSEC},n.getPreviousState=function(){return this.mPreviousState},n.getNumPopsToState=function(t){for(var e=this.mStatesStack.length,i=0;i<e;i++)if(this.mStatesStack[e-1-i]==t)return i;return-1},n.getNumStatesOnStack=function(){return this.mStatesStack.length},n.getStateOnStackFromTop=function(t){var e=this.mStatesStack.length;return t<e?this.mStatesStack[e-1-t]:-1},n.setState=function(t){this.mPendingAction=a.x3787227408189734919x,this.mPendingState=t},n.incrementState=function(){this.setState(this.getCurrentState()+1)},n.swapState=function(t){this.mPendingAction=a.x2061364532706115027x,this.mPendingState=t},n.pushState=function(t){this.mPendingAction=a.x657278103190545980x,this.mPendingState=t},n.popState=function(){this.popStates(1)},n.popStates=function(t){this.mPendingAction=a.x243085226613563751x,this.mPendingNumPops=t,this.mPendingState=-1},n.popToStateThenSwapState=function(t,e){this.mPendingAction=a.x4426050846362992539x,this.mPendingNumPops=this.getNumPopsToState(t),this.mPendingState=e},n.setStateImmediate=function(t){this.setState(t),this.processTime(0)},n.processTime=function(t){this.mAvailableDeltaTimeMSEC+=t;var e=0;if(this.mAvailableDeltaTimeMSEC>0){e=this.mAvailableDeltaTimeMSEC>this.mMaxTickMSEC?this.mMaxTickMSEC:this.mAvailableDeltaTimeMSEC;var i=0,n=this.getCurrentState();i=n>=0&&this.mPendingAction==a.x2611143178044269184x?S.minInt(this.x2757855364281795959x(s.x3589770202422279121x,n,this.mCurrentStateElapsedTimeMSEC,e),e):e,this.mCurrentStateElapsedTimeMSEC+=i,this.mTotalElapsedTimeMSEC+=i,this.mAvailableDeltaTimeMSEC-=i}this.processPendingAction()},n.getTotalElapsedTimeMSEC=function(){return this.mTotalElapsedTimeMSEC},n.resetTotalElapsedTimeMSEC=function(){this.mTotalElapsedTimeMSEC=0},n.processPendingAction=function(){var t=this.mPendingAction;switch(this.mPendingAction=0,t){case a.x2611143178044269184x:break;case a.x3787227408189734919x:this.processSetState();break;case a.x657278103190545980x:this.processPushState();break;case a.x243085226613563751x:this.processPopStates();break;case a.x2061364532706115027x:this.processSwapState();break;case a.x4426050846362992539x:this.processPopToStateThenSwapState()}},n.processSetState=function(){var t=this.getCurrentState(),e=this.mPendingState;for(this.mPendingState=-1,this.mPreviousState=t;this.mStatesStack.length>0;)t=this.getCurrentState(),this.x2757855364281795959x(s.x2931974030808705080x,t,0,0),this.mStatesStack.pop(),this.mCurrentStateElapsedTimeMSEC=0,t=this.getCurrentState(),this.x2757855364281795959x(s.x519131768066458130x,t,0,0);this.mCurrentStateElapsedTimeMSEC=0,this.mStatesStack.push(e),this.x2757855364281795959x(s.x353128994538654894x,e,0,0)},n.processPushState=function(){var t=this.getCurrentState(),e=this.mPendingState;this.mPendingState=-1,this.mPreviousState=t,this.x2757855364281795959x(s.x4317431294016718164x,t,this.mCurrentStateElapsedTimeMSEC,0),this.mCurrentStateElapsedTimeMSEC=0,this.mStatesStack.push(e),this.x2757855364281795959x(s.x353128994538654894x,e,0,0)},n.processPopStates=function(){for(;this.mPendingNumPops>0;){this.mPendingNumPops--;var t=this.getCurrentState();this.mPendingState=-1,this.mPreviousState=t,this.x2757855364281795959x(s.x2931974030808705080x,t,0,0),this.mStatesStack.pop(),this.mCurrentStateElapsedTimeMSEC=0,t=this.getCurrentState(),this.x2757855364281795959x(s.x519131768066458130x,t,0,0)}},n.processSwapState=function(){var t=this.getCurrentState(),e=this.mPendingState;this.mPendingState=-1,this.mPreviousState=t,this.x2757855364281795959x(s.x2931974030808705080x,t,0,0),this.mStatesStack.pop(),this.mCurrentStateElapsedTimeMSEC=0,this.mStatesStack.push(e),this.x2757855364281795959x(s.x353128994538654894x,e,0,0)},n.processPopToStateThenSwapState=function(){var t=this.mPendingState;this.processPopStates(),this.mPendingState=t,this.processSwapState()},n.x2757855364281795959x=function(t,e,i,a){if(this.mDelegate)return this.mDelegate.x3651818526805939130x(t,e,i,a);switch(t){case s.x3461483973768069303x:return e;case s.x3589770202422279121x:return a;default:return 0}},n.x2766708504066152543x=function(){this.mDelegate=null,t.prototype.x2766708504066152543x.call(this)},i(a,null,[{key:"x2611143178044269184x",get:function(){return 0}},{key:"x3787227408189734919x",get:function(){return 1413482088}},{key:"kStateMachineAction_incrementState",get:function(){return 241279707}},{key:"x2061364532706115027x",get:function(){return 8159269}},{key:"x657278103190545980x",get:function(){return 514694590}},{key:"x243085226613563751x",get:function(){return 1323405690}},{key:"x4426050846362992539x",get:function(){return 1484889539}}]),a}(n));a._RF.pop()}}}));System.register("chunks:///_virtual/x4475962098517098535x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x4389812616328554538x.ts"],(function(t){"use strict";var i,n,r,e,s;return{setters:[function(t){i=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){e=t.x2825914500079770252x},function(t){s=t.x4389812616328554538x}],execute:function(){r._RF.push({},"ffc8bgF/w1OiJz1AGNlfu9p","x4475962098517098535x",void 0);t("x4475962098517098535x",function(t){function r(i,n){var r;return(r=t.call(this)||this).mStrings=new Array,r.mNumStrings=0,r.mDefaultString=n,r.mIsAutoCreateEnabled=!1,r.mMinValue=0,r.mMaxValue=0,r.mDelta=1,r.mPrefix="",r.mSuffix="",r.mMinNumDigits=1,r.mInsertCommas=!0,r}i(r,t),r.doStaticInit=function(){r.sStringBuilder||(r.sStringBuilder=new s(r.x2013477962951852673x))},r.doStaticDestroy=function(){null!==r.sStringBuilder&&(r.sStringBuilder.destroy(),r.sStringBuilder=null)};var e=r.prototype;return e.ensureMaxIndex=function(t){if(t>this.getMaxIndex()){for(var i=this.mNumStrings;i<=t;i++)this.mStrings.push("");this.mNumStrings=this.mStrings.length}},e.getMaxIndex=function(){return this.mNumStrings-1},e.getStringAtIndex=function(t){if(t>=0){if(t<this.mNumStrings)return this.mStrings[t];if(this.mIsAutoCreateEnabled)return this.addStrings(this.mPrefix,this.mSuffix,this.mMinNumDigits,this.mInsertCommas,t),this.mStrings[t]}return this.mDefaultString},e.getIntStringForValue=function(t){return this.getStringAtIndex((t-this.mMinValue)/this.mDelta)},e.setStringAtIndex=function(t,i){this.ensureMaxIndex(t),this.mStrings[t]=i},e.addStrings=function(t,i,n,e,s){var u=this.mNumStrings;this.ensureMaxIndex(s),this.mPrefix=t,this.mSuffix=i,this.mMinNumDigits=n,this.mInsertCommas=e;for(var g=u;g<s;g++)r.sStringBuilder.setString(""),r.sStringBuilder.appendString(t),r.sStringBuilder.appendInt(g,n,e),r.sStringBuilder.appendString(i),this.setStringAtIndex(g,r.sStringBuilder.getString())},e.addIntStrings=function(t,i,n,e,s,u,g){var S=this.mNumStrings,a=S+(i-t)/n;this.ensureMaxIndex(a),this.mMinValue=t,this.mMaxValue=i,this.mDelta=n,this.mPrefix=e,this.mSuffix=s,this.mMinNumDigits=u,this.mInsertCommas=g;for(var m=t,l=S;l<=a;l++)r.sStringBuilder.setString(""),r.sStringBuilder.appendString(e),r.sStringBuilder.appendInt(m,u,g),r.sStringBuilder.appendString(s),this.setStringAtIndex(l,r.sStringBuilder.getString()),m+=n},e.setIsAutoCreateEnabled=function(t){this.mIsAutoCreateEnabled=t},e.x2766708504066152543x=function(){null!==this.mStrings&&(this.mStrings=null),t.prototype.x2766708504066152543x.call(this)},n(r,null,[{key:"x2013477962951852673x",get:function(){return 1e4}}]),r}(e)).sStringBuilder=null,r._RF.pop()}}}));System.register("chunks:///_virtual/x4389812616328554538x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts"],(function(t){"use strict";var i,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.x2825914500079770252x}],execute:function(){e._RF.push({},"611d0mQJupF1rKbErxqhWio","x4389812616328554538x",void 0);t("x4389812616328554538x",function(t){function e(i){var e;return(e=t.call(this)||this).mNativeStringBuilder="",e}i(e,t);var n=e.prototype;return n.ensureCapacity=function(t){},n.getLength=function(){return this.mNativeStringBuilder.length},n.getString=function(){return this.mNativeStringBuilder},n.setString=function(t){this.mNativeStringBuilder=t},n.appendString=function(t){t&&""!=t&&(this.mNativeStringBuilder+=t)},n.appendCharCode=function(t){this.mNativeStringBuilder+=String.fromCharCode(t)},n.appendInt=function(t,i,e){i<1&&(i=1);var n=t<0;n&&(t*=-1);for(var r=this.getLength(),s=0;0!=t||s<i;){if(e&&s>0&&s%3==0&&this.insertString(",",r),0!=t){switch(t%10){case 0:this.insertString("0",r);break;case 1:this.insertString("1",r);break;case 2:this.insertString("2",r);break;case 3:this.insertString("3",r);break;case 4:this.insertString("4",r);break;case 5:this.insertString("5",r);break;case 6:this.insertString("6",r);break;case 7:this.insertString("7",r);break;case 8:this.insertString("8",r);break;case 9:this.insertString("9",r)}t=~~(t/10)}else s<i&&this.insertString("0",r);s++}n&&this.insertString("-",r)},n.appendFloat=function(t){var i=this.getLength();this.appendString(t.toString()),(0==this.getLength()||this.lastIndexOfCharCode(".".charCodeAt(),i)<0)&&this.appendString(".0")},n.appendBoolean=function(t){this.appendString(t?"true":"false")},n.prependString=function(t){this.mNativeStringBuilder=t+this.mNativeStringBuilder},n.insertString=function(t,i){this.mNativeStringBuilder=this.mNativeStringBuilder.substring(0,i)+t+this.mNativeStringBuilder.substring(i)},n.getCharCodeAtIndex=function(t){return this.mNativeStringBuilder.charCodeAt(t)},n.lastIndexOfCharCode=function(t,i){for(var e=-1,n=this.getLength(),r=i;r<n;r++)this.getCharCodeAtIndex(r)==t&&(e=r);return e},n.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},e}(n));e._RF.pop()}}}));System.register("chunks:///_virtual/x2905577634480353717x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1654909725214686057x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,o,n,l;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.x1654909725214686057x},function(t){l=t.x1390687146982484874x}],execute:function(){o._RF.push({},"e7d4fwaxNBLbaRbNKE7pXDn","x2905577634480353717x",void 0),t("x2905577634480353717x",function(t){function o(){var e;return(e=t.call(this,n.x4440003044286975511x)||this).mValue="",e}e(o,t),o.getAvailableInstance=function(){o.sPool||(o.sPool=new Array);var t=null;return o.sPool.length>0?(t=o.sPool[o.sPool.length-1],o.sPool.pop()):t=new o,t},o.recycleAvailableInstance=function(t){o.sPool||(o.sPool=new Array),t.recycle(),o.sPool.push(t)},o.destroyPool=function(){if(o.sPool){for(var t=o.sPool.length,e=0;e<t;e++){var n=o.sPool[e];null!==n&&(n.destroy(),n=null)}null!==o.sPool&&(o.sPool=null)}};var u=o.prototype;return u.getValue=function(){return this.mValue},u.setValue=function(t){this.mValue=t},u.x2904717359915390404x=function(){return t.prototype.x2904717359915390404x.call(this),this.mValue="",!0},u.x2766708504066152543x=function(){this.mValue="",t.prototype.x2766708504066152543x.call(this)},u.setValueWithInt=function(t){this.mValue=l.stringFromInt(t,1,!1)},u.setValueWithFloat=function(t){this.mValue=l.stringFromFloat(t)},u.setValueWithBool=function(t){this.mValue=l.stringFromBoolean(t)},u.setValueWithString=function(t){this.mValue=t},u.toInt=function(){return l.stringToInt(this.mValue)},u.toFloat=function(){return l.stringToFloat(this.mValue)},u.toBool=function(){return l.stringToBoolean(this.mValue)},u.toString=function(){return this.mValue},o}(n)).sPool=null,o._RF.pop()}}}));System.register("chunks:///_virtual/x2799104515848125009x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x275027197533560474x.ts","./x2362680020733037980x.ts","./x1390687146982484874x.ts","./x832182382730187518x.ts"],(function(e){"use strict";var t,r,o,s,n,u;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){o=e.x275027197533560474x},function(e){s=e.x2362680020733037980x},function(e){n=e.x1390687146982484874x},function(e){u=e.x832182382730187518x}],execute:function(){r._RF.push({},"5f1b2fe2pdLT4VtCVPRv1hE","x2799104515848125009x",void 0);e("x2799104515848125009x",function(e){function r(t,r,o,s,n){var u;return(u=e.call(this,t,r,o,s)||this).mFilePath=n,u.mText="",u}t(r,e),r.x3096436427819994940x=function(e){return n.stringToHash32("1385765729-"+e)};var o=r.prototype;return o.getText=function(e){return""==e||n.stringStartsWith(this.mText,e)?this.mText:n.x4379805376353750514x(this.mText)},o.x2766708504066152543x=function(){this.mText="",e.prototype.x2766708504066152543x.call(this)},o.x4178238697573865838x=function(){},o.x1161725769148004327x=function(){var e=this.getResourceMgr().expandFilePath(this.mFilePath);if(!s.isFilePathRemote(e))return e=s.prepareLocalResourceFilePath(e),u.x1412212870364691859x;e=s.prepareRemoteResourceFilePath(e);var t=new XMLHttpRequest,r=this;t.onload=function(){""!=t.responseText?(r.mText=t.responseText,r.setNextState(u.x124968005714418926x,!1)):r.setNextState(u.x1412212870364691859x,!1)},t.onerror=function(){r.setNextState(u.x1412212870364691859x,!1)},t.onabort=function(){r.setNextState(u.x1412212870364691859x,!1)},t.open("GET",e),t.responseType="text",t.send()},o.x3627957228776672854x=function(){return u.x1733733731846033593x},r}(o));r._RF.pop()}}}));System.register("chunks:///_virtual/x2937622475674817462x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts"],(function(t){"use strict";var e,s,i,a;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass},function(t){i=t.cclegacy},function(t){a=t.x4472346643782045245x}],execute:function(){i._RF.push({},"5039cV+UX5OP5YtLsxwpR4s","x2937622475674817462x",void 0);t("x2937622475674817462x",function(t){function i(){var e;return(e=t.call(this)||this).mDurationMSEC=0,e.mMessageTarget=null,e.mMessageId=0,e.mState=i.x2119981538572923833x,e.mElapsedTimeMSEC=0,e}e(i,t);var a=i.prototype;return a.start=function(t,e,s){this.mDurationMSEC=t,this.mMessageTarget=e,this.mMessageId=s,this.mState=i.x2119981538572923833x,this.mElapsedTimeMSEC=0},a.getMessageId=function(){return this.mMessageId},a.reset=function(){this.mElapsedTimeMSEC=0},a.cancel=function(){this.mDurationMSEC=0,this.mMessageTarget=null,this.mMessageId=0,this.mState=i.x3864922499669786656x,this.mElapsedTimeMSEC=0},a.isActive=function(){return this.mState==i.x2119981538572923833x},a.processTimeMSEC=function(t){this.isActive()&&(this.mElapsedTimeMSEC+=t,this.mElapsedTimeMSEC>=this.mDurationMSEC&&(this.mState=i.x602295498474651823x,this.mElapsedTimeMSEC=this.mDurationMSEC,this.mMessageTarget&&this.mMessageTarget.x976210321608527258x(this.mMessageId,null,null)))},a.x2904717359915390404x=function(){return t.prototype.x2904717359915390404x.call(this),this.mDurationMSEC=0,this.mMessageTarget=null,this.mMessageId=0,this.mState=i.x2119981538572923833x,this.mElapsedTimeMSEC=0,!0},a.x2766708504066152543x=function(){this.mDurationMSEC=0,this.mMessageTarget=null,this.mMessageId=0,this.mState=i.x2119981538572923833x,this.mElapsedTimeMSEC=0,t.prototype.x2766708504066152543x.call(this)},s(i,null,[{key:"x2119981538572923833x",get:function(){return 1}},{key:"x602295498474651823x",get:function(){return 2}},{key:"x3864922499669786656x",get:function(){return 2}}]),i}(a));i._RF.pop()}}}));System.register("chunks:///_virtual/x1518338894798977330x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x2938621194761123466x.ts","./x3816109174930716273x.ts","./x2937622475674817462x.ts"],(function(e){"use strict";var t,i,s,r,c,m;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){s=e.x4472346643782045245x},function(e){r=e.x2938621194761123466x},function(e){c=e.x3816109174930716273x},function(e){m=e.x2937622475674817462x}],execute:function(){i._RF.push({},"931b6sZB2hJ5q5Kc5b16Sgc","x1518338894798977330x",void 0);e("x1518338894798977330x",function(e){function i(){var t;return(t=e.call(this)||this).mTimersPool=new c,t.mActiveTimers=new r(0),t}t(i,e);var s=i.prototype;return s.startTimer=function(e,t,i){if(!(e<0)){var s=this.getAvailableTimer();s.start(e,t,i),this.mActiveTimers.pushBack(s)}},s.resetTimer=function(e){for(var t=this.mActiveTimers.getNumObjects(),i=0;i<t;i++){var s=this.mActiveTimers.getAtIndex(i);s.getMessageId()==e&&s.reset()}},s.cancelTimer=function(e){for(var t=this.mActiveTimers.getNumObjects(),i=0;i<t;i++){var s=this.mActiveTimers.getAtIndex(i);s.getMessageId()==e&&(s.cancel(),this.mTimersPool.recycleObject(s),this.mActiveTimers.removeAtIndex(i),i--,t--)}},s.cancelAllTimers=function(){for(;this.mActiveTimers.getNumObjects()>0;){var e=this.mActiveTimers.peekBack();e.cancel(),this.mTimersPool.recycleObject(e),this.mActiveTimers.popBack()}},s.processTimeMSEC=function(e){for(var t=this.mActiveTimers.getNumObjects(),i=0;i<t;i++){var s=this.mActiveTimers.getAtIndex(i);s.isActive()&&s.processTimeMSEC(e),s.isActive()||(this.mTimersPool.recycleObject(s),this.mActiveTimers.removeAtIndex(i),i--,t--)}},s.getAvailableTimer=function(){var e=this.mTimersPool.getAvailableObject();return e||(e=new m),e},s.x2766708504066152543x=function(){this.cancelAllTimers(),null!==this.mTimersPool&&(this.mTimersPool.destroy(),this.mTimersPool=null),null!==this.mActiveTimers&&(this.mActiveTimers.destroy(),this.mActiveTimers=null),e.prototype.x2766708504066152543x.call(this)},i}(s));i._RF.pop()}}}));System.register("chunks:///_virtual/x357457879647821544x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3995270518114367194x.ts","./x1829961367305584157x.ts","./x3363722297214968445x.ts","./x2825914500079770252x.ts","./x1390687146982484874x.ts"],(function(e){"use strict";var t,n,a,r,i,s,u,o,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,a=e.assertThisInitialized},function(e){r=e.cclegacy},function(e){i=e.x3995270518114367194x},function(e){s=e.x1829961367305584157x},function(e){u=e.x3363722297214968445x},function(e){o=e.x2825914500079770252x},function(e){c=e.x1390687146982484874x}],execute:function(){r._RF.push({},"e23cbLLXuRNNKZ0DS67Fg/q","x357457879647821544x",void 0);e("x357457879647821544x",function(e){function r(t,n){var i;return(i=e.call(this,r.x2214276242903417212x,t)||this).getParams().setIntValue(r.x3790314719480998961x,1),i.getParams().setBoolValue(r.x3060546300380878873x,!0),i.getParams().setIntValue(r.x1610315942135925499x,5e3),i.getParams().setIntValue(r.x1359870749053677979x,15e3),i.getParams().setIntValue(r.x1696103722037997533x,3),i.getParams().setIntValue(r.x3063678484636957840x,200),i.getParams().copy(n,!1),t.addMessageListener(a(i)),i.getGame().addMessageListener(a(i)),i.mBattleComponent=null,i.mRemainingPiecesForTurn=0,i.mRemainingTimeForTurnMSEC=0,i.mTargetTimeForAttackMSEC=i.getParams().getIntValue(r.x1359870749053677979x),i.setNextState(r.x319010852882236936x,!1),i}t(r,e);var i=r.prototype;return i.getNumPiecesPerTurn=function(){return this.getParams().getIntValue(r.x3790314719480998961x)},i.isTurnInactive=function(){return this.getCurrentState()==r.x1599019719464008576x},i.getRemainingPiecesForTurn=function(){return this.mRemainingPiecesForTurn},i.getTimerAttackMeterFilled01_FXPT=function(){return c.FXPTDivide(c.FXPTFromInt(this.mRemainingTimeForTurnMSEC),c.FXPTFromInt(this.mTargetTimeForAttackMSEC))},i.startTurn=function(){this.mRemainingPiecesForTurn=this.getNumPiecesPerTurn();var e=this.getParams().getIntValue(r.x1610315942135925499x);this.mRemainingTimeForTurnMSEC+=e,this.mRemainingTimeForTurnMSEC>=this.mTargetTimeForAttackMSEC&&(this.sendAttack(),this.mRemainingTimeForTurnMSEC=e);var t=this.getPlayer().getPieceQueue();t.setIsFillingEnabled(!0),t.fillToNumPieces(this.mRemainingPiecesForTurn),t.setIsFillingEnabled(this.getParams().getBoolValue(r.x3060546300380878873x)),this.getPlayer().setIsPieceGenerationEnabled(!0),this.setNextState(r.x4152782136299432271x,!1)},i.endTurn=function(){this.mRemainingPiecesForTurn=0,this.getPlayer().setIsPieceGenerationEnabled(!1),this.setNextState(r.x1224934236901619673x,!1)},i.processRemainingPieces=function(){this.mRemainingPiecesForTurn<=0&&this.endTurn()},i.processNextQueue=function(){var e=this.getPlayer().getPieceQueue(),t=e.getNumPieces()+(this.getPlayer().getIncomingPiece()?1:0);t<this.mRemainingPiecesForTurn&&(e.setIsFillingEnabled(!0),e.fillWithNumPieces(this.mRemainingPiecesForTurn-t),e.setIsFillingEnabled(this.getParams().getBoolValue(r.x3060546300380878873x)))},i.sendAttack=function(){this.mBattleComponent.sendAttacksToTargetPlayer(this.getParams().getIntValue(r.x1696103722037997533x))},i.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},i.x3139096472792676868x=function(e,t,n,a){switch(t){case r.x4152782136299432271x:switch(e){case o.x3461483973768069303x:return t;case o.x353128994538654894x:return 0;case o.x3589770202422279121x:return this.mRemainingTimeForTurnMSEC-=a,this.mRemainingTimeForTurnMSEC<=0&&(this.mRemainingTimeForTurnMSEC=0,this.getPlayer().getLivePiece()?this.getPlayer().forceLivePieceHardDrop():this.endTurn()),a;case o.x2931974030808705080x:default:return 0}case r.x1224934236901619673x:switch(e){case o.x3461483973768069303x:return t;case o.x353128994538654894x:return 0;case o.x3589770202422279121x:return this.getCurrentStateElapsedTimeMSEC()>=this.getParams().getIntValue(r.x3063678484636957840x)&&this.setNextState(r.x1599019719464008576x,!1),a;case o.x2931974030808705080x:default:return 0}case r.x1599019719464008576x:switch(e){case o.x3461483973768069303x:return t;case o.x353128994538654894x:if(this.mBattleComponent){var i=this.mBattleComponent.getTargetPlayer().getComponent(r.x2214276242903417212x);i&&i.startTurn()}return 0;case o.x3589770202422279121x:return a;case o.x2931974030808705080x:default:return 0}case r.x319010852882236936x:default:switch(e){case o.x3461483973768069303x:return t;case o.x353128994538654894x:return 0;case o.x3589770202422279121x:return a;case o.x2931974030808705080x:default:return 0}}},i.x976210321608527258x=function(e,t,n){if(t==this.getPlayer())switch(e){case u.x919670044951203337x:switch(this.getPlayer().getCurrentState()){case u.x1226525904332658665x:this.processRemainingPieces()}break;case u.x2639895036082321026x:switch(this.getPlayer().getCurrentState()){case u.x2336038995542297844x:this.processNextQueue()}break;case u.x2835560522953721302x:this.mRemainingPiecesForTurn-=1;break;case u.x2278663471402292977x:this.mBattleComponent=this.getPlayer().getComponent(s.x1191404771913136596x),this.mBattleComponent&&this.mBattleComponent.addMessageListener(this),0==this.getPlayer().getPlayerIndex()?this.startTurn():this.getPlayer().setIsPieceGenerationEnabled(!1)}},n(r,null,[{key:"x2214276242903417212x",get:function(){return 1680402566}},{key:"x3790314719480998961x",get:function(){return 2043618464}},{key:"x3060546300380878873x",get:function(){return 18841461}},{key:"x1610315942135925499x",get:function(){return 652424992}},{key:"x1359870749053677979x",get:function(){return 287375366}},{key:"x1696103722037997533x",get:function(){return 918223131}},{key:"x3063678484636957840x",get:function(){return 823190553}},{key:"x319010852882236936x",get:function(){return 1}},{key:"x4152782136299432271x",get:function(){return 2}},{key:"x1224934236901619673x",get:function(){return 3}},{key:"x1599019719464008576x",get:function(){return 4}}]),r}(i));r._RF.pop()}}}));System.register("chunks:///_virtual/x1390687146982484874x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4475962098517098535x.ts","./x4389812616328554538x.ts"],(function(r){"use strict";var n,e,t,i;return{setters:[function(r){n=r.createClass},function(r){e=r.cclegacy},function(r){t=r.x4475962098517098535x},function(r){i=r.x4389812616328554538x}],execute:function(){e._RF.push({},"f1eaab8/YpJh5gJpKz5C6wa","x1390687146982484874x",void 0);var a=r("x1390687146982484874x",function(){function r(){}return r.g1420982514=function(){return r.k1420982514},r.g67847186=function(){return r.k67847186},r.doStaticInit=function(){if(!r.sDidStaticInit){r.sDidStaticInit=!0,r.sDebugCounters_names=new Array,r.sDebugCounters_counts=new Array,t.doStaticInit(),r.sStringBuilder=new i(r.x2013477962951852673x);var n=0,e=0;for(e=999,r.sIntStringArray=new t(e,""),r.sIntStringArray.ensureMaxIndex(e),n=0;n<=e;n++)r.sIntStringArray.setStringAtIndex(n,r.stringFromInt(n,1,!1));for(r.sEnableIntStringArray=!0,e=100,r.sTabStringArray=new t(e,""),r.sTabStringArray.ensureMaxIndex(e),n=0;n<e;n++)r.sTabStringArray.setStringAtIndex(n,r.stringWithTabs(n));for(r.sEnableTabStringArray=!0,e=600,r.sTimeStringArray=new t(e,""),r.sTimeStringArray.ensureMaxIndex(e),n=0;n<e;n++)r.sTimeStringArray.setStringAtIndex(n,r.timeStringFromMSEC(1e3*n,1,0));r.sEnableTimeStringArray=!0}},r.doStaticDestroy=function(n){r.sDidStaticInit&&(t.doStaticDestroy(),null!==r.sIntStringArray&&(r.sIntStringArray.destroy(),r.sIntStringArray=null),r.sEnableIntStringArray=!1,null!==r.sTabStringArray&&(r.sTabStringArray.destroy(),r.sTabStringArray=null),r.sEnableTabStringArray=!1,null!==r.sTimeStringArray&&(r.sTimeStringArray.destroy(),r.sTimeStringArray=null),r.sEnableTimeStringArray=!1,n&&r.debug_printAllCounters(),null!==r.sStringBuilder&&(r.sStringBuilder.destroy(),r.sStringBuilder=null),null!==r.sDebugCounters_names&&(r.sDebugCounters_names=null),null!==r.sDebugCounters_counts&&(r.sDebugCounters_counts=null),r.sDidStaticInit=!1)},r.getStandardPieceTypeId=function(n){return"I"==n?r.x2640432151801765044x:"J"==n?r.x3371115734898663512x:"L"==n?r.x1211649191952402875x:"O"==n?r.x4298602585230304219x:"S"==n?r.x1153257188054369495x:"T"==n?r.x2563343360109526899x:"Z"==n?r.x2162197462838643576x:"I3"==n?r.x2282177522225822300x:"J3"==n?r.x351576513181277538x:"L3"==n?r.x3294734154738425530x:"I2"==n?r.x3348926169621623293x:"I1"==n?r.x1327550898746693554x:0},r.getStandardPieceTypeName=function(n){switch(n){case r.x2640432151801765044x:return"I";case r.x3371115734898663512x:return"J";case r.x1211649191952402875x:return"L";case r.x4298602585230304219x:return"O";case r.x1153257188054369495x:return"S";case r.x2563343360109526899x:return"T";case r.x2162197462838643576x:return"Z";case r.x2282177522225822300x:return"I3";case r.x351576513181277538x:return"J3";case r.x3294734154738425530x:return"L3";case r.x3348926169621623293x:return"I2";case r.x1327550898746693554x:return"I1";default:return"UNKNOWN"}},r.getStandardPieceHue01=function(n){switch(n){case r.x2640432151801765044x:case r.x2282177522225822300x:case r.x3348926169621623293x:case r.x1327550898746693554x:return.514;case r.x3371115734898663512x:case r.x351576513181277538x:return.597;case r.x1211649191952402875x:case r.x3294734154738425530x:return.083;case r.x4298602585230304219x:return.153;case r.x1153257188054369495x:return.333;case r.x2563343360109526899x:return.805;case r.x2162197462838643576x:default:return 0}},r.computeTransformId=function(n,e,t,i,a){var u=0;if(n<0)return r.x2194798655026538212x;if(n>=t)return r.x2194798655026538212x;if(e<0)return r.x2194798655026538212x;var s=r.computeGridIndex(n+i,e+i,t+2*i);return u=r.setValueInPackedBits(s,u,r.x4320155992257543874x,r.x1675410669856281540x),u=r.setValueInPackedBits(a,u,r.x1937013052960507227x,r.x4330550608401537223x)},r.computeXFromTransformId=function(n,e,t){return n!=r.x2194798655026538212x?r.computeXFromGridIndex(r.getValueFromPackedBits(n,r.x4320155992257543874x,r.x1675410669856281540x),e+2*t)-t:0},r.computeYFromTransformId=function(n,e,t){return n!=r.x2194798655026538212x?r.computeYFromGridIndex(r.getValueFromPackedBits(n,r.x4320155992257543874x,r.x1675410669856281540x),e+2*t)-t:0},r.computeFacingFromTransformId=function(n){return n!=r.x2194798655026538212x?r.getValueFromPackedBits(n,r.x1937013052960507227x,r.x4330550608401537223x):0},r.areTransformsXYEqual=function(n,e,t,i){return r.computeXFromTransformId(n,t,i)==r.computeXFromTransformId(e,t,i)&&r.computeYFromTransformId(n,t,i)==r.computeYFromTransformId(e,t,i)},r.getDirectionForName=function(n){return"N"==n?r.x2484402922611265012x:"NE"==n?r.x3244718963149409389x:"E"==n?r.x196245965280186343x:"SE"==n?r.x3319376958055402371x:"S"==n?r.x4064892280639253967x:"SW"==n?r.x1608540311894516498x:"W"==n?r.x3311267247859839537x:"NW"==n?r.x4268706274728069679x:r.x2484402922611265012x},r.getNameForDirection=function(n){switch(n){case r.x2484402922611265012x:return"N";case r.x3244718963149409389x:return"NE";case r.x196245965280186343x:return"E";case r.x3319376958055402371x:return"SE";case r.x4064892280639253967x:return"S";case r.x1608540311894516498x:return"SW";case r.x3311267247859839537x:return"W";case r.x4268706274728069679x:return"NW";default:return"N"}},r.rotateDirections90=function(r,n){return r&=255,n?255&(r<<2|~~(r>>>6)):255&(~~(r>>>2)|r<<6)},r.rotateDirections180=function(n){return r.rotateDirections90(r.rotateDirections90(n,!0),!0)},r.getOppositeDirection=function(n){switch(n){case r.x2484402922611265012x:return r.x4064892280639253967x;case r.x3244718963149409389x:return r.x1608540311894516498x;case r.x196245965280186343x:return r.x3311267247859839537x;case r.x3319376958055402371x:return r.x4268706274728069679x;case r.x4064892280639253967x:return r.x2484402922611265012x;case r.x1608540311894516498x:return r.x3244718963149409389x;case r.x3311267247859839537x:return r.x196245965280186343x;case r.x4268706274728069679x:return r.x3319376958055402371x;default:return 0}},r.getIndexedStickyBitsMax3=function(r){switch(r){case 0:return 0;case 1:return 1;case 2:return 4;case 3:return 5;case 4:return 7;case 5:return 16;case 6:return 17;case 7:return 20;case 8:return 21;case 9:return 23;case 10:return 28;case 11:return 29;case 12:return 31;case 13:return 64;case 14:return 65;case 15:return 68;case 16:return 69;case 17:return 71;case 18:return 80;case 19:return 81;case 20:return 84;case 21:return 92;case 22:return 112;case 23:return 113;case 24:return 116;case 25:return 124;case 26:return 193;case 27:return 197;case 28:return 199;case 29:return 209;case 30:return 241;default:return 0}},r.getIndexForStickyBitsMax3=function(r){switch(r){case 0:return 0;case 1:return 1;case 4:return 2;case 5:return 3;case 7:return 4;case 16:return 5;case 17:return 6;case 20:return 7;case 21:return 8;case 23:return 9;case 28:return 10;case 29:return 11;case 31:return 12;case 64:return 13;case 65:return 14;case 68:return 15;case 69:return 16;case 71:return 17;case 80:return 18;case 81:return 19;case 84:return 20;case 92:return 21;case 112:return 22;case 113:return 23;case 116:return 24;case 124:return 25;case 193:return 26;case 197:return 27;case 199:return 28;case 209:return 29;case 241:return 30;default:return 0}},r.getIndexedStickyBitsMax8=function(r){switch(r){case 0:return 0;case 1:return 1;case 2:return 4;case 3:return 5;case 4:return 7;case 5:return 16;case 6:return 17;case 7:return 20;case 8:return 21;case 9:return 23;case 10:return 28;case 11:return 29;case 12:return 31;case 13:return 64;case 14:return 65;case 15:return 68;case 16:return 69;case 17:return 71;case 18:return 80;case 19:return 81;case 20:return 84;case 21:return 85;case 22:return 87;case 23:return 92;case 24:return 93;case 25:return 95;case 26:return 112;case 27:return 113;case 28:return 116;case 29:return 117;case 30:return 119;case 31:return 124;case 32:return 125;case 33:return 127;case 34:return 193;case 35:return 197;case 36:return 199;case 37:return 209;case 38:return 213;case 39:return 215;case 40:return 221;case 41:return 223;case 42:return 241;case 43:return 245;case 44:return 247;case 45:return 253;case 46:return 255;default:return 0}},r.getIndexForStickyBitsMax8=function(r){switch(r){case 0:return 0;case 1:return 1;case 4:return 2;case 5:return 3;case 7:return 4;case 16:return 5;case 17:return 6;case 20:return 7;case 21:return 8;case 23:return 9;case 28:return 10;case 29:return 11;case 31:return 12;case 64:return 13;case 65:return 14;case 68:return 15;case 69:return 16;case 71:return 17;case 80:return 18;case 81:return 19;case 84:return 20;case 85:return 21;case 87:return 22;case 92:return 23;case 93:return 24;case 95:return 25;case 112:return 26;case 113:return 27;case 116:return 28;case 117:return 29;case 119:return 30;case 124:return 31;case 125:return 32;case 127:return 33;case 193:return 34;case 197:return 35;case 199:return 36;case 209:return 37;case 213:return 38;case 215:return 39;case 221:return 40;case 223:return 41;case 241:return 42;case 245:return 43;case 247:return 44;case 253:return 45;case 255:return 46;default:return 0}},r.isValidStickyBits=function(n,e){if(r.areBitsOn(r.x3244718963149409389x,n)&&!r.areBitsOn(r.x3415148147941047326x,n))return!1;if(r.areBitsOn(r.x3319376958055402371x,n)&&!r.areBitsOn(r.x3040098973470816745x,n))return!1;if(r.areBitsOn(r.x1608540311894516498x,n)&&!r.areBitsOn(r.x1780148556534776737x,n))return!1;if(r.areBitsOn(r.x4268706274728069679x,n)&&!r.areBitsOn(r.x4554766959962672639x,n))return!1;for(var t=0,i=r.x2484402922611265012x;i<=r.x3311267247859839537x;i<<=2)if(r.areBitsOn(i,n)&&++t>e)return!1;return!0},r.validateStickyBits=function(n){return r.areBitsOn(r.x3244718963149409389x,n)&&(r.areBitsOn(r.x3415148147941047326x,n)||(n&=~r.x3244718963149409389x)),r.areBitsOn(r.x3319376958055402371x,n)&&(r.areBitsOn(r.x3040098973470816745x,n)||(n&=~r.x3319376958055402371x)),r.areBitsOn(r.x1608540311894516498x,n)&&(r.areBitsOn(r.x1780148556534776737x,n)||(n&=~r.x1608540311894516498x)),r.areBitsOn(r.x4268706274728069679x,n)&&(r.areBitsOn(r.x4554766959962672639x,n)||(n&=~r.x4268706274728069679x)),n},r.getFacingForName=function(n){return"N"==n?r.x353242128309914033x:"E"==n?r.x2310622958375835533x:"S"==n?r.x907260158049481623x:"W"==n?r.x1602664510624180272x:r.x353242128309914033x},r.getNameForFacing=function(n){switch(n){case r.x353242128309914033x:return"N";case r.x2310622958375835533x:return"E";case r.x907260158049481623x:return"S";case r.x1602664510624180272x:return"W";default:return"N"}},r.rotateFacing90=function(n,e){return r.loopClampedInt(n+(e?1:-1),r.x353242128309914033x,r.x1602664510624180272x)},r.rotateFacing180=function(n,e){return r.rotateFacing90(r.rotateFacing90(n,e),e)},r.isFacingRotationClockwise=function(r,n){return r<n?n-r<3:r>n&&r-n==3},r.getPointXForFacingRotation=function(n,e,t,i){var a=n,u=e;switch(t){case r.x353242128309914033x:case r.x2310622958375835533x:case r.x907260158049481623x:case r.x1602664510624180272x:switch(i){case r.x353242128309914033x:case r.x2310622958375835533x:case r.x907260158049481623x:case r.x1602664510624180272x:for(var s;t!=i;)s=a,a=u,u=-s,t=r.rotateFacing90(t,!0)}}return a},r.getPointYForFacingRotation=function(n,e,t,i){var a=n,u=e;switch(t){case r.x353242128309914033x:case r.x2310622958375835533x:case r.x907260158049481623x:case r.x1602664510624180272x:switch(i){case r.x353242128309914033x:case r.x2310622958375835533x:case r.x907260158049481623x:case r.x1602664510624180272x:for(var s;t!=i;)s=a,a=u,u=-s,t=r.rotateFacing90(t,!0)}}return u},r.getStandardScoreEventDescription=function(n,e,t,i,a,u){if(r.sStringBuilder.setString(""),0==u){switch(i&&(r.sStringBuilder.getLength()>0&&r.sStringBuilder.appendString("\n"),r.sStringBuilder.appendString("ALL CLEAR")),t&&(r.sStringBuilder.getLength()>0&&r.sStringBuilder.appendString("\n"),r.sStringBuilder.appendString("BACK-TO-BACK")),e){case r.x1235464930560725342x:r.sStringBuilder.getLength()>0&&r.sStringBuilder.appendString("\n"),r.sStringBuilder.appendString("MINI T-SPIN");break;case r.x3109280748125391346x:r.sStringBuilder.getLength()>0&&r.sStringBuilder.appendString("\n"),r.sStringBuilder.appendString("T-SPIN")}if(n>0){if(r.sStringBuilder.getLength()>0)switch(e){case r.x1235464930560725342x:case r.x3109280748125391346x:r.sStringBuilder.appendString(" ");break;default:r.sStringBuilder.appendString("\n")}switch(n){case 1:r.sStringBuilder.appendString("SINGLE");break;case 2:r.sStringBuilder.appendString("DOUBLE");break;case 3:r.sStringBuilder.appendString("TRIPLE");break;case 4:r.sStringBuilder.appendString("TETRIS");break;default:r.sStringBuilder.appendInt(n,1,!1),r.sStringBuilder.appendString(" LINE CLEAR")}}a>0&&(r.sStringBuilder.getLength()>0&&r.sStringBuilder.appendString("\n"),r.sStringBuilder.appendString("COMBO "),r.sStringBuilder.appendInt(a,1,!1))}else n>0&&0==u&&(r.sStringBuilder.getLength()>0&&r.sStringBuilder.appendString(" "),r.sStringBuilder.appendInt(n,1,!1),r.sStringBuilder.appendString(" LINE CLEAR")),u>0&&(r.sStringBuilder.getLength()>0&&r.sStringBuilder.appendString(" "),r.sStringBuilder.appendString("CASCADE "),r.sStringBuilder.appendInt(u,1,!1));return r.sStringBuilder.getString()},r.minInt=function(r,n){return r<n?r:n},r.maxInt=function(r,n){return r>n?r:n},r.clampInt=function(r,n,e){return n<e?r<n?n:r>e?e:r:r<e?e:r>n?n:r},r.loopInt=function(r,n,e){if(n==e)return n;var t,i;n<e?(t=n,i=e):(t=e,i=n);var a,u=i-t+1;return r<t?i-((a=i-r)-~~(a/u)*u):r>i?t+((a=r-t)-~~(a/u)*u):r},r.loopClampedInt=function(r,n,e){return n==e?n:(n<e?(t=n,i=e):(t=e,i=n),r<t?i:r>i?t:r);var t,i},r.sign=function(r){return r<0?-1:1},r.isEven=function(r){return r%2==0},r.isOdd=function(r){return r%2==1},r.lerp=function(r,n,e){return r+(n-r)*e},r.getLerpFactor=function(r,n,e){var t=e-n;return(t>=0?t:-t)>.001?(r-n)/t:0},r.interpolate01=function(n,e,t){switch(e){case r.x2241302850732352132x:return 0;case r.x238234130368460472x:return n;case r.x4030179700543031412x:return Math.pow(n,t);case r.x772841279166541997x:return n=1-n,1-Math.pow(n,t);case r.x2762012579325496022x:return n<.5?.5*r.interpolate01(2*n,r.x4030179700543031412x,t):.5+.5*r.interpolate01(2*(n-.5),r.x772841279166541997x,t);case r.x318631082541859960x:return n<.5?.5*r.interpolate01(2*n,r.x772841279166541997x,t):.5+.5*r.interpolate01(2*(n-.5),r.x4030179700543031412x,t);case r.x436640722415636227x:return-(n*(t-1)-Math.pow(n,2)*t);case r.x4297247823276882919x:return(n=1-n)*(t-1)-Math.pow(n,2)*t+1;case r.x3426498957334631188x:return Math.pow(n,t)-n*Math.sin(3.141592*n);case r.x4340306362034628842x:return n=1-n,1-(Math.pow(n,t)-n*Math.sin(3.141592*n));case r.x1359192780017991980x:return Math.pow(.5-.5*Math.cos(3.141592*n*2),t);case r.x4574899183456266402x:return Math.min((.5-.5*Math.cos(3.141592*n*2))*t,1);case r.x4421393625152431277x:return Math.pow(Math.sin(3.141592*n),t);case r.x731687819709379672x:return Math.pow(Math.sin(3.141592*n*2),t);default:return n}},r.interpolate=function(n,e,t,i,a){var u=r.interpolate01(t,i,a);return r.lerp(n,e,u)},r.clamp01=function(r){return r<0?0:r>1?1:r},r.modf=function(r,n){return 0==r||0==n?0:r-n*~~(r/n)},r.forceSignedInt32=function(r){return r>2147483647&&(r=r-2147483647-2147483648-1),~~r},r.FXPTFromInt=function(n){return n*r.x1799756490073264452x},r.FXPTToInt=function(n){return~~(n/r.x1799756490073264452x)},r.FXPTFromFloat=function(n){return~~(n*r.x1799756490073264452x)},r.FXPTToFloat=function(n){return n/Number(r.x1799756490073264452x)},r.FXPTFloor=function(n){return~~(n/r.x1799756490073264452x)*r.x1799756490073264452x},r.FXPTMultiply=function(n,e){return~~(n*e/r.x1799756490073264452x)},r.FXPTDivide=function(n,e){return 0==e?0:((n>=0?n:-n)>r.x2908755958962726879x&&(n=~~(n/r.x1799756490073264452x),e=~~(e/r.x1799756490073264452x)),~~(n*r.x1799756490073264452x/e))},r.FXPTSmooth=function(n,e,t){return t<=0?e:t>=r.x2045759414872908808x?n:r.FXPTMultiply(n,t)+r.FXPTMultiply(e,r.x2045759414872908808x-t)},r.FXPTLerp=function(n,e,t){return n+r.FXPTMultiply(e-n,t)},r.FXPTGetLerpFactor=function(n,e,t){var i=t-e;return(i>=0?i:-i)>0?r.FXPTDivide(n-e,i):0},r.generateNativeRandomSeed=function(){return Date.now()},r.setNativeRandomSeed=function(r){},r.nextNativeRandomInt=function(){return~~(2147483647*Math.random())},r.nextNativeRandomIntInRange=function(n,e){return n+r.nextNativeRandomInt()%(e-n+1)},r.nextNativeRandomSign=function(){return r.isEven(r.nextNativeRandomInt())?1:-1},r.nextNativeRandomFloatInRange=function(n,e,t){var i=e-n;return n+r.nextNativeRandomIntInRange(0,t)/t*i},r.randomInt2=function(n,e){var t=(n%=16777215)+(e%=16777215),i=15449471+e,a=n-e,u=11366743-e,s=r._randomInt2(t,i),c=r.forceSignedInt32(s+e),o=r._randomInt2(a,u),g=r.forceSignedInt32(o-e);return r._randomInt2(c,g)},r._randomInt2=function(r,n){return 0==(r%=16777215)&&(r=1),0==(n%=16777215)&&(n=1),((65535&(n=36969*(65535&n)+(n>>>16)))<<16&2147483647)+(65535&(r=18e3*(65535&r)+(r>>>16)))&2147483647},r.computeGridIndex=function(r,n,e){return n*e+r},r.computeXFromGridIndex=function(r,n){return r%n},r.computeYFromGridIndex=function(r,n){return~~(r/n)},r.computeGridBit=function(n,e,t){return 1<<r.computeGridIndex(n,e,t)},r.getValueFromPackedBits=function(r,n,e){return~~((r&n)>>>e)},r.setValueInPackedBits=function(r,n,e,t){return n&~e|r<<t&e},r.areBitsOn=function(r,n){return(n&r)==r},r.getStringBuilder=function(){return r.sStringBuilder},r.stringFromInt=function(n,e,t){return r.sEnableIntStringArray&&1==e&&n<=r.sIntStringArray.getMaxIndex()?r.sIntStringArray.getStringAtIndex(n):(r.sStringBuilder.setString(""),r.sStringBuilder.appendInt(n,e,t),r.sStringBuilder.getString())},r.stringFromFloat=function(n){return r.sStringBuilder.setString(""),r.sStringBuilder.appendFloat(n),r.sStringBuilder.getString()},r.stringFromFixed=function(n){return r.stringFromFloat(r.FXPTToFloat(n))},r.stringFromBoolean=function(r){return r?"true":"false"},r.stringWithTabs=function(n){if(r.sEnableTabStringArray&&n<=r.sTabStringArray.getMaxIndex())return r.sTabStringArray.getStringAtIndex(n);for(r.sStringBuilder.setString("");n-->0;)r.sStringBuilder.appendString("\t");return r.sStringBuilder.getString()},r.timeStringFromMSEC=function(n,e,t){var i=~~(n/1e3),a=n-1e3*i;0==t&&a>0&&(i++,a=0);var u=i%60,s=~~(i/60);if(r.sEnableTimeStringArray&&1==e&&0==t&&i<=r.sTimeStringArray.getMaxIndex())return r.sTimeStringArray.getStringAtIndex(i);switch(r.sStringBuilder.setString(""),r.sStringBuilder.appendInt(s,e,!1),r.sStringBuilder.appendString(":"),r.sStringBuilder.appendInt(u,2,!1),t){case 0:break;case 1:r.sStringBuilder.appendString("."),r.sStringBuilder.appendInt(~~(a/100),1,!1);break;case 2:r.sStringBuilder.appendString("."),r.sStringBuilder.appendInt(~~(a/10),2,!1);break;case 3:default:r.sStringBuilder.appendString("."),r.sStringBuilder.appendInt(a,3,!1)}return r.sStringBuilder.getString()},r.stringToInt=function(r){return parseInt(r)},r.stringToFloat=function(r){return parseFloat(r)},r.stringToFixed=function(n){return r.FXPTFromFloat(r.stringToFloat(n))},r.stringToBoolean=function(n){return"true"==r.stringToLowerCase(n)},r.stringToHash32=function(r){if(""!=r){for(var n=44017,e=r.length,t=0;t<e;t++)n=r.charCodeAt(t)+(n<<6)+(n<<16)-n;return n&=2147483647}return 0},r.stringToHash32V2=function(r){if(""!=r){for(var n=88001,e=r.length,t=0;t<e;t++)n=r.charCodeAt(t)+(n<<6)+(n<<16)-n;return n&=2147483647}return 0},r.stringToUpperCase=function(r){return r&&""!=r?r.toUpperCase():""},r.stringToLowerCase=function(r){return r&&""!=r?r.toLowerCase():""},r.stringEndsWith=function(n,e){var t=r.lastIndexInString(n,e);return t>=0&&t==n.length-e.length},r.stringStartsWith=function(n,e){return 0==r.firstIndexInString(n,e)},r.firstIndexInString=function(r,n){return r.indexOf(n)},r.nextIndexInString=function(r,n,e){return e<0?-1:r.indexOf(n,e)},r.lastIndexInString=function(r,n){return r.lastIndexOf(n)},r.stringLineCount=function(r){for(var n=0,e=r.length,t=0;t<e;t++){switch(r.charCodeAt(t)){case 10:case 13:n++}}return n},r.substringFromIndex=function(r,n){return r.substring(n)},r.substringFromIndexWithLength=function(r,n,e){return r.substr(n,e)},r.substringToIndex=function(r,n){return n>=0?r.substring(0,n):""},r.substringToLastIndex=function(n,e){var t=r.lastIndexInString(n,e);return t>=0?r.substringToIndex(n,t):n},r.substringWithRange=function(n,e,t){return r.substringFromIndexWithLength(n,e,t-e)},r.trimStringLines=function(n,e,t){if(!n||""==n)return n;var i=n.length,a=1,u=0;for(u=0;u<i;u++)n.charCodeAt(u)=="\n".charCodeAt()&&a++;var s=a-e;if(s<=0)return n;if(t){for(a=1,u=0;u<i;u++)if(n.charCodeAt(u)=="\n".charCodeAt()&&++a>=s)return r.substringFromIndex(n,u+1)}else for(a=-1,u=i-1;u>=0;u--)if(n.charCodeAt(u)=="\n".charCodeAt()&&++a>=s)return r.substringToIndex(n,u);return n},r.concatStrings2=function(n,e){return r.sStringBuilder.setString(n),r.sStringBuilder.appendString(e),r.sStringBuilder.getString()},r.concatStrings3=function(n,e,t){return r.sStringBuilder.setString(n),r.sStringBuilder.appendString(e),r.sStringBuilder.appendString(t),r.sStringBuilder.getString()},r.concatStrings4=function(n,e,t,i){return r.sStringBuilder.setString(n),r.sStringBuilder.appendString(e),r.sStringBuilder.appendString(t),r.sStringBuilder.appendString(i),r.sStringBuilder.getString()},r.stringFromValueKey=function(n){return r.sStringBuilder.setString("#"),r.sStringBuilder.appendInt(n,1,!1),r.sStringBuilder.getString()},r.stringToValueKey=function(n){return n&&""!=n?n.charCodeAt(0)=="#".charCodeAt()&&n.length>1?r.stringToInt(r.substringFromIndex(n,1)):r.stringToHash32(n):0},r.getNumValueKeysInPath=function(r){if(!r||""==r)return 0;for(var n=1,e=r.length,t=0;t<e;t++)r.charCodeAt(t)==".".charCodeAt()&&n++;return n},r.getFirstValueKeyInPath=function(n){return r.stringToValueKey(r.getFirstItemInPath(n))},r.getFirstItemInPath=function(n){if(!n||""==n)return"";for(var e=0,t=n.length;e<t&&n.charCodeAt(e)!=".".charCodeAt();)e++;return r.substringToIndex(n,e)},r.chompToNextItemInPath=function(n){if(!n||""==n)return"";for(var e=0,t=n.length;e<t&&n.charCodeAt(e)!=".".charCodeAt();)e++;return e>=t?"":r.substringFromIndex(n,e+1)},r.getNumParamsInString=function(n){if(n.length<=4)return 0;var e=r.firstIndexInString(n,"~");if(e>=0){for(var t=0,i=r.nextIndexInString(n,"-",e);e>=0&&i>=0;)t++,e=r.nextIndexInString(n,"~",e+1),i=r.nextIndexInString(n,"-",e);return t}return 0},r.getParamNameInStringAtIndex=function(n,e){if(n.length<=4)return"";var t=r.firstIndexInString(n,"~");if(t>=0){for(var i=0,a=r.nextIndexInString(n,"-",t);i<e&&t>=0&&a>=0;)i++,t=r.nextIndexInString(n,"~",t+1),a=r.nextIndexInString(n,"-",t);return i==e?r.substringWithRange(n,t+1,a):""}return""},r.stringHasParamValue=function(n,e){return r.firstIndexInString(n,"~"+e+"-")>=0},r.getParamValueFromString=function(n,e){var t=r.firstIndexInString(n,"~"+e+"-");if(t<0)return"";var i=r.nextIndexInString(n,"~",t+1);return i>0?r.substringWithRange(n,t+e.length+2,i):r.substringFromIndex(n,t+e.length+2)},r.getParamIntValueFromString=function(n,e,t){return r.stringHasParamValue(n,e)?r.stringToInt(r.getParamValueFromString(n,e)):t},r.getParamFloatValueFromString=function(n,e,t){return r.stringHasParamValue(n,e)?r.stringToFloat(r.getParamValueFromString(n,e)):t},r.getParamBoolValueFromString=function(n,e,t){return r.stringHasParamValue(n,e)?r.stringToBoolean(r.getParamValueFromString(n,e)):t},r.getParamStringValueFromString=function(n,e,t){return r.stringHasParamValue(n,e)?r.getParamValueFromString(n,e):t},r.numItemsInStringList=function(r){if(!r||""==r)return 0;for(var n=1,e=r.length,t=0;t<e;t++)r.charCodeAt(t)==",".charCodeAt()&&n++;return n},r.stringListItemAtIndex=function(n,e){for(var t,i,a=0,u=0,s=n.length;u<s;){if(a==e){for(t=u;u<s&&n.charCodeAt(u)!=",".charCodeAt();)u++;return i=u,r.substringWithRange(n,t,i)}n.charCodeAt(u)==",".charCodeAt()&&a++,u++}return""},r.doesStringListContainItem=function(n,e,t){if(!n||""==n)return!1;for(var i=r.numItemsInStringList(n),a=0;a<i;a++){var u=r.stringListItemAtIndex(n,a);if(u==e||t&&r.stringStartsWith(e,u))return!0}return!1},r.regexReplaceString=function(r,n,e){return r.replace(new RegExp(n,"g"),e)},r.x2002177365636751078x=function(n,e){if(!n||""==n)return"";var t,i,a,u,s=n.length;t=e<0?r.stringToHash32(n)%256:0==e?r.nextNativeRandomIntInRange(0,255):e%256,r.sStringBuilder.setString(""),r.sStringBuilder.appendCharCode(r.numTo2Chars_CharCode1(t)),r.sStringBuilder.appendCharCode(r.numTo2Chars_CharCode2(t));for(var c=0;c<s;c++)i=r.randomInt2(t,c)%420,(a=n.charCodeAt(c))>255&&(a=0),u=a+i,r.sStringBuilder.appendCharCode(r.numTo2Chars_CharCode1(u)),r.sStringBuilder.appendCharCode(r.numTo2Chars_CharCode2(u));return r.sStringBuilder.getString()},r.x4379805376353750514x=function(n){if(!n||""==n)return"";var e,t,i=n.length,a=r.numFrom2Chars(n.charCodeAt(0),n.charCodeAt(1)),u=(i-2)/2;r.sStringBuilder.setString("");for(var s=1;s<=u;s++){if(e=r.randomInt2(a,s-1)%420,(t=r.numFrom2Chars(n.charCodeAt(2*s),n.charCodeAt(2*s+1))-e)>255)return"";t>0&&r.sStringBuilder.appendCharCode(t)}return r.sStringBuilder.getString()},r.x727966420043318848x=function(n,e){if(!n||""==n)return"";var t,i,a,u=n.length;t=e<0?(n.charCodeAt(0)+n.charCodeAt(u-1)+u)%256:0==e?r.nextNativeRandomIntInRange(0,255):e%256,r.sStringBuilder.setString(""),r.sStringBuilder.appendCharCode(t);for(var s=0;s<u;s++)a=255&((i=n.charCodeAt(s))^t),r.sStringBuilder.appendCharCode(a),t=t*i%256;return r.sStringBuilder.getString()},r.x2670406065083657712x=function(n){if(!n||""==n)return"";var e,t=n.length,i=n.charCodeAt(0);r.sStringBuilder.setString("");for(var a=1;a<t;a++)e=255&(n.charCodeAt(a)^i),r.sStringBuilder.appendCharCode(e),i=i*e%256;return r.sStringBuilder.getString()},r.numTo2Chars_CharCode1=function(r){return 65+r%26},r.numTo2Chars_CharCode2=function(r){return 65+r/26},r.numFrom2Chars=function(r,n){return r-65+26*(n-65)},r.copyNativeIntVector=function(r,n){n.length=0;for(var e=r.length,t=0;t<e;t++){var i=r[t];n.push(i)}},r.getCurrentYear=function(){return(new Date).getFullYear()},r.debug_logMessage=function(r){console.log(r)},r.debug_incrementCounter=function(n){if(r.sDidStaticInit){var e=r.debug_getCounterIndex(n);if(e>=0){var t=r.sDebugCounters_counts[e];r.sDebugCounters_counts[e]=t+1}else r.sDebugCounters_names.push(n),r.sDebugCounters_counts.push(1)}},r.debug_decrementCounter=function(n){if(r.sDidStaticInit){var e=r.debug_getCounterIndex(n);if(e>=0){var t=r.sDebugCounters_counts[e];r.sDebugCounters_counts[e]=t-1}}},r.debug_printAllCounters=function(){if(r.sDidStaticInit){r.debug_logMessage("x1390687146982484874x::debug_printAllCounters: START");for(var n=r.sDebugCounters_names.length,e=0;e<n;e++){var t=r.sDebugCounters_counts[e];if(t>0){var i="  "+r.sDebugCounters_names[e]+": "+r.stringFromInt(t,1,!1);r.debug_logMessage(i)}}r.debug_logMessage("x1390687146982484874x::debug_printAllCounters: END")}},r.debug_getCounterIndex=function(n){if(!r.sDidStaticInit)return-1;for(var e=r.sDebugCounters_names.length,t=0;t<e;t++)if(r.sDebugCounters_names[t]==n)return t;return-1},n(r,null,[{key:"k1420982514",get:function(){return 28901}},{key:"k67847186",get:function(){return 67847186}},{key:"x2640432151801765044x",get:function(){return 1}},{key:"x3371115734898663512x",get:function(){return 2}},{key:"x1211649191952402875x",get:function(){return 3}},{key:"x4298602585230304219x",get:function(){return 4}},{key:"x1153257188054369495x",get:function(){return 5}},{key:"x2563343360109526899x",get:function(){return 6}},{key:"x2162197462838643576x",get:function(){return 7}},{key:"x2282177522225822300x",get:function(){return 8}},{key:"x351576513181277538x",get:function(){return 9}},{key:"x3294734154738425530x",get:function(){return 10}},{key:"x3348926169621623293x",get:function(){return 11}},{key:"x1327550898746693554x",get:function(){return 12}},{key:"x1290258416436706721x",get:function(){return 0}},{key:"x2330219442263429730x",get:function(){return 1}},{key:"kStandardMinoTypeId_J",get:function(){return 2}},{key:"kStandardMinoTypeId_L",get:function(){return 3}},{key:"kStandardMinoTypeId_O",get:function(){return 4}},{key:"kStandardMinoTypeId_S",get:function(){return 5}},{key:"kStandardMinoTypeId_T",get:function(){return 6}},{key:"x320457456192486874x",get:function(){return 7}},{key:"kTransformIdNumBits_facing",get:function(){return 2}},{key:"kTransformIdNumBits_xy",get:function(){return 16}},{key:"x4330550608401537223x",get:function(){return 0}},{key:"x1675410669856281540x",get:function(){return 2}},{key:"x1937013052960507227x",get:function(){return 3}},{key:"x4320155992257543874x",get:function(){return 262140}},{key:"x2194798655026538212x",get:function(){return-1}},{key:"x4008812685520917032x",get:function(){return 0}},{key:"x2231341302153361616x",get:function(){return 90}},{key:"x967047132275585775x",get:function(){return 180}},{key:"x2484402922611265012x",get:function(){return 1}},{key:"x3244718963149409389x",get:function(){return 2}},{key:"x196245965280186343x",get:function(){return 4}},{key:"x3319376958055402371x",get:function(){return 8}},{key:"x4064892280639253967x",get:function(){return 16}},{key:"x1608540311894516498x",get:function(){return 32}},{key:"x3311267247859839537x",get:function(){return 64}},{key:"x4268706274728069679x",get:function(){return 128}},{key:"x3415148147941047326x",get:function(){return 7}},{key:"x3040098973470816745x",get:function(){return 28}},{key:"x1780148556534776737x",get:function(){return 112}},{key:"x4554766959962672639x",get:function(){return 193}},{key:"x1202564054033431097x",get:function(){return 31}},{key:"x1562271628994622354x",get:function(){return 47}},{key:"x353242128309914033x",get:function(){return 0}},{key:"x2310622958375835533x",get:function(){return 1}},{key:"x907260158049481623x",get:function(){return 2}},{key:"x1602664510624180272x",get:function(){return 3}},{key:"kNumFacings",get:function(){return 4}},{key:"x2762047832241342883x",get:function(){return 0}},{key:"x3109280748125391346x",get:function(){return 1}},{key:"x1235464930560725342x",get:function(){return 2}},{key:"x2812288279383445977x",get:function(){return 2147483647}},{key:"x2311178134419187541x",get:function(){return-2147483647}},{key:"x2241302850732352132x",get:function(){return 958761353}},{key:"x238234130368460472x",get:function(){return 1826975958}},{key:"x4030179700543031412x",get:function(){return 450223588}},{key:"x772841279166541997x",get:function(){return 2072050255}},{key:"x2762012579325496022x",get:function(){return 244167466}},{key:"x318631082541859960x",get:function(){return 2111034676}},{key:"x436640722415636227x",get:function(){return 550715071}},{key:"x4297247823276882919x",get:function(){return 1438044212}},{key:"x3426498957334631188x",get:function(){return 1195574205}},{key:"x4340306362034628842x",get:function(){return 271993526}},{key:"x1359192780017991980x",get:function(){return 60963303}},{key:"x4574899183456266402x",get:function(){return 601393496}},{key:"x4421393625152431277x",get:function(){return 517160971}},{key:"x731687819709379672x",get:function(){return 517160972}},{key:"x1799756490073264452x",get:function(){return 1e3}},{key:"x2045759414872908808x",get:function(){return 1e3}},{key:"x2908755958962726879x",get:function(){return 2147483}},{key:"x2013477962951852673x",get:function(){return 1e4}},{key:"kBPSTetrisEngineVersionNumber",get:function(){return"289.01"}}]),r}());a.sDidStaticInit=!1,a.sDebugCounters_names=null,a.sDebugCounters_counts=null,a.sStringBuilder=null,a.sIntStringArray=null,a.sEnableIntStringArray=!1,a.sTabStringArray=null,a.sEnableTabStringArray=!1,a.sTimeStringArray=null,a.sEnableTimeStringArray=!1,e._RF.pop()}}}));System.register("chunks:///_virtual/x1654909725214686057x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,n,u,i,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){u=t.cclegacy},function(t){i=t.x2825914500079770252x},function(t){o=t.x1390687146982484874x}],execute:function(){u._RF.push({},"c34b5WMZKBGmal1NQpBaThr","x1654909725214686057x",void 0);t("x1654909725214686057x",function(t){function u(e){var n;return(n=t.call(this)||this).mValueType=e,n.mKey=0,n.mKeyString="",n}e(u,t),u.valueTypeToString=function(t){switch(t){case u.x3783032619504109691x:return"int";case u.x2090411379675684210x:return"float";case u.x3860326063911156812x:return"bool";case u.x4440003044286975511x:return"string";case u.x3500180382744555049x:return"object";default:return"unknown"}},u.valueTypeFromString=function(t){return"int"==t?u.x3783032619504109691x:"float"==t?u.x2090411379675684210x:"bool"==t?u.x3860326063911156812x:"string"==t?u.x4440003044286975511x:"object"==t?u.x3500180382744555049x:0};var i=u.prototype;return i.getValueType=function(){return this.mValueType},i.getKey=function(){return this.mKey},i.setKey=function(t,e){this.mKey=t,e?this.mKeyString=o.stringFromValueKey(t):this.mKeyString&&""!=this.mKeyString&&(this.mKeyString="")},i.getKeyString=function(){return this.mKeyString},i.setKeyString=function(t){this.mKeyString=t,t&&""!=t&&(this.mKey=o.stringToValueKey(t))},i.equalsValue=function(t,e){if(e&&this.mValueType!=t.getValueType())return!1;switch(this.mValueType){case u.x3783032619504109691x:return this.toInt()==t.toInt();case u.x2090411379675684210x:return this.toFloat()==t.toFloat();case u.x3860326063911156812x:return this.toBool()==t.toBool();case u.x4440003044286975511x:return this.toString()==t.toString();default:return!1}},i.copyValue=function(t){switch(this.mValueType){case u.x3783032619504109691x:this.setValueWithInt(t.toInt());break;case u.x2090411379675684210x:this.setValueWithFloat(t.toFloat());break;case u.x3860326063911156812x:this.setValueWithBool(t.toBool());break;case u.x4440003044286975511x:this.setValueWithString(t.toString())}},i.setValueWithInt=function(t){},i.setValueWithFloat=function(t){},i.setValueWithBool=function(t){},i.setValueWithString=function(t){},i.toInt=function(){return 0},i.toFloat=function(){return 0},i.toBool=function(){return!1},i.toString=function(){return""},i.x2904717359915390404x=function(){return this.mKey=0,this.mKeyString="",!0},i.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},n(u,null,[{key:"x3783032619504109691x",get:function(){return 1}},{key:"x2090411379675684210x",get:function(){return 2}},{key:"x3860326063911156812x",get:function(){return 3}},{key:"x4440003044286975511x",get:function(){return 4}},{key:"x3500180382744555049x",get:function(){return 5}}]),u}(i));u._RF.pop()}}}));System.register("chunks:///_virtual/x2446198698887643760x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x2362680020733037980x.ts","./x1825263265700717187x.ts","./x2847549867856397327x.ts"],(function(t){"use strict";var i,e,s,n,a,o,r;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy},function(t){n=t.x2825914500079770252x},function(t){a=t.x2362680020733037980x},function(t){o=t.x1825263265700717187x},function(t){r=t.x2847549867856397327x}],execute:function(){s._RF.push({},"1b50fdnPsFFz7CgI0Okl492","x2446198698887643760x",void 0);t("x2446198698887643760x",function(t){function s(){var i;return(i=t.call(this)||this).mPoolId=0,i.mIsActive=!1,i.mNativeView=null,i.mPositionX=0,i.mPositionY=0,i.mAnchorX=.5,i.mAnchorY=.5,i.mScaleX=1,i.mScaleY=1,i.mRotation=0,i.mAlpha=1,i.mApplyAlphaRecursively=!1,i.mIsVisible=!0,i.mAutoStartAnimators=!0,i.mAnimators=null,i.mAnimatorsIndex=0,i}i(s,t),s.trySetIsVisible=function(t,i){t&&t.setIsVisible(i)};var n=s.prototype;return n.setParams=function(t,i,e){t&&(this.setPosition(t.getFloatValueWithDefault(s.x2962156756195294919x,this.mPositionX),t.getFloatValueWithDefault(s.x813345812794241670x,this.mPositionY)),this.setAnchor(t.getFloatValueWithDefault(s.x3732180332987393569x,this.mAnchorX),t.getFloatValueWithDefault(s.x2111380524871970823x,this.mAnchorY)),this.setScale(t.getFloatValueWithDefault(s.x3946462717244526622x,this.mScaleX),t.getFloatValueWithDefault(s.x2613065830947778313x,this.mScaleY)),this.setAlpha(t.getFloatValueWithDefault(s.x2899003924160383685x,this.mAlpha)),this.mAutoStartAnimators=t.getBoolValueWithDefault(s.x99281176455569878x,!0),this.setupAnimatorsWithParams(t.getDictionary(s.x795071451175997855x),e),this.x1655915324635530023x(t,i),this.updateNativePosition())},n.getPoolId=function(){return this.mPoolId},n.setPoolId=function(t){this.mPoolId=t},n.isActive=function(){return this.mIsActive},n.activate=function(){this.mIsActive||(this.mAutoStartAnimators&&this.startAnimators(),this.mIsActive=!0)},n.deactivate=function(){this.mIsActive&&(a.NativeView_removeFromParent(this.mNativeView),this.mIsActive=!1)},n.getNativeView=function(){return this.mNativeView},n.setNativeView=function(t){a.NativeView_removeFromParent(this.mNativeView),this.mNativeView=t},n.setNativeViewName=function(t){a.NativeView_setName(this.mNativeView,t)},n.getPositionX=function(){return this.mPositionX},n.getPositionY=function(){return this.mPositionY},n.setPositionX=function(t){this.setPosition(t,this.mPositionY)},n.setPositionY=function(t){this.setPosition(this.mPositionX,t)},n.setPosition=function(t,i){this.mPositionX==t&&this.mPositionY==i||(this.mPositionX=t,this.mPositionY=i,this.updateNativePosition())},n.setAnchor=function(t,i){this.mAnchorX==t&&this.mAnchorY==i||(this.mAnchorX=t,this.mAnchorY=i,this.updateNativePosition())},n.getScaleX=function(){return this.mScaleX},n.getScaleY=function(){return this.mScaleY},n.setScaleX=function(t){this.setScale(t,this.mScaleY)},n.setScaleY=function(t){this.setScale(this.mScaleX,t)},n.setScale=function(t,i){this.mScaleX==t&&this.mScaleY==i||(this.mScaleX=t,this.mScaleY=i,this.x4508769045948436120x(t,i),this.updateNativePosition())},n.getRotation=function(){return this.mRotation},n.setRotation=function(t){a.NativeView_setRotation(this.mNativeView,t)},n.getAlpha=function(){return this.mAlpha},n.setAlpha=function(t){this.mAlpha!=t&&(this.mAlpha=t,this.x765908691221904626x(t))},n.setApplyAlphaRecursively=function(t){this.mApplyAlphaRecursively=t},n.getIsVisible=function(){return this.mIsVisible},n.setIsVisible=function(t){this.mIsVisible!=t&&(this.mIsVisible=t,a.NativeView_setIsVisible(this.mNativeView,t))},n.createAnimator=function(t,i,e){var s=this.getAnimator(t);return s||(s=new r(this,i,e),this.mAnimators||(this.mAnimators=new o(!0)),this.mAnimators.setObjectValue(t,s)),s},n.getAnimator=function(t){return this.mAnimators?this.mAnimators.getObjectValue(t):null},n.startAnimator=function(t){var i=this.getAnimator(t);i&&i.start()},n.startAnimators=function(){if(this.mAnimators)for(var t=this.mAnimators.getNumValues(),i=0;i<t;i++){this.mAnimators.getObjectValueAtIndex(i).start()}},n.getAnimatorsIndex=function(){return this.mAnimatorsIndex},n.setAnimatorsIndex=function(t){this.mAnimatorsIndex=t},n.processTime=function(t){this.isActive()&&this.processAnimators(t)},n.updateNativePosition=function(){var t=this.x2160475895434563892x(),i=this.x1228861745169446149x(),e=this.mPositionX-(this.mAnchorX-.5)*t,s=this.mPositionY-(this.mAnchorY-.5)*i;a.NativeView_setPosition(this.mNativeView,e,s)},n.setupAnimatorsWithParams=function(t,i){if(t)for(var e=t.getNumValues(),s=0;s<e;s++){var n=t.getValueKeyAtIndex(s);this.getAnimator(n)||this.createAnimator(n,t.getDictionaryAtIndex(s),i)}},n.processAnimators=function(t){if(this.mAnimators)for(var i=this.mAnimators.getNumValues(),e=0;e<i;e++){if(this.mAnimators.getObjectValueAtIndex(e).processTime(t),!this.isActive())return}},n.recycleAnimators=function(){if(this.mAnimators)for(var t=this.mAnimators.getNumValues(),i=0;i<t;i++){this.mAnimators.getObjectValueAtIndex(i)._handleViewWillRecycle()}},n.x1655915324635530023x=function(t,i){},n.x2160475895434563892x=function(){return 0},n.x1228861745169446149x=function(){return 0},n.x4508769045948436120x=function(t,i){a.NativeView_setScale(this.mNativeView,t,i)},n.x765908691221904626x=function(t){a.NativeView_setAlpha(this.mNativeView,t,this.mApplyAlphaRecursively)},n.x2904717359915390404x=function(){return this.setPosition(0,0),this.setAnchor(.5,.5),this.setScale(1,1),this.setRotation(0),this.setAlpha(1),this.setIsVisible(!0),this.recycleAnimators(),this.mAnimatorsIndex=0,this.deactivate(),t.prototype.x2904717359915390404x.call(this),!0},n.x2766708504066152543x=function(){this.deactivate(),null!==this.mAnimators&&(this.mAnimators.destroy(),this.mAnimators=null),a.NativeView_destroy(this.mNativeView,!0),this.mNativeView=null,t.prototype.x2766708504066152543x.call(this)},e(s,null,[{key:"x2973342067964620866x",get:function(){return 1589639874}},{key:"x2708091938147563541x",get:function(){return 488921072}},{key:"x2962156756195294919x",get:function(){return 1465297534}},{key:"x813345812794241670x",get:function(){return 1465297535}},{key:"x3732180332987393569x",get:function(){return 1694593554}},{key:"x2111380524871970823x",get:function(){return 1694593555}},{key:"x3946462717244526622x",get:function(){return 1555815199}},{key:"x2613065830947778313x",get:function(){return 1555815200}},{key:"x2899003924160383685x",get:function(){return 431723437}},{key:"x99281176455569878x",get:function(){return 2041872106}},{key:"x795071451175997855x",get:function(){return 1175123675}}]),s}(n));s._RF.pop()}}}));System.register("chunks:///_virtual/x2847549867856397327x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x4354672764486608119x.ts"],(function(e){"use strict";var n,t,a,i,l,s,o;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){a=e.cclegacy},function(e){i=e.x2825914500079770252x},function(e){l=e.x2938621194761123466x},function(e){s=e.x1390687146982484874x},function(e){o=e.x4354672764486608119x}],execute:function(){a._RF.push({},"2d648y/GzxIpamwwWpRctVy","x2847549867856397327x",void 0);e("x2847549867856397327x",function(e){function a(n,t,i){var o;return(o=e.call(this)||this).mView=n,o.mMessageHandler=i,o.mCompletionMessageId=0,o.mDidInitChannels=!1,o.mIsActive=!1,o.mStartDelaySEC=0,o.mIndexDelaySEC=0,o.mElapsedTimeSEC=0,o.mChannels=new l(a.x4402323252396388887x),o.mInitialGlobalDurationScale=1,o.mGlobalDurationScale=o.mInitialGlobalDurationScale,o.mCompletionType=a.x1405958846993238915x,o.mCompletionDelaySEC=0,t&&(o.mCompletionMessageId=t.getStringValueAsHash32(a.x1969433432415820748x),o.mStartDelaySEC=t.getFloatValueWithDefault(a.x3122284362442807600x,o.mStartDelaySEC),o.mIndexDelaySEC=t.getFloatValueWithDefault(a.x2228737258970948157x,o.mIndexDelaySEC),o.mInitialGlobalDurationScale=t.getFloatValueWithDefault(a.x3407814410373841379x,o.mInitialGlobalDurationScale),o.mGlobalDurationScale=o.mInitialGlobalDurationScale,t.hasValue(a.x4246598118977935213x)&&(o.mCompletionType=s.stringToHash32(t.getStringValue(a.x4246598118977935213x))),o.mCompletionDelaySEC=t.getFloatValueWithDefault(a.x3961165404044232889x,o.mCompletionDelaySEC),o.setupChannelsWithParams(t.getDictionary(a.x4568361493593458048x))),o}n(a,e),a.channelIndexToChannelId=function(e){switch(e){case a.x2857847695691098861x:return a.x1260428079546657099x;case a.x2724010021406525843x:return a.x1094037759331574885x;case a.x1368542473143567105x:return a.x2080751014705428965x;case a.x1070687294899834525x:return a.x2498657525587231932x;case a.x831564560177885449x:return a.x3994549507597105064x;case a.x1553030494187599717x:return a.x3699263849126933554x;case a.x1630857149296380196x:return a.x3364986288849848788x;default:return-1}},a.channelIdToChannelIndex=function(e){switch(e){case a.x1260428079546657099x:return a.x2857847695691098861x;case a.x1094037759331574885x:return a.x2724010021406525843x;case a.x2080751014705428965x:return a.x1368542473143567105x;case a.x2498657525587231932x:return a.x1070687294899834525x;case a.x3994549507597105064x:return a.x831564560177885449x;case a.x3699263849126933554x:return a.x1553030494187599717x;case a.x3364986288849848788x:return a.x1630857149296380196x;default:return-1}};var i=a.prototype;return i.enableChannel=function(e){var n=this.getChannel(e);return n||(n=new o(e),this.mChannels.setAtIndex(a.channelIdToChannelIndex(e),n)),n},i.enableChannelWithValues=function(e,n,t,a,i,l){var s=this.enableChannel(e);return s.mValue=n,s.mIsValueRelative=t,s.mDurationSEC=a,s.mInterpolationType=i,s.mInterpolationStrength=l,s},i.getChannel=function(e){return this.getChannelAtIndex(a.channelIdToChannelIndex(e))},i.setStartDelaySEC=function(e){this.mStartDelaySEC=e},i.getInitialGlobalDurationScale=function(){return this.mInitialGlobalDurationScale},i.setGlobalDurationScale=function(e){this.mGlobalDurationScale=e},i.setCompletionType=function(e){this.mCompletionType=e},i.setCompletionDelaySEC=function(e){this.mCompletionDelaySEC=e},i.isActive=function(){return this.mIsActive},i.start=function(){this.mDidInitChannels||(this.initChannels(),this.mDidInitChannels=!0),this.mIsActive=!0;var e=this.mIndexDelaySEC*this.mView.getAnimatorsIndex();this.mElapsedTimeSEC=-(this.mStartDelaySEC+e);for(var n=0;n<a.x4402323252396388887x;n++)this.startChannelAtIndex(n);this.processTime(0)},i.processTime=function(e){if(this.mIsActive&&(this.mElapsedTimeSEC+=.001*e,!(this.mElapsedTimeSEC<=0))){for(var n=!1,t=0;t<a.x4402323252396388887x;t++)n=this.updateChannelAtIndex(t)||n;if(this.mIsActive=n,!this.mIsActive)switch(0!=this.mCompletionMessageId&&this.mMessageHandler&&this.mMessageHandler.x976210321608527258x(this.mCompletionMessageId,this.mMessageHandler,null),this.mCompletionType){case a.x2799532886354868868x:break;case a.x1405958846993238915x:this.mView.deactivate()}}},i._handleViewWillRecycle=function(){this.mDidInitChannels=!1},i.setupChannelsWithParams=function(e){if(e)for(var n=e.getNumValues(),t=0;t<n;t++){var a=this.enableChannel(e.getValueKeyAtIndex(t));if(a){var i=e.getDictionaryAtIndex(t);a.setParams(i)}}},i.getChannelAtIndex=function(e){return this.mChannels.getAtIndex(e)},i.initChannels=function(){for(var e=0;e<a.x4402323252396388887x;e++)this.initChannelAtIndex(e)},i.initChannelAtIndex=function(e){var n=this.getChannelAtIndex(e);if(n)switch(n.getChannelId()){case a.x1260428079546657099x:n.mStartValue=this.mView.getPositionX();break;case a.x1094037759331574885x:n.mStartValue=this.mView.getPositionY();break;case a.x2080751014705428965x:n.mStartValue=this.mView.getAlpha();break;case a.x2498657525587231932x:case a.x3994549507597105064x:n.mStartValue=this.mView.getScaleX();break;case a.x3699263849126933554x:n.mStartValue=this.mView.getScaleY();break;case a.x3364986288849848788x:n.mStartValue=this.mView.getRotation()}},i.startChannelAtIndex=function(e){var n=this.getChannelAtIndex(e);n&&(n.mTargetValue=n.mIsValueRelative?n.mStartValue+n.mValue:n.mValue)},i.updateChannelAtIndex=function(e){var n=this.getChannelAtIndex(e);if(!n)return!1;var t=!0,i=n.mDurationSEC*this.mGlobalDurationScale,l=0;switch(n.mLoopType){case o.x1420739968861521136x:t=(l=this.mElapsedTimeSEC/i)<1,l=s.clamp01(l);break;case o.x1877583652015992060x:l=s.modf(this.mElapsedTimeSEC,i)/i;break;case o.x535186881628685582x:l=s.modf(this.mElapsedTimeSEC,i)/i,~~(this.mElapsedTimeSEC/i)%2==1&&(l=1-l)}var r=s.interpolate01(l,n.mInterpolationType,n.mInterpolationStrength),h=s.lerp(n.mStartValue,n.mTargetValue,r);switch(n.getChannelId()){case a.x1260428079546657099x:this.mView.setPositionX(h);break;case a.x1094037759331574885x:this.mView.setPositionY(h);break;case a.x2080751014705428965x:this.mView.setAlpha(h);break;case a.x2498657525587231932x:this.mView.setScale(h,h);break;case a.x3994549507597105064x:this.mView.setScaleX(h);break;case a.x3699263849126933554x:this.mView.setScaleY(h);break;case a.x3364986288849848788x:this.mView.setRotation(h)}return t},i.x2766708504066152543x=function(){this.mView=null,this.mMessageHandler=null,this.mChannels.destroyAll(),null!==this.mChannels&&(this.mChannels.destroy(),this.mChannels=null),e.prototype.x2766708504066152543x.call(this)},t(a,null,[{key:"x3122284362442807600x",get:function(){return 1103845279}},{key:"x2228737258970948157x",get:function(){return 1956530287}},{key:"x3407814410373841379x",get:function(){return 314584834}},{key:"x4246598118977935213x",get:function(){return 2094029511}},{key:"x3961165404044232889x",get:function(){return 1693988635}},{key:"x1969433432415820748x",get:function(){return 537578778}},{key:"x4568361493593458048x",get:function(){return 1155973505}},{key:"x1260428079546657099x",get:function(){return 1465297534}},{key:"x1094037759331574885x",get:function(){return 1465297535}},{key:"x2080751014705428965x",get:function(){return 431723437}},{key:"x2498657525587231932x",get:function(){return 760868090}},{key:"x3994549507597105064x",get:function(){return 1555815199}},{key:"x3699263849126933554x",get:function(){return 1555815200}},{key:"x3364986288849848788x",get:function(){return 2039167247}},{key:"x2799532886354868868x",get:function(){return 167747945}},{key:"x1405958846993238915x",get:function(){return 1804286698}},{key:"x2857847695691098861x",get:function(){return 0}},{key:"x2724010021406525843x",get:function(){return 1}},{key:"x1368542473143567105x",get:function(){return 2}},{key:"x1070687294899834525x",get:function(){return 3}},{key:"x831564560177885449x",get:function(){return 4}},{key:"x1553030494187599717x",get:function(){return 5}},{key:"x1630857149296380196x",get:function(){return 6}},{key:"x4402323252396388887x",get:function(){return 7}}]),a}(i));a._RF.pop()}}}));System.register("chunks:///_virtual/x4354672764486608119x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,n,a,o,r;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy},function(t){o=t.x2825914500079770252x},function(t){r=t.x1390687146982484874x}],execute:function(){a._RF.push({},"df477ANledET6moJOPcjGgH","x4354672764486608119x",void 0);t("x4354672764486608119x",function(t){function a(e){var n;return(n=t.call(this)||this).mChannelId=e,n.mInterpolationType=r.x238234130368460472x,n.mInterpolationStrength=1,n.mValue=0,n.mIsValueRelative=!0,n.mStartValue=0,n.mTargetValue=0,n.mDurationSEC=0,n.mLoopType=a.x1420739968861521136x,n}e(a,t);var o=a.prototype;return o.setParams=function(t){t&&(t.hasValue(a.x4536789929361555866x)&&(this.mInterpolationType=r.stringToHash32(t.getStringValue(a.x4536789929361555866x))),this.mInterpolationStrength=t.getFloatValueWithDefault(a.x2862779523689310304x,this.mInterpolationStrength),this.mValue=t.getFloatValueWithDefault(a.x1676904314370989028x,this.mValue),this.mIsValueRelative=t.getBoolValueWithDefault(a.x2473595075949008767x,this.mIsValueRelative),this.mDurationSEC=t.getFloatValueWithDefault(a.x4477108392225051669x,this.mDurationSEC),t.hasValue(a.x3953344992495622749x)&&(this.mLoopType=r.stringToHash32(t.getStringValue(a.x3953344992495622749x))))},o.getChannelId=function(){return this.mChannelId},o.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},n(a,null,[{key:"x1676904314370989028x",get:function(){return 711535552}},{key:"x2473595075949008767x",get:function(){return 690882626}},{key:"x4477108392225051669x",get:function(){return 1806937772}},{key:"x4536789929361555866x",get:function(){return 1298706893}},{key:"x2862779523689310304x",get:function(){return 1122646260}},{key:"x3953344992495622749x",get:function(){return 1780783567}},{key:"x1420739968861521136x",get:function(){return 167747945}},{key:"x1877583652015992060x",get:function(){return 1474260756}},{key:"x535186881628685582x",get:function(){return 1674682638}}]),a}(o));a._RF.pop()}}}));System.register("chunks:///_virtual/x626553917884485281x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3816109174930716273x.ts","./x1390687146982484874x.ts","./x4399705917818454294x.ts","./x273117979158241950x.ts","./x2446198698887643760x.ts"],(function(e){"use strict";var t,r,i,c,o,n,s;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){i=e.x3816109174930716273x},function(e){c=e.x1390687146982484874x},function(e){o=e.x4399705917818454294x},function(e){n=e.x273117979158241950x},function(e){s=e.x2446198698887643760x}],execute:function(){r._RF.push({},"fac29zoXwVAy4Z3U1Lgq7Dj","x626553917884485281x",void 0);e("x626553917884485281x",function(e){function r(t){var r;return(r=e.call(this)||this).mResourceMgr=t,r}t(r,e);var i=r.prototype;return i.createView=function(e,t){if(!e||!e.getBoolValueWithDefault(s.x2708091938147563541x,!0))return null;var r=null;switch(c.stringToHash32(e.getStringValue(s.x2973342067964620866x))){case n.x170526162870928303x:r=n.createWithParams(e,this.mResourceMgr,t);break;case o.x2021495130439388924x:r=o.createWithParams(e,this.mResourceMgr,t);break;default:r=this.x32076718827293450x(e)}return r},i.getResourceMgr=function(){return this.mResourceMgr},i.x32076718827293450x=function(e){return null},i.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},r}(i));r._RF.pop()}}}));System.register("chunks:///_virtual/x2129848421208949310x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts","./x2362680020733037980x.ts","./x1825263265700717187x.ts","./x2938621194761123466x.ts","./x760432494733790579x.ts","./x2467032877919158634x.ts"],(function(e){"use strict";var t,i,o,r,s,n,a,c,l;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){o=e.cclegacy},function(e){r=e.x2825914500079770252x},function(e){s=e.x2362680020733037980x},function(e){n=e.x1825263265700717187x},function(e){a=e.x2938621194761123466x},function(e){c=e.x760432494733790579x},function(e){l=e.x2467032877919158634x}],execute:function(){o._RF.push({},"eaf38LJJkRNxJPPGmkHzh2H","x2129848421208949310x",void 0);e("x2129848421208949310x",function(e){function o(t,i,r){var s;(s=e.call(this)||this).mViewFactory=i,s.mViewPools=new n(!0),s.mAnimatorsMessageHandler=r,s.mViewSchedulerPool=new l;var c=t.getIntValue(o.x2181844145321071127x);return s.mViewSchedulerPool.setAutoRefillCount(c),s.mViewSchedulerPool.createObjects(c),s.mViewSchedulers=new a(0),s.mViewSchedulers.reserveCapacity(100),s.mActiveViews=new a(0),s.mActiveViews.reserveCapacity(1e3),t&&s.createViewPools(t.getDictionary(o.x614952789162816177x)),s}t(o,e);var r=o.prototype;return r.createView=function(e,t,i){var o=this.mViewFactory.createView(e,this.mAnimatorsMessageHandler);return o&&(t&&s.NativeView_addChild(t,o.getNativeView()),i&&this.activateAndManageView(o,t)),o},r.createSpriteView=function(e,t,i){return this.createView(e,t,i)},r.createBitmapTextView=function(e,t,i){return this.createView(e,t,i)},r.hasPool=function(e){return this.getViewPool(e)},r.getPoolParams=function(e){var t=this.getViewPool(e);return t?t.getParams():null},r.getViewFromPool=function(e){var t=this.getViewPool(e);return t?t.getAvailableView():null},r.getSpriteViewFromPool=function(e){return this.getViewFromPool(e)},r.getBitmapTextViewFromPool=function(e){return this.getViewFromPool(e)},r.activateAndManageViewFromPool=function(e,t){var i=this.getViewFromPool(e);return i&&this.activateAndManageView(i,t),i},r.activateAndManageViewFromPoolWithPosition=function(e,t,i,o){var r=this.getViewFromPool(e);return r&&(t&&s.NativeView_addChild(t,r.getNativeView()),r.setPosition(i,o),this.activateAndManageView(r,t)),r},r.activateAndManageView=function(e,t){s.NativeView_addChild(t,e.getNativeView()),e.activate(),this.mActiveViews.pushBack(e)},r.activateAndManageViewsFromPool=function(e,t,i,o){if(1!=i)for(var r=0;r<i;r++){var s=this.mViewSchedulerPool.getAvailableViewScheduler();s.setParams(this,e,t,r*o),this.mViewSchedulers.pushBack(s)}else this.activateAndManageViewFromPool(e,t)},r.autoActivateAndManageViewsFromPool=function(e,t){var i=this.getViewPool(e);if(i){var o=i.getAutoActivateNumViews(),r=i.getAutoActivatePerViewDelayMSEC();this.activateAndManageViewsFromPool(e,t,o,r)}},r.processTime=function(e){var t=0,i=null,o=this.mActiveViews.getNumObjects();for(t=0;t<o;t++)(i=this.mActiveViews.getAtIndex(t)).processTime(e),i.isActive()||(this.removeActiveViewAtIndex(t),t--,o=this.mActiveViews.getNumObjects());var r=null,s=this.mViewSchedulers.getNumObjects();for(t=0;t<s;t++)(r=this.mViewSchedulers.getAtIndex(t)).processTime(e),r.isActive()||(this.mViewSchedulers.removeAtIndex(t),this.mViewSchedulerPool.recycleObject(r),t--,s=this.mViewSchedulers.getNumObjects())},r.createViewPools=function(e){if(e)for(var t=e.getNumValues(),i=0;i<t;i++){var o=e.getDictionaryAtIndex(i);this.createViewPool(e.getValueKeyAtIndex(i),o)}},r.createViewPool=function(e,t){if(t.getBoolValueWithDefault(c.x2708091938147563541x,!0)){var i=this.getViewPool(e);i||(i=new c(e,t,this.mViewFactory,this.mAnimatorsMessageHandler),this.mViewPools.setObjectValue(e,i))}},r.getViewPool=function(e){return this.mViewPools.getObjectValue(e)},r.removeActiveViewAtIndex=function(e){var t=this.mActiveViews.getAtIndex(e);this.mActiveViews.removeAtIndex(e),t.deactivate();var i=t.getPoolId();if(0!=i){var o=this.getViewPool(i);if(o)return void o.recycleObject(t)}null!==t&&(t.destroy(),t=null)},r.removeAllActiveViews=function(){for(;this.mActiveViews.getNumObjects()>0;)this.removeActiveViewAtIndex(this.mActiveViews.getNumObjects()-1)},r.x2766708504066152543x=function(){this.removeAllActiveViews(),null!==this.mActiveViews&&(this.mActiveViews.destroy(),this.mActiveViews=null),null!==this.mViewPools&&(this.mViewPools.destroy(),this.mViewPools=null),this.mAnimatorsMessageHandler=null,null!==this.mViewSchedulerPool&&(this.mViewSchedulerPool.destroy(),this.mViewSchedulerPool=null),null!==this.mViewSchedulers&&(this.mViewSchedulers.destroy(),this.mViewSchedulers=null),e.prototype.x2766708504066152543x.call(this)},i(o,null,[{key:"x2181844145321071127x",get:function(){return 835962050}},{key:"x614952789162816177x",get:function(){return 25477729}}]),o}(r));o._RF.pop()}}}));System.register("chunks:///_virtual/x760432494733790579x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3816109174930716273x.ts"],(function(t){"use strict";var e,a,i,r;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass},function(t){i=t.cclegacy},function(t){r=t.x3816109174930716273x}],execute:function(){i._RF.push({},"300e2H57jRLkYAY5RLFCm+Z","x760432494733790579x",void 0);t("x760432494733790579x",function(t){function i(e,a,r,o){var n;(n=t.call(this)||this).mPoolId=e,n.mParams=a.x1983177741811147517x();var u=n.mParams.getDictionary(i.x3678644677928331835x);return u?(n.mAutoActivateNumViews=u.getIntValueWithDefault(i.x3499731725181278119x,1),n.mAutoActivatePerViewDelayMSEC=u.getIntValueWithDefault(i.x1365469551322861938x,0)):(n.mAutoActivateNumViews=1,n.mAutoActivatePerViewDelayMSEC=0),n.mViewParams=n.mParams.getDictionary(i.x3202198524596799365x),n.mViewFactory=r,n.mAnimatorsMessageHandler=o,n.setAutoRefillCount(a.getIntValue(i.x3633038305099776885x)),n.createObjects(a.getIntValue(i.x569361904197130088x)),n}e(i,t);var r=i.prototype;return r.getPoolId=function(){return this.mPoolId},r.getParams=function(){return this.mParams},r.getAvailableView=function(){var t=this.getAvailableObject();return t.setPoolId(this.mPoolId),t.setParams(this.mViewParams,this.mViewFactory.getResourceMgr(),this.mAnimatorsMessageHandler),t},r.getAutoActivateNumViews=function(){return this.mAutoActivateNumViews},r.getAutoActivatePerViewDelayMSEC=function(){return this.mAutoActivatePerViewDelayMSEC},r.x2766708504066152543x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),this.mAnimatorsMessageHandler=null,t.prototype.x2766708504066152543x.call(this)},r.x2027713709837142785x=function(){var t=this.mViewFactory.createView(this.mViewParams,this.mAnimatorsMessageHandler);return t&&t.setPoolId(this.mPoolId),t},r.x3799944225895678524x=function(t){},a(i,null,[{key:"x2708091938147563541x",get:function(){return 488921072}},{key:"x569361904197130088x",get:function(){return 1649809756}},{key:"x3633038305099776885x",get:function(){return 853414457}},{key:"x3678644677928331835x",get:function(){return 234485561}},{key:"x3499731725181278119x",get:function(){return 1781274393}},{key:"x1365469551322861938x",get:function(){return 1655239478}},{key:"x3202198524596799365x",get:function(){return 1900243580}}]),i}(r));i._RF.pop()}}}));System.register("chunks:///_virtual/x1954139913922516872x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2825914500079770252x.ts"],(function(t){"use strict";var e,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.x2825914500079770252x}],execute:function(){i._RF.push({},"d4b310A7BFF4biLznYIOEmc","x1954139913922516872x",void 0);t("x1954139913922516872x",function(t){function i(){var e;return(e=t.call(this)||this).mViewMgr=null,e.mPoolId=0,e.mParent=null,e.mDelayMSEC=0,e}e(i,t);var r=i.prototype;return r.setParams=function(t,e,i,r){this.mViewMgr=t,this.mPoolId=e,this.mParent=i,this.mDelayMSEC=r,this.tryActivateView()},r.processTime=function(t){this.mDelayMSEC-=t,this.tryActivateView()},r.isActive=function(){return this.mDelayMSEC>0&&this.mViewMgr},r.tryActivateView=function(){this.mDelayMSEC<=0&&this.mViewMgr&&(this.mViewMgr.activateAndManageViewFromPool(this.mPoolId,this.mParent),this.mViewMgr=null,this.mPoolId=0,this.mParent=null,this.mDelayMSEC=0)},r.x2904717359915390404x=function(){return this.mViewMgr=null,this.mPoolId=0,this.mParent=null,this.mDelayMSEC=0,t.prototype.x2904717359915390404x.call(this),!0},r.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},i}(r));i._RF.pop()}}}));System.register("chunks:///_virtual/x2467032877919158634x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3816109174930716273x.ts","./x1954139913922516872x.ts"],(function(e){"use strict";var t,c,o,n;return{setters:[function(e){t=e.inheritsLoose},function(e){c=e.cclegacy},function(e){o=e.x3816109174930716273x},function(e){n=e.x1954139913922516872x}],execute:function(){c._RF.push({},"8ee747K+x9JMIN6BgMHRn1c","x2467032877919158634x",void 0);e("x2467032877919158634x",function(e){function c(){return e.call(this)||this}t(c,e);var o=c.prototype;return o.getAvailableViewScheduler=function(){return this.getAvailableObject()},o.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},o.x2027713709837142785x=function(){return new n},c}(o));c._RF.pop()}}}));System.register("chunks:///_virtual/x4023525633718419706x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4370363482510417528x.ts","./x1180903263758642626x.ts","./x1390687146982484874x.ts","./x4381590689536211342x.ts","./x1524061326405894558x.ts","./x1571392179616890590x.ts","./x3306425748504801929x.ts","./x3145502219046978834x.ts","./x4366047524965612542x.ts","./x3427967448068253605x.ts","./x604251603548704409x.ts","./x1758453316087659781x.ts","./x892787543274557650x.ts","./x1574210240713364163x.ts","./x2097869248932025724x.ts","./x908938137131706570x.ts","./x2507407283676726775x.ts","./x4098290712086327076x.ts","./x3706003529256001588x.ts","./x1713446950433382713x.ts","./x1177161736142671045x.ts","./x1799845943152998709x.ts"],(function(e){"use strict";var t,n,a,i,r,s,o,g,c,S,u,d,h,l,m,P,p,M,B,T,y,A,D,f,I,G;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,a=e.assertThisInitialized},function(e){i=e.cclegacy},function(e){r=e.x4370363482510417528x},function(e){s=e.x1180903263758642626x},function(e){o=e.x1390687146982484874x},function(e){g=e.x4381590689536211342x},function(e){c=e.x1524061326405894558x},function(e){S=e.x1571392179616890590x},function(e){u=e.x3306425748504801929x},function(e){d=e.x3145502219046978834x},function(e){h=e.x4366047524965612542x},function(e){l=e.x3427967448068253605x},function(e){m=e.x604251603548704409x},function(e){P=e.x1758453316087659781x},function(e){p=e.x892787543274557650x},function(e){M=e.x1574210240713364163x},function(e){B=e.x2097869248932025724x},function(e){T=e.x908938137131706570x},function(e){y=e.x2507407283676726775x},function(e){A=e.x4098290712086327076x},function(e){D=e.x3706003529256001588x},function(e){f=e.x1713446950433382713x},function(e){I=e.x1177161736142671045x},function(e){G=e.x1799845943152998709x}],execute:function(){i._RF.push({},"7312247vaFG+qjTh9zmPHF8","x4023525633718419706x",void 0);e("x4023525633718419706x",function(e){function i(t,n,r,s){var g;return(g=e.call(this,o.stringToUpperCase(""==t?i.x4211241886204463172x:t),n,r,s)||this).mHighScoresMgr=null,g.mVSCPURecordsMgr=null,g.mOnboardingMgr=null,g.mIsAIAutoModeOn=!1,g.x865382288453454388x=d.tryCreate(n,a(g)),g}t(i,e),i.isTetrionBuildNumberValid=function(e){var t=o.stringToInt(o.substringToIndex(i.x994549163117196175x,o.lastIndexInString(i.x994549163117196175x,"."))),n=o.stringToInt(o.substringFromIndex(i.x994549163117196175x,o.lastIndexInString(i.x994549163117196175x,".")+1)),a=o.stringToInt(o.substringToIndex(e,o.lastIndexInString(e,"."))),r=o.stringToInt(o.substringFromIndex(e,o.lastIndexInString(e,".")+1));return!(a<t)&&(a>t||r>=n)};var r=i.prototype;return r.getSavedDataId=function(){return this.x2225474001077625750x().getStringValueWithKeyStringPath("savedDataId")},r.getHighScoresMgr=function(){return this.mHighScoresMgr},r.getVSCPURecordsMgr=function(){return this.mVSCPURecordsMgr},r.getOnboardingMgr=function(){return this.mOnboardingMgr},r.getGUAEventCategory=function(){return this.x2225474001077625750x().getStringValueWithKeyStringPath("analytics.GoogleUniversalAnalytics.eventCategory")},r.resetAllSavedData=function(){this.dispatchMessage(i.x1617146197946469319x,this,null)},r.getIsAIAutoModeOn=function(){return this.mIsAIAutoModeOn},r.setIsAIAutoModeOn=function(e){this.mIsAIAutoModeOn!=e&&(this.mIsAIAutoModeOn=e,this.getSceneMgr().getManagedScene("gameOver").getSceneParams().setIntValueWithKeyStringPath("autoPlayDelayMSEC",this.mIsAIAutoModeOn?5e3:-1),this.x4329476012501355321x().setStringValueWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.control.params.initialActiveInputType",this.mIsAIAutoModeOn?"AI":"direct"),this.x4329476012501355321x().setBoolValueWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.control.params.enableAutomaticInputTypeSwitching",!this.mIsAIAutoModeOn),this.x4329476012501355321x().setBoolValueWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.control.params.AIInput.enabled",!!this.mIsAIAutoModeOn))},r.createManagedScene=function(e,t){var n=t.getDictionaryWithKeyString(e);return n&&n.getBoolValueWithDefault(o.stringToValueKey("enabled"),!0)?"captureControlId"==e?new l(this,n):"confirm"==e?new m(this,n):"game"==e?new P(this,n):"gameBreak"==e?new p(this,n):"gameOver"==e?new M(this,n):"gamePaused"==e?new B(this,n):"help"==e?new T(this,n):"interstitialAd"==e?new y(this,n):"mainMenu"==e?new D(this,n):"moreGames"==e?new f(this,n):"newHighScore"==e?new I(this,n):"options"==e?new G(this,n):null:null},r.x2766708504066152543x=function(){null!==this.mHighScoresMgr&&(this.mHighScoresMgr.destroy(),this.mHighScoresMgr=null),null!==this.mVSCPURecordsMgr&&(this.mVSCPURecordsMgr.destroy(),this.mVSCPURecordsMgr=null),null!==this.mOnboardingMgr&&(this.mOnboardingMgr.destroy(),this.mOnboardingMgr=null),null!==this.x865382288453454388x&&(this.x865382288453454388x.destroy(),this.x865382288453454388x=null),e.prototype.x2766708504066152543x.call(this)},r.x1473523524288163967x=function(e){return new c(e)},r.x1283669502769947798x=function(e){e.addResources(this.x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.gameView"),"game1"),e.addResources(this.x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.gameAudio.effects"),"game2"),e.addResources(this.x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.gameAudio.metaEffects"),"game2"),e.addResources(this.x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.gameAudio.music"),"game3")},r.x270221986762238220x=function(){var e=this.x2225474001077625750x().getDictionaryWithKeyString("scenes");return new A(this,e.getDictionaryWithKeyString("loading"))},r.x733539385885630082x=function(e){this.mHighScoresMgr=new S(this.x2225474001077625750x().getDictionaryWithKeyStringPath("highScoreMgr"),this),this.x2225474001077625750x().getDictionaryWithKeyStringPath("VSCPURecordsMgr")&&(this.mVSCPURecordsMgr=new h(this.x2225474001077625750x().getDictionaryWithKeyStringPath("VSCPURecordsMgr"),this)),this.mOnboardingMgr=new u(this,this.x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.levels.params"));var t=this.x2225474001077625750x().getDictionaryWithKeyString("scenes");e.addManagedScene(this.createManagedScene("captureControlId",t)),e.addManagedScene(this.createManagedScene("confirm",t)),e.addManagedScene(this.createManagedScene("game",t)),e.addManagedScene(this.createManagedScene("gameBreak",t)),e.addManagedScene(this.createManagedScene("gameOver",t)),e.addManagedScene(this.createManagedScene("gamePaused",t)),e.addManagedScene(this.createManagedScene("help",t)),e.addManagedScene(this.createManagedScene("interstitialAd",t)),e.addManagedScene(this.createManagedScene("mainMenu",t)),e.addManagedScene(this.createManagedScene("moreGames",t)),e.addManagedScene(this.createManagedScene("newHighScore",t)),e.addManagedScene(this.createManagedScene("options",t))},r.x102165765800709878x=function(e){switch(e){case s.x4034378681244256036x:(this.x4329476012501355321x().getBoolValueWithKeyStringPath("debug.enableAIPlay")||g.isPlatformOSXEditor())&&this.setIsAIAutoModeOn(!this.mIsAIAutoModeOn)}},n(i,null,[{key:"x1617146197946469319x",get:function(){return 1567159012}},{key:"x4211241886204463172x",get:function(){return"289.01"}},{key:"x994549163117196175x",get:function(){return"288.01"}}]),i}(r));i._RF.pop()}}}));System.register("chunks:///_virtual/x515279092969326509x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1594045878923188925x.ts","./x1390687146982484874x.ts","./x1825263265700717187x.ts","./x1180903263758642626x.ts","./x832182382730187518x.ts","./x4381590689536211342x.ts","./x4023525633718419706x.ts"],(function(e){"use strict";var t,n,o,i,r,a,s,c,d,u,h,p,l,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Component},function(e){c=e.x1594045878923188925x},function(e){d=e.x1390687146982484874x},function(e){u=e.x1825263265700717187x},function(e){h=e.x1180903263758642626x},function(e){p=e.x832182382730187518x},function(e){l=e.x4381590689536211342x},function(e){g=e.x4023525633718419706x}],execute:function(){var m,v,P,S,f,B,T,M;r._RF.push({},"c13be5XiHpIlJR6S+jfffIF","x515279092969326509x",void 0);var y=a.ccclass,C=a.property;e("x515279092969326509x",y("x515279092969326509x")((P=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"requireIFrame",P,i(t)),o(t,"gameContentBasePath",S,i(t)),o(t,"gameDataFilePath",f,i(t)),o(t,"gameDataOverrideFilePath",B,i(t)),o(t,"enableGameBGDiv",T,i(t)),o(t,"buildNumberOverride",M,i(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){cc._global.CC_DEBUG||(cc.log=function(){}),cc.log("x515279092969326509x::onLoad"),c.doStaticInit(),l.doStaticInit();var e=this.gameContentBasePath;try{this.gameContentBasePath=d.x2002177365636751078x(window.gameContentBasePath,0)}catch(t){this.gameContentBasePath=e}this.mGameResourcesRootPath=d.x2002177365636751078x("remote://./../"+d.x4379805376353750514x(this.gameContentBasePath)+d.x4379805376353750514x("PBEFWJMSJJBNEJAHOMCLQODGAKHSBOJLIHXL"),0),this.mBPSApp=null,cc.log("x515279092969326509x::onLoad: platform: "+l.getPlatformName()),cc.log("x515279092969326509x::onLoad: OS: "+l.getSystemOS()),cc.log("x515279092969326509x::onLoad: origin: "+l.getApplicationOrigin()),cc.log("x515279092969326509x::onLoad: window.location.href: "+window.location.href),cc.log("x515279092969326509x::onLoad: browserType: "+cc.sys.browserType),cc.log("x515279092969326509x::onLoad: browserVersion: "+cc.sys.browserVersion),cc.log("x515279092969326509x::onLoad: mGameResourcesRootPath: "+d.x4379805376353750514x(this.mGameResourcesRootPath)),this.transformComponent=this.node.getComponent("cc.UITransform");try{var t=window.location.href,n=new URL(t),o=n.searchParams.get("x825609486");o&&0!==o.length&&(cc.log("x515279092969326509x::onLoad: gameDataFilePathOverride: "+o),this.gameDataFilePath=o),cc.log("x515279092969326509x::onLoad: gameDataFilePath: "+this.gameDataFilePath);var i=n.searchParams.get("x966081210");i&&0!==i.length&&(cc.log("x515279092969326509x::onLoad: gameDataOverrideFilePathOverride: "+i),this.gameDataOverrideFilePath=i),cc.log("x515279092969326509x::onLoad: gameDataOverrideFilePath: "+this.gameDataOverrideFilePath)}catch(e){}this.mResourceMgr=new p(d.x4379805376353750514x(this.mGameResourcesRootPath)),this.mResourceMgr.addTextResource("x825609486","",d.x4379805376353750514x(this.gameDataFilePath)),this.gameDataOverrideFilePath&&0!==this.gameDataOverrideFilePath.length&&this.mResourceMgr.addTextResource("x966081210","",d.x4379805376353750514x(this.gameDataOverrideFilePath)),this.mResourceMgr.startLoading()},r.start=function(){cc.log("x515279092969326509x::start")},r.update=function(e){if(this.mBPSApp)this.mBPSApp.processTimeSEC(e);else{if(!this.mResourceMgr.isDoneLoading(""))return cc.log("x515279092969326509x::update: waiting for mResourceMgr..."),void this.mResourceMgr.processLoading();this.x296727958955465224x()}},r.x296727958955465224x=function(){cc.log("x515279092969326509x::x296727958955465224x"),cc.log("x515279092969326509x::x296727958955465224x: base origin: "+l.getApplicationBaseOrigin());var e=this;if(this.requireIFrame&&!(window.frameElement&&"IFRAME"==window.frameElement.nodeName))return void(window.location.href="/");var t=this.mResourceMgr.getText("x825609486","{"),n=new u(!0);if(n.parseJSONString(t,!0,!1),this.gameDataOverrideFilePath&&0!==this.gameDataOverrideFilePath.length){var o=this.mResourceMgr.getText("x966081210","{"),i=new u(!0);i.parseJSONString(o,!0,!1),i.synchronizeWithSource(n,!1,!1,!1),n=i}var r={};if(r.nativeAppRootView=this.node,r.enableGameBGDiv=this.enableGameBGDiv,this.mBPSApp=new g(this.buildNumberOverride,n,r,d.x4379805376353750514x(this.mGameResourcesRootPath)),window){window.mBPSApp=this.mBPSApp;try{window.getGameCanvas().addEventListener("blur",this.onGameCanvasDeactivated),this.mDidAddKeyEventHandlersOnFocus=!1,window.getGameCanvas().addEventListener("focus",(function(t){e.mDidAddKeyEventHandlersOnFocus||(e.addKeyEventListeners(),e.mDidAddKeyEventHandlersOnFocus=!0),window.mBPSApp&&window.mBPSApp.onAppActivated()}))}catch(e){}}this.mBPSApp.run(),n.destroy(),n=null,this.didAddKeyEventListeners=!1,this.addKeyEventListeners(),cc.sys.hasFeature(cc.sys.Feature.EVENT_MOUSE)&&(this.node.on(cc.Node.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(cc.Node.EventType.MOUSE_UP,this.onMouseUp,this),this.node.on(cc.Node.EventType.MOUSE_MOVE,this.onMouseMove,this)),cc.sys.hasFeature(cc.sys.Feature.INPUT_TOUCH)&&(this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)),this.addEventsToCancelPointerInput(document),this.addEventsToCancelPointerInput(document.documentElement),this.addEventsToCancelPointerInput(window)},r.addKeyEventListeners=function(){if(!this.didAddKeyEventListeners){this.didAddKeyEventListeners=!0;var e=this;cc.game.canvas.addEventListener("keydown",(function(t){e.mBPSApp.handleDeviceControlOn(h.x1465526023299306006x,h.x3473643361474629144x(t.keyCode),0,0)}),!1),cc.game.canvas.addEventListener("keyup",(function(t){e.mBPSApp.handleDeviceControlOff(h.x1465526023299306006x,h.x3473643361474629144x(t.keyCode),0,0)}),!1)}},r.addEventsToCancelPointerInput=function(e){cc.sys.hasFeature(cc.sys.Feature.INPUT_TOUCH)||this.addEventToCancelPointerInput(e,"mouseup")},r.addEventToCancelPointerInput=function(e,t){self=this,e.addEventListener(t,(function(e){self.mGameMgr&&self.mGameMgr.mStandardControlInterface&&self.mGameMgr.mStandardControlInterface.handleInputOnIsCancelled(self.mPointerInputId)}))},r.convertPointerLocation=function(e){return e.x-=.5*this.transformComponent.width,e.y-=.5*this.transformComponent.height,e},r.getMouseEventButton=function(e){switch(e.getButton()){case cc.Event.EventMouse.BUTTON_LEFT:return h.x4239702654204980592x;case cc.Event.EventMouse.BUTTON_RIGHT:return h.x3293944736935869883x;default:return h.x4239702654204980592x}},r.onGameCanvasDeactivated=function(e){window.mBPSApp&&window.mBPSApp.onAppDeactivated()},r.onMouseDown=function(e){var t=this.convertPointerLocation(e.getUILocation());this.mBPSApp.handleDeviceControlOn(h.x320090993451744452x,this.getMouseEventButton(e),t.x,t.y)},r.onMouseUp=function(e){var t=this.convertPointerLocation(e.getUILocation());this.mBPSApp.handleDeviceControlOff(h.x320090993451744452x,this.getMouseEventButton(e),t.x,t.y)},r.onMouseMove=function(e){var t=this.convertPointerLocation(e.getUILocation());this.mBPSApp.handleDeviceControlValues(h.x320090993451744452x,this.getMouseEventButton(e),t.x,t.y)},r.onTouchStart=function(e){var t=this.convertPointerLocation(e.touch.getUILocation());this.mBPSApp.handleDeviceControlOn(h.x320090993451744452x,h.x4239702654204980592x,t.x,t.y)},r.onTouchMove=function(e){var t=this.convertPointerLocation(e.touch.getUILocation());this.mBPSApp.handleDeviceControlValues(h.x320090993451744452x,h.x4239702654204980592x,t.x,t.y)},r.onTouchEnd=function(e){var t=this.convertPointerLocation(e.touch.getUILocation());this.mBPSApp.handleDeviceControlOff(h.x320090993451744452x,h.x4239702654204980592x,t.x,t.y)},r.onTouchCancel=function(e){this.onTouchEnd(e)},t}(s)).prototype,"requireIFrame",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=t(v.prototype,"gameContentBasePath",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=t(v.prototype,"gameDataFilePath",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"PBIGWJLSGJNNHJPGSODLMMOFQJSRKNBMPHYLKMMGSOOKCGSCNRZJZFTJAGJJHMNHYGMTKGYOUKVNMECDHPTCHQKHHKRGWDYGTDCHJDWGHPMKLKSRLF"}}),B=t(v.prototype,"gameDataOverrideFilePath",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=t(v.prototype,"enableGameBGDiv",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=t(v.prototype,"buildNumberOverride",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=v))||m);r._RF.pop()}}}));System.register("chunks:///_virtual/x1524061326405894558x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4119940741088217684x.ts","./x1390687146982484874x.ts","./x2366092098299710912x.ts","./x1464130944625877292x.ts"],(function(t){"use strict";var e,r,o,p,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},function(t){o=t.x4119940741088217684x},function(t){p=t.x1390687146982484874x},function(t){c=t.x2366092098299710912x},function(t){i=t.x1464130944625877292x}],execute:function(){r._RF.push({},"57b6bDYR1FLBKFCoF2OTxS0","x1524061326405894558x",void 0);t("x1524061326405894558x",function(t){function r(e){return t.call(this,e)||this}e(r,t);var o=r.prototype;return o.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},o.x4316307327377130222x=function(e,r){return r==p.x4379805376353750514x("IEBQVCMGQSOGCSAQEJFQDEJPKTJMJITFKNSPYIFQKJ")?new c(this):r==p.x4379805376353750514x("HIZIHLIEOLAPALWIKRRMPQJILLXEPRFOZKROHRHJERTN")?new i(this):t.prototype.x4316307327377130222x.call(this,e,r)},r}(o));r._RF.pop()}}}));System.register("chunks:///_virtual/x1571392179616890590x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x1825263265700717187x.ts","./x1390687146982484874x.ts","./x3956211014191467053x.ts","./x370408543499406949x.ts","./x4023525633718419706x.ts","./x1758453316087659781x.ts"],(function(e){"use strict";var t,r,i,s,a,n,o,c,g,u,h;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,i=e.assertThisInitialized},function(e){s=e.cclegacy},function(e){a=e.x4472346643782045245x},function(e){n=e.x1825263265700717187x},function(e){o=e.x1390687146982484874x},function(e){c=e.x3956211014191467053x},function(e){g=e.x370408543499406949x},function(e){u=e.x4023525633718419706x},function(e){h=e.x1758453316087659781x}],execute:function(){s._RF.push({},"590f89qAZNGEYUSraGbgh6m","x1571392179616890590x",void 0);e("x1571392179616890590x",function(e){function s(t,r){var a;return(a=e.call(this)||this).mParams=t.x1983177741811147517x(),a.mIsEnabled=t.getBoolValueWithDefault(s.x2708091938147563541x,!0),a.x2506607514104443438x=r,a.mIsEnabled&&(r.addMessageListener(i(a)),r.getSceneMgr().addMessageListener(i(a))),a.mHighScoresDictionary=new n(!0),a.mNumEntries=t.getIntValue(s.x2379462954561088664x),a.mPlaceholderName=t.getStringValue(s.x1562237240401229656x),a.mLastScoreIndex=-1,a.mLastScore=0,a.mIsLastScoreNewHighScore=!1,a.mHighScore=0,a}t(s,e);var a=s.prototype;return a.resetHighScores=function(){if(this.mIsEnabled){this.mHighScoresDictionary.removeAllValues(),this.mHighScoresDictionary.setIntValue(s.x2299806899569238936x,s.x4041496623903616679x);var e=new n(!0);this.mHighScoresDictionary.setObjectValue(s.x1482976203822241326x,e);for(var t=this.mParams.getIntValue(s.x3555192240704918512x),r=this.mParams.getIntValue(s.x78172029200607325x),i=1;i<=this.mNumEntries;i++)this.processNewScore(t,this.mPlaceholderName,!1),t=o.maxInt(t-r,0);this.mHighScoresDictionary.setStringValue(s.x821568381887722545x,""),this.saveHighScoresToPrefs(),this.mLastScoreIndex=-1,this.mLastScore=0,this.mIsLastScoreNewHighScore=!1,this.mHighScore=0}},a.didLoadHighScores=function(){return!!this.mIsEnabled&&this.mHighScoresDictionary.getIntValueWithDefault(s.x2299806899569238936x,0)==s.x4041496623903616679x},a.getNumEntries=function(){return this.didLoadHighScores()?this.mHighScoresDictionary.getDictionary(s.x1482976203822241326x).getNumValues():0},a.getNameForIndex=function(e){if(!this.didLoadHighScores())return"";var t=this.getEntryDictForIndex(e);return t?t.getStringValue(s.x912681181343622641x):""},a.setNameForIndex=function(e,t,r){if(this.didLoadHighScores()){var i=this.getEntryDictForIndex(e);i&&(i.setStringValue(s.x912681181343622641x,t),this.mHighScoresDictionary.setStringValue(s.x821568381887722545x,t),r&&this.saveHighScoresToPrefs(),this.dispatchMessage(s.x2545840254066601578x,this,null))}},a.getScoreForIndex=function(e){if(!this.didLoadHighScores())return 0;var t=this.getEntryDictForIndex(e);return t?t.getIntValue(s.x1033531069195782314x):0},a.getScoreStringForIndex=function(e){var t=this.getScoreForIndex(e);switch(o.stringToHash32(this.mParams.getStringValue(s.x3902997591581670408x))){case s.x543462097173364869x:return t>=0?o.stringFromInt(t,1,!0):"";case s.x1270529854825008971x:return t>=0?o.timeStringFromMSEC(t,1,3):"";default:return""}},a.getLastScoreIndex=function(){return this.mLastScoreIndex},a.getLastScore=function(){return this.mLastScore},a.isLastScoreNewHighScore=function(){return this.mIsLastScoreNewHighScore},a.getHighScore=function(){return this.mHighScore},a.getSavedHighScoresDataId=function(){return this.x2506607514104443438x.getSavedDataId()+"-highScores"},a.getEntryDictForIndex=function(e){return this.mHighScoresDictionary.getDictionary(s.x1482976203822241326x).getDictionary(o.stringToValueKey(o.stringFromInt(e,0,!1)))},a.loadHighScoresFromPrefs=function(){if(this.mIsEnabled){this.mHighScoresDictionary.removeAllValues();var e=this.x2506607514104443438x.getPrefsString(this.getSavedHighScoresDataId(),"");e&&""!=e&&this.mHighScoresDictionary.parseJSONString(e,!1,!0);for(var t=this.mHighScoresDictionary.getIntValueWithDefault(s.x2299806899569238936x,0);t<s.x4041496623903616679x;)switch(t){case 0:case 1:case 2:default:this.resetHighScores(),t=s.x4041496623903616679x}this.mLastScoreIndex=-1,this.mLastScore=0,this.mHighScore=this.getScoreForIndex(1),this.mIsLastScoreNewHighScore=!1,this.dispatchMessage(s.x2545840254066601578x,this,null)}},a.saveHighScoresToPrefs=function(){if(this.mIsEnabled&&this.didLoadHighScores()){this.mHighScoresDictionary.resetAllKeyStringsToKeyValue();var e=this.mHighScoresDictionary.toJSONString(null,!0,-1);this.x2506607514104443438x.setPrefsString(this.getSavedHighScoresDataId(),e),this.x2506607514104443438x.savePrefs()}},a.invalidateLastScore=function(){this.mLastScoreIndex=-1,this.mLastScore=0,this.mIsLastScoreNewHighScore=!1},a.processNewScore=function(e,t,r){if(this.mIsEnabled&&this.didLoadHighScores()){var i=this.mParams.getBoolValue(s.x73721720226786757x);this.mLastScore=e,this.mIsLastScoreNewHighScore=!1;var a=-1,c=0,g=this.mHighScoresDictionary.getDictionary(s.x1482976203822241326x),u=g.getNumValues();if(u>0){for(c=1;c<=u;c++){var h=g.getDictionary(o.stringToValueKey(o.stringFromInt(c,0,!1)));if(i?e>h.getIntValue(s.x1033531069195782314x):e<h.getIntValue(s.x1033531069195782314x)){a=c;break}}a<=0&&u<this.mNumEntries&&(a=u+1)}else a=1;if(a>0){for(this.mLastScoreIndex=a,1==a&&(this.mIsLastScoreNewHighScore=!0,this.mHighScore=e),c=u;c>=a;c--){var S=g.getValueWithKeyString(o.stringFromInt(c,0,!1)),l=c+1;l>this.mNumEntries?g.removeValue(S.getKey()):S.setKeyString(o.stringFromInt(l,0,!1))}var m=new n(!0);m.setStringValue(s.x912681181343622641x,t),m.setIntValue(s.x1033531069195782314x,e),g.setObjectValue(o.stringToValueKey(o.stringFromInt(a,0,!1)),m),this.mHighScoresDictionary.setStringValue(s.x821568381887722545x,t),r&&this.saveHighScoresToPrefs(),this.dispatchMessage(s.x2545840254066601578x,this,null)}else this.mLastScoreIndex=-1}},a.x2766708504066152543x=function(){this.x2506607514104443438x.removeMessageListener(this),this.x2506607514104443438x.getSceneMgr().removeMessageListener(this),h.getInstance().removeMessageListener(this),null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mHighScoresDictionary&&(this.mHighScoresDictionary.destroy(),this.mHighScoresDictionary=null),e.prototype.x2766708504066152543x.call(this)},a.x976210321608527258x=function(e,t,r){switch(e){case g.x3579436887302429561x:this.loadHighScoresFromPrefs(),h.getInstance().addMessageListener(this);break;case h.x1123773354488145129x:this.invalidateLastScore();var i=h.getInstance().getGameMgr().getPlayerAtIndex(0);if(this.mParams.getBoolValue(s.x1099439902255692471x)&&!i.didCompleteGameSuccessfully())return;switch(o.stringToHash32(this.mParams.getStringValue(s.x3902997591581670408x))){case s.x543462097173364869x:var a=i.getComponent(c.x2916177341484739471x);this.processNewScore(a.getScore(),this.mHighScoresDictionary.getStringValue(s.x821568381887722545x),!0);break;case s.x1270529854825008971x:var n=i.getElapsedActiveGameTimeMSEC();this.processNewScore(n,this.mHighScoresDictionary.getStringValue(s.x821568381887722545x),!0)}break;case u.x1617146197946469319x:this.resetHighScores()}},r(s,null,[{key:"x2708091938147563541x",get:function(){return 488921072}},{key:"x2379462954561088664x",get:function(){return 932455899}},{key:"x1562237240401229656x",get:function(){return 1170172045}},{key:"x3902997591581670408x",get:function(){return 983889899}},{key:"x1099439902255692471x",get:function(){return 809275726}},{key:"x73721720226786757x",get:function(){return 10829655}},{key:"x3555192240704918512x",get:function(){return 1586331716}},{key:"x78172029200607325x",get:function(){return 1019923825}},{key:"x4041496623903616679x",get:function(){return 3}},{key:"x2545840254066601578x",get:function(){return 2070696036}},{key:"x2299806899569238936x",get:function(){return 648332039}},{key:"x821568381887722545x",get:function(){return 328424219}},{key:"x1482976203822241326x",get:function(){return 245514879}},{key:"x912681181343622641x",get:function(){return 52021276}},{key:"x1033531069195782314x",get:function(){return 1026088449}},{key:"x543462097173364869x",get:function(){return 1026088449}},{key:"x1270529854825008971x",get:function(){return 1539948732}}]),s}(a));s._RF.pop()}}}));System.register("chunks:///_virtual/x2366092098299710912x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x689332512328257358x.ts","./x1825263265700717187x.ts","./x1390687146982484874x.ts","./x4370363482510417528x.ts","./x4381590689536211342x.ts","./x1571392179616890590x.ts"],(function(e){"use strict";var t,r,i,a,n,o,s,h,l;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){i=e.cclegacy},function(e){a=e.x689332512328257358x},function(e){n=e.x1825263265700717187x},function(e){o=e.x1390687146982484874x},function(e){s=e.x4370363482510417528x},function(e){h=e.x4381590689536211342x},function(e){l=e.x1571392179616890590x}],execute:function(){i._RF.push({},"d53715aKztO+oL1huX1yMqO","x2366092098299710912x",void 0);e("x2366092098299710912x",function(e){function i(t){var r;return(r=e.call(this,t)||this).mParams=new n(!0),r.mHighScoreEntryStyleNormalEven=new n(!0),r.mHighScoreEntryStyleNormalOdd=new n(!0),r.mHighScoreEntryStyleHighlight=new n(!0),r}t(i,e);var a=i.prototype;return a.updateAsLocalHighScoresType=function(){for(var e=s.instance().getHighScoresMgr(),t=this.mParams.getIntValue(i.x1811590466282848882x),r=0;r<t;r++)this.setEntryValues(r,e.getNameForIndex(r+1),e.getScoreStringForIndex(r+1),!1)},a.setEntryValues=function(e,t,r,i){var a=this.getRootView().getDescendantNamed("entriesContainer").getChildAtIndex(e),n=a.getDescendantNamed(o.x4379805376353750514x("ICGNUQDJSE"));t=o.stringToUpperCase(t),n.setText(t),a.getDescendantNamed(o.x4379805376353750514x("HDXTOGRPRLFP")).setText(r),i?a.setStyle(this.mHighScoreEntryStyleHighlight):a.setStyle(h.isEven(e)?this.mHighScoreEntryStyleNormalEven:this.mHighScoreEntryStyleNormalOdd)},a.x2187205631974265155x=function(t){this.mParams.copy(t,!0);var r=s.instance();r.getHighScoresMgr().removeMessageListener(this);var a=o.stringToValueKey(t.getStringValue(i.x3549776321453894707x)),n=t.getIntValue(i.x1811590466282848882x);switch(a){case i.x2434796579268378633x:r.getHighScoresMgr().addMessageListener(this)}var l=t.getDictionaryWithKeyStringPath("content._BPSContainerView:entriesContainer.children"),g=l.getDictionaryWithKeyString("_BPSUIPanel:highScoreEntry").x1983177741811147517x();l.removeValue(o.stringToValueKey("_BPSUIPanel:highScoreEntry")),this.mHighScoreEntryStyleNormalEven.copy(g.getDictionaryWithKeyString("style"),!0),this.mHighScoreEntryStyleNormalEven.getDictionaryWithKeyStringPath("frame.textures.texture:frame").setStringValue(o.stringToValueKey("resource_texture"),g.getStringValueWithKeyStringPath("frameParams.normalState.resource_texture")),this.mHighScoreEntryStyleNormalEven.getDictionaryWithKeyStringPath("frame.textures.texture:frame").setFloatValue(o.stringToValueKey("alpha"),g.getFloatValueWithKeyStringPath("frameParams.normalState.alphaEven")),this.mHighScoreEntryStyleNormalOdd.copy(g.getDictionaryWithKeyString("style"),!0),this.mHighScoreEntryStyleNormalOdd.getDictionaryWithKeyStringPath("frame.textures.texture:frame").setStringValue(o.stringToValueKey("resource_texture"),g.getStringValueWithKeyStringPath("frameParams.normalState.resource_texture")),this.mHighScoreEntryStyleNormalOdd.getDictionaryWithKeyStringPath("frame.textures.texture:frame").setFloatValue(o.stringToValueKey("alpha"),g.getFloatValueWithKeyStringPath("frameParams.normalState.alphaOdd")),this.mHighScoreEntryStyleHighlight.copy(g.getDictionaryWithKeyString("style"),!0),this.mHighScoreEntryStyleHighlight.getDictionaryWithKeyStringPath("frame.textures.texture:frame").setStringValue(o.stringToValueKey("resource_texture"),g.getStringValueWithKeyStringPath("frameParams.highlightState.resource_texture")),this.mHighScoreEntryStyleHighlight.getDictionaryWithKeyStringPath("frame.textures.texture:frame").setFloatValue(o.stringToValueKey("alpha"),g.getFloatValueWithKeyStringPath("frameParams.highlightState.alpha"));for(var y=0;y<n;y++){var S=g.x1983177741811147517x(),c=y+1;h.isEven(c)?S.getDictionaryWithKeyString("style").copy(this.mHighScoreEntryStyleNormalEven,!0):S.getDictionaryWithKeyString("style").copy(this.mHighScoreEntryStyleNormalOdd,!0);var u="_BPSUIPanel:highScoreEntry"+o.stringFromInt(c,0,!1);l.insertObjectValue(o.stringToValueKey(u),u,999,S)}switch(null!==g&&(g.destroy(),g=null),e.prototype.x2187205631974265155x.call(this,t),a){case i.x2434796579268378633x:this.updateAsLocalHighScoresType()}},a.x2766708504066152543x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mHighScoreEntryStyleNormalEven&&(this.mHighScoreEntryStyleNormalEven.destroy(),this.mHighScoreEntryStyleNormalEven=null),null!==this.mHighScoreEntryStyleNormalOdd&&(this.mHighScoreEntryStyleNormalOdd.destroy(),this.mHighScoreEntryStyleNormalOdd=null),null!==this.mHighScoreEntryStyleHighlight&&(this.mHighScoreEntryStyleHighlight.destroy(),this.mHighScoreEntryStyleHighlight=null),e.prototype.x2766708504066152543x.call(this)},a.x976210321608527258x=function(e,t,r){switch(e){case l.x2545840254066601578x:this.updateAsLocalHighScoresType()}},r(i,null,[{key:"x2434796579268378633x",get:function(){return 818405245}},{key:"x3549776321453894707x",get:function(){return 1067811091}},{key:"x1811590466282848882x",get:function(){return 1121801651}}]),i}(a));i._RF.pop()}}}));System.register("chunks:///_virtual/x3306425748504801929x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x1825263265700717187x.ts","./x3624803980696404420x.ts","./x370408543499406949x.ts","./x4023525633718419706x.ts","./x1758453316087659781x.ts"],(function(e){"use strict";var n,t,a,i,s,r,o,g,d,m;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,a=e.assertThisInitialized},function(e){i=e.cclegacy},function(e){s=e.x4472346643782045245x},function(e){r=e.x1825263265700717187x},function(e){o=e.x3624803980696404420x},function(e){g=e.x370408543499406949x},function(e){d=e.x4023525633718419706x},function(e){m=e.x1758453316087659781x}],execute:function(){i._RF.push({},"42337qjglFLdojpC9LZJkUW","x3306425748504801929x",void 0);e("x3306425748504801929x",function(e){function i(n,t){var i;return(i=e.call(this)||this).x2506607514104443438x=n,n.addMessageListener(a(i)),n.getSceneMgr().addMessageListener(a(i)),i.mDummyLevelsComponent=new o(null,t),i.mOnboardingData=new r(!0),i.resetOnboardingData(!1),i}n(i,e);var s=i.prototype;return s.getDummyLevelsComponent=function(){return this.mDummyLevelsComponent},s.isOnboardingRequiredAndIncomplete=function(){return this.mDummyLevelsComponent.isOnboardingRequired()&&!this.mOnboardingData.getBoolValue(i.x1881340239734636909x)},s.resetOnboardingData=function(e){this.mOnboardingData.removeAllValues(),this.mOnboardingData.setIntValue(i.x2267015071978131761x,i.x3028605024547365471x),this.mOnboardingData.setBoolValue(i.x1881340239734636909x,!1),e&&this.saveOnboardingData()},s.getSavedOnboardingDataId=function(){return this.x2506607514104443438x.getSavedDataId()+"-onboarding"},s.loadOnboardingData=function(){this.mOnboardingData.removeAllValues();var e=this.x2506607514104443438x.getPrefsString(this.getSavedOnboardingDataId(),"");e&&""!=e&&this.mOnboardingData.parseJSONString(e,!1,!0);for(var n=!1,t=this.mOnboardingData.getIntValue(i.x2267015071978131761x);t<i.x3028605024547365471x;)switch(t){case 0:default:this.resetOnboardingData(!1),n=!0,t=i.x3028605024547365471x}n&&this.saveOnboardingData()},s.saveOnboardingData=function(){var e=this.mOnboardingData.toJSONString(null,!0,-1);this.x2506607514104443438x.setPrefsString(this.getSavedOnboardingDataId(),e),this.x2506607514104443438x.savePrefs()},s.handleDidCompleteOnboarding=function(){this.saveOnboardingData()},s.x2766708504066152543x=function(){this.x2506607514104443438x.removeMessageListener(this),this.x2506607514104443438x.getSceneMgr().removeMessageListener(this),m.getInstance().removeMessageListener(this),null!==this.mDummyLevelsComponent&&(this.mDummyLevelsComponent.destroy(),this.mDummyLevelsComponent=null),null!==this.mOnboardingData&&(this.mOnboardingData.destroy(),this.mOnboardingData=null),e.prototype.x2766708504066152543x.call(this)},s.x976210321608527258x=function(e,n,t){switch(e){case o.x2374827856532033883x:this.handleDidCompleteOnboarding(),m.getInstance().getGameMgr().getGame().addMessageListener(this);break;case m.x3792074689098470827x:this.isOnboardingRequiredAndIncomplete()&&m.getInstance().getGameMgr().getGame().removeMessageListener(this);break;case g.x3579436887302429561x:this.loadOnboardingData(),m.getInstance().addMessageListener(this);break;case d.x1617146197946469319x:this.resetOnboardingData(!0)}},t(i,null,[{key:"x3028605024547365471x",get:function(){return 1}},{key:"x2267015071978131761x",get:function(){return 648332039}},{key:"x1881340239734636909x",get:function(){return 771156674}}]),i}(s));i._RF.pop()}}}));System.register("chunks:///_virtual/x3145502219046978834x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x1825263265700717187x.ts","./x1390687146982484874x.ts","./x370408543499406949x.ts","./x1758453316087659781x.ts","./x1574210240713364163x.ts"],(function(e){"use strict";var t,a,s,n,i,r,g,m,c;return{setters:[function(e){t=e.inheritsLoose,a=e.assertThisInitialized},function(e){s=e.cclegacy},function(e){n=e.x4472346643782045245x},function(e){i=e.x1825263265700717187x},function(e){r=e.x1390687146982484874x},function(e){g=e.x370408543499406949x},function(e){m=e.x1758453316087659781x},function(e){c=e.x1574210240713364163x}],execute:function(){s._RF.push({},"4c119vdp9tNMpdO0vYk8EQC","x3145502219046978834x",void 0);e("x3145502219046978834x",function(e){function s(t,s){var n;return(n=e.call(this)||this).mParams=t?t.x1983177741811147517x():new i(!0),n.x2506607514104443438x=s,s.addMessageListener(a(n)),s.getSceneMgr().addMessageListener(a(n)),n.mEventMessageData=new i(!0),n}t(s,e),s.tryCreate=function(e,t){var a=r.stringToLowerCase(e.getStringValueWithKeyStringPath("metadata.id"));return r.firstIndexInString(a,"ispero")>=0?new s(null,t):null};var n=s.prototype;return n.dispatchEventMessage=function(e){var t=e.toJSONString(null,!1,-1);try{(null!=window.parent?window.parent:window).postMessage(t,"*")}catch(e){}},n.x2766708504066152543x=function(){this.x2506607514104443438x.removeMessageListener(this),this.x2506607514104443438x.getSceneMgr().removeMessageListener(this),m.getInstance().removeMessageListener(this),null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mEventMessageData&&(this.mEventMessageData.destroy(),this.mEventMessageData=null),e.prototype.x2766708504066152543x.call(this)},n.x976210321608527258x=function(e,t,a){switch(e){case g.x3579436887302429561x:this.x2506607514104443438x.getSceneMgr().getManagedScene("game").addMessageListener(this),this.x2506607514104443438x.getSceneMgr().getManagedScene("gameOver").addMessageListener(this);break;case m.x3792074689098470827x:var s=a.getIntValue(m.x4509812767251231144x);this.mEventMessageData.removeAllValues(),s<=1?this.mEventMessageData.insertStringValue(0,"event",999,"GameStarted"):this.mEventMessageData.insertStringValue(0,"event",999,"GameRestarted"),this.dispatchEventMessage(this.mEventMessageData);break;case m.x4093023879572360707x:this.mEventMessageData.removeAllValues(),this.mEventMessageData.insertStringValue(0,"event",999,"GamePaused"),this.dispatchEventMessage(this.mEventMessageData);break;case m.x2609162505425436116x:this.mEventMessageData.removeAllValues(),this.mEventMessageData.insertStringValue(0,"event",999,"GameResumed"),this.dispatchEventMessage(this.mEventMessageData);break;case m.x1123773354488145129x:var n=a.getIntValue(m.x221527201173637348x),i=a.getIntValue(m.x2000713205165399287x);this.mEventMessageData.removeAllValues(),this.mEventMessageData.insertStringValue(0,"event",999,"GameOver"),this.mEventMessageData.insertIntValue(0,"score",999,n),this.mEventMessageData.insertIntValue(0,"elapsedTimeSEC",999,i),this.dispatchEventMessage(this.mEventMessageData);break;case m.x2728554131964647057x:n=a.getIntValue(m.x4109801887528053496x),i=a.getIntValue(m.x1780483067499994607x);this.mEventMessageData.removeAllValues(),this.mEventMessageData.insertStringValue(0,"event",999,"Quit"),this.mEventMessageData.insertIntValue(0,"score",999,n),this.mEventMessageData.insertIntValue(0,"elapsedTimeSEC",999,i),this.dispatchEventMessage(this.mEventMessageData);break;case c.x271350782334071731x:this.mEventMessageData.removeAllValues(),this.mEventMessageData.insertStringValue(0,"event",999,"Quit"),this.dispatchEventMessage(this.mEventMessageData)}},s}(n));s._RF.pop()}}}));System.register("chunks:///_virtual/x3427967448068253605x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x1180903263758642626x.ts","./x441339227243264040x.ts","./x4448475101681422869x.ts"],(function(e){"use strict";var t,n,o,c,r,u,s;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy},function(e){c=e.x4075643488497311477x},function(e){r=e.x1180903263758642626x},function(e){u=e.x441339227243264040x},function(e){s=e.x4448475101681422869x}],execute:function(){o._RF.push({},"8205c90zRRK86t7c9dLQg3K","x3427967448068253605x",void 0);e("x3427967448068253605x",function(e){function o(t,n){var o;return(o=e.call(this,"captureControlId",t,n)||this).mFollowMouseButton=null,o.getUIInputMgr().unmapDeviceControl(r.x1204206699037006952x,r.x1560932450419330022x),o}t(o,e);var c=o.prototype;return c.setParams=function(e,t){this.getSceneRootView().getDescendantNamed("inputName").setText(e)},c.popSceneWithCapturedDeviceControl=function(e,t){this.getMessageData().setIntValue(o.x2531929132057662613x,e),this.getMessageData().setIntValue(o.x3412239936999979199x,t),this.dispatchMessage(o.x1343125017965013881x,this,this.getMessageData()),this.getSceneMgr().popScene()},c.x2766708504066152543x=function(){this.mFollowMouseButton&&this.mFollowMouseButton.release(),this.mFollowMouseButton=null,e.prototype.x2766708504066152543x.call(this)},c.x3867984643080897648x=function(){},c.x1740968223970904671x=function(){},c.x2273503037357701410x=function(){},c.x461874601923646201x=function(){},c.x1103838841597991773x=function(){},c.x4571459713545808491x=function(e){},c.x976210321608527258x=function(t,n,o){t==u.x1835681970596356845x&&("cancel"==n.getName()&&this.getSceneMgr().popScene());e.prototype.x976210321608527258x.call(this,t,n,o)},c.x2530596703611903079x=function(e,t,n){switch(e){case s.x2880278496294614949x:return this.getSceneMgr().popScene(),!0}return!1},c.x1104500125373923703x=function(e,t,n,o){switch(e){case r.x1465526023299306006x:case r.x1204206699037006952x:return this.popSceneWithCapturedDeviceControl(e,t),!0}return!1},n(o,null,[{key:"x1343125017965013881x",get:function(){return 1431910196}},{key:"x2531929132057662613x",get:function(){return 1670366722}},{key:"x3412239936999979199x",get:function(){return 1909094535}}]),o}(c));o._RF.pop()}}}));System.register("chunks:///_virtual/x604251603548704409x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x441339227243264040x.ts","./x4448475101681422869x.ts"],(function(e){"use strict";var t,n,i,c,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.x4075643488497311477x},function(e){c=e.x441339227243264040x},function(e){o=e.x4448475101681422869x}],execute:function(){n._RF.push({},"0fc3cY8V1lLbI/CtnpgywyU","x604251603548704409x",void 0);e("x604251603548704409x",function(e){function n(t,n){var i;return(i=e.call(this,"confirm",t,n)||this).mMessage="",i.mAction="",i.mDidConfirm=!1,i}t(n,e);var i=n.prototype;return i.getMessage=function(){return this.mMessage},i.setMessage=function(e){this.mMessage=e},i.getAction=function(){return this.mAction},i.setAction=function(e){this.mAction=e},i.getDidConfirm=function(){return this.mDidConfirm},i.performConfirm=function(){this.mDidConfirm=!0,this.getSceneMgr().popScene()},i.performCancel=function(){this.mDidConfirm=!1,this.getSceneMgr().popScene()},i.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},i.x3867984643080897648x=function(){this.getSceneRootView().getDescendantNamed("title").setText(this.mMessage),this.mDidConfirm=!1},i.x1740968223970904671x=function(){},i.x2273503037357701410x=function(){},i.x461874601923646201x=function(){},i.x1103838841597991773x=function(){},i.x4571459713545808491x=function(e){},i.x976210321608527258x=function(t,n,i){if(t==c.x1835681970596356845x){var o=n.getName();"ok"==o?this.performConfirm():"cancel"==o&&this.performCancel()}e.prototype.x976210321608527258x.call(this,t,n,i)},i.x2530596703611903079x=function(e,t,n){switch(e){case o.x2880278496294614949x:return this.performCancel(),!0}return!1},n}(i));n._RF.pop()}}}));System.register("chunks:///_virtual/x1758453316087659781x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x1180903263758642626x.ts","./x2825914500079770252x.ts","./x1390687146982484874x.ts","./x3950773521023582268x.ts","./x3624803980696404420x.ts","./x3956211014191467053x.ts","./x4370363482510417528x.ts","./x171491166251155774x.ts","./x428471819423808585x.ts","./x291109610367529640x.ts","./x4381590689536211342x.ts","./x1192949862533275485x.ts","./x1799845943152998709x.ts"],(function(e){"use strict";var t,a,n,s,i,r,g,m,S,c,o,h,d,u,G,l,M,P;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass,n=e.assertThisInitialized},function(e){s=e.cclegacy},function(e){i=e.x4075643488497311477x},function(e){r=e.x1180903263758642626x},function(e){g=e.x2825914500079770252x},function(e){m=e.x1390687146982484874x},function(e){S=e.x3950773521023582268x},function(e){c=e.x3624803980696404420x},function(e){o=e.x3956211014191467053x},function(e){h=e.x4370363482510417528x},function(e){d=e.x171491166251155774x},function(e){u=e.x428471819423808585x},function(e){G=e.x291109610367529640x},function(e){l=e.x4381590689536211342x},function(e){M=e.x1192949862533275485x},function(e){P=e.x1799845943152998709x}],execute:function(){s._RF.push({},"fa1acMFXK1NRoDGsI4cK2Q8","x1758453316087659781x",void 0);e("x1758453316087659781x",function(e){function s(t,a){var i;return i=e.call(this,"game",t,a)||this,t.addMessageListener(n(i)),i.mGameMgr=null,i.mOverrideNumNonAIPlayers=-1,i.mIsAIDemoModeEnabled=!1,i.mIsCurrentGameAIDemoMode=!1,i.mCancelAIDemoModeOnInput=!1,i.mNumGamesStarted=0,i.mNumGamesSinceInterstitialAd=0,i.mLoadingView=null,i.mDEBUG_enableAIPlay=!1,i.getStateMachine().setState(s.x3071033649781089376x),s.sInstance=n(i),i}t(s,e),s.getInstance=function(){return s.sInstance};var i=s.prototype;return i.setIsAIDemoModeEnabled=function(e,t){this.mIsAIDemoModeEnabled=e,this.mIsCurrentGameAIDemoMode=e,this.mCancelAIDemoModeOnInput=t,this.mOverrideNumNonAIPlayers=e?0:-1},i.getGameMgr=function(){return this.mGameMgr},i.pauseGame=function(){this.mGameMgr&&this.getSceneState()==u.x2367579378693605691x&&this.getStateMachine().getCurrentState()==s.x2882656553466486220x&&this.mGameMgr.pauseGame()},i.tryTerminateGame=function(){if(this.mGameMgr&&!this.mGameMgr.getGame().isGameEnded()){var e=this.mGameMgr,t=~~(.001*e.getPlayerAtIndex(0).getElapsedActiveGameTimeMSEC()),a=0,n=e.getPlayerAtIndex(0).getComponent(o.x2916177341484739471x);n&&(a=n.getScore()),this.getMessageData().setIntValue(s.x221527201173637348x,a),this.getMessageData().setIntValue(s.x2000713205165399287x,t),this.dispatchMessage(s.x2728554131964647057x,this,this.getMessageData()),this.mGameMgr.terminate()}},i.x2766708504066152543x=function(){this.x1843992266594640631x().removeMessageListener(this),null!==this.mGameMgr&&(this.mGameMgr.destroy(),this.mGameMgr=null),this.mLoadingView&&this.mLoadingView.release(),this.mLoadingView=null,this==s.sInstance&&(s.sInstance=null),e.prototype.x2766708504066152543x.call(this)},i.x313838319085677172x=function(){this.mLoadingView=this.getAppSupportFactory().createViewHierarchy("_BPSView:loadingView",this.getSceneParams().getDictionaryWithKeyStringPath("_BPSView:loadingView")),this.mLoadingView.retain(),this.mDEBUG_enableAIPlay=this.x1843992266594640631x().x4329476012501355321x().getBoolValueWithKeyStringPath("debug.enableAIPlay")},i.x3867984643080897648x=function(){var e=!1;if(this.getSceneMgr().getManagedScene(m.x4379805376353750514x("ZBHOXRQKYFWJQRYOAHMTIGRSJGLIRF"))&&this.getSceneParams().getBoolValueWithKeyStringPath("interstitialAd.enabled"))if(this.mNumGamesSinceInterstitialAd++,0==this.mNumGamesStarted)e=this.getSceneParams().getBoolValueWithKeyStringPath("interstitialAd.showAdBeforeFirstGame");else{var t=this.getSceneParams().getIntValueWithKeyStringPath("interstitialAd.gamesPerAd");e=this.mNumGamesSinceInterstitialAd>=t}e?(this.getStateMachine().setState(s.x3071033649781089376x),this.getStateMachine().processTime(0),this.mNumGamesSinceInterstitialAd=0,this.getSceneMgr().pushScene(m.x4379805376353750514x("ZBHOXRQKYFWJQRYOAHMTIGRSJGLIRF"))):this.getStateMachine().setState(s.x2543834741104209516x)},i.x1740968223970904671x=function(){this.tryTerminateGame(),this.getSceneRootView().removeAllChildren(!0),this.getSceneRootView().setIsActive(!0),this.x1843992266594640631x().setIsBGViewVisible(!0),this.getStateMachine().setState(s.x1356065171962593045x),this.getStateMachine().processTime(0),this.mGameMgr&&(this.mGameMgr.removeMessageListener(this),null!==this.mGameMgr&&(this.mGameMgr.destroy(),this.mGameMgr=null))},i.x2273503037357701410x=function(){this.getStateMachine().getCurrentState()!=s.x3071033649781089376x&&this.mGameMgr&&!this.mGameMgr.getGame().isGameEnded()&&(this.mGameMgr.pauseGame(),this.getSceneRootView().setIsActive(!1))},i.x461874601923646201x=function(){this.getStateMachine().getCurrentState()==s.x3071033649781089376x?this.getStateMachine().setState(s.x2543834741104209516x):(this.mGameMgr&&!this.mGameMgr.getGame().isGameEnded()&&(this.dispatchMessage(s.x2609162505425436116x,this,null),this.mGameMgr.unpauseGame()),this.getSceneRootView().setIsActive(!0))},i.x1103838841597991773x=function(){this.tryTerminateGame()},i.x4571459713545808491x=function(e){},i.x976210321608527258x=function(t,a,n){if(a==this.x1843992266594640631x())this.getStateMachine().getCurrentState()!=s.x2882656553466486220x||t!=h.x1471059550939686878x||l.isPlatformOSX()||this.pauseGame();else if(this.mGameMgr)if(a==this.mGameMgr.getGame())switch(t){case S.x1950391814350285748x:switch(this.mGameMgr.getGame().getCurrentState()){case S.x4426913439973074479x:this.pauseGame()}}else if(a==this.mGameMgr)switch(t){case d.x34000413704093388x:this.mIsCurrentGameAIDemoMode||(this.mNumGamesStarted++,this.x3324989347921085569x().trackGUAEvent(this.x3324989347921085569x().getGUAEventCategory(),m.x4379805376353750514x("CBDNESPFIROCOQSPWGQOTSBOBS"),"",0,!1),this.x3324989347921085569x().trackGUAEvent(this.x3324989347921085569x().getGUAEventCategory(),m.x4379805376353750514x("RDAKOPDHJTTGHTAOYSIQBRLOMTVLQSBRTJQPPIFQAJJPFNMGJMBFPRICNLRPOSBONS"),l.concatStrings(m.stringFromInt(this.mNumGamesStarted,0,!1),1==this.mNumGamesStarted?m.x4379805376353750514x("HEYPSEJOSKLO"):m.x4379805376353750514x("NEIPCETNCKFNGK")),0,!1),this.x3324989347921085569x().trackGA4GameEvent("game_started",{session_games_count:this.mNumGamesStarted}),this.getMessageData().setIntValue(s.x4509812767251231144x,this.mNumGamesStarted),this.dispatchMessage(s.x3792074689098470827x,this,this.getMessageData()));break;case d.x2887507800261874228x:switch(this.mGameMgr.getGame().getCurrentState()){case S.x4426913439973074479x:this.getSceneMgr().pushScene(m.x4379805376353750514x("NCROWRVKKGCJVGTTEHPT"));break;default:this.dispatchMessage(s.x4093023879572360707x,this,null),this.getSceneMgr().pushScene(m.x4379805376353750514x("KHNEIIVQKMQPEMVKWNFJFN"))}break;case d.x4101123396711883235x:this.getStateMachine().setState(s.x3629076791784609273x);break;case M.x3374648258886677311x:case M.x3283502521339549121x:this.dispatchMessage(t,this,n)}e.prototype.x976210321608527258x.call(this,t,a,n)},i.x484463892230083241x=function(e,t,a,n){this.mIsCurrentGameAIDemoMode&&this.mCancelAIDemoModeOnInput&&this.mGameMgr&&(this.tryTerminateGame(),this.getSceneMgr().setScene("mainMenu"))},i.x2530596703611903079x=function(e,t,a){return!1},i.x1104500125373923703x=function(e,t,a,n){switch(e){case r.x1465526023299306006x:if(this.getStateMachine().getCurrentState()==s.x2882656553466486220x)switch(t){case r.x2935021364838745126x:case r.x3264621493280218085x:return this.pauseGame(),!0}break;case r.x1204206699037006952x:switch(t){case r.x1086521091919493906x:this.pauseGame()}}return!!this.mGameMgr&&(this.mGameMgr.handleDeviceControlOn(e,t),!0)},i.x3674464915954390731x=function(e,t,a,n){return!!this.mGameMgr&&(this.mGameMgr.handleDeviceControlOff(e,t),!0)},i.x3483006147505539359x=function(e,t){return!!this.mGameMgr&&(this.mGameMgr.handleDeviceControlCancelled(e,t),!0)},i.x3651818526805939130x=function(t,a,n,i){switch(a){case s.x2543834741104209516x:switch(t){case g.x353128994538654894x:null!==this.mGameMgr&&(this.mGameMgr.destroy(),this.mGameMgr=null);var r=new G(this.getAppSupportFactory());r.setName("gameRootView"),this.getSceneRootView().addChild(r),this.getSceneRootView().addChild(this.mLoadingView);break;case g.x3589770202422279121x:if(this.getStateMachine().getCurrentStateElapsedTimeMSEC()<400)break;if(this.mGameMgr)if(this.getAppSupportFactory().getResourceMgr().isDoneLoading("game2")){switch(this.mGameMgr.getState()){case d.x3071033649781089376x:this.mGameMgr.startConstruct();break;case d.x509084065516752150x:this.getUIInputMgr().manageControlsInView(this.getSceneRootView()),this.mGameMgr.initializeGame();break;case d.x454327274488304137x:this.mGameMgr.getGame().addMessageListener(this),this.getStateMachine().setState(s.x2882656553466486220x)}this.mGameMgr.processTimeMSEC(i)}else this.getAppSupportFactory().getResourceMgr().processLoading();else{var S=this.x3324989347921085569x().x4329476012501355321x().getDictionaryWithKeyString("gameMgr");this.mGameMgr=new M(S,this.mOverrideNumNonAIPlayers,this.getAppSupportFactory(),this.getSceneRootView().getChildNamed("gameRootView"),P.getInstance()),this.mGameMgr.addMessageListener(this)}break;case g.x2931974030808705080x:this.mLoadingView.removeFromParent(),this.x1843992266594640631x().resetAvailableTime()}break;case s.x2882656553466486220x:switch(t){case g.x353128994538654894x:this.mGameMgr.startGame()}this.mGameMgr.processTimeMSEC(i);break;case s.x3629076791784609273x:switch(t){case g.x3589770202422279121x:if(this.getStateMachine().getCurrentStateElapsedTimeMSEC()>200)if(this.mIsCurrentGameAIDemoMode)this.getSceneMgr().setScene("mainMenu");else{var h=this.mGameMgr,u=!1,p=~~(.001*h.getPlayerAtIndex(0).getElapsedActiveGameTimeMSEC()),_=0,I=h.getPlayerAtIndex(0).getComponent(o.x2916177341484739471x);I&&(_=I.getScore());var B=0,T=h.getPlayerAtIndex(0).getComponent(c.x1109057396118299453x);T&&(u=0==T.getParams().getIntValue(c.x3979234455250196779x),B=T.getCurrentLevelIndex()+1);var y=m.stringFromInt(B,2,!1),k=h.getPlayerAtIndex(0).getControlComponent().x3653139289778280998x(),A=k.getController().getDirectInputMgr()?k.getController().getDirectInputMgr().getNumPiecesDeactivated():0,C=k.getController().getSmartInputMgr()?k.getController().getSmartInputMgr().getNumPiecesDeactivated():0,f=k.getController().getGestureInputMgr()?k.getController().getGestureInputMgr().getNumPiecesDeactivated():0,v="";if(v=A>=C&&A>=f?m.x4379805376353750514x("IGTNESLLLGZKIGKULH"):C>=A&&C>=f?l.isPlatformTouchBased()?m.x4379805376353750514x("VEDHOLTTJLMP"):m.x4379805376353750514x("MCTEMJJSEOBR"):f>=A&&f>=C?m.x4379805376353750514x("EDRSYHLPFMFP"):m.x4379805376353750514x("QCBNESQKUFUJ"),this.x3324989347921085569x().trackGUAEvent(this.x3324989347921085569x().getGUAEventCategory(),m.x4379805376353750514x("LDZKKPTHYDSEESQRVEXQDE"),"",0,!1),this.x3324989347921085569x().trackGUAEvent(this.x3324989347921085569x().getGUAEventCategory(),m.x4379805376353750514x("SEHHSLREMLGMNJHJVRBNFRTHAMAU"),"",p,!1),this.x3324989347921085569x().trackGUAEvent(this.x3324989347921085569x().getGUAEventCategory(),m.x4379805376353750514x("ZFVOGTFMUHOIUFJFBJEFNIHEFI"),v,0,!1),u&&I){var E=0,D=0;_<=1e3?(E=100,D=0):_<=1e4?(E=1e3,D=9):(E=5e3,D=17);var O=~~(m.maxInt(0,_-1)/E),V=((O=m.minInt(O,999))+1)*E,F="("+m.stringFromInt(O+1+D,3,!1)+")"+" "+m.stringFromInt(V,1,!0)+m.x4379805376353750514x("ADKIRNPSGOMSPOVL");this.x3324989347921085569x().trackGUAEvent(this.x3324989347921085569x().getGUAEventCategory(),m.x4379805376353750514x("UGVMWQVJVFTIUFAQWEFSRFJSMFUOAKGH"),F,B,!1)}u&&T&&this.x3324989347921085569x().trackGUAEvent(this.x3324989347921085569x().getGUAEventCategory(),m.x4379805376353750514x("EIGIGNUFGMOQNJIJCSVNYRCJANWE"),m.x4379805376353750514x("LIOQKFCOYJQNPG")+y,_,!1),this.x3324989347921085569x().trackGA4GameEvent("game_ended",{game_duration_seconds:p,game_control_type:v,game_score:_,game_level_reached_name:"Level-"+y,game_level_reached_number:B}),this.getMessageData().setIntValue(s.x221527201173637348x,_),this.getMessageData().setIntValue(s.x2000713205165399287x,p),this.dispatchMessage(s.x1123773354488145129x,this,this.getMessageData()),this.x3324989347921085569x().getHighScoresMgr().getLastScoreIndex()>0&&this.getSceneMgr().getManagedScene(m.x4379805376353750514x("IEQQEEZHFSJHITGRIIBQKEOQMT"))?this.getSceneMgr().pushScene(m.x4379805376353750514x("IEQQEEZHFSJHITGRIIBQKEOQMT")):this.getSceneMgr().pushScene(m.x4379805376353750514x("LDFMKPTHYDNGBUHRJF"))}else this.mGameMgr.processTimeMSEC(i)}}return e.prototype.x3651818526805939130x.call(this,t,a,n,i)},a(s,null,[{key:"kBPSTGSceneId_game",get:function(){return 2046887955}},{key:"x3071033649781089376x",get:function(){return 1}},{key:"x2543834741104209516x",get:function(){return 2}},{key:"x2882656553466486220x",get:function(){return 3}},{key:"x3629076791784609273x",get:function(){return 4}},{key:"x1356065171962593045x",get:function(){return 5}},{key:"x3792074689098470827x",get:function(){return 482412918}},{key:"x4509812767251231144x",get:function(){return 170765781}},{key:"x4093023879572360707x",get:function(){return 1341701209}},{key:"x2609162505425436116x",get:function(){return 1220353036}},{key:"x1123773354488145129x",get:function(){return 1150189823}},{key:"x221527201173637348x",get:function(){return 1026088449}},{key:"x2000713205165399287x",get:function(){return 818408153}},{key:"x2728554131964647057x",get:function(){return 150702894}},{key:"x4109801887528053496x",get:function(){return 1026088449}},{key:"x1780483067499994607x",get:function(){return 818408153}}]),s}(i)).sInstance=null,s._RF.pop()}}}));System.register("chunks:///_virtual/x892787543274557650x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x3624803980696404420x.ts","./x1758453316087659781x.ts","./x4448475101681422869x.ts","./x441339227243264040x.ts"],(function(e){"use strict";var t,n,c,o,s,S,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){c=e.x4075643488497311477x},function(e){o=e.x3624803980696404420x},function(e){s=e.x1758453316087659781x},function(e){S=e.x4448475101681422869x},function(e){i=e.x441339227243264040x}],execute:function(){n._RF.push({},"2af9bpH0dVLopwVAs84xD70","x892787543274557650x",void 0);e("x892787543274557650x",function(e){function n(t,n){return e.call(this,"gameBreak",t,n)||this}t(n,e);var c=n.prototype;return c.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},c.x313838319085677172x=function(){},c.x3867984643080897648x=function(){var e=s.getInstance().getGameMgr().getPlayerAtIndex(0).getComponent(o.x1109057396118299453x);this.getSceneRootView().getDescendantNamed("message").setText("LEVEL "+e.getLevelDisplayNameForLevelIndex(e.getCurrentLevelIndex())+" COMPLETE!"),this.getSceneRootView().getDescendantNamed("menu").updateSize()},c.x1740968223970904671x=function(){},c.x2273503037357701410x=function(){},c.x461874601923646201x=function(){},c.x1103838841597991773x=function(){},c.x4571459713545808491x=function(e){},c.x976210321608527258x=function(t,n,c){t==i.x1835681970596356845x&&("resume"==n.getName()&&this.getSceneMgr().popScene());e.prototype.x976210321608527258x.call(this,t,n,c)},c.x2530596703611903079x=function(e,t,n){switch(e){case S.x4347899112612510973x:case S.x2880278496294614949x:return this.getSceneMgr().popScene(),!0}return!1},n}(c));n._RF.pop()}}}));System.register("chunks:///_virtual/x1574210240713364163x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x1180903263758642626x.ts","./x1390687146982484874x.ts","./x1829961367305584157x.ts","./x441339227243264040x.ts","./x4366047524965612542x.ts","./x1758453316087659781x.ts"],(function(e){"use strict";var t,n,a,r,i,s,o,c,g,S;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){a=e.cclegacy},function(e){r=e.x4075643488497311477x},function(e){i=e.x1180903263758642626x},function(e){s=e.x1390687146982484874x},function(e){o=e.x1829961367305584157x},function(e){c=e.x441339227243264040x},function(e){g=e.x4366047524965612542x},function(e){S=e.x1758453316087659781x}],execute:function(){a._RF.push({},"221eeq6p/VA1IY/n+cPYTVW","x1574210240713364163x",void 0);e("x1574210240713364163x",function(e){function a(t,n){var a;(a=e.call(this,"gameOver",t,n)||this).mIsAIDemoModeEnabled=!1,a.mAIDemoModeAutoStartDelayMSEC=0;var r=n.getDictionaryWithKeyString("AIDemoMode");return r&&(a.mIsAIDemoModeEnabled=r.getBoolValueWithKeyStringPath("enabled"),a.mAIDemoModeAutoStartDelayMSEC=1e3*r.getIntValueWithKeyStringPath("autoStartDelaySEC")),a}t(a,e);var r=a.prototype;return r.performPlay=function(e){S.getInstance().setIsAIDemoModeEnabled(e,!0),this.getSceneMgr().setScene("game")},r.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},r.x313838319085677172x=function(){var e=this.getSceneRootView().getDescendantNamed("ad");e&&e.addMessageListener(this)},r.x3867984643080897648x=function(){var e=this.getSceneRootView().getDescendantNamed("resultMessage1");if(e)switch(S.getInstance().getGameMgr().getPlayerAtIndex(0).getGameEndCondition()){case o.x4408431872223735541x:e.setText("YOU WON!");break;case o.x1456860649618312688x:e.setText("YOU LOST!");break;case o.x211018650796416029x:e.setText("YOU TIED!");break;default:e.setText("")}var t=this.getSceneRootView().getDescendantNamed("resultMessage2");t&&t.setText("FIXME");var n=null,r=0,c=null;n=S.getInstance().getGameMgr().getPlayerAtIndex(0).getComponent(o.x1191404771913136596x),c=this.getSceneRootView().getDescendantNamed("p1LinesSent"),n&&c&&(r=n.getNumAttacksSent(),c.setText("YOUR LINES SENT: "+s.stringFromInt(r,1,!0)),n=S.getInstance().getGameMgr().getPlayerAtIndex(1).getComponent(o.x1191404771913136596x),c=this.getSceneRootView().getDescendantNamed("p2LinesSent"),n&&c&&(r=n.getNumAttacksSent(),c.setText("OPPONENT LINES SENT: "+s.stringFromInt(r,1,!0))));var m=this.getSceneRootView().getDescendantNamed("currentScore");if(m){var l=this.x3324989347921085569x().getHighScoresMgr().getLastScore();m.setText(this.getSceneParams().getStringValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSContainerView:resultViewContainer.children._BPSBitmapTextView:currentScore.text")+s.stringFromInt(l,1,!0))}var d=this.getSceneRootView().getDescendantNamed("highScore");if(d){var u,P;u=this.x3324989347921085569x().getHighScoresMgr().isLastScoreNewHighScore(),P=this.x3324989347921085569x().getHighScoresMgr().getHighScore(),u?d.setText(this.getSceneParams().getStringValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSContainerView:resultViewContainer.children._BPSBitmapTextView:highScore.text-newHighScore")):d.setText(this.getSceneParams().getStringValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSContainerView:resultViewContainer.children._BPSBitmapTextView:highScore.text")+s.stringFromInt(P,1,!0))}var h=this.getSceneRootView().getDescendantNamed("levelMessage");if(h){var I=this.x3324989347921085569x().getVSCPURecordsMgr().getMaxUnlockedLevelIndex(),p=this.x3324989347921085569x().getVSCPURecordsMgr().getMaxPossibleLevelIndex();switch(this.x3324989347921085569x().getVSCPURecordsMgr().getGameOverLevelResult()){case g.x3484584917616790291x:I==p?h.setText("MAXIMUM LEVEL UNLOCKED!"):h.setText("LEVEL "+s.stringFromInt(I+1,1,!0)+" UNLOCKED!"),h.setIsVisible(!0);break;default:I<p?(h.setText("BEAT LEVEL "+s.stringFromInt(I+1,1,!0)+" TO UNLOCK LEVEL "+s.stringFromInt(I+2,1,!0)+"!"),h.setIsVisible(!0)):(h.setText(""),h.setIsVisible(!1))}}var B=this.getSceneRootView().getDescendantNamed("ad");if(B){!0;B.setIsVisible(!1),B.setIsEnabled(!1)}this.getSceneRootView().updateLayout(!0),this.mIsAIDemoModeEnabled&&this.startTimer(this.mAIDemoModeAutoStartDelayMSEC,this,a.x2921074959919833956x),this.getUIInputMgr().unmapInputAction(a.x2437773181646435966x),this.x1843992266594640631x().getStartGameDeviceControlString()&&""!=this.x1843992266594640631x().getStartGameDeviceControlString()?this.getUIInputMgr().mapDeviceControlString(this.x1843992266594640631x().getStartGameDeviceControlString(),a.x2437773181646435966x,!1):(this.getUIInputMgr().mapDeviceControl(i.x1465526023299306006x,i.x2615536089808945740x,a.x2437773181646435966x,!1),this.getUIInputMgr().mapDeviceControl(i.x1465526023299306006x,i.x2913402928407614680x,a.x2437773181646435966x,!1),this.getUIInputMgr().mapDeviceControl(i.x1465526023299306006x,i.x1887062473282175476x,a.x2437773181646435966x,!1))},r.x1740968223970904671x=function(){if(this.cancelTimer(a.x2921074959919833956x),window)try{window.parent.refreshAds("GameOverExited",-1)}catch(e){}},r.x2273503037357701410x=function(){this.cancelTimer(a.x2921074959919833956x)},r.x461874601923646201x=function(){this.mIsAIDemoModeEnabled&&this.startTimer(this.mAIDemoModeAutoStartDelayMSEC,this,a.x2921074959919833956x)},r.x1103838841597991773x=function(){},r.x4571459713545808491x=function(e){var t=this.getSceneParams().getIntValueWithDefault(s.stringToValueKey("autoPlayDelayMSEC"),-1);t>0&&this.getElapsedActiveTimeMSEC()>t&&this.performPlay(!1)},r.x976210321608527258x=function(t,n,r){switch(t){case c.x1835681970596356845x:var i=n.getName();"play"==i?this.performPlay(!1):"mainMenu"==i?(this.dispatchMessage(a.x271350782334071731x,this,null),this.getSceneMgr().setScene("mainMenu")):"ad"==i||"moreGames"==i&&(this.x3324989347921085569x().trackGUAEvent(this.x3324989347921085569x().getGUAEventCategory(),"Clicked Button","Game Over: More Games",0,!1),this.x3324989347921085569x().trackGA4GameEvent("game_button_clicked",{game_button_name:"Game Over: More Games"}),this.getSceneMgr().pushScene("moreGames"));break;case a.x2921074959919833956x:this.performPlay(!0)}e.prototype.x976210321608527258x.call(this,t,n,r)},r.x484463892230083241x=function(e,t,n,r){this.mIsAIDemoModeEnabled&&this.resetTimer(a.x2921074959919833956x)},r.x2530596703611903079x=function(e,t,n){if(this.getElapsedActiveTimeMSEC()>500)switch(e){case a.x2437773181646435966x:return this.performPlay(!1),!0}return!1},r.x1104500125373923703x=function(e,t,n,a){switch(e){case i.x1465526023299306006x:return this.getElapsedActiveTimeMSEC()>500&&(this.x1843992266594640631x().getStartGameDeviceControlString()&&""!=this.x1843992266594640631x().getStartGameDeviceControlString()||!this.getSceneParams().getBoolValue(s.stringToValueKey("allowAnyKeyToPlay"))||this.performPlay(!1)),!0}return!1},n(a,null,[{key:"kBPSTGSceneId_gameOver",get:function(){return 1553907399}},{key:"x271350782334071731x",get:function(){return 1263123252}},{key:"x2437773181646435966x",get:function(){return 62484675}},{key:"x2921074959919833956x",get:function(){return 391207929}}]),a}(r));a._RF.pop()}}}));System.register("chunks:///_virtual/x2097869248932025724x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x1390687146982484874x.ts","./x441339227243264040x.ts","./x4448475101681422869x.ts"],(function(e){"use strict";var t,n,c,i,s,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){c=e.x4075643488497311477x},function(e){i=e.x1390687146982484874x},function(e){s=e.x441339227243264040x},function(e){o=e.x4448475101681422869x}],execute:function(){n._RF.push({},"a6fbaoupIxBBK6tNlmkO1Dc","x2097869248932025724x",void 0);e("x2097869248932025724x",function(e){function n(t,n){return e.call(this,"gamePaused",t,n)||this}t(n,e);var c=n.prototype;return c.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},c.x313838319085677172x=function(){this.getSceneParams().getBoolValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:options.enabled")||this.getSceneRootView().removeDescendantNamed("options")},c.x3867984643080897648x=function(){if(window)try{window.parent.refreshAds("GamePaused",-1)}catch(e){}},c.x1740968223970904671x=function(){if(window)try{window.parent.refreshAds("GameUnpaused",-1)}catch(e){}},c.x2273503037357701410x=function(){},c.x461874601923646201x=function(){if("confirm"==this.getSceneMgr().getPreviousSceneName()){var e=this.getSceneMgr().getManagedScene("confirm");"quit"==e.getAction()&&e.getDidConfirm()&&this.getSceneMgr().setScene("mainMenu")}},c.x1103838841597991773x=function(){},c.x4571459713545808491x=function(e){},c.x976210321608527258x=function(t,n,c){if(t==s.x1835681970596356845x){var o=n.getName();if("resume"==o)this.getSceneMgr().popScene();else if("options"==o)this.getSceneMgr().pushScene("options");else if("help"==o)this.getSceneMgr().pushScene("help");else if("quit"==o){var r=this.getSceneMgr().getManagedScene("confirm");r.setMessage(this.getSceneParams().getStringValue(i.stringToValueKey("confirmQuitMessage"))),r.setAction("quit"),this.getSceneMgr().pushScene("confirm")}}e.prototype.x976210321608527258x.call(this,t,n,c)},c.x2530596703611903079x=function(e,t,n){switch(e){case o.x2880278496294614949x:return this.getSceneMgr().popScene(),!0}return!1},n}(c));n._RF.pop()}}}));System.register("chunks:///_virtual/x908938137131706570x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x1390687146982484874x.ts","./x441339227243264040x.ts","./x4448475101681422869x.ts","./x4381590689536211342x.ts"],(function(t){"use strict";var e,n,s,o,r,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){s=t.x4075643488497311477x},function(t){o=t.x1390687146982484874x},function(t){r=t.x441339227243264040x},function(t){i=t.x4448475101681422869x},function(t){a=t.x4381590689536211342x}],execute:function(){n._RF.push({},"72a58t49CBBK4CmB8U8BmqB","x908938137131706570x",void 0);t("x908938137131706570x",function(t){function n(e,n){var s;return(s=t.call(this,"help",e,n)||this).mPages=null,s.mPrevButton=null,s.mNextButton=null,s.mDontShowHelpAtStartButton=null,s.mCurrentPage=-1,s}e(n,t);var s=n.prototype;return s.setPage=function(t){if(t=a.clampInt(t,0,this.mPages.getNumChildren()),this.mCurrentPage!=t){this.mCurrentPage=t;for(var e=this.mPages.getNumChildren(),n=0;n<e;n++)this.mPages.getChildAtIndex(n).setIsVisible(n==this.mCurrentPage);this.mPrevButton.setIsEnabled(this.mCurrentPage>0),this.mNextButton.setIsEnabled(this.mCurrentPage<e-1)}},s.x2766708504066152543x=function(){this.mNextButton&&this.mNextButton.release(),this.mNextButton=null,this.mPrevButton&&this.mPrevButton.release(),this.mPrevButton=null,t.prototype.x2766708504066152543x.call(this)},s.x313838319085677172x=function(){this.mPages=this.getSceneRootView().getDescendantNamed("pages");for(var t=0;t<this.mPages.getNumChildren();){var e=this.mPages.getChildAtIndex(t);e.getSpriteFrame()?t++:this.mPages.removeChild(e)}this.mPrevButton=this.getSceneRootView().getDescendantNamed("prev"),this.mPrevButton.retain(),this.mNextButton=this.getSceneRootView().getDescendantNamed("next"),this.mNextButton.retain(),this.mPages.getNumChildren()<=1&&(this.mPrevButton.removeFromParent(),this.mNextButton.removeFromParent());var n=this.getSceneRootView().getDescendantNamed("dontShowHelpAtStart");this.getSceneParams().getBoolValue(o.stringToValueKey("enableDontShowAtStartButton"))&&!this.x1843992266594640631x().getPrefsBool("dontShowHelpAtStart",!0)?(this.mDontShowHelpAtStartButton=n.getDescendantNamed("button_dontShowHelpAtStart"),this.mDontShowHelpAtStartButton.setIsOn(!1),this.mDontShowHelpAtStartButton.addMessageListener(this)):(n.retain(),n.removeFromParent(),n.release(),n=null)},s.x3867984643080897648x=function(){this.setPage(0)},s.x1740968223970904671x=function(){var t=this.getSceneRootView().getDescendantNamed("dontShowHelpAtStart");t&&(t.retain(),t.removeFromParent(),t.release(),t=null)},s.x2273503037357701410x=function(){},s.x461874601923646201x=function(){},s.x1103838841597991773x=function(){},s.x4571459713545808491x=function(t){},s.x976210321608527258x=function(e,n,s){if(e==r.x1835681970596356845x){var o=n.getName();if("prev"==o)this.setPage(this.mCurrentPage-1);else if("next"==o)this.setPage(this.mCurrentPage+1);else if("done"==o)this.getSceneMgr().popScene();else if("button_dontShowHelpAtStart"==o){var i=!this.x1843992266594640631x().getPrefsBool("dontShowHelpAtStart",!1);this.mDontShowHelpAtStartButton.setIsOn(i),this.x1843992266594640631x().setPrefsBool("dontShowHelpAtStart",i),this.x1843992266594640631x().savePrefs()}}t.prototype.x976210321608527258x.call(this,e,n,s)},s.x2530596703611903079x=function(t,e,n){switch(t){case i.x2880278496294614949x:return this.getSceneMgr().popScene(),!0}return!1},n}(s));n._RF.pop()}}}));System.register("chunks:///_virtual/x2507407283676726775x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x428471819423808585x.ts"],(function(e){"use strict";var t,n,i,s,c;return{setters:[function(e){t=e.inheritsLoose,n=e.assertThisInitialized},function(e){i=e.cclegacy},function(e){s=e.x4075643488497311477x},function(e){c=e.x428471819423808585x}],execute:function(){i._RF.push({},"581f6yVgrZB8JLi8QgnO6fA","x2507407283676726775x",void 0);e("x2507407283676726775x",function(e){function i(t,i){var s;(s=e.call(this,"interstitialAd",t,i)||this).mIsAdEnabled=!1,s.mIsAdDone=!1,t.addMessageListener(n(s));try{s.mIsAdEnabled=window.isGameAreaAdEnabled()}catch(e){s.mIsAdEnabled=!1}return s}t(i,e);var s=i.prototype;return s.x2766708504066152543x=function(){this.x1843992266594640631x().removeMessageListener(this),e.prototype.x2766708504066152543x.call(this)},s.x313838319085677172x=function(){},s.x3867984643080897648x=function(){if(this.mIsAdEnabled){this.mIsAdDone=!1;try{window.showGameAreaAd()}catch(e){this.mIsAdDone=!0}}else this.mIsAdDone=!0},s.x1740968223970904671x=function(){},s.x2273503037357701410x=function(){},s.x461874601923646201x=function(){},s.x1103838841597991773x=function(){},s.x4571459713545808491x=function(e){this.getSceneState()==c.x2367579378693605691x&&this.mIsAdDone&&this.getSceneMgr().popScene()},s.x976210321608527258x=function(t,n,i){n==this.x3324989347921085569x()&&979287055==t&&(this.mIsAdDone=!0),e.prototype.x976210321608527258x.call(this,t,n,i)},s.x2530596703611903079x=function(e,t,n){return!1},i}(s));i._RF.pop()}}}));System.register("chunks:///_virtual/x4098290712086327076x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x4370363482510417528x.ts","./x1180903263758642626x.ts","./x1390687146982484874x.ts","./x4381590689536211342x.ts"],(function(e){"use strict";var t,i,n,s,r,c,S,o;return{setters:[function(e){t=e.inheritsLoose,i=e.assertThisInitialized},function(e){n=e.cclegacy},function(e){s=e.x4075643488497311477x},function(e){r=e.x4370363482510417528x},function(e){c=e.x1180903263758642626x},function(e){S=e.x1390687146982484874x},function(e){o=e.x4381590689536211342x}],execute:function(){n._RF.push({},"5ab96sTwM1OpIVbCAepbmiv","x4098290712086327076x",void 0);e("x4098290712086327076x",function(e){function n(t,n){var s;return(s=e.call(this,"loading",t,n)||this).mIsVisible=!0,s.mElapsedVisibleTimeMSEC=0,t.addMessageListener(i(s)),s}t(n,e);var s=n.prototype;return s.tryGoToNextScene=function(){switch(this.x1843992266594640631x().getAppState()){case r.x2629768713045708098x:this.exit()}},s.x2766708504066152543x=function(){this.x1843992266594640631x().removeMessageListener(this),e.prototype.x2766708504066152543x.call(this)},s.x3867984643080897648x=function(){try{this.mIsVisible=!window.isGameAreaAdActive()}catch(e){this.mIsVisible=!0}},s.x1740968223970904671x=function(){this.x3324989347921085569x().trackGUAEvent(this.x3324989347921085569x().getGUAEventCategory(),S.x4379805376353750514x("DHSLMQTIGESIJBJRPFXQLFORWEWM"),"",0,!1);var e=this.x1843992266594640631x().getPrefsInt(S.x4379805376353750514x("UHUQOFZILEZHZEBRNFYQYEZRWEYNUJ"),0);e++,this.x1843992266594640631x().setPrefsInt(S.x4379805376353750514x("NISHQMBQNLBPLLZHNRWHAMXIYLKUWQ"),e),this.x1843992266594640631x().savePrefs(),this.x3324989347921085569x().trackGUAEvent(this.x3324989347921085569x().getGUAEventCategory(),S.x4379805376353750514x("RJGPQEJMVHZLJICDAIUEDGCEWIHRUMCLES"),o.concatStrings(S.stringFromInt(e,0,!1),1==e?S.x4379805376353750514x("AEQHDNJGUSRFTSZP"):S.x4379805376353750514x("IAWGZMPFASNFZRVP")),0,!1),this.x3324989347921085569x().trackGA4GameEvent("game_session_started",{player_game_sessions_count:e}),this.getSceneRootView().removeAllChildren(!0)},s.x2273503037357701410x=function(){},s.x461874601923646201x=function(){},s.x1103838841597991773x=function(){},s.x4571459713545808491x=function(e){if(this.mIsVisible){this.mElapsedVisibleTimeMSEC+=e;this.mElapsedVisibleTimeMSEC>=1500&&this.tryGoToNextScene()}},s.x976210321608527258x=function(t,i,n){i==this.x3324989347921085569x()&&979287055==t&&(this.mIsVisible=!0),e.prototype.x976210321608527258x.call(this,t,i,n)},s.x2530596703611903079x=function(e,t,i){return!1},s.x1104500125373923703x=function(e,t,i,n){switch(e){case c.x1465526023299306006x:case c.x320090993451744452x:case c.x1204206699037006952x:return this.mIsVisible&&this.mElapsedVisibleTimeMSEC>=500&&this.tryGoToNextScene(),!0}return!1},n}(s));n._RF.pop()}}}));System.register("chunks:///_virtual/x3706003529256001588x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x1180903263758642626x.ts","./x1390687146982484874x.ts","./x3624803980696404420x.ts","./x441339227243264040x.ts","./x4381590689536211342x.ts","./x1758453316087659781x.ts"],(function(e){"use strict";var t,n,a,r,i,o,s,l,g,S;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){a=e.cclegacy},function(e){r=e.x4075643488497311477x},function(e){i=e.x1180903263758642626x},function(e){o=e.x1390687146982484874x},function(e){s=e.x3624803980696404420x},function(e){l=e.x441339227243264040x},function(e){g=e.x4381590689536211342x},function(e){S=e.x1758453316087659781x}],execute:function(){a._RF.push({},"023cdE2K3pB1JSXJ9Xa/Ixq","x3706003529256001588x",void 0);e("x3706003529256001588x",function(e){function a(t,n){var a;(a=e.call(this,"mainMenu",t,n)||this).mStartingLevelIndex=0,a.mMenuButton_level=null,a.mDidHandleShowHelp=!1,a.mIsAIDemoModeEnabled=!1,a.mAIDemoModeAutoStartDelayMSEC=0;var r=n.getDictionaryWithKeyString("AIDemoMode");return r&&(a.mIsAIDemoModeEnabled=r.getBoolValueWithKeyStringPath("enabled"),a.mAIDemoModeAutoStartDelayMSEC=1e3*r.getIntValueWithKeyStringPath("autoStartDelaySEC")),a.setStartingLevelIndex(a.x3324989347921085569x().x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.levels.params").getIntValue(s.x3979234455250196779x)),a}t(a,e);var r=a.prototype;return r.setStartingLevelIndex=function(e){var t=this.x3324989347921085569x().x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.levels.params").getDictionary(s.x732297382166996544x);t?(this.mStartingLevelIndex=g.minInt(e,t.getNumValues()-1),this.updateLevelButton()):this.mStartingLevelIndex=0},r.getActualStartingLevelIndex=function(){return this.x3324989347921085569x().getOnboardingMgr().isOnboardingRequiredAndIncomplete()?0:this.x3324989347921085569x().getOnboardingMgr().getDummyLevelsComponent().getBaseStartingLevelIndex()+this.mStartingLevelIndex},r.updateLevelButton=function(){if(this.mMenuButton_level||(this.mMenuButton_level=this.getSceneRootView().getDescendantNamed("level")),this.mMenuButton_level){var e=this.x3324989347921085569x().x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.levels.params").getDictionary(s.x732297382166996544x),t=this.getSceneParams().getStringValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:level.offText")+e.getDictionaryAtIndex(this.getActualStartingLevelIndex()).getStringValue(s.x3948923322474734873x);this.mMenuButton_level.setButtonText(t,""),this.mMenuButton_level.setIsEnabled(!this.x3324989347921085569x().getOnboardingMgr().isOnboardingRequiredAndIncomplete())}},r.updateStartGameControl=function(){this.getUIInputMgr().unmapInputAction(a.x2437773181646435966x),this.x1843992266594640631x().getStartGameDeviceControlString()&&""!=this.x1843992266594640631x().getStartGameDeviceControlString()?this.getUIInputMgr().mapDeviceControlString(this.x1843992266594640631x().getStartGameDeviceControlString(),a.x2437773181646435966x,!1):(this.getUIInputMgr().mapDeviceControl(i.x1465526023299306006x,i.x2615536089808945740x,a.x2437773181646435966x,!1),this.getUIInputMgr().mapDeviceControl(i.x1465526023299306006x,i.x2913402928407614680x,a.x2437773181646435966x,!1),this.getUIInputMgr().mapDeviceControl(i.x1465526023299306006x,i.x1887062473282175476x,a.x2437773181646435966x,!1))},r.performPlay=function(e){this.x3324989347921085569x().x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.levels.params").setIntValue(s.x3979234455250196779x,this.getActualStartingLevelIndex()),S.getInstance().setIsAIDemoModeEnabled(e,!0),this.getSceneMgr().setScene("game")},r.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},r.x313838319085677172x=function(){this.getSceneParams().getValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:level")&&(this.getSceneParams().getBoolValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:level.enabled")||this.getSceneRootView().removeDescendantNamed("level"))},r.x3867984643080897648x=function(){if(this.updateLevelButton(),!this.mDidHandleShowHelp){var e=this.getSceneMgr().getManagedScene("help"),t=this.x1843992266594640631x().hasPrefsKey("dontShowHelpAtStart");!this.getSceneParams().getBoolValue(o.stringToValueKey("showHelpAtStart"))||t&&this.x1843992266594640631x().getPrefsBool("dontShowHelpAtStart",!0)?e.getSceneParams().setBoolValue(o.stringToValueKey("enableDontShowAtStartButton"),!1):(this.getSceneMgr().pushScene("help"),t||(this.x1843992266594640631x().setPrefsBool("dontShowHelpAtStart",!1),this.x1843992266594640631x().savePrefs())),this.mDidHandleShowHelp=!0}this.mIsAIDemoModeEnabled&&this.startTimer(this.mAIDemoModeAutoStartDelayMSEC,this,a.x2921074959919833956x),this.updateStartGameControl()},r.x1740968223970904671x=function(){this.cancelTimer(a.x2921074959919833956x)},r.x2273503037357701410x=function(){this.cancelTimer(a.x2921074959919833956x)},r.x461874601923646201x=function(){this.updateLevelButton(),this.updateStartGameControl(),this.mIsAIDemoModeEnabled&&this.startTimer(this.mAIDemoModeAutoStartDelayMSEC,this,a.x2921074959919833956x)},r.x1103838841597991773x=function(){},r.x4571459713545808491x=function(e){},r.x976210321608527258x=function(t,n,r){switch(t){case l.x1835681970596356845x:var i=n.getName();if(i==o.x4379805376353750514x("JHCMZPLHKU"))this.performPlay(!1);else if(i==o.x4379805376353750514x("SIYJSNGGGSUF")){var s=this.getSceneParams().getIntValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:level.incrementValue"),S=this.mStartingLevelIndex;if(S<s-1)S=s-1;else{var c=this.getSceneParams().getIntValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:level.maxLevelIndex");S=g.loopClampedInt(S+s,0,c)}this.setStartingLevelIndex(S)}else i==o.x4379805376353750514x("JBVGXKCTQJXNTJVH")?this.getSceneMgr().pushScene(o.x4379805376353750514x("ACHHTKOTAPHTDPPM")):i==o.x4379805376353750514x("IDGMEQIIJE")?this.getSceneMgr().pushScene(o.x4379805376353750514x("NECSGFEOFK")):"moreGames"==i&&(this.x3324989347921085569x().trackGUAEvent(this.x3324989347921085569x().getGUAEventCategory(),"Clicked Button","Main Menu: More Games",0,!1),this.x3324989347921085569x().trackGA4GameEvent("game_button_clicked",{game_button_name:"Main Menu: More Games"}),this.getSceneMgr().pushScene("moreGames"));break;case a.x2921074959919833956x:this.performPlay(!0)}e.prototype.x976210321608527258x.call(this,t,n,r)},r.x484463892230083241x=function(e,t,n,r){this.mIsAIDemoModeEnabled&&this.resetTimer(a.x2921074959919833956x)},r.x2530596703611903079x=function(e,t,n){switch(e){case a.x2437773181646435966x:return this.performPlay(!1),!0}return!1},r.x1104500125373923703x=function(e,t,n,a){switch(e){case i.x1465526023299306006x:return this.x1843992266594640631x().getStartGameDeviceControlString()&&""!=this.x1843992266594640631x().getStartGameDeviceControlString()||!this.getSceneParams().getBoolValue(o.stringToValueKey("allowAnyKeyToPlay"))||this.performPlay(!1),!0}return!1},n(a,null,[{key:"kBPSTGSceneId_mainMenu",get:function(){return 1413682297}},{key:"x2437773181646435966x",get:function(){return 62484675}},{key:"x2921074959919833956x",get:function(){return 391207929}}]),a}(r));a._RF.pop()}}}));System.register("chunks:///_virtual/x1713446950433382713x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x2362680020733037980x.ts","./x441339227243264040x.ts","./x4448475101681422869x.ts"],(function(e){"use strict";var t,n,o,c,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.x4075643488497311477x},function(e){c=e.x2362680020733037980x},function(e){r=e.x441339227243264040x},function(e){i=e.x4448475101681422869x}],execute:function(){n._RF.push({},"d40ccoCCA1LMIuMhT1PeQPn","x1713446950433382713x",void 0);e("x1713446950433382713x",function(e){function n(t,n){return e.call(this,"moreGames",t,n)||this}t(n,e);var o=n.prototype;return o.performGameButtonClick=function(e){this.x3324989347921085569x().trackGUAEvent(this.x3324989347921085569x().getGUAEventCategory(),"Clicked Button","More Games: "+e,0,!1),this.x3324989347921085569x().trackGA4GameEvent("game_button_clicked",{game_button_name:"More Games: "+e});var t=this.getSceneParams().getStringValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:"+e+".URL");c.openURL(t,!1)},o.performDone=function(){this.getSceneMgr().popScene()},o.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},o.x3867984643080897648x=function(){},o.x1740968223970904671x=function(){},o.x2273503037357701410x=function(){},o.x461874601923646201x=function(){},o.x1103838841597991773x=function(){},o.x4571459713545808491x=function(e){},o.x976210321608527258x=function(t,n,o){if(t==r.x1835681970596356845x){var c=n.getName();"done"==c?this.performDone():this.performGameButtonClick(c)}e.prototype.x976210321608527258x.call(this,t,n,o)},o.x2530596703611903079x=function(e,t,n){switch(e){case i.x2880278496294614949x:return this.performDone(),!0}return!1},n}(o));n._RF.pop()}}}));System.register("chunks:///_virtual/x1177161736142671045x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x1180903263758642626x.ts","./x1390687146982484874x.ts","./x441339227243264040x.ts"],(function(e){"use strict";var t,a,n,r,i,s,o;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass},function(e){n=e.cclegacy},function(e){r=e.x4075643488497311477x},function(e){i=e.x1180903263758642626x},function(e){s=e.x1390687146982484874x},function(e){o=e.x441339227243264040x}],execute:function(){n._RF.push({},"c2453l9U8RDJ45+ZEDCbQSm","x1177161736142671045x",void 0);e("x1177161736142671045x",function(e){function n(t,a){var r;(r=e.call(this,"newHighScore",t,a)||this).mNameView=null,r.mName="",r.mResetNameOnNextKey=!1;var i=a.getStringValueWithKeyStringPath("nameEntry.method");return r.mNameEntryMethod=i&&""!=i?s.stringToHash32(i):n.x2287672304315411509x,r.mDisplayNameBlinkRateMSEC=300,r.mDisplayNameBlinkTimerMSEC=0,r.mDisplayNameBlinkState=!1,r}t(n,e);var r=n.prototype;return r.resetName=function(){this.setName(""),this.mResetNameOnNextKey=!1},r.setName=function(e){this.mName=s.stringToUpperCase(e),this.updateDisplayName()},r.updateDisplayName=function(){if(this.mNameView){var e,t=this.mName.length;switch(this.mCurrentLetterIndex){case 0:case 1:case 2:var a=t>0?s.substringWithRange(this.mName,0,1):"",n=t>1?s.substringWithRange(this.mName,1,2):"",r=t>2?s.substringWithRange(this.mName,2,3):"";switch(this.mCurrentLetterIndex){case 0:a=this.mDisplayNameBlinkState?"_":a;break;case 1:n=this.mDisplayNameBlinkState?"_":n;break;case 2:r=this.mDisplayNameBlinkState?"_":r}e=a+n+r;break;default:e=s.stringToUpperCase(this.mName)}this.mNameView.setText(e)}},r.performSaveAndExit=function(){var e=this.x3324989347921085569x().getHighScoresMgr().getLastScoreIndex();this.x3324989347921085569x().getHighScoresMgr().setNameForIndex(e,this.mName,!0),this.getSceneMgr().swapScene("gameOver")},r.x2766708504066152543x=function(){e.prototype.x2766708504066152543x.call(this)},r.x3867984643080897648x=function(){var e=this.x3324989347921085569x().getHighScoresMgr().getLastScoreIndex();switch(this.getSceneRootView().getDescendantNamed("score").setText(this.x3324989347921085569x().getHighScoresMgr().getScoreStringForIndex(e)),this.mNameView=this.getSceneRootView().getDescendantNamed("name"),this.mNameEntryMethod){case n.x2287672304315411509x:this.setName(this.x3324989347921085569x().getHighScoresMgr().getNameForIndex(e)),this.mResetNameOnNextKey=this.mName&&""!=this.mName;break;case n.x315104388134481337x:this.mCurrentLetterIndex=0,this.mDisplayNameBlinkTimerMSEC=this.mDisplayNameBlinkRateMSEC,this.setName("AAA"),this.mResetNameOnNextKey=!1}switch(this.startTimer(1e3*this.getSceneParams().getIntValueWithDefault(n.x1708564090519618166x,-1),this,n.x1721988380348286836x),this.getUIInputMgr().unmapInputAction(n.x2437773181646435966x),this.mNameEntryMethod){case n.x315104388134481337x:var t=this.x1843992266594640631x().x4329476012501355321x().getDictionaryWithKeyStringPath("application.scenes.newHighScore").getDictionary(n.x2699282798135845151x);this.getUIInputMgr().mapDeviceControlString(t.getStringValue(n.x3377894078190123790x),n.x2666420449737189933x,!0),this.getUIInputMgr().mapDeviceControlString(t.getStringValue(n.x2072329325849569554x),n.x1201588348550391286x,!0),this.getUIInputMgr().mapDeviceControlString(t.getStringValue(n.x3052180423490448795x),n.x2816737697347375167x,!0);break;default:this.x1843992266594640631x().getStartGameDeviceControlString()&&""!=this.x1843992266594640631x().getStartGameDeviceControlString()?this.getUIInputMgr().mapDeviceControlString(this.x1843992266594640631x().getStartGameDeviceControlString(),n.x2437773181646435966x,!1):(this.getUIInputMgr().mapDeviceControl(i.x1465526023299306006x,i.x2615536089808945740x,n.x2437773181646435966x,!1),this.getUIInputMgr().mapDeviceControl(i.x1465526023299306006x,i.x2913402928407614680x,n.x2437773181646435966x,!1),this.getUIInputMgr().mapDeviceControl(i.x1465526023299306006x,i.x1887062473282175476x,n.x2437773181646435966x,!1))}},r.x1740968223970904671x=function(){},r.x2273503037357701410x=function(){},r.x461874601923646201x=function(){},r.x1103838841597991773x=function(){},r.x4571459713545808491x=function(e){switch(this.mNameEntryMethod){case n.x315104388134481337x:this.mDisplayNameBlinkTimerMSEC-=e,this.mDisplayNameBlinkTimerMSEC<0&&(this.mDisplayNameBlinkTimerMSEC+=this.mDisplayNameBlinkRateMSEC,this.mDisplayNameBlinkState=!this.mDisplayNameBlinkState,this.updateDisplayName())}},r.x976210321608527258x=function(t,a,r){switch(t){case o.x1835681970596356845x:"ok"==a.getName()&&this.performSaveAndExit();break;case n.x1721988380348286836x:this.performSaveAndExit()}e.prototype.x976210321608527258x.call(this,t,a,r)},r.x484463892230083241x=function(e,t,a,r){this.resetTimer(n.x1721988380348286836x)},r.x947251687283958489x=function(e,t,a,r){this.resetTimer(n.x1721988380348286836x)},r.x3275854245884094907x=function(e,t,a,r){this.resetTimer(n.x1721988380348286836x)},r.x2530596703611903079x=function(e,t,a){if(this.getElapsedActiveTimeMSEC()>500)switch(e){case n.x2437773181646435966x:return this.performSaveAndExit(),!0;case n.x2666420449737189933x:case n.x1201588348550391286x:case n.x2816737697347375167x:var r=this.mName;switch(e){case n.x2666420449737189933x:case n.x1201588348550391286x:var i=this.mName.charCodeAt(this.mCurrentLetterIndex);switch(i=s.loopClampedInt(i+(e==n.x2666420449737189933x?1:-1),65,90),mCurrentLetterIndex){case 0:r=String.fromCharCode(i,r.charCodeAt(1),r.charCodeAt(2));break;case 1:r=String.fromCharCode(r.charCodeAt(0),i,r.charCodeAt(2));break;case 2:r=String.fromCharCode(r.charCodeAt(0),r.charCodeAt(1),i)}return this.setName(r),!0;case n.x2816737697347375167x:return this.mCurrentLetterIndex<2?this.mCurrentLetterIndex++:this.performSaveAndExit(),!0}}return!1},r.x1104500125373923703x=function(e,t,a,r){switch(e){case i.x1465526023299306006x:if(this.getElapsedActiveTimeMSEC()>500)if(this.mNameView)switch(this.mNameEntryMethod){case n.x2287672304315411509x:switch(t){case i.x2615536089808945740x:case i.x2913402928407614680x:this.performSaveAndExit();break;case i.x3398644811927568522x:this.mName&&""!=this.mName&&this.resetName();break;default:switch(t){case i.x1810930212893332644x:this.mResetNameOnNextKey&&this.resetName(),this.mName&&""!=this.mName&&this.setName(s.substringToIndex(this.mName,this.mName.length-1));break;default:i.isAlphanumericKeyboardControlId(t)&&(this.mResetNameOnNextKey&&this.resetName(),this.mName.length<3&&this.setName(this.mName+i.getDisplayNameForKeyboardControl(t)))}}}else this.x1843992266594640631x().getStartGameDeviceControlString()&&""!=this.x1843992266594640631x().getStartGameDeviceControlString()||!this.getSceneParams().getBoolValue(s.stringToValueKey("allowAnyKeyToPlay"))||this.performSaveAndExit();return!0}return!1},a(n,null,[{key:"x1708564090519618166x",get:function(){return 1750210965}},{key:"x2699282798135845151x",get:function(){return 1529826102}},{key:"kParamKeyString_nameEntry_method",get:function(){return 1369281618}},{key:"x3377894078190123790x",get:function(){return 1506978071}},{key:"x2072329325849569554x",get:function(){return 1200155697}},{key:"x3052180423490448795x",get:function(){return 1656605349}},{key:"x1721988380348286836x",get:function(){return 674240520}},{key:"kNameEntryMethod_disabled",get:function(){return 794494701}},{key:"x2287672304315411509x",get:function(){return 1822212600}},{key:"x315104388134481337x",get:function(){return 538479745}},{key:"x2437773181646435966x",get:function(){return 62484675}},{key:"x2666420449737189933x",get:function(){return 385910113}},{key:"x1201588348550391286x",get:function(){return 1735968455}},{key:"x2816737697347375167x",get:function(){return 977650003}}]),n}(r));n._RF.pop()}}}));System.register("chunks:///_virtual/x1799845943152998709x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4075643488497311477x.ts","./x1825263265700717187x.ts","./x1180903263758642626x.ts","./x4472346643782045245x.ts","./x1390687146982484874x.ts","./x1654909725214686057x.ts","./x3061436937539478368x.ts","./x3950773521023582268x.ts","./x2362680020733037980x.ts","./x2635158806370081912x.ts","./x370408543499406949x.ts","./x441339227243264040x.ts","./x4448475101681422869x.ts","./x689332512328257358x.ts","./x3654830822402979912x.ts","./x4381590689536211342x.ts","./x4023525633718419706x.ts","./x1192949862533275485x.ts","./x3427967448068253605x.ts"],(function(e){"use strict";var t,a,s,n,i,r,o,l,u,g,m,c,h,I,p,S,P,d,V,y,f,T,O;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass,s=e.assertThisInitialized},function(e){n=e.cclegacy},function(e){i=e.x4075643488497311477x},function(e){r=e.x1825263265700717187x},function(e){o=e.x1180903263758642626x},function(e){l=e.x4472346643782045245x},function(e){u=e.x1390687146982484874x},function(e){g=e.x1654909725214686057x},function(e){m=e.x3061436937539478368x},function(e){c=e.x3950773521023582268x},function(e){h=e.x2362680020733037980x},function(e){I=e.x2635158806370081912x},function(e){p=e.x370408543499406949x},function(e){S=e.x441339227243264040x},function(e){P=e.x4448475101681422869x},function(e){d=e.x689332512328257358x},function(e){V=e.x3654830822402979912x},function(e){y=e.x4381590689536211342x},function(e){f=e.x4023525633718419706x},function(e){T=e.x1192949862533275485x},function(e){O=e.x3427967448068253605x}],execute:function(){n._RF.push({},"4bcc7oZcoRMaYxDNX1Ud0Qm","x1799845943152998709x",void 0);e("x1799845943152998709x",function(e){function n(t,a){var i;return(i=e.call(this,"options",t,a)||this).mOptionsItemsParams=a.getDictionaryWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content"),i.mLocalOptionsItemsValues=new r(!0),i.mPreviousLocalOptionsItemsValues=new r(!0),i.mDispatchChangeDictionary=new r(!1),i.mNumPlayers=t.x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.game.params").getIntValue(c.x3516067021238334765x),i.mPlayerIndex=0,i.mPlayerIndexStepper=null,i.mPendingControlIdItemParams=null,i.mPendingControlIdItemButton=null,t.addMessageListener(s(i)),n.sInstance=s(i),i}t(n,e),n.getInstance=function(){return n.sInstance};var i=n.prototype;return i.getOptionsSavedDataId=function(){return this.x3324989347921085569x().getSavedDataId()+"-options"},i.resetSavedOptionsData=function(){this.mLocalOptionsItemsValues.removeAllValues(),this.mLocalOptionsItemsValues.setIntValue(u.stringToValueKey(u.x4379805376353750514x("JELJNNOFERHFJMLKJRVNJSHOYRDFDR")),n.x4527734841742575682x),this.saveLocalValues(),this.loadLocalValuesFromPrefs(!1)},i.loadLocalValuesFromPrefs=function(e){var t=new r(!0),a=this.x1843992266594640631x().getPrefsString(this.getOptionsSavedDataId(),"");t.parseJSONString(a,!0,!0);var s=t.getIntValueWithDefault(u.stringToValueKey(u.x4379805376353750514x("OCRMTQUIMPTTPPRNLEBRLFPMQPJIJU")),0);for(this.migrateLegacyControlItemsV11(t);s<n.x4527734841742575682x;)s=n.x4527734841742575682x;var i=null,o="",l="",g=0,m=null,c=0,h=this.mOptionsItemsParams.getNumValues();this.mLocalOptionsItemsValues.removeAllValues(),this.mLocalOptionsItemsValues.setIntValue(u.stringToValueKey(u.x4379805376353750514x("JELJNNOFERHFJMLKJRVNJSHOYRDFDR")),n.x4527734841742575682x);var I=null;for(c=0;c<h;c++)if(i=this.mOptionsItemsParams.getDictionaryAtIndex(c),o=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(c)),this.isEnabledOptionsItem(i,o)){for(var p=this.isItemPerPlayer(i)?this.mNumPlayers:1,S=0;S<p;S++)if(l=this.getItemPathInOptions(i,S),g=this.getItemType(i),I=this.mLocalOptionsItemsValues.insertValueWithKeyStringPath(l,g),m=t.getValueWithKeyStringPath(l))I.copyValue(m);else{var P=this.getDefaultValueEntry(i,S);I.copyValue(P)}if(1211591272==u.stringToValueKey(o)){var d=.01*I.getValue();this.x1843992266594640631x().setSoundEffectsVolume(d)}155419878==u.stringToValueKey(o)&&this.x1843992266594640631x().setStartGameDeviceControlString(I.getValue())}e&&this.mPreviousLocalOptionsItemsValues.copy(this.mLocalOptionsItemsValues,!0),null!==t&&(t.destroy(),t=null),this.saveLocalValuesToPrefsAndDispatch()},i.saveLocalValuesToPrefsAndDispatch=function(){for(var e=this.x3324989347921085569x().x4329476012501355321x(),t=this.mOptionsItemsParams.getNumValues(),a=0;a<t;a++){var s=this.mOptionsItemsParams.getDictionaryAtIndex(a),n=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(a));if(this.isEnabledOptionsItem(s,n))for(var i=this.isItemPerPlayer(s)?this.mNumPlayers:1,r=0;r<i;r++){var o=this.getItemPathInOptions(s,r),m=this.mLocalOptionsItemsValues.getValueWithKeyStringPath(o),c=this.mPreviousLocalOptionsItemsValues.getValueWithKeyStringPath(o),h=this.getItemType(s),I=this.getItemPathToTargetValue(s,r);switch(h){case g.x3783032619504109691x:var p=m.getValue();if(s.getBoolValueWithKeyStringPath("saveFloat1ItemAsPercent100")){var S=.01*p;this.setTargetValueFloat(e,I,S),this.mDispatchChangeDictionary.setFloatValue(l.x2553973959041204921x,S)}else this.setTargetValueInt(e,I,p),this.mDispatchChangeDictionary.setIntValue(l.x3668045371996483309x,p);break;case g.x2090411379675684210x:this.copyTargetValue(m,e,I),this.mDispatchChangeDictionary.setFloatValue(l.x2553973959041204921x,m.getValue());break;case g.x3860326063911156812x:this.copyTargetValue(m,e,I),this.mDispatchChangeDictionary.setBoolValue(l.x546932693017569634x,m.getValue());break;case g.x4440003044286975511x:this.copyTargetValue(m,e,I),this.mDispatchChangeDictionary.setStringValue(l.x3239284327371955635x,m.getValue())}if(!m.equalsValue(c,!0)){if(this.isVolumeItemName(n)){var P=c.getValue(),d=m.getValue();P<=0&&d>0&&this.clampAllVolumeItems0To100()}if(this.mDispatchChangeDictionary.setIntValue(l.x2768670411435583712x,u.stringToValueKey(n)),this.mDispatchChangeDictionary.setIntValue(u.stringToValueKey("playerIndex"),r),this.dispatchMessage(l.x2684418880735563207x,this,this.mDispatchChangeDictionary),1211591272==u.stringToValueKey(n)){var V=.01*m.getValue();this.x1843992266594640631x().setSoundEffectsVolume(V)}155419878==u.stringToValueKey(n)&&this.x1843992266594640631x().setStartGameDeviceControlString(m.getValue())}}}this.mPreviousLocalOptionsItemsValues.copy(this.mLocalOptionsItemsValues,!0),this.saveLocalValues(),this.updateControls()},i.saveLocalValues=function(){this.getSceneParams().getBoolValueWithDefault(n.x3355647936189180680x,!0)&&(this.x1843992266594640631x().setPrefsString(this.getOptionsSavedDataId(),this.mLocalOptionsItemsValues.toJSONString(null,!0,-1)),this.x1843992266594640631x().savePrefs())},i.migrateLegacyControlItemsV11=function(e){for(var t=this.mOptionsItemsParams.getNumValues(),a=0;a<t;a++){var s=this.mOptionsItemsParams.getDictionaryAtIndex(a),n=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(a));if(this.isControlIdItemName(n)&&this.getItemType(s)==g.x4440003044286975511x)for(var i=this.isItemPerPlayer(s)?this.mNumPlayers:1,r=0;r<i;r++){var l=this.getItemPathInOptions(s,r),u=e.getValueWithKeyStringPath(l);if(u&&u.getValueType()!=g.x4440003044286975511x){var m=e.getIntValueWithKeyStringPath(l),c=o.x1895821408227167398x(m),h=o.getKeyboardDeviceControlString(c);e.insertValueWithKeyStringPath(l,g.x4440003044286975511x),e.setStringValueWithKeyStringPath(l,h)}}}},i.doToggleItem=function(e){var t=this.getItemParamsForControl(e);if(t){var a=!this.mLocalOptionsItemsValues.getBoolValueWithKeyStringPath(this.getItemPathInOptions(t,this.mPlayerIndex));this.mLocalOptionsItemsValues.getValueWithKeyStringPath(this.getItemPathInOptions(t,this.mPlayerIndex)).setValue(a),this.updateButton(e)}},i.doStepperItem=function(e){var t=this.getItemParamsForControl(e);if(t){var a=e.getStepperValue();this.mLocalOptionsItemsValues.getValueWithKeyStringPath(this.getItemPathInOptions(t,this.mPlayerIndex)).setValue(a);var s=e.getName();if(1211591272==u.stringToValueKey(s)){var n=.01*e.getStepperValue();this.x1843992266594640631x().setSoundEffectsVolume(n)}}},i.doControlIdItem=function(e){var t=this.getItemParamsForControl(e);if(t){this.mPendingControlIdItemParams=t,this.mPendingControlIdItemButton=e;var a=this.getSceneMgr().getManagedScene("captureControlId"),s=t.getStringValueWithKeyStringPath("title");a.setParams(s,u.firstIndexInString(s,"MOVE")>=0),this.getSceneMgr().pushScene("captureControlId")}},i.tryCaptureDeviceControl=function(e,t){switch(e){case o.x1465526023299306006x:switch(t){case o.x2935021364838745126x:case o.x3264621493280218085x:return}break;case o.x1204206699037006952x:switch(t){case o.x1086521091919493906x:case o.x1394343627258386882x:return}}var a=o.getDeviceControlString(e,t);if(!this.isMetaControlIdItemName(this.mPendingControlIdItemButton.getName()))for(var s,n,i,r=this.mOptionsItemsParams.getNumValues(),l=0;l<r;l++)s=this.mOptionsItemsParams.getDictionaryAtIndex(l),n=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(l)),this.isControlIdItemName(n)&&(this.isMetaControlIdItemName(n)||(i=this.getItemPathInOptions(s,this.mPlayerIndex),this.mLocalOptionsItemsValues.getValueWithKeyStringPath(i)&&o.areDeviceControlStringsEquivalent(this.mLocalOptionsItemsValues.getStringValueWithKeyStringPath(i),a)&&(this.mLocalOptionsItemsValues.getValueWithKeyStringPath(i).setValue(""),this.updateButton(this.getSceneRootView().getDescendantNamed(n)))));this.mLocalOptionsItemsValues.getValueWithKeyStringPath(this.getItemPathInOptions(this.mPendingControlIdItemParams,this.mPlayerIndex)).setValue(a),this.updateButton(this.mPendingControlIdItemButton),this.mPendingControlIdItemParams=null,this.mPendingControlIdItemButton=null},i.isEnabledOptionsItem=function(e,t){return t&&""!=t&&e.getBoolValueWithDefault(u.stringToValueKey("enabled"),!0)},i.isControlIdItemName=function(e){return 0==u.firstIndexInString(e,"controls_")},i.isMetaControlIdItemName=function(e){return 0==u.firstIndexInString(e,"controls_meta_")},i.isItemPerPlayer=function(e){return u.firstIndexInString(e.getStringValueWithKeyStringPath(u.x4379805376353750514x("ZCUNQQWJHFYHMFWRYFQSMFBSXFKNSJKHMPHS")),u.x4379805376353750514x("MDNENHAQMLVPOLIJONPIFMIIULAFGR"))>=0||u.firstIndexInString(e.getStringValueWithKeyStringPath(u.x4379805376353750514x("UDILEOKHZSCGETFPFUGQWTZPJTBMBSJQRMLQII")),u.x4379805376353750514x("EEFSRFONQJZNCJMHCLTGJKWFYJSSUO"))>=0},i.getItemNameFromKeyString=function(e){var t=u.firstIndexInString(e,"item__");return t>=0?u.substringFromIndex(e,t+6):""},i.getItemPathToTargetValue=function(e,t){return this.prepareItemPath(e.getStringValueWithKeyStringPath(u.x4379805376353750514x("YFWGIKCTDPURSOOLEPIMIPDLTPMGAOIMOIZL")),t)},i.getItemPathInOptions=function(e,t){return this.prepareItemPath(e.getStringValueWithKeyStringPath(u.x4379805376353750514x("OGOOKRQKBGIJGGLSHHMTYGFTLGHPBKJIXPRTOL")),t)},i.prepareItemPath=function(e,t){return e=h.replaceString(e,u.x4379805376353750514x("LIDRPEMMOIXMAIKGAKRFHJUEWIQRUI"),u.stringFromInt(t+1,1,!1))},i.getDefaultValueEntry=function(e,t){var a=e.getValueWithKeyString(u.x4379805376353750514x("BGKGWJOSGOBTPOEMTOBLNPTLOO"));return a||(a=e.getValueWithKeyStringPath(this.prepareItemPath(u.x4379805376353750514x("RGMNORMJEFZJNFWTRFTSLGVSCGROXHIIHPXSSLJSJLJGVDUKUNFHMSWGKTVFPDGPEDYPOT"),t))),a},i.getItemType=function(e){return this.getDefaultValueEntry(e,0).getValueType()},i.getItemParamsForItemName=function(e){return this.mOptionsItemsParams.getDictionaryWithKeyString(y.concatStrings("_BPSUIPanel:item__",e))},i.getItemParamsForControl=function(e){return this.getItemParamsForItemName(e.getName())},i.updateControls=function(){if(this.getDidConstruct()){for(var e=this.getSceneRootView().getDescendantNamed("menu").getDescendantNamed("panelContent"),t=e.getNumChildren(),a=0;a<t;a++){var s=e.getChildAtIndex(a);s.x1051632698240992079x(d.x1995969652462043279x)&&this.updateControl(s)}this.updatePointerInputControls()}},i.updatePointerInputControls=function(){var e=this.getSceneRootView().getDescendantNamed("item__pointerInputType");if(e){var t=this.getSceneRootView().getDescendantNamed("item__enableSwipeCCWRotation"),a=!0;if(this.x3324989347921085569x().getOnboardingMgr().isOnboardingRequiredAndIncomplete()){var s=this.x3324989347921085569x().getOnboardingMgr().getDummyLevelsComponent();a=s.isOnboardingInputTypeSupported(m.x1641265582704792431x)&&s.isOnboardingInputTypeSupported(m.x3007826297304550775x)}e.setIsVisible(a),t.setIsVisible(a)}},i.updateControl=function(e){if(e){var t=u.substringFromIndex(e.getName(),u.firstIndexInString(e.getName(),"item__")+6),a=e.getDescendantNamed(t);a&&(a.x1051632698240992079x(S.x2759250193873207623x)&&this.updateButton(a)||!a.x1051632698240992079x(V.x2218091022282307055x)||this.updateStepper(a))}},i.updateButton=function(e){if(!e)return!1;var t=this.getItemPathInOptions(this.getItemParamsForControl(e),this.mPlayerIndex),a=e.getName();if(this.isControlIdItemName(a)){var s=this.mLocalOptionsItemsValues.getStringValueWithKeyStringPath(t),n=o.getDisplayNameForDeviceControlString(s);e.setButtonText(n,"")}else e.setIsOn(this.mLocalOptionsItemsValues.getBoolValueWithKeyStringPath(t));return!0},i.updateStepper=function(e){if(!e)return!1;var t=this.getItemPathInOptions(this.getItemParamsForControl(e),this.mPlayerIndex),a=this.mLocalOptionsItemsValues.getIntValueWithKeyStringPath(t),s=a;return this.isVolumeControl(e)&&a<0&&(s=0),e.setStepperValue(s),!0},i.isVolumeItemName=function(e){return u.stringEndsWith(e,"_volume")},i.isVolumeControl=function(e){return!!e&&u.firstIndexInString(e.getName(),"_volume")>0},i.handleAudioMuteChanged=function(e){for(var t=!0,a=this.x3324989347921085569x().x4329476012501355321x(),s=this.mOptionsItemsParams.getNumValues(),n=0;n<s;n++){var i=this.mOptionsItemsParams.getDictionaryAtIndex(n),r=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(n));if(this.isEnabledOptionsItem(i,r))for(var o=this.isItemPerPlayer(i)?this.mNumPlayers:1,l=0;l<o;l++)if(this.isVolumeItemName(r)){var u=this.getItemPathInOptions(i,l),g=this.mLocalOptionsItemsValues.getValueWithKeyStringPath(u),m=g.getValue();0!=(m=e?-(m>=0?m:-m):m>=0?m:-m)&&(t=!1),g.setValue(m);var c=.01*m,h=this.getItemPathToTargetValue(i,l);this.setTargetValueFloat(a,h,c)}}t&&!e&&this.resetAllVolumeItemsToDefault(),this.saveLocalValuesToPrefsAndDispatch()},i.clampAllVolumeItems0To100=function(){for(var e=this.x3324989347921085569x().x4329476012501355321x(),t=this.mOptionsItemsParams.getNumValues(),a=0;a<t;a++){var s=this.mOptionsItemsParams.getDictionaryAtIndex(a),n=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(a));if(this.isEnabledOptionsItem(s,n))for(var i=this.isItemPerPlayer(s)?this.mNumPlayers:1,r=0;r<i;r++)if(u.stringEndsWith(n,"_volume")){var o=this.getItemPathInOptions(s,r),l=this.mLocalOptionsItemsValues.getValueWithKeyStringPath(o),g=u.clampInt(l.getValue(),0,100);l.setValue(g);var m=.01*g,c=this.getItemPathToTargetValue(s,r);this.setTargetValueFloat(e,c,m)}}},i.resetAllVolumeItemsToDefault=function(){for(var e=this.x3324989347921085569x().x4329476012501355321x(),t=this.mOptionsItemsParams.getNumValues(),a=0;a<t;a++){var s=this.mOptionsItemsParams.getDictionaryAtIndex(a),n=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(a));if(this.isEnabledOptionsItem(s,n))for(var i=this.isItemPerPlayer(s)?this.mNumPlayers:1,r=0;r<i;r++)if(u.stringEndsWith(n,"_volume")){var o=this.getItemPathInOptions(s,r),l=this.mLocalOptionsItemsValues.getValueWithKeyStringPath(o);l.setValue(this.getDefaultValueEntry(s,r).toInt());var g=l.getValue();l.setValue(g);var m=.01*g,c=this.getItemPathToTargetValue(s,r);this.setTargetValueFloat(e,c,m)}}},i.setPlayerIndex=function(e){this.mPlayerIndex=e,this.updateControls()},i.copyTargetValue=function(e,t,a){var s=t.getValueWithKeyStringPath(a);s&&s.copyValue(e)},i.setTargetValueInt=function(e,t,a){var s=e.getValueWithKeyStringPath(t);s&&s.getValueType()==g.x3783032619504109691x&&s.setValue(a)},i.setTargetValueFloat=function(e,t,a){var s=e.getValueWithKeyStringPath(t);s&&s.getValueType()==g.x2090411379675684210x&&s.setValue(a)},i.x2766708504066152543x=function(){this.x1843992266594640631x().removeMessageListener(this),null!==this.mLocalOptionsItemsValues&&(this.mLocalOptionsItemsValues.destroy(),this.mLocalOptionsItemsValues=null),null!==this.mPreviousLocalOptionsItemsValues&&(this.mPreviousLocalOptionsItemsValues.destroy(),this.mPreviousLocalOptionsItemsValues=null),null!==this.mDispatchChangeDictionary&&(this.mDispatchChangeDictionary.destroy(),this.mDispatchChangeDictionary=null),this==n.sInstance&&(n.sInstance=null),e.prototype.x2766708504066152543x.call(this)},i.x313838319085677172x=function(){this.mPlayerIndexStepper=this.getSceneRootView().getDescendantNamed("playerIndex"),this.mPlayerIndexStepper&&this.mPlayerIndexStepper.addMessageListener(this),I.verifyNativeAudioSupport()||(this.getSceneRootView().removeDescendantNamed("item__effects_volume"),this.getSceneRootView().removeDescendantNamed("item__music_volume"),this.getSceneRootView().removeDescendantNamed("item__music_selectedFileIndex"),this.getSceneRootView().getDescendantNamed("menu").updateSize())},i.x3867984643080897648x=function(){this.mPlayerIndex=this.mPlayerIndexStepper?this.mPlayerIndexStepper.getStepperValue()-1:0,this.updateControls()},i.x1740968223970904671x=function(){this.saveLocalValuesToPrefsAndDispatch()},i.x2273503037357701410x=function(){},i.x461874601923646201x=function(){if("confirm"==this.getSceneMgr().getPreviousSceneName()){var e=this.getSceneMgr().getManagedScene("confirm");e.getDidConfirm()&&("resetOptions"==e.getAction()?this.resetSavedOptionsData():"resetHighScores"==e.getAction()?this.x3324989347921085569x().getHighScoresMgr().resetHighScores():"resetVSCPURecords"==e.getAction()?this.x3324989347921085569x().getVSCPURecordsMgr().resetData():"resetAllSavedData"==e.getAction()&&this.x3324989347921085569x().resetAllSavedData())}},i.x1103838841597991773x=function(){},i.x4571459713545808491x=function(e){},i.x976210321608527258x=function(t,a,s){var n=null;switch(t){case S.x1835681970596356845x:var i=a.getName();if("done"==i)this.getSceneMgr().popScene();else if("resetOptions"==i){n=this.getSceneMgr().getManagedScene("confirm");var r=this.getSceneParams().getStringValue(u.stringToValueKey("confirmResetOptionsMessage"));n.setAction("resetOptions"),n.setMessage(r),this.getSceneMgr().pushScene("confirm")}else"resetHighScores"==i?((n=this.getSceneMgr().getManagedScene("confirm")).setAction("resetHighScores"),n.setMessage(this.getSceneParams().getStringValue(u.stringToValueKey("confirmResetRecordsMessage"))),this.getSceneMgr().pushScene("confirm")):"resetVSCPURecords"==i?((n=this.getSceneMgr().getManagedScene("confirm")).setAction("resetVSCPURecords"),n.setMessage(this.getSceneParams().getStringValue(u.stringToValueKey("confirmResetRecordsMessage"))),this.getSceneMgr().pushScene("confirm")):this.isControlIdItemName(i)?this.doControlIdItem(a):this.doToggleItem(a);break;case l.x2684418880735563207x:a&&(a==this.mPlayerIndexStepper?this.setPlayerIndex(a.getStepperValue()-1):this.doStepperItem(a));break;case O.x1343125017965013881x:var o=s.getIntValue(O.x2531929132057662613x),g=s.getIntValue(O.x3412239936999979199x);this.tryCaptureDeviceControl(o,g);break;case p.x3579436887302429561x:this.loadLocalValuesFromPrefs(!0),this.getSceneMgr().getManagedScene("captureControlId").addMessageListener(this),this.getSceneMgr().getManagedScene("game").addMessageListener(this);break;case T.x3374648258886677311x:this.handleAudioMuteChanged(!0);break;case T.x3283502521339549121x:this.handleAudioMuteChanged(!1);break;case f.x1617146197946469319x:this.resetSavedOptionsData()}e.prototype.x976210321608527258x.call(this,t,a,s)},i.x2530596703611903079x=function(e,t,a){switch(e){case P.x2880278496294614949x:return this.getSceneMgr().popScene(),!0}return!1},a(n,null,[{key:"x4527734841742575682x",get:function(){return 11}},{key:"x3355647936189180680x",get:function(){return 1134182756}},{key:"kSceneOptionsMessageId_optionsItemValueChanged",get:function(){return 447231435}}]),n}(i)).sInstance=null,n._RF.pop()}}}));System.register("chunks:///_virtual/x4075643488497311477x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x428471819423808585x.ts","./x1390687146982484874x.ts"],(function(t){"use strict";var e,n,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.x428471819423808585x},function(t){r=t.x1390687146982484874x}],execute:function(){n._RF.push({},"0a7f2g7WZRN3LxUCwYpHxAN","x4075643488497311477x",void 0);t("x4075643488497311477x",function(t){function n(e,n,c){return t.call(this,e,r.stringToHash32(e),n,c)||this}e(n,t);var c=n.prototype;return c.x3324989347921085569x=function(){return this.x1843992266594640631x()},c.x2766708504066152543x=function(){t.prototype.x2766708504066152543x.call(this)},n}(c));n._RF.pop()}}}));System.register("chunks:///_virtual/x1929113275892293427x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x2697327737977927830x.ts","./x3950773521023582268x.ts","./x3363722297214968445x.ts","./x3933757754418977954x.ts","./x3624803980696404420x.ts","./x3956211014191467053x.ts","./x4010102164439179233x.ts","./x3975905769579210931x.ts","./x3982968798538976088x.ts","./x171523377489456697x.ts","./x2839937219054016575x.ts","./x128797566098593454x.ts","./x7850470305573934x.ts","./x2234778313209895001x.ts","./x1473388099617861376x.ts","./x2706134342423168171x.ts","./x3645332506817008919x.ts","./x4082149423481207881x.ts","./x171491166251155774x.ts"],(function(e){"use strict";var t,n,s,a,o,i,r,c,d,u,S,l,g,m,f,M,k,I,h,P,p,_,y,T;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,s=e.assertThisInitialized},function(e){a=e.cclegacy},function(e){o=e.x4472346643782045245x},function(e){i=e.x2697327737977927830x},function(e){r=e.x3950773521023582268x},function(e){c=e.x3363722297214968445x},function(e){d=e.x3933757754418977954x},function(e){u=e.x3624803980696404420x},function(e){S=e.x3956211014191467053x},function(e){l=e.x4010102164439179233x},function(e){g=e.x3975905769579210931x},function(e){m=e.x3982968798538976088x},function(e){f=e.x171523377489456697x},function(e){M=e.x2839937219054016575x},function(e){k=e.x128797566098593454x},function(e){I=e.x7850470305573934x},function(e){h=e.x2234778313209895001x},function(e){P=e.x1473388099617861376x},function(e){p=e.x2706134342423168171x},function(e){_=e.x3645332506817008919x},function(e){y=e.x4082149423481207881x},function(e){T=e.x171491166251155774x}],execute:function(){a._RF.push({},"4c62diR2TdEXL+anTbNT8NC","x1929113275892293427x",void 0);e("x1929113275892293427x",function(e){function a(t,n){var a;return(a=e.call(this)||this).mParams=t.x1983177741811147517x(),a.mGameMgr=n,n.addMessageListener(s(a)),n.getValueChangedSource().addMessageListener(s(a)),n.getGame().addMessageListener(s(a)),n.addMessageListenerToAllPlayers(s(a),!0),a.mGame=a.mGameMgr.getGame(),a.mIsMuted=!1,a.mEffectsMgr=new y(y.x522836750797873902x),a.mEffectsMgr.setVolume(a.mParams.getFloatValueWithKeyStringPath("effects.volume")),a.mEffectsMgr.setIsEnabled(a.mParams.getBoolValueWithKeyStringPath("effects.enabled")),a.mEffectsMgr.getIsEnabled()&&n.getAppSupportFactory().addSoundsToSoundMgr(a.mEffectsMgr,a.mParams.getDictionaryWithKeyStringPath("effects.sounds")),a.mMetaEffectsMgr=new y(y.x522836750797873902x),a.mParams.setFloatValueWithKeyStringPath("metaEffects.volume",a.mParams.getFloatValueWithKeyStringPath("effects.volume")),a.mMetaEffectsMgr.setVolume(a.mParams.getFloatValueWithKeyStringPath("metaEffects.volume")),a.mMetaEffectsMgr.setIsEnabled(a.mParams.getBoolValueWithKeyStringPath("metaEffects.enabled")),a.mMetaEffectsMgr.getIsEnabled()&&n.getAppSupportFactory().addSoundsToSoundMgr(a.mMetaEffectsMgr,a.mParams.getDictionaryWithKeyStringPath("metaEffects.sounds")),a.mMusicMgr=new y(y.x663109966230723214x),a.mMusicMgr.setVolume(a.mParams.getFloatValueWithKeyStringPath("music.volume")),a.mMusicMgr.setIsEnabled(a.mParams.getBoolValueWithKeyStringPath("music.enabled")),a.mMusicMgr.getIsEnabled()&&n.getAppSupportFactory().addSoundsToSoundMgr(a.mMusicMgr,a.mParams.getDictionaryWithKeyStringPath("music.sounds")),a.mSelectedMusicFileIndex=a.mParams.getIntValueWithKeyStringPath("music.selectedFileIndex")-1,a.mCurrentMusicSoundId=0,a.updateIsMuted(),a}t(a,e);var B=a.prototype;return B.processTime=function(e){this.mEffectsMgr.processTimeMSEC(e),this.mMetaEffectsMgr.processTimeMSEC(e),this.mMusicMgr.processTimeMSEC(e),this.tryStartMusic()},B.getIsMuted=function(){return this.mIsMuted},B.setIsMuted=function(e){this.mIsMuted!=e&&(this.mIsMuted=e,this.mEffectsMgr.setIsMuted(e),this.mMusicMgr.setIsMuted(e),this.mMetaEffectsMgr.setIsMuted(e),e||(this.mCurrentMusicSoundId=0,this.tryStartMusic()))},B.stopEffects=function(){this.mEffectsMgr.stopAllSounds()},B.tryStartMusic=function(){if(this.mGame&&this.mGame.getCurrentState()==r.x290591613925852943x&&this.mMusicMgr.canPlaySounds()){var e=this.mMusicMgr.getSoundIdAtIndex(this.mSelectedMusicFileIndex);this.mCurrentMusicSoundId!=e&&this.mMusicMgr.isSoundLoaded(e)&&(this.mMusicMgr.stopAllSounds(),this.mMusicMgr.playSound(e),this.mCurrentMusicSoundId=e)}},B.stopMusic=function(){this.mMusicMgr.stopAllSounds(),this.mCurrentMusicSoundId=0},B.updateIsMuted=function(){var e=(this.mEffectsMgr.getIsMuted()||this.mEffectsMgr.getVolume()<=0)&&(this.mMusicMgr.getIsMuted()||this.mMusicMgr.getVolume()<=0);this.setIsMuted(e)},B.x2766708504066152543x=function(){this.mGameMgr.removeMessageListener(this),this.mGameMgr.getValueChangedSource().removeMessageListener(this),null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),this.mGameMgr=null,this.mGame=null,null!==this.mEffectsMgr&&(this.mEffectsMgr.destroy(),this.mEffectsMgr=null),null!==this.mMetaEffectsMgr&&(this.mMetaEffectsMgr.destroy(),this.mMetaEffectsMgr=null),null!==this.mMusicMgr&&(this.mMusicMgr.destroy(),this.mMusicMgr=null),e.prototype.x2766708504066152543x.call(this)},B.x976210321608527258x=function(e,t,n){if(t==this.mGameMgr.getValueChangedSource())if(e==o.x2684418880735563207x){var s=n.getIntValue(o.x2768670411435583712x);switch(s){case 1211591272:case 1078007269:var y=n.getFloatValue(o.x2553973959041204921x);switch(s){case 1211591272:this.mEffectsMgr.setVolume(y),this.mEffectsMgr.setIsMuted(y<=0),this.mMetaEffectsMgr.setVolume(y),this.mMetaEffectsMgr.setIsMuted(y<=0);break;case 1078007269:this.mMusicMgr.setVolume(y),this.mMusicMgr.setIsMuted(y<=0)}this.updateIsMuted(),this.mMusicMgr.getIsMuted()&&this.mGameMgr.getGame().setWasMusicActiveDuringGame(!1);break;case 729413392:this.mSelectedMusicFileIndex=n.getIntValue(o.x3668045371996483309x)-1}}else e==T.x1941104231007499560x&&(this.stopEffects(),this.stopMusic());else{var B=null;switch(e){case c.x53856349791362332x:if(0!=t.getPlayerIndex())return;this.mEffectsMgr.playSound(a.x1074836773220739987x);break;case l.x4491464698703395871x:if(0!=t.getPlayerIndex())return;switch(n.getIntValue(l.x331532947125194439x)){case i.x1163264438382801197x:case i.x1148181501057868572x:this.mEffectsMgr.playSound(a.x395132034384147074x);break;case i.x274957615890821540x:this.mEffectsMgr.playSound(a.x2224473591332370319x);break;case i.x3037978297644400982x:case i.x3627316749632917279x:case i.x1045657441224132560x:case i.x1632269064637221348x:this.mEffectsMgr.playSound(a.x2829371339276075496x);break;case i.x2009612428084326544x:this.mEffectsMgr.playSound(a.x2729018625271625544x);break;case i.x3093225339302193578x:case i.x1415831414458085166x:this.mEffectsMgr.playSound(a.x96523075491500229x);break;case i.x476144921134076668x:this.mEffectsMgr.playSound(a.x3600547394947510010x)}break;case l.x3580994146359383424x:if(0!=t.getPlayerIndex())return;switch(n.getIntValue(l.x2888490929257310549x)){case i.x1163264438382801197x:case i.x1148181501057868572x:this.mEffectsMgr.playSound(a.x492699580110014840x);break;case i.x3037978297644400982x:case i.x3627316749632917279x:case i.x1045657441224132560x:case i.x1632269064637221348x:this.mEffectsMgr.playSound(a.x4123221410609251347x);break;case i.x476144921134076668x:this.mEffectsMgr.playSound(a.x1201173830807111648x)}break;case p.x2076442862645559003x:case p.x1265705154482254186x:if(0!=t.getPlayerIndex())return;switch(e){case p.x2076442862645559003x:this.mEffectsMgr.playSound(a.x2638344947573901460x);break;case p.x1265705154482254186x:this.mEffectsMgr.playSound(a.x904999537066764005x)}break;case p.x1310216488710323262x:if(0!=t.getPlayerIndex())return;this.mEffectsMgr.playSound(a.x3601570741023663578x);break;case p.x4598992458170706570x:if(0!=t.getPlayerIndex())return;this.mEffectsMgr.playSound(a.x1263267932923756649x);break;case c.x919670044951203337x:if(0!=t.getPlayerIndex())return;switch((B=t).getCurrentState()){case c.x3961798951401593355x:switch(B.getGameEndCondition()){case c.x1339170697143401255x:this.mEffectsMgr.playSound(a.x123250530099901898x);break;default:this.mEffectsMgr.playSound(a.x855168456849699040x)}}break;case c.x4465735992535929486x:if(0!=t.getPlayerIndex())return;this.mEffectsMgr.playSound(a.x70086284834152142x);break;case c.x2835560522953721302x:this.mEffectsMgr.playSound(a.x2821371449832849124x);break;case S.x4529897626885787788x:this.mEffectsMgr.playSound(a.x4503468506116397690x);break;case S.x4239705541280003426x:this.mEffectsMgr.playSound(a.x2909702009567603366x);break;case S.x2401449302245799433x:if(!n.getBoolValue(S.x2485413609040593399x)){switch(n.getIntValue(S.x1364737316466423165x)){case 0:break;default:this.mEffectsMgr.playSound(a.x1909959424092370469x)}switch(n.getIntValue(S.x1355806399762741595x)){case 0:break;case 4:n.getBoolValue(S.x4396903821025096640x)?this.mEffectsMgr.playSound(a.x2471236662941758108x):this.mEffectsMgr.playSound(a.x3282605358065477161x);break;default:this.mEffectsMgr.playSound(a.x1181246455363773869x)}}break;case u.x3441132995988855501x:this.mEffectsMgr.playSound(a.x3393054551082756996x);break;case c.x3365430949334814008x:if(0!=t.getPlayerIndex())return;var E=(B=t).getRemainingTimeSEC();E<=10&&this.mEffectsMgr.playSound(a.x3577347237499697093x);break;case _.x2436794152278512146x:switch(this.mEffectsMgr.playSound(a.x613825759453278789x),(b=n.getObjectValue(_.x1863057587496635561x)).getActionId()){case g.x414433306457105515x:var C=b;this.mEffectsMgr.playSound(C.isSpeedUp()?a.x745349769719449098x:a.x1371363220341661483x);break;case m.x1803283145394326311x:this.mEffectsMgr.playSound(a.x184934691925127824x);break;case f.x4076663082924797413x:this.mEffectsMgr.playSound(a.x2744342873282212296x);break;case M.x4346400190625935653x:this.mEffectsMgr.playSound(a.x4098324909683048873x);break;case k.x2579173940506276196x:this.mEffectsMgr.playSound(a.x2203120051261985628x);break;case I.x3828259796318759308x:b.addMessageListener(this),this.mEffectsMgr.playSound(a.x3176041320318036705x);break;case h.x230667879672903562x:var A=b;this.mEffectsMgr.playSound(A.isToCenter()?a.x4030968020414650082x:a.x1536981005936397465x);break;case P.x3375684980073946266x:this.mEffectsMgr.playSound(a.x3175512492818670426x)}break;case _.x2615971472494097178x:var b;switch((b=n.getObjectValue(_.x789171500465171556x)).getActionId()){case g.x414433306457105515x:C=b;this.mEffectsMgr.playSound(C.isSpeedUp()?a.x4179291674029003967x:a.x4177765128405452777x)}break;case I.x743369394046717932x:this.mEffectsMgr.playSound(a.x3984440692165025685x);break;case d.x3367832560765667798x:this.mEffectsMgr.playSound(a.x1036617017429017905x);break;case d.x1253233675799485785x:this.mEffectsMgr.playSound(a.x1247858554690297589x);break;case r.x1950391814350285748x:switch(this.mGame.getCurrentState()){case r.x3997075334816415075x:this.mMetaEffectsMgr.playSound(a.x1860989555953989168x);break;case r.x290591613925852943x:this.mEffectsMgr.setIsPaused(!1),this.mMusicMgr.setIsMuted(this.mMusicMgr.getVolume()<=0),this.mMusicMgr.getVolume()>0?(this.mMusicMgr.setIsPaused(!1),this.tryStartMusic()):this.stopMusic(),this.updateIsMuted();break;case r.x3933957698802094611x:this.mEffectsMgr.setIsPaused(!0),this.mMusicMgr.setIsPaused(!0),this.mMetaEffectsMgr.stopAllSounds();break;case r.x3961798951401593355x:this.stopMusic()}break;case r.x1767676170085725439x:this.mGame.setWasMusicActiveDuringGame(!this.mMusicMgr.getIsMuted())}}},n(a,null,[{key:"x1860989555953989168x",get:function(){return 1369617984}},{key:"x395132034384147074x",get:function(){return 1535169186}},{key:"x492699580110014840x",get:function(){return 1910675519}},{key:"x2224473591332370319x",get:function(){return 172942947}},{key:"x2829371339276075496x",get:function(){return 1682556236}},{key:"x4123221410609251347x",get:function(){return 480439273}},{key:"x2729018625271625544x",get:function(){return 975619736}},{key:"x1074836773220739987x",get:function(){return 2065002966}},{key:"x96523075491500229x",get:function(){return 1326776011}},{key:"x3600547394947510010x",get:function(){return 1926544496}},{key:"x1201173830807111648x",get:function(){return 1179970829}},{key:"x2821371449832849124x",get:function(){return 753335612}},{key:"x2638344947573901460x",get:function(){return 575144844}},{key:"x904999537066764005x",get:function(){return 25918949}},{key:"x3601570741023663578x",get:function(){return 884721982}},{key:"x1181246455363773869x",get:function(){return 928644968}},{key:"x1909959424092370469x",get:function(){return 1328507124}},{key:"x3282605358065477161x",get:function(){return 1908070058}},{key:"x2471236662941758108x",get:function(){return 784896531}},{key:"x3393054551082756996x",get:function(){return 1319742382}},{key:"x1263267932923756649x",get:function(){return 493499829}},{key:"x70086284834152142x",get:function(){return 1567432234}},{key:"x855168456849699040x",get:function(){return 358377483}},{key:"x123250530099901898x",get:function(){return 754385190}},{key:"x3577347237499697093x",get:function(){return 1375313883}},{key:"x1036617017429017905x",get:function(){return 1973534055}},{key:"x1247858554690297589x",get:function(){return 1036564500}},{key:"x4503468506116397690x",get:function(){return 1203306797}},{key:"x2909702009567603366x",get:function(){return 2021026868}},{key:"x613825759453278789x",get:function(){return 504068791}},{key:"x745349769719449098x",get:function(){return 107852104}},{key:"x4179291674029003967x",get:function(){return 300572284}},{key:"x1371363220341661483x",get:function(){return 1428078287}},{key:"x4177765128405452777x",get:function(){return 1394559619}},{key:"x184934691925127824x",get:function(){return 727192839}},{key:"x2744342873282212296x",get:function(){return 727586433}},{key:"x4098324909683048873x",get:function(){return 366282555}},{key:"x2203120051261985628x",get:function(){return 1504724235}},{key:"x3176041320318036705x",get:function(){return 2115529587}},{key:"x3984440692165025685x",get:function(){return 939394862}},{key:"x4030968020414650082x",get:function(){return 467334585}},{key:"x1536981005936397465x",get:function(){return 1830149464}},{key:"x3175512492818670426x",get:function(){return 2022685384}}]),a}(o));a._RF.pop()}}}));System.register("chunks:///_virtual/x1192949862533275485x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x171491166251155774x.ts","./x1180903263758642626x.ts","./x4472346643782045245x.ts","./x1390687146982484874x.ts","./x3061436937539478368x.ts","./x3950773521023582268x.ts","./x3363722297214968445x.ts","./x4010102164439179233x.ts","./x1929113275892293427x.ts","./x1122897535151265434x.ts"],(function(e){"use strict";var t,a,r,n,i,o,s,l,m,g,u,c,y;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass},function(e){r=e.cclegacy},function(e){n=e.x171491166251155774x},function(e){i=e.x1180903263758642626x},function(e){o=e.x4472346643782045245x},function(e){s=e.x1390687146982484874x},function(e){l=e.x3061436937539478368x},function(e){m=e.x3950773521023582268x},function(e){g=e.x3363722297214968445x},function(e){u=e.x4010102164439179233x},function(e){c=e.x1929113275892293427x},function(e){y=e.x1122897535151265434x}],execute:function(){r._RF.push({},"d4868owEiBKO6NkQ5eR+vaA","x1192949862533275485x",void 0);e("x1192949862533275485x",function(e){function r(t,a,n,o,l){var m;if(m=e.call(this,t,n,o,l)||this,!i.isMouseHoverEnabled()){var g=m.getGameMgrData().getDictionaryWithKeyStringPath("game.players.player-base.playerComponents.control.params");g.getDictionary(u.x3686266827777414074x).setIntValue(u.x365143048155458683x,s.FXPTFromFloat(.3)),g.getDictionary(u.x3686266827777414074x).setBoolValue(u.x2738355691158825447x,!1),g.getDictionary(u.x3686266827777414074x).setBoolValue(u.x1859566365810154057x,!1)}if(r.expandPlayerBaseControlDataToPlayers(m.getGameMgrData()),m.mGame=null,m.mGameView=null,m.mAudioMgr=null,a>=0){var c=m.getGameMgrData();0==a&&c.getDictionaryWithKeyStringPath("game.players.player-base.playerComponents.control.params").getDictionary(u.x866806459843252649x).setBoolValue(u.x2595514591341556674x,!0);for(var y=c.getDictionaryWithKeyStringPath("game.players.players"),d=y.getNumValues(),P=0;P<d;P++){var p="player"+s.stringFromInt(P+1,0,!1),S=y.getDictionaryWithKeyString(p);P<a?(S.getDictionaryWithKeyStringPath("playerComponents.control.params").setStringValue(u.x2936254658398210837x,"direct"),S.getDictionaryWithKeyStringPath("playerComponents.control.params").setBoolValue(u.x1116142239305666807x,!0)):(S.getDictionaryWithKeyStringPath("playerComponents.control.params").setStringValue(u.x2936254658398210837x,"AI"),S.getDictionaryWithKeyStringPath("playerComponents.control.params").setBoolValue(u.x1116142239305666807x,!1),S.getDictionaryWithKeyStringPath("playerComponents.control.params").getDictionary(u.x866806459843252649x)&&S.getDictionaryWithKeyStringPath("playerComponents.control.params").getDictionary(u.x866806459843252649x).setBoolValue(u.x2595514591341556674x,!0))}}return m}t(r,e),r.expandPlayerBaseControlDataToPlayers=function(e){for(var t=e.getDictionaryWithKeyString("game"),a=t.getDictionaryWithKeyStringPath("players.player-base.playerComponents.control"),r=t.getDictionaryWithKeyStringPath("players.players"),n=r.getNumValues(),i=0;i<n;i++){var o=r.getDictionaryAtIndex(i).getDictionaryWithKeyStringPath("playerComponents.control");o?o.synchronizeWithSource(a,!1,!1,!0):(o=a.x1983177741811147517x(),r.getDictionaryAtIndex(i).getDictionaryWithKeyStringPath("playerComponents").insertObjectValue(0,"control",0,o))}};var d=r.prototype;return d.getGame=function(){return this.mGame},d.getPlayer=function(e){return this.mGame?this.mGame.getPlayer(e):null},d.getPlayerAtIndex=function(e){return this.mGame?this.mGame.getPlayerAtIndex(e):null},d.addMessageListenerToAllPlayers=function(e,t){for(var a=this.mGame.getNumPlayers(),r=0;r<a;r++){var n=this.getPlayerAtIndex(r);n.addMessageListener(e),t&&n.addMessageListenerToComponents(e)}},d.getIsAudioMuted=function(){return this.mAudioMgr.getIsMuted()},d.setIsAudioMuted=function(e){this.mAudioMgr.setIsMuted(e),e?this.dispatchMessage(r.x3374648258886677311x,this,null):this.dispatchMessage(r.x3283502521339549121x,this,null)},d.createGame=function(e){for(var t=e.getDictionaryWithKeyString("params"),a=new m(t),r=e.getDictionaryWithKeyStringPath("players.player-base"),n=t.getIntValue(m.x3516067021238334765x),i=0;i<n;i++){var o=r.x1983177741811147517x(),s=e.getDictionaryWithKeyStringPath("players.players").getDictionaryAtIndex(i);o.copy(s,!1);var l=this.createPlayer(o,i,i,a);a.addPlayer(l),null!==o&&(o.destroy(),o=null)}return a},d.createPlayer=function(e,t,a,r){var n=e.getDictionaryWithKeyString("params"),i=new g(t,a,r,n);i.construct();for(var o=e.getDictionaryWithKeyString("playerComponents"),l=o.getNumValues(),m=0;m<l;m++){var u=o.getDictionaryAtIndex(m);if(u.getBoolValueWithDefault(s.stringToValueKey("enabled"),!0)){var c=o.getValueKeyStringAtIndex(m);i.addComponentWithParams(s.stringToValueKey(c),u.getDictionaryWithKeyString("params"))}}return i},d.x2766708504066152543x=function(){null!==this.mGame&&(this.mGame.destroy(),this.mGame=null),this.mGameView&&this.mGameView.release(),this.mGameView=null,null!==this.mAudioMgr&&(this.mAudioMgr.destroy(),this.mAudioMgr=null),e.prototype.x2766708504066152543x.call(this)},d.x3312213593749599992x=function(){null!==this.mGame&&(this.mGame.destroy(),this.mGame=null),this.mGame=this.createGame(this.getGameMgrData().getDictionaryWithKeyString("game")),this.mGameView&&this.mGameView.release(),this.mGameView=null,this.mGameView=new y(this.getGameMgrData().getDictionaryWithKeyString("gameView"),this),this.mGameView.retain(),this.getGameRootView().addChild(this.mGameView),this.mGameView.setIsVisible(!1),null!==this.mAudioMgr&&(this.mAudioMgr.destroy(),this.mAudioMgr=null),this.mAudioMgr=new c(this.getGameMgrData().getDictionaryWithKeyString("gameAudio"),this)},d.x3429389712119639799x=function(){return n.x509084065516752150x},d.x3833589715677666287x=function(){},d.x2083589989246887527x=function(){this.mGameView.setIsVisible(!0),this.mGame.startGame()},d.x3740052155655410519x=function(e){return this.mGame.processTime(e),this.mAudioMgr.processTime(e),!this.mGame.isGameEnded()},d.x2422710198348603327x=function(){this.mGame.pauseGame()},d.x2082278322702908866x=function(){this.mGame.resumeGame()},d.x3175692800258597968x=function(){this.mGame.terminateGame()},d.x2889125714466725979x=function(e,t){for(var a=this.mGame.getNumPlayers(),r=0;r<a;r++)this.getPlayerAtIndex(r).getControlComponent().handleDeviceControlOn(e,t,0,0)},d.x2521489794401660650x=function(e,t){for(var a=this.mGame.getNumPlayers(),r=0;r<a;r++)this.getPlayerAtIndex(r).getControlComponent().handleDeviceControlOff(e,t,0,0)},d.x2542169887589999891x=function(e,t){for(var a=this.mGame.getNumPlayers(),r=0;r<a;r++)this.getPlayerAtIndex(r).getControlComponent().handleDeviceControlCancelled(e,t)},d.x976210321608527258x=function(e,t,a){if(e==o.x2684418880735563207x){var r,n=this.mGame.getNumPlayers(),i=a.getIntValue(s.stringToValueKey("playerIndex"));switch(a.getIntValue(o.x2768670411435583712x)){case 989105235:case 204302768:case 1147746567:case 249037860:case 149182225:case 471287730:case 1937525847:var m=this.getPlayerAtIndex(i).getControlComponent().getParams().getDictionary2(u.x2693459361962759386x,u.x1781223535930572298x);if(m){var g=a.getStringValue(o.x3239284327371955635x);switch(a.getIntValue(o.x2768670411435583712x)){case 989105235:m.setStringValue(u.x4462609275397508130x,g);break;case 204302768:m.setStringValue(u.x1756195259258847193x,g);break;case 1147746567:m.setStringValue(u.x2485566445609192574x,g);break;case 249037860:m.setStringValue(u.x3644883498931234587x,g);break;case 149182225:m.setStringValue(u.x2756587437564913206x,g);break;case 471287730:m.setStringValue(u.x2221768872469792321x,g);break;case 1937525847:m.setStringValue(u.x2609758420987985937x,g)}this.getPlayerAtIndex(i).getControlComponent().remapInputs()}break;case 1304103375:this.getPlayerAtIndex(i).getControlComponent().x3653139289778280998x().setDirectInputParameter_moveLRAutoRepeatInitialDelayMSEC(a.getIntValue(o.x3668045371996483309x));break;case 343082491:this.getPlayerAtIndex(i).getControlComponent().x3653139289778280998x().setDirectInputParameter_moveLRAutoRepeatDelayMSEC(a.getIntValue(o.x3668045371996483309x));break;case 1047210200:this.getPlayerAtIndex(i).getControlComponent().getParams().setIntValue(u.x2312718743725336004x,a.getIntValue(o.x3668045371996483309x)),this.getPlayerAtIndex(i).getControlComponent().remapInputs();break;case 98607055:this.getPlayerAtIndex(i).getControlComponent().x3653139289778280998x().setGestureInputParameter_enableCCWRotation(a.getBoolValue(o.x546932693017569634x));break;case 474065836:var c=a.getBoolValue(o.x546932693017569634x);this.getPlayerAtIndex(i).getControlComponent().x3653139289778280998x().setEnableAutomaticInputTypeSwitching(c),c||this.getPlayerAtIndex(i).getControlComponent().x3653139289778280998x().setActiveInputType(l.x3699220901933188103x);break;case 1791712459:for(r=0;r<n;r++)if(this.getPlayerAtIndex(r).getControlComponent().x3653139289778280998x().getController().getAIInputMgr()){var y=this.getPlayerAtIndex(r).getControlComponent().x3653139289778280998x().getController().getAIInputMgr(),d=a.getIntValue(o.x3668045371996483309x);y.mParameter_actionPreDelayMSEC_moveLR=d,y.mParameter_actionPreDelayMSEC_rotate=d,y.mParameter_actionPreDelayMSEC_hardDrop=d}}}},a(r,null,[{key:"x3374648258886677311x",get:function(){return 444454758}},{key:"x3283502521339549121x",get:function(){return 735131117}}]),r}(n));r._RF.pop()}}}));System.register("chunks:///_virtual/x1122897535151265434x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x291109610367529640x.ts","./x1825263265700717187x.ts","./x1390687146982484874x.ts","./x3950773521023582268x.ts","./x3363722297214968445x.ts","./x3956211014191467053x.ts","./x3975905769579210931x.ts","./x3982968798538976088x.ts","./x128797566098593454x.ts","./x7850470305573934x.ts","./x2234778313209895001x.ts","./x1473388099617861376x.ts","./x2384331738405430424x.ts","./x3645332506817008919x.ts","./x2362680020733037980x.ts","./x4414577972885951283x.ts","./x441339227243264040x.ts","./x4370363482510417528x.ts","./x1411759881350454687x.ts"],(function(t){"use strict";var e,i,a,s,r,n,o,u,m,g,S,h,d,l,c,P,p,B,y,M,T;return{setters:[function(t){e=t.inheritsLoose,i=t.assertThisInitialized},function(t){a=t.cclegacy},function(t){s=t.x291109610367529640x},function(t){r=t.x1825263265700717187x},function(t){n=t.x1390687146982484874x},function(t){o=t.x3950773521023582268x},function(t){u=t.x3363722297214968445x},null,function(t){m=t.x3975905769579210931x},function(t){g=t.x3982968798538976088x},function(t){S=t.x128797566098593454x},function(t){h=t.x7850470305573934x},function(t){d=t.x2234778313209895001x},function(t){l=t.x1473388099617861376x},function(t){c=t.x2384331738405430424x},function(t){P=t.x3645332506817008919x},function(t){p=t.x2362680020733037980x},function(t){B=t.x4414577972885951283x},function(t){y=t.x441339227243264040x},function(t){M=t.x4370363482510417528x},function(t){T=t.x1411759881350454687x}],execute:function(){a._RF.push({},"62715qj831MHoBjkijlrWGy","x1122897535151265434x",void 0);t("x1122897535151265434x",function(t){function a(e,a){var s;return(s=t.call(this,null)||this).mParams=e.x1983177741811147517x(),s.mMinoSpriteFrameSet=null,s.mGameMgr=a,a.addMessageListener(i(s)),a.getGame().addMessageListener(i(s)),s.mGame=s.mGameMgr.getGame(),s.mPauseButton=null,s.mAudioButton=null,s.mDebugMessagesView=null,s.mDebugMessagesViewMaxLines=1,s.construct(),s.setName("_BPSTGStandardGameView"),s}e(a,t);var _=a.prototype;return _.construct=function(){this.createMinoSpriteFrames(this.mParams.getDictionaryWithKeyStringPath("gameViewParams.minos")),this.setSize(M.instance().getWindowWidth(),M.instance().getWindowHeight()),this.setPosition(this.mParams.getFloatValueWithKeyStringPath("gameViewParams.originX"),this.mParams.getFloatValueWithKeyStringPath("gameViewParams.originY")),this.mPlayerViewsLayer1=new s(this.getAppSupportFactory()),this.mPlayerViewsLayer2=new s(this.getAppSupportFactory());var t=this.mParams.getDictionaryWithKeyStringPath("playerViews.playerView-base");t.createDictionary(n.stringToValueKey("minos"),"minos",999,!0).copy(this.mParams.getDictionaryWithKeyStringPath("gameViewParams.minos"),!0);for(var e=this.mGame.getNumPlayers(),i=0;i<e;i++){var a=new r(!0);a.copy(this.mParams.getDictionaryWithKeyStringPath("playerViews.playerViews").getDictionaryAtIndex(i),!0),a.synchronizeWithSource(t,!1,!1,!1),new T(a,this.mGameMgr,i,this.mMinoSpriteFrameSet,this.mPlayerViewsLayer1,this.mPlayerViewsLayer2),null!==a&&(a.destroy(),a=null)}this.addChild(this.mPlayerViewsLayer1),this.addChild(this.mPlayerViewsLayer2),this.mParams.getBoolValueWithKeyStringPath("gameViewParams.pauseButton.enabled")&&(this.mPauseButton=this.mGameMgr.getAppSupportFactory().createViewWithTypeAndClass("_BPSUIButton","_BPSUIButton",this.mParams.getDictionaryWithKeyStringPath("gameViewParams.pauseButton")),this.mPauseButton.setName("pauseButton"),this.mPauseButton.addMessageListener(this),this.addChild(this.mPauseButton)),this.mParams.getBoolValueWithKeyStringPath("gameViewParams.audioButton.enabled")&&(this.mAudioButton=this.mGameMgr.getAppSupportFactory().createViewWithTypeAndClass("_BPSUIButton","_BPSUIButton",this.mParams.getDictionaryWithKeyStringPath("gameViewParams.audioButton")),this.mAudioButton.setName("audioButton"),this.mAudioButton.addMessageListener(this),this.addChild(this.mAudioButton)),this.mParams.getBoolValueWithKeyStringPath("gameViewParams.debugMessages.enabled")&&(this.mDebugMessagesView=this.mGameMgr.getAppSupportFactory().x1839654494700481574x(this.mParams.getDictionaryWithKeyStringPath("gameViewParams.debugMessages")),this.mDebugMessagesViewMaxLines=this.mParams.getIntValueWithKeyStringPath("gameViewParams.debugMessages.maxLines"),p.NativeView_addChild(this.getNativeView(),this.mDebugMessagesView.getNativeView()),this.mGameMgr.addMessageListenerToAllPlayers(this,!0))},_.createMinoSpriteFrames=function(t){null!==this.mMinoSpriteFrameSet&&(this.mMinoSpriteFrameSet.destroy(),this.mMinoSpriteFrameSet=null),this.mMinoSpriteFrameSet=new B(c.x1719209372222163494x);var e=t.getBoolValueWithKeyStringPath("isVisualStickyEnabled");this.addMinoBitmap(c.x1719209372222163494x,t.getStringValueWithKeyStringPath("baseMinoTexture.resource_texture"),e),this.addMinoBitmap(c.x172275987817698842x,t.getStringValueWithKeyStringPath("visualStates.nextPiece.resource_texture"),e),this.addMinoBitmap(c.x4375944479620694405x,t.getStringValueWithKeyStringPath("visualStates.livePiece.resource_texture"),e),this.addMinoBitmap(c.x2263785423814173765x,t.getStringValueWithKeyStringPath("visualStates.ghostPiece.resource_texture"),e),this.addMinoBitmap(c.x3118197035351235600x,t.getStringValueWithKeyStringPath("visualStates.holdPiece.resource_texture"),e),this.addMinoBitmap(c.x4418531170524797231x,t.getStringValueWithKeyStringPath("visualStates.locked.resource_texture"),e),this.addMinoBitmap(c.x2888872409233056218x,t.getStringValueWithKeyStringPath("visualStates.garbage.resource_texture"),e),this.addMinoBitmap(c.x96024195983438242x,t.getStringValueWithKeyStringPath("visualStates.shattering.resource_texture"),e),this.addMinoBitmap(c.x2197645481220261035x,t.getStringValueWithKeyStringPath("visualStates.shattered.resource_texture"),!1),this.addMinoBitmap(c.x3566893743968584298x,t.getStringValueWithKeyStringPath("visualStates.shattering.resource_texture"),e),this.addMinoBitmap(c.x761328147008202104x,t.getStringValueWithKeyStringPath("visualStates.shattered.resource_texture"),!1),this.addMinoBitmap(c.x1173741150021443541x,t.getStringValueWithKeyStringPath("visualStates.dying.resource_texture"),!1),this.addMinoBitmap(c.x1105279010852267609x,t.getStringValueWithKeyStringPath("visualStates.garbage2.resource_texture"),e),this.mMinoSpriteFrameSet.remapMinoLogicalState(c.x4504825273042151964x,c.x4375944479620694405x),this.mMinoSpriteFrameSet.remapMinoLogicalState(c.x3750735363819884705x,c.x2263785423814173765x),this.mMinoSpriteFrameSet.remapMinoType(n.x2282177522225822300x,n.x2640432151801765044x),this.mMinoSpriteFrameSet.remapMinoType(n.x351576513181277538x,n.x3371115734898663512x),this.mMinoSpriteFrameSet.remapMinoType(n.x3294734154738425530x,n.x1211649191952402875x),this.mMinoSpriteFrameSet.remapMinoType(n.x3348926169621623293x,n.x2640432151801765044x),this.mMinoSpriteFrameSet.remapMinoType(n.x1327550898746693554x,n.x2640432151801765044x),this.mMinoSpriteFrameSet.constructSpriteFrames()},_.addMinoBitmap=function(t,e,i){if(""!=e){var a=null,s=p.getNumFilePathPermutations(e);if(s>0)for(var r=0;r<s;r++){var o=p.getFilePathPermutation(e,r),u=p.getFilePathAddition(e,r),m=n.getStandardPieceTypeId(u),g=0!=m?3:8;a=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeBitmap(o),this.mMinoSpriteFrameSet.addMinoBitmap(t,m,a,0,0,p.NativeBitmap_getWidth(a),p.NativeBitmap_getHeight(a),i,g)}else a=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeBitmap(e),this.mMinoSpriteFrameSet.addMinoBitmap(t,0,a,0,0,p.NativeBitmap_getWidth(a),p.NativeBitmap_getHeight(a),i,3)}},_.updateAudioButton=function(){this.mAudioButton&&this.mAudioButton.setIsOn(!this.mGameMgr.getIsAudioMuted())},_.toggleAudioButton=function(){if(this.mAudioButton){var t=this.mGameMgr.getIsAudioMuted();this.mGameMgr.setIsAudioMuted(!t),this.updateAudioButton()}},_.addDebugMessage=function(t){if(this.mDebugMessagesView){var e=this.mDebugMessagesView.getText();e&&""!=e&&(e+="\n"),e+=t,e=n.trimStringLines(e,this.mDebugMessagesViewMaxLines,!0),this.mDebugMessagesView.setText(e)}},_.x2766708504066152543x=function(){this.mGameMgr.removeMessageListener(this),null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mMinoSpriteFrameSet&&(this.mMinoSpriteFrameSet.destroy(),this.mMinoSpriteFrameSet=null),this.mGameMgr=null,this.mGame=null,this.mPauseButton=null,this.mAudioButton=null,null!==this.mDebugMessagesView&&(this.mDebugMessagesView.destroy(),this.mDebugMessagesView=null),t.prototype.x2766708504066152543x.call(this)},_.x976210321608527258x=function(t,e,i){if(e==this.mPauseButton)t==y.x1835681970596356845x&&this.mGameMgr.pauseGame();else if(e==this.mAudioButton)t==y.x1835681970596356845x&&this.toggleAudioButton();else switch(t){case o.x1950391814350285748x:switch(this.mGame.getCurrentState()){case o.x3997075334816415075x:case o.x290591613925852943x:this.mPauseButton&&this.mPauseButton.setIsEnabled(!0),this.mAudioButton&&this.mAudioButton.setIsEnabled(!0),this.updateAudioButton();break;case o.x4426913439973074479x:case o.x3933957698802094611x:case o.x3961798951401593355x:this.mPauseButton&&this.mPauseButton.setIsEnabled(!1),this.mAudioButton&&this.mAudioButton.setIsEnabled(!1)}break;case u.x2835560522953721302x:this.addDebugMessage("- - -");break;case P.x2436794152278512146x:if(this.mDebugMessagesView)switch(i.getObjectValue(P.x1863057587496635561x).getActionId()){case m.x414433306457105515x:this.addDebugMessage("SPEED UP/DOWN");break;case g.x1803283145394326311x:this.addDebugMessage("TURN");break;case S.x2579173940506276196x:this.addDebugMessage("BLUR");break;case h.x3828259796318759308x:this.addDebugMessage("POKE");break;case d.x230667879672903562x:this.addDebugMessage("PRESS");break;case l.x3375684980073946266x:this.addDebugMessage("SHIFT")}}},a}(s));a._RF.pop()}}}));System.register("chunks:///_virtual/x1411759881350454687x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1201515018088236679x.ts","./x1825263265700717187x.ts","./x1180903263758642626x.ts","./x4472346643782045245x.ts","./x1390687146982484874x.ts","./x3061436937539478368x.ts","./x3950773521023582268x.ts","./x3363722297214968445x.ts","./x1829961367305584157x.ts","./x3933757754418977954x.ts","./x3624803980696404420x.ts","./x3956211014191467053x.ts","./x357457879647821544x.ts","./x3975905769579210931x.ts","./x3982968798538976088x.ts","./x171523377489456697x.ts","./x2839937219054016575x.ts","./x128797566098593454x.ts","./x7850470305573934x.ts","./x2234778313209895001x.ts","./x1473388099617861376x.ts","./x2706134342423168171x.ts","./x2384331738405430424x.ts","./x2132475033604646101x.ts","./x3645332506817008919x.ts","./x2362680020733037980x.ts","./x2446198698887643760x.ts","./x2847549867856397327x.ts","./x626553917884485281x.ts","./x2129848421208949310x.ts","./x4370363482510417528x.ts","./x291109610367529640x.ts","./x224651144502154050x.ts","./x441339227243264040x.ts","./x4514175460444622305x.ts","./x4381590689536211342x.ts"],(function(e){"use strict";var t,i,a,r,n,o,s,m,l,h,g,c,V,u,w,d,P,M,S,v,y,p,k,x,I,_,T,f,F,A,C,B,N,b,L,W,K,D,O,X;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,a=e.assertThisInitialized},function(e){r=e.cclegacy},function(e){n=e.x1201515018088236679x},function(e){o=e.x1825263265700717187x},function(e){s=e.x1180903263758642626x},function(e){m=e.x4472346643782045245x},function(e){l=e.x1390687146982484874x},function(e){h=e.x3061436937539478368x},function(e){g=e.x3950773521023582268x},function(e){c=e.x3363722297214968445x},function(e){V=e.x1829961367305584157x},function(e){u=e.x3933757754418977954x},function(e){w=e.x3624803980696404420x},function(e){d=e.x3956211014191467053x},function(e){P=e.x357457879647821544x},function(e){M=e.x3975905769579210931x},function(e){S=e.x3982968798538976088x},function(e){v=e.x171523377489456697x},function(e){y=e.x2839937219054016575x},function(e){p=e.x128797566098593454x},function(e){k=e.x7850470305573934x},function(e){x=e.x2234778313209895001x},function(e){I=e.x1473388099617861376x},function(e){_=e.x2706134342423168171x},function(e){T=e.x2384331738405430424x},function(e){f=e.x2132475033604646101x},function(e){F=e.x3645332506817008919x},function(e){A=e.x2362680020733037980x},function(e){C=e.x2446198698887643760x},function(e){B=e.x2847549867856397327x},function(e){N=e.x626553917884485281x},function(e){b=e.x2129848421208949310x},function(e){L=e.x4370363482510417528x},function(e){W=e.x291109610367529640x},function(e){K=e.x224651144502154050x},function(e){D=e.x441339227243264040x},function(e){O=e.x4514175460444622305x},function(e){X=e.x4381590689536211342x}],execute:function(){r._RF.push({},"00698GMwopJWI1URNgtX7t3","x1411759881350454687x",void 0);e("x1411759881350454687x",function(e){function r(t,i,n,o,s,m){var h;return(h=e.call(this,null)||this).setIsPointerControl(t.getBoolValueWithDefault(l.stringToValueKey("enablePointerControl"),!0)),h.mParams=t.x1983177741811147517x(),h.mMatrixMinoSpacing=0,h.mMatrixMinoGap=0,h.mMatrixLeftX=0,h.mMatrixBottomY=0,h.mMatrixViewHalfWidth=0,h.mMatrixViewHalfHeight=0,h.mPointerInputOffsetX=0,h.mPointerInputOffsetY=0,h.mMinoSpriteFrameSet=o,h.mMinoActionItemSpriteFrameResources=null,h.mLockingMinoFadeToAlpha=t.getFloatValueWithKeyStringPath("matrix.lockingMinoEffects.fadeToAlpha"),h.mPostLockMinoBlinkTimeMSEC=t.getIntValueWithKeyStringPath("matrix.postLockMinoEffects.blinkTimeMSEC"),h.mPostLockMinoNumBlinks=t.getIntValueWithKeyStringPath("matrix.postLockMinoEffects.numBlinks"),h.mShatteringMinoNumBlinks=t.getIntValueWithKeyStringPath("matrix.shatteringMinoEffects.numBlinks"),h.mDyingMinoHorizontalSequenceType=t.getDictionary2(r.x1793819332987169159x,r.x3538847470815837303x).getStringValueAsHash32(r.x2082614689084762281x),h.mDyingMinoFadeFromAlpha=t.getDictionaryWithKeyStringPath("matrix.dyingMinoEffects").getFloatValueWithDefault(l.stringToValueKey("fadeFromAlpha"),1),h.mDyingMinoFadeToAlpha=t.getFloatValueWithKeyStringPath("matrix.dyingMinoEffects.fadeToAlpha"),h.mDyingMinoNumBlinks=t.getIntValueWithKeyStringPath("matrix.dyingMinoEffects.numBlinks"),h.mHoldPieceMinoSpacing=t.getFloatValueWithKeyStringPath("holdPiece.minoSpacing"),h.mNextQueueMinoSpacing=t.getFloatValueWithKeyStringPath("nextQueue.minoSpacing"),h.mIsGhostPieceEnabled=t.getBoolValueWithKeyStringPath("ghostPiece.enabled"),h.mGhostPieceAlpha=t.getFloatValueWithKeyStringPath("minos.visualStates.ghostPiece.alpha"),h.mMatrixDimmingForegroundAlpha=t.getFloatValueWithKeyStringPath("matrix.dimmingForeground.alpha"),h.mMatrixOverlayMessage1MessagesWon=t.getStringValueWithKeyStringPath("matrixOverlay.message1.messages.won"),h.mMatrixOverlayMessage1MessagesLost=t.getStringValueWithKeyStringPath("matrixOverlay.message1.messages.lost"),h.mMatrixOverlayMessage1MessagesTied=t.getStringValueWithKeyStringPath("matrixOverlay.message1.messages.tied"),h.mMatrixOverlayMessage1MessagesReady=t.getStringValueWithKeyStringPath("matrixOverlay.message1.messages.ready"),h.mMatrixOverlayMessage1MessagesWaiting=t.getStringValueWithKeyStringPath("matrixOverlay.message1.messages.waiting"),h.mMinoActionItemActivatedTexts=null,h.mEnableAnimations=t.getBoolValueWithKeyStringPath("enableAnimations"),h.mGameMgr=i,i.addMessageListener(a(h)),i.getValueChangedSource().addMessageListener(a(h)),i.getGame().addMessageListener(a(h)),i.getPlayerAtIndex(n).addMessageListener(a(h)),i.getPlayerAtIndex(n).addMessageListenerToComponents(a(h)),h.mGame=h.mGameMgr.getGame(),h.mPlayerIndex=n,h.mPlayer=h.mGameMgr.getGame().getPlayerAtIndex(n),h.mMatrixWidth=10,h.mPlayerView=null,h.mLayer2Container=null,h.mBackgroundView=null,h.mMatrixContainerView=null,h.mMatrixBackgroundView=null,h.mMatrixDimmingForegroundView=null,h.mMatrixView=null,h.mMatrixVFXUnderlayView=null,h.mMatrixVFXOverlayView=null,h.mMatrixMinosView=null,h.mMatrixUndergoundMinosView=null,h.mLivePieceView=null,h.mGhostPieceView=null,h.mNextQueueView=null,h.mHoldPieceView=null,h.mAvatarView=null,h.mAvatarLevelView=null,h.mKnockoutsMeterView=null,h.mKnockoutsSentView=null,h.mTurnTimerView=null,h.mAttackLinesSentView=null,h.mIncomingAttackMeterView=null,h.mScoreValueView=null,h.mScoreMultiplierValueView=null,h.mScoreMultiplierValueViewShowX=!0,h.mLinesValueView=null,h.mLevelRemainingActionGoalValueView=null,h.mLevelValueView=null,h.mDeepestLineClearValueView=null,h.mElapsedTimeValueView=null,h.mRemainingTimeValueView=null,h.mLevelOverlaySpriteFrameResource=null,h.mLevelOverlayView=null,h.mMatrixOverlayView=null,h.mMessage1View=null,h.mMessage2SpriteFrameResource=null,h.mMessage2View=null,h.mCountdownValueView=null,h.mHoldButton=null,h.mPendingActionItemButton=null,h.mViewFactory=null,h.mViewMgr=null,h.construct(s,m),h.setName("_BPSTGStandardPlayerView"),h}t(r,e);var R=r.prototype;return R.construct=function(e,t){var i;null!==this.mViewFactory&&(this.mViewFactory.destroy(),this.mViewFactory=null),this.mViewFactory=new N(this.mGameMgr.getAppSupportFactory().getResourceMgr()),null!==this.mViewMgr&&(this.mViewMgr.destroy(),this.mViewMgr=null),this.mViewMgr=new b(this.mParams.getDictionary(r.x1932132041308798035x),this.mViewFactory,this),this.mMinoActionItemActivatedTexts=this.mViewMgr.getPoolParams(r.x3093421980870061181x)?this.mViewMgr.getPoolParams(r.x3093421980870061181x).getDictionaryWithKeyStringPath("viewParams.actionItemsText"):null,this.mMatrixMinoSpacing=this.mParams.getFloatValueWithKeyStringPath("matrix.minoSpacing"),this.mPointerInputOffsetX=this.mParams.getFloatValueWithKeyStringPath("matrix.pointerInput.offsetX"),this.mPointerInputOffsetY=this.mParams.getFloatValueWithKeyStringPath("matrix.pointerInput.offsetY"),this.setSize(L.instance().getWindowWidth(),L.instance().getWindowHeight()),this.setPosition(this.mParams.getFloatValueWithKeyStringPath("originX"),this.mParams.getFloatValueWithKeyStringPath("originY"));var a=this.mParams.getBoolValueWithKeyStringPath("minos.minoPlayerActionItems.enabled");if(a){this.mMinoActionItemSpriteFrameResources=new o(!0);var n=this.mParams.getDictionaryWithKeyStringPath("minos.minoPlayerActionItems.actionIds"),s=n.getNumValues();for(i=0;i<s;i++)for(var m=this.mMinoActionItemSpriteFrameResources.createDictionary(n.getValueKeyAtIndex(i),n.getValueKeyStringAtIndex(i),999999,!1),h=n.getDictionaryAtIndex(i),g=h.getNumValues(),c=0;c<g;c++){var V=h.getDictionaryAtIndex(c).getStringValueWithKeyStringPath("resource_texture");m.setObjectValue(h.getValueKeyAtIndex(c),this.mViewFactory.getResourceMgr().getNativeSpriteFrameResource(V))}}this.mParams.getBoolValueWithKeyStringPath("holdPiece.enabled")&&this.mParams.getBoolValueWithKeyStringPath("holdButton.enabled")&&(this.mHoldButton=this.mGameMgr.getAppSupportFactory().createViewWithTypeAndClass("_BPSUIButton","_BPSUIButton",this.mParams.getDictionaryWithKeyString("holdButton")),this.mHoldButton.addMessageListener(this),this.mHoldButton.setName("holdButton"),this.addChild(this.mHoldButton)),this.mParams.getBoolValueWithKeyStringPath("pendingActionItem.enabled")&&this.mParams.getBoolValueWithKeyStringPath("pendingActionItemButton.enabled")&&!this.mPlayer.getAutoActivatePendingActionsQueue()&&(this.mPendingActionItemButton=this.mGameMgr.getAppSupportFactory().createViewWithTypeAndClass("_BPSUIButton","_BPSUIButton",this.mParams.getDictionaryWithKeyString("pendingActionItemButton")),this.mPendingActionItemButton.addMessageListener(this),this.mPendingActionItemButton.setName("pendingActionItemButton"),this.addChild(this.mPendingActionItemButton)),this.mPlayerView=A.NativeView_create(),A.NativeView_setName(this.mPlayerView,"PlayerView"),A.NativeView_setPosition(this.mPlayerView,0,0);var u=new O(!1,null);u.setNativeView(this.mPlayerView),this.addChild(u),this.mLayer2Container=new W(this.getAppSupportFactory()),this.mLayer2Container&&this.mLayer2Container.retain(),this.mLayer2Container.setPosition(this.getX(),this.getY());var w=this.mPlayer.isAIControlled()?this.mParams.getDictionaryWithKeyString("backgroundAIPlayer"):this.mParams.getDictionaryWithKeyString("background");if(this.mPlayer.isAIControlled()&&!w&&(w=this.mParams.getDictionaryWithKeyString("background")),this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(w.getStringValueWithKeyStringPath("resource_texture"))&&(this.mBackgroundView=A.NativeSprite_createWithSpriteFrame(this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrame(w.getStringValueWithKeyStringPath("resource_texture"),0)),A.NativeView_setName(this.mBackgroundView,"background"),A.NativeView_addChild(this.mPlayerView,this.mBackgroundView),A.NativeSprite_setPositionWithAnchor(this.mBackgroundView,w.getFloatValueWithKeyStringPath("transform.x"),w.getFloatValueWithKeyStringPath("transform.y"),w.getFloatValueWithKeyStringPath("transform.anchorX"),w.getFloatValueWithKeyStringPath("transform.anchorY")),A.NativeView_setChildrenSortingDepth(this.mPlayerView,1,0,0,!1)),this.constructMatrixView(),this.mParams.getBoolValueWithKeyStringPath("nextQueue.enabled")){this.mNextQueueView=A.NativeView_create(),A.NativeView_setName(this.mNextQueueView,"nextQueue"),A.NativeView_addChild(this.mPlayerView,this.mNextQueueView),A.NativeView_setPosition(this.mNextQueueView,this.mParams.getFloatValueWithKeyStringPath("nextQueue.firstPieceCenterX"),this.mParams.getFloatValueWithKeyStringPath("nextQueue.firstPieceCenterY"));var d=this.mMinoSpriteFrameSet.getMinoNativeSpriteFrame(T.x172275987817698842x,l.x2640432151801765044x,0),P=l.minInt(this.mParams.getIntValueWithKeyStringPath("nextQueue.maxNumVisiblePieces"),this.mPlayer.getPieceQueue().getCapacity()),M=this.mParams.getFloatValueWithKeyStringPath("nextQueue.pieceSpacing");for(i=0;i<P;i++){var S=this.createPieceView(d,a,4);A.NativeView_setName(S,"nextPiece"),A.NativeView_addChild(this.mNextQueueView,S),A.NativeView_setPosition(S,0,i*M)}}this.mParams.getBoolValueWithKeyStringPath("holdPiece.enabled")&&(this.mHoldPieceView=this.createPieceView(this.mMinoSpriteFrameSet.getMinoNativeSpriteFrame(T.x3118197035351235600x,l.x2640432151801765044x,0),a,4),A.NativeView_setName(this.mHoldPieceView,"holdPiece"),A.NativeView_addChild(this.mPlayerView,this.mHoldPieceView),A.NativeView_setPosition(this.mHoldPieceView,this.mParams.getFloatValueWithKeyStringPath("holdPiece.centerX"),this.mParams.getFloatValueWithKeyStringPath("holdPiece.centerY")));var v=this.mPlayer.getAvatarIndex();if(this.mAvatarView=this.mViewMgr.createSpriteView(this.mParams.getDictionaryWithKeyStringPath("avatar"),this.mPlayerView,!0),this.mAvatarView){this.mAvatarView.setNativeViewName("avatar");var y=this.mParams.getDictionaryWithKeyStringPath("avatar.textures").getDictionaryAtIndex(v).getStringValueWithKeyStringPath("resource_texture"),p=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrame(y,0);this.mAvatarView.setNativeSpriteFrame(p)}if(this.mAvatarLevelView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("avatarLevel"),this.mPlayerView,!0),this.mAvatarLevelView){var k=v+1;this.mAvatarLevelView.setNativeViewName("avatarLevel"),this.mAvatarLevelView.setText(X.concatStrings("LEVEL ",l.stringFromInt(k,1,!1)))}this.mParams.getBoolValueWithKeyStringPath("knockoutsMeter.enabled")&&(this.mKnockoutsMeterView=this.createKnockoutsMeterView(this.mParams.getDictionaryWithKeyStringPath("knockoutsMeter")),A.NativeView_addChild(this.mPlayerView,this.mKnockoutsMeterView),A.NativeView_setIsVisible(this.mKnockoutsMeterView,!1)),this.mKnockoutsSentView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("knockoutsSent"),this.mPlayerView,!0),this.mKnockoutsSentView&&this.mKnockoutsSentView.setNativeViewName("knockoutsSent"),this.mParams.getBoolValueWithKeyStringPath("turnBattle.turnTimer.enabled")&&(this.mTurnTimerView=this.createTurnTimerView(this.mParams.getDictionaryWithKeyStringPath("turnBattle.turnTimer")),A.NativeView_addChild(this.mPlayerView,this.mTurnTimerView),A.NativeView_setIsVisible(this.mTurnTimerView,!1)),this.mAttackLinesSentView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("attackLinesSent"),this.mPlayerView,!0),this.mAttackLinesSentView&&this.mAttackLinesSentView.setNativeViewName("attackLinesSent"),this.mParams.getBoolValueWithKeyStringPath("attackMeter.enabled")&&(this.mIncomingAttackMeterView=this.createAttackMeterView(this.mParams.getDictionaryWithKeyStringPath("attackMeter")),A.NativeView_addChild(this.mPlayerView,this.mIncomingAttackMeterView)),this.mScoreValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("scoreValue"),this.mPlayerView,!0),this.mScoreValueView&&this.mScoreValueView.setNativeViewName("scoreValue"),this.mScoreMultiplierValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("scoreMultiplierValue"),this.mPlayerView,!0),this.mScoreMultiplierValueView&&(this.mScoreMultiplierValueView.setNativeViewName("scoreMultiplierValue"),this.mScoreMultiplierValueViewShowX=this.mParams.getDictionaryWithKeyStringPath("scoreMultiplierValue").getBoolValueWithDefault(l.stringToValueKey("showX"),!0)),this.mLinesValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("linesValue"),this.mPlayerView,!0),this.mLinesValueView&&this.mLinesValueView.setNativeViewName("linesValue"),this.mLevelRemainingActionGoalValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("levelRemainingActionGoalValue"),this.mPlayerView,!0),this.mLevelRemainingActionGoalValueView&&this.mLevelRemainingActionGoalValueView.setNativeViewName("levelRemainingActionGoalValue"),this.mLevelValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("levelValue"),this.mPlayerView,!0),this.mLevelValueView&&this.mLevelValueView.setNativeViewName("levelValue"),this.mDeepestLineClearValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("deepestLineClearValue"),this.mPlayerView,!0),this.mDeepestLineClearValueView&&this.mDeepestLineClearValueView.setNativeViewName("deepestLineClearValue"),this.mElapsedTimeValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("elapsedTimeValue"),this.mPlayerView,!0),this.mElapsedTimeValueView&&this.mElapsedTimeValueView.setNativeViewName("elapsedTimeValue"),this.mRemainingTimeValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("remainingTimeValue"),this.mPlayerView,!0),this.mRemainingTimeValueView&&(this.mRemainingTimeValueView.setNativeViewName("remainingTimeValue"),this.mRemainingTimeValueViewShowSecondsOnly=this.mParams.getDictionaryWithKeyStringPath("remainingTimeValue").getBoolValueWithDefault(l.stringToValueKey("showSecondsOnly"),!0)),this.mParams.getBoolValueWithKeyStringPath("matrixOverlay.enabled")&&(this.mMatrixOverlayView=this.createMatrixOverlayView(this.mParams.getDictionaryWithKeyStringPath("matrixOverlay")),A.NativeView_setName(this.mMatrixOverlayView,"matrixOverlay"),A.NativeView_addChild(this.mLayer2Container.getNativeView(),this.mMatrixOverlayView)),e.addChild(this),t.addChild(this.mLayer2Container)},R.constructMatrixView=function(){this.mMatrixContainerView&&(this.mMatrixBackgroundView&&(A.NativeView_removeFromParent(this.mMatrixBackgroundView.getNativeView()),this.mMatrixBackgroundView&&this.mMatrixBackgroundView.release(),this.mMatrixBackgroundView=null),this.mMatrixDimmingForegroundView&&(A.NativeView_removeFromParent(this.mMatrixDimmingForegroundView.getNativeView()),this.mMatrixDimmingForegroundView&&this.mMatrixDimmingForegroundView.release(),this.mMatrixDimmingForegroundView=null),A.NativeView_destroy(this.mMatrixContainerView,!0),this.mMatrixContainerView=null,this.mMatrixView=null,this.mMatrixVFXUnderlayView=null,this.mMatrixMinosView=null,this.mMatrixUndergoundMinosView=null,this.mGhostPieceView=null,this.mLivePieceView=null,A.NativeView_removeFromParent(this.mMatrixVFXOverlayView),this.mMatrixVFXOverlayView=null),this.mMatrixContainerView=A.NativeView_create(),A.NativeView_setName(this.mMatrixContainerView,"MatrixContainer"),A.NativeView_addChild(this.mPlayerView,this.mMatrixContainerView);var e=this.mPlayer.getMatrix();this.mMatrixWidth=e.getWidth();var t=this.mMinoSpriteFrameSet.getMinoNativeSpriteFrame(T.x4418531170524797231x,l.x2640432151801765044x,0),i=A.NativeSpriteFrame_getWidth(t);this.mMatrixMinoGap=this.mMatrixMinoSpacing-i+this.mParams.getFloatValueWithKeyStringPath("matrix.minoGapAdjust");var a=e.getWidth()*this.mMatrixMinoSpacing-this.mMatrixMinoGap,r=e.getVisibleHeight()*this.mMatrixMinoSpacing-this.mMatrixMinoGap;this.mMatrixLeftX=~~A.getAnchoredPosition(this.mParams.getFloatValueWithKeyStringPath("matrix.transform.x"),a,0,this.mParams.getFloatValueWithKeyStringPath("matrix.transform.anchorX")),this.mMatrixBottomY=~~A.getAnchoredPosition(this.mParams.getFloatValueWithKeyStringPath("matrix.transform.y"),r,0,this.mParams.getFloatValueWithKeyStringPath("matrix.transform.anchorY")),this.mMatrixViewHalfWidth=e.getWidth()*this.mMatrixMinoSpacing*.5,this.mMatrixViewHalfHeight=e.getVisibleHeight()*this.mMatrixMinoSpacing*.5;var n=this.mMatrixLeftX+this.mMatrixViewHalfWidth,o=this.mMatrixBottomY+this.mMatrixViewHalfHeight;this.mMatrixBackgroundView=this.createMatrixFrameView(this.mParams.getDictionaryWithKeyStringPath("matrix.background"),a,r),this.mMatrixBackgroundView&&(this.mMatrixBackgroundView.retain(),this.mMatrixBackgroundView.setName("MatrixBackground"),this.mMatrixBackgroundView.addAsChildToNativeParent(this.mMatrixContainerView)),this.mMatrixVFXUnderlayView=A.NativeView_create(),A.NativeView_setName(this.mMatrixVFXUnderlayView,"MatrixVFXUnderlay"),A.NativeView_addChild(this.mMatrixContainerView,this.mMatrixVFXUnderlayView),A.NativeView_setPosition(this.mMatrixVFXUnderlayView,n,o-1),this.mMatrixView=A.NativeView_create(),A.NativeView_setName(this.mMatrixView,"Matrix"),A.NativeView_addChild(this.mMatrixContainerView,this.mMatrixView),A.NativeView_setPosition(this.mMatrixView,this.mMatrixLeftX,this.mMatrixBottomY),this.mMatrixVFXOverlayView=A.NativeView_create(),A.NativeView_setName(this.mMatrixVFXOverlayView,"MatrixVFXOverlay"),A.NativeView_addChild(this.mLayer2Container.getNativeView(),this.mMatrixVFXOverlayView),A.NativeView_setPosition(this.mMatrixVFXOverlayView,n,o-1);var s=A.NativeCropView_createInParent(0,0,this.mMatrixLeftX,this.mMatrixBottomY,a,r,0,0,this.mMatrixView);A.NativeView_setName(s,"matrixCrop");var m=this.mParams.getBoolValueWithKeyStringPath("minos.minoPlayerActionItems.enabled");this.mMatrixMinosView=A.NativeView_create(),A.NativeView_setName(this.mMatrixMinosView,"MatrixMinos"),A.NativeView_addChild(s,this.mMatrixMinosView),this.mMatrixUndergoundMinosView=A.NativeView_create(),A.NativeView_setName(this.mMatrixUndergoundMinosView,"MatrixUndergoundMinos"),A.NativeView_addChild(s,this.mMatrixUndergoundMinosView);for(var h=e.getWidth(),g=e.getVisibleHeight()+1,c=-1;c<g;c++)for(var V=0;V<h;V++){var u=this.createMinoView(t,m);c>=0?A.NativeView_addChild(this.mMatrixMinosView,u):A.NativeView_addChild(this.mMatrixUndergoundMinosView,u),A.NativeView_setPosition(u,V*this.mMatrixMinoSpacing,c*this.mMatrixMinoSpacing),A.NativeView_setIsVisible(u,!1)}this.mGhostPieceView||(this.mGhostPieceView=this.createPieceView(t,!1,4),A.NativeView_setName(this.mGhostPieceView,"GhostPiece")),A.NativeView_addChild(s,this.mGhostPieceView),this.mLivePieceView||(this.mLivePieceView=this.createPieceView(t,m,4),A.NativeView_setName(this.mLivePieceView,"LivePiece")),A.NativeView_addChild(s,this.mLivePieceView),A.NativeCropView_enableOnChildren(s,s),this.mMatrixDimmingForegroundView=this.createMatrixFrameView(this.mParams.getDictionaryWithKeyStringPath("matrix.dimmingForeground"),a,r),this.mMatrixDimmingForegroundView&&(this.mMatrixDimmingForegroundView.retain(),this.mMatrixDimmingForegroundView.setName("MatrixDimmingForeground"),this.mMatrixDimmingForegroundView.addAsChildToNativeParent(this.mMatrixContainerView)),A.NativeView_setChildrenSortingDepth(s,0,-.1,2,!1),A.NativeView_setChildrenSortingDepth(this.mMatrixContainerView,0,-.5,0,!1)},R.createMatrixFrameView=function(e,t,i){var a=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(e.getStringValueWithKeyStringPath("resource_texture"));if(a){var r=0,n=0,o=0,s=0;if(a.isScale9()){var m=e.getFloatValueWithKeyStringPath("padding");r=t+2*m,n=i+2*m,o=this.mMatrixLeftX-m+e.getFloatValueWithKeyStringPath("offsetX"),s=this.mMatrixBottomY-m+e.getFloatValueWithKeyStringPath("offsetY")}else r=A.NativeSpriteFrame_getWidth(a.getNativeSpriteFrame(0)),n=A.NativeSpriteFrame_getHeight(a.getNativeSpriteFrame(0)),o=this.mMatrixLeftX-~~(.5*(r-t))+e.getFloatValueWithKeyStringPath("offsetX"),s=this.mMatrixBottomY-~~(.5*(n-i))+e.getFloatValueWithKeyStringPath("offsetY");var h=new K(this.mGameMgr.getAppSupportFactory());return h.setName("matrixBackground"),h.setSpriteFrame(a),h.setSize(r,n),h.setAnchor(0,0),h.setPosition(o,s),h.setAlpha(e.getFloatValueWithDefault(l.stringToValueKey("alpha"),1)),h}return null},R.updateViews=function(e){var t=null,i=null,a=!1;switch(this.updateNextQueueView(),this.mGame.getCurrentState()){case g.x290591613925852943x:case g.x3961798951401593355x:a=!0;for(var r=this.mPlayer.getMatrix(),n=r.getWidth(),o=r.getVisibleHeight(),s=o+1,m=0,h=-1;h<s;h++)for(var c=0;c<n;c++){var V=null,P=null;if(h>=0)V=r.getMinoAt(c,h),P=A.NativeView_getChildAtIndex(this.mMatrixMinosView,h*n+c),m=0;else{var M=-1-h;V=r.getExternalMinoBelow(c,M),P=A.NativeView_getChildAtIndex(this.mMatrixUndergoundMinosView,M*n+c),m=h*this.mMatrixMinoSpacing-this.mMatrixMinoGap}this.updateMinoView(P,V,this.mMatrixMinoSpacing,-1,o,0,0,0,m)}if(this.updatePieceView(this.mLivePieceView,this.mPlayer.getLivePiece(),!1,this.mMatrixMinoSpacing,0,o),this.updatePieceView(this.mGhostPieceView,this.mPlayer.getGhostPiece(!1),!1,this.mMatrixMinoSpacing,0,o),this.updatePieceView(this.mHoldPieceView,this.mPlayer.getHoldPiece(),!0,this.mHoldPieceMinoSpacing,l.x2311178134419187541x,l.x2812288279383445977x),this.mScoreValueView&&(i=this.mPlayer.getComponent(d.x2916177341484739471x))&&this.mScoreValueView.setTextWithInteger(i.getScore()),this.mScoreMultiplierValueView&&(i=this.mPlayer.getComponent(d.x2916177341484739471x))&&(this.mScoreMultiplierValueViewShowX?this.mScoreMultiplierValueView.setText(l.stringFromInt(i.getScoreMultiplier(),1,!0)+"x"):this.mScoreMultiplierValueView.setText(l.stringFromInt(i.getScoreMultiplier(),1,!0))),this.mLevelValueView&&(t=this.mPlayer.getComponent(w.x1109057396118299453x))&&this.mLevelValueView.setText(t.getLevelDisplayNameForLevelIndex(t.getCurrentLevelIndex())),this.mLinesValueView&&this.mLinesValueView.setTextWithInteger(this.mPlayer.getTotalMatrixMinoPatternMatches()),this.mLevelRemainingActionGoalValueView&&(t=this.mPlayer.getComponent(w.x1109057396118299453x))){var S=t.getLevelRemainingActionGoal();this.mLevelRemainingActionGoalValueView.setText(l.stringFromInt(S,1,!0))}if(this.mDeepestLineClearValueView){var v=this.mPlayer.getComponent(u.x2802427963640450520x);v&&this.mDeepestLineClearValueView.setText(l.stringFromInt(v.getDeepestLineClear(),1,!0))}if(this.mElapsedTimeValueView&&this.mElapsedTimeValueView.setText(l.timeStringFromMSEC(this.mPlayer.getElapsedActiveGameTimeMSEC(),1,0)),this.mRemainingTimeValueView){var y=~~(this.mPlayer.getRemainingTimeMSEC()/1e3);if(this.mRemainingTimeValueViewShowSecondsOnly?this.mRemainingTimeValueView.setText(l.stringFromInt(y,1,!1)):this.mRemainingTimeValueView.setText(l.timeStringFromMSEC(this.mPlayer.getRemainingTimeMSEC(),1,0)),y<10){var p=50*(y+1);p=l.maxInt(p,50),this.mPlayer.getRemainingTimeMSEC()%(2*p)>p?this.mRemainingTimeValueView.setAlpha(.4):this.mRemainingTimeValueView.setAlpha(1)}else this.mRemainingTimeValueView.setAlpha(1)}this.updateKnockoutsViews(),this.updateAttacksViews(),this.updateTurnTimerView()}A.NativeView_setIsVisible(this.mLivePieceView,a&&this.mPlayer.getLivePiece()),A.NativeView_setIsVisible(this.mGhostPieceView,a&&this.mPlayer.getGhostPiece(!1)&&this.mPlayer.getControlComponent().x3653139289778280998x().isGhostPieceValid()&&this.mIsGhostPieceEnabled),A.NativeView_setIsVisible(this.mMatrixMinosView,a),A.NativeView_setIsVisible(this.mIncomingAttackMeterView,a),A.NativeView_setIsVisible(this.mMatrixUndergoundMinosView,a),A.NativeView_setIsVisible(this.mNextQueueView,a),A.NativeView_setIsVisible(this.mHoldPieceView,a&&this.mPlayer.getHoldPiece()),A.NativeView_setIsVisible(this.mMatrixVFXUnderlayView,a),A.NativeView_setIsVisible(this.mMatrixVFXOverlayView,a),this.updateMatrixDimmingForegroundView(),this.updateMatrixOverlayView(),a?this.mViewMgr.processTime(e):this.mCountdownValueView&&this.mCountdownValueView.processTime(e)},R.updateNextQueueView=function(){if(this.mNextQueueView)for(var e=A.NativeView_getNumChildren(this.mNextQueueView),t=0;t<e;t++){var i=A.NativeView_getChildAtIndex(this.mNextQueueView,t);this.updatePieceView(i,this.mPlayer.getPieceQueue().getPieceAtIndex(t),!0,this.mNextQueueMinoSpacing,l.x2311178134419187541x,l.x2812288279383445977x)}var a=!0;switch(this.mGame.getCurrentState()){case g.x3997075334816415075x:a=!this.mGame.getDidStartPlayers();break;case g.x3933957698802094611x:a=!1;break;default:a=!0}A.NativeView_setIsVisible(this.mNextQueueView,a)},R.createMinoView=function(e,t){var i=A.NativeSprite_createWithSpriteFrame(e);if(A.NativeView_setName(i,"mino"),A.NativeView_setIsVisible(i,!1),t){var a=this.createMinoPlayerActionItemView();A.NativeView_setIsVisible(a,!1),A.NativeView_addChild(i,a),A.NativeView_setChildrenSortingDepth(i,-1,0,0,!1)}return i},R.updateMinoView=function(e,t,i,a,n,o,s,m,h){var g=t&&l.FXPTToFloat(t.getVisualY_FXPT())>=a&&l.FXPTToFloat(t.getVisualY_FXPT())<n&&t.getLogicalState()!=T.x1578295516015752124x;if(g){var c=l.FXPTToFloat(t.getLogicalStateTween_FXPT()),V=1,u=t.getLogicalState();switch(u){case T.x172275987817698842x:case T.x3118197035351235600x:case T.x4375944479620694405x:V=1;break;case T.x4504825273042151964x:this.mLockingMinoFadeToAlpha<1&&(V=l.lerp(1,this.mLockingMinoFadeToAlpha,c));break;case T.x2263785423814173765x:case T.x3750735363819884705x:V=this.mGhostPieceAlpha;break;case T.x4418531170524797231x:t.getLogicalStateElapsedTimeMSEC()<this.mPostLockMinoBlinkTimeMSEC&&this.mPostLockMinoNumBlinks>0&&(~~((c=t.getLogicalStateElapsedTimeMSEC()/this.mPostLockMinoBlinkTimeMSEC)*(2*this.mPostLockMinoNumBlinks+0))%2==0?(u=T.x96024195983438242x,V=1):(u=T.x4418531170524797231x,V=1));break;case T.x2888872409233056218x:case T.x1105279010852267609x:V=1;break;case T.x2197645481220261035x:case T.x761328147008202104x:V=1,t.getRemainingKills()>0&&(u=T.x1173741150021443541x);break;case T.x96024195983438242x:case T.x3566893743968584298x:this.mShatteringMinoNumBlinks>0&&(u=~~(c*(2*this.mShatteringMinoNumBlinks+0))%2==0?T.x96024195983438242x:T.x4418531170524797231x);break;case T.x1173741150021443541x:var w=c;switch(this.mDyingMinoHorizontalSequenceType){case r.x694207321571052750x:case r.x4436352727763552220x:var d=1/this.mMatrixWidth,P=0;switch(this.mDyingMinoHorizontalSequenceType){case r.x4436352727763552220x:P=t.getX()*d}var M=(t.getX()+1)*d;w=l.getLerpFactor(c,P,M),w=l.clamp01(w)}V=this.mDyingMinoFadeToAlpha!=this.mDyingMinoFadeFromAlpha?l.lerp(this.mDyingMinoFadeFromAlpha,this.mDyingMinoFadeToAlpha,w):this.mDyingMinoFadeFromAlpha,this.mDyingMinoNumBlinks>0&&(u=~~(w*(2*this.mDyingMinoNumBlinks+0))%2==0?T.x1173741150021443541x:T.x4418531170524797231x);break;default:V=1}A.NativeSprite_setSpriteFrame(e,this.mMinoSpriteFrameSet.getMinoNativeSpriteFrame(u,t.getMinoTypeId(),t.getStickyBits()),!1);var S=l.FXPTToFloat(t.getObscurationFactor_FXPT());S>.001&&(V*=1-S),A.NativeSprite_setAlpha(e,V);var v=l.FXPTToFloat(t.getVisualX_FXPT())*i+m,y=l.FXPTToFloat(t.getVisualY_FXPT())*i+h;v=~~v,y=~~y;var p;if(p=.4,this.mMinoSpriteFrameSet.isMinoSticky(u,t.getMinoTypeId())&&(A.NativeSprite_setSize(e,i+p,i+p),v+=p*(o-.5),y+=p*(s-.5)),A.NativeSprite_setPositionWithAnchor(e,v,y,o,s),A.NativeView_getNumChildren(e)>0){var k=A.NativeView_getChildAtIndex(e,0);this.updateMinoPlayerActionItemView(k,t)}}A.NativeView_setIsVisible(e,g)},R.createMinoPlayerActionItemView=function(){var e=A.NativeSprite_createWithSpriteFrame(null);return A.NativeView_setName(e,"minoPlayerActionItem"),e},R.updateMinoPlayerActionItemView=function(e,t){if(e){var i=t.getMinoPlayerActionItem();if(i){var a=i.getPlayerAction().getActionId(),r=500;switch(i.getCurrentState()){case f.x3289033361053604601x:r=400;break;case f.x2581374924334205391x:r=80;break;case f.x3004597915030404921x:r=40}var n=t.getLogicalStateElapsedTimeMSEC()%(2*r)<=r?0:1,o=this.mMinoActionItemSpriteFrameResources.getDictionary(a);o||(o=this.mMinoActionItemSpriteFrameResources.getDictionaryAtIndex(0));var s=o.getObjectValueAtIndex(n);A.NativeSprite_setSpriteFrame(e,s.getNativeSpriteFrame(0),!0),A.NativeView_setIsVisible(e,!0)}else A.NativeView_setIsVisible(e,!1)}},R.createPieceView=function(e,t,i){for(var a=A.NativeView_create(),r=0;r<i;r++){var n=this.createMinoView(e,t);A.NativeView_addChild(a,n)}return A.NativeView_setIsVisible(a,!1),a},R.updatePieceView=function(e,t,i,a,r,n){if(e)if(t){A.NativeView_setIsVisible(e,!0);var o=0,s=0,m=0,h=0;i&&(o=.5,s=.5,m=-(l.FXPTToFloat(t.getLocalCenterX_FXPT())*a-.5*a),h=-(l.FXPTToFloat(t.getLocalCenterY_FXPT())*a-.5*a));for(var g=t.getNumMinos(),c=A.NativeView_getNumChildren(e),V=0;V<c;V++){var u=V<g?t.getMinoAtIndex(V):null,w=A.NativeView_getChildAtIndex(e,V);this.updateMinoView(w,u,a,r,n,o,s,m,h)}}else A.NativeView_setIsVisible(e,!1)},R.createAttackMeterView=function(e){if(!this.mPlayer.getComponent(V.x1191404771913136596x))return null;for(var t=A.NativeView_create(),i=e.getFloatValueWithKeyStringPath("firstCenterX"),a=e.getFloatValueWithKeyStringPath("firstCenterY"),r=e.getFloatValueWithKeyStringPath("spacing"),n=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(e.getStringValueWithKeyStringPath("resource_texture")).getNativeSpriteFrame(0),o=this.mPlayer.getMatrixVisibleHeight(),s=0;s<o;s++){var m=A.NativeSprite_createWithSpriteFrame(n);A.NativeView_setPosition(m,i,a+r*s),A.NativeView_addChild(t,m),A.NativeView_setIsVisible(m,!1)}return t},R.updateAttacksViews=function(){if(this.mIncomingAttackMeterView||this.mAttackLinesSentView){var e=this.mPlayer.getComponent(V.x1191404771913136596x);if(e){if(this.mIncomingAttackMeterView)for(var t=e.getNumIncomingAttacks(),i=this.mPlayer.getMatrixVisibleHeight(),a=0;a<i;a++){var r=A.NativeView_getChildAtIndex(this.mIncomingAttackMeterView,a);A.NativeView_setIsVisible(r,a<t)}if(this.mAttackLinesSentView){var n=e.getNumAttacksSent();this.mAttackLinesSentView.setText(l.stringFromInt(n,1,!0))}}}},R.createKnockoutsMeterView=function(e){var t=this.mPlayer.getComponent(V.x1191404771913136596x);if(!t)return null;for(var i=A.NativeView_create(),a=e.getFloatValueWithKeyStringPath("firstCenterX"),r=e.getFloatValueWithKeyStringPath("firstCenterY"),n=e.getFloatValueWithKeyStringPath("spacing"),o=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(e.getStringValueWithKeyStringPath("texture:alive.resource_texture")).getNativeSpriteFrame(0),s=t.getParams().getIntValue(V.x4005905873693536961x),m=0;m<s;m++){var l=A.NativeSprite_createWithSpriteFrame(o);A.NativeView_setPosition(l,a+n*m,r),A.NativeView_addChild(i,l)}return i},R.updateKnockoutsViews=function(){if(this.mKnockoutsMeterView||this.mKnockoutsSentView){var e=this.mPlayer.getComponent(V.x1191404771913136596x);if(e){if(this.mKnockoutsMeterView){var t=e.getNumKnockoutsReceived();A.NativeView_setIsVisible(this.mKnockoutsMeterView,!0);for(var i=this.mParams.getDictionaryWithKeyStringPath("knockouts"),a=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(i.getStringValueWithKeyStringPath("texture:alive.resource_texture")).getNativeSpriteFrame(0),r=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(i.getStringValueWithKeyStringPath("texture:dead.resource_texture")).getNativeSpriteFrame(0),n=e.getParams().getIntValue(V.x4005905873693536961x),o=0;o<n;o++){var s=A.NativeView_getChildAtIndex(this.mKnockoutsMeterView,o);o<t?A.NativeSprite_setSpriteFrame(s,r,!0):A.NativeSprite_setSpriteFrame(s,a,!0)}}if(this.mKnockoutsSentView){var m=e.getNumKnockoutsSent();this.mKnockoutsSentView.setTextWithInteger(m)}}}},R.createTurnTimerView=function(e){if(!this.mPlayer.getComponent(P.x2214276242903417212x))return null;var t=A.NativeSprite_createWithSpriteFrame(this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrame(e.getStringValueWithKeyStringPath("resource_texture"),0));return A.NativeSprite_setSize(t,e.getFloatValueWithKeyStringPath("transform.width"),e.getFloatValueWithKeyStringPath("transform.height")),A.NativeSprite_setPositionWithAnchor(t,e.getFloatValueWithKeyStringPath("transform.x"),e.getFloatValueWithKeyStringPath("transform.y"),e.getFloatValueWithKeyStringPath("transform.anchorX"),e.getFloatValueWithKeyStringPath("transform.anchorY")),A.NativeView_setIsVisible(t,!1),t},R.updateTurnTimerView=function(){if(this.mTurnTimerView){var e=this.mPlayer.getComponent(P.x2214276242903417212x);if(e){A.NativeView_setIsVisible(this.mTurnTimerView,!0);var t=this.mParams.getDictionaryWithKeyStringPath("turnBattle.turnTimer.transform"),i=t.getFloatValueWithKeyStringPath("width"),a=l.clamp01(l.FXPTToFloat(e.getTimerAttackMeterFilled01_FXPT())),r=t.getFloatValueWithKeyStringPath("height")*a;A.NativeSprite_setSize(this.mTurnTimerView,i,r),A.NativeSprite_setPositionWithAnchor(this.mTurnTimerView,t.getFloatValueWithKeyStringPath("x"),t.getFloatValueWithKeyStringPath("y"),t.getFloatValueWithKeyStringPath("anchorX"),t.getFloatValueWithKeyStringPath("anchorY"))}}},R.updateMatrixDimmingForegroundView=function(){if(this.mMatrixDimmingForegroundView){var e=!1;switch(this.mPlayer.getCurrentState()){case c.x3961798951401593355x:e=!0}A.NativeView_setIsVisible(this.mMatrixDimmingForegroundView.getNativeView(),e)}},R.createMatrixOverlayView=function(e){var t=A.NativeView_create();return A.NativeView_setPosition(t,e.getFloatValueWithKeyStringPath("x"),e.getFloatValueWithKeyStringPath("y")),this.mMessage1View=this.mViewMgr.createBitmapTextView(e.getDictionaryWithKeyStringPath("message1"),t,!0),e.getBoolValueWithKeyStringPath("message2.enabled")&&(this.mMessage2SpriteFrameResource=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(e.getStringValueWithKeyStringPath("message2.resource_texture")),this.mMessage2SpriteFrameResource&&(this.mMessage2View=A.NativeSprite_createWithSpriteFrame(null),A.NativeView_addChild(t,this.mMessage2View),A.NativeSprite_setPositionWithAnchor(this.mMessage2View,e.getFloatValueWithKeyStringPath("message2.transform.x"),e.getFloatValueWithKeyStringPath("message2.transform.y"),e.getFloatValueWithKeyStringPath("message2.transform.anchorX"),e.getFloatValueWithKeyStringPath("message2.transform.anchorY")))),this.mCountdownValueView=this.mViewMgr.createBitmapTextView(e.getDictionaryWithKeyStringPath("countdownValue"),t,!0),e.getBoolValueWithKeyStringPath("levelOverlay.enabled")&&(this.mLevelOverlaySpriteFrameResource=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(e.getStringValueWithKeyStringPath("levelOverlay.resource_texture")),this.mLevelOverlaySpriteFrameResource&&(this.mLevelOverlayView=A.NativeSprite_createWithSpriteFrame(null),A.NativeView_addChild(t,this.mLevelOverlayView),A.NativeSprite_setPositionWithAnchor(this.mLevelOverlayView,e.getFloatValueWithKeyStringPath("levelOverlay.transform.x"),e.getFloatValueWithKeyStringPath("levelOverlay.transform.y"),e.getFloatValueWithKeyStringPath("levelOverlay.transform.anchorX"),e.getFloatValueWithKeyStringPath("levelOverlay.transform.anchorY")))),t},R.updateMatrixOverlayView=function(){switch(this.mGame.getCurrentState()){case g.x290591613925852943x:case g.x3961798951401593355x:if(this.mCountdownValueView&&this.mCountdownValueView.setIsVisible(!1),this.mMessage1View)switch(this.mPlayer.getCurrentState()){case c.x3961798951401593355x:if(this.mMessage1View.setIsVisible(!0),this.mPlayer.getComponent(V.x1191404771913136596x))switch(this.mPlayer.getGameEndCondition()){case V.x4408431872223735541x:this.mMessage1View.setText(this.mMatrixOverlayMessage1MessagesWon);break;case V.x1456860649618312688x:this.mMessage1View.setText(this.mMatrixOverlayMessage1MessagesLost);break;case V.x211018650796416029x:this.mMessage1View.setText(this.mMatrixOverlayMessage1MessagesTied);break;default:this.mMessage1View.setText("")}break;default:this.mMessage1View.setIsVisible(!1)}if(this.mMessage2View)switch(this.mGame.getCurrentState()){case g.x3961798951401593355x:if(A.NativeView_setIsVisible(this.mMessage2View,!0),this.mPlayer.getComponent(V.x1191404771913136596x))switch(this.mPlayer.getGameEndCondition()){case V.x4408431872223735541x:A.NativeSprite_setSpriteFrame(this.mMessage2View,this.mMessage2SpriteFrameResource.getNativeSpriteFrame(2),!0);break;case V.x1456860649618312688x:A.NativeSprite_setSpriteFrame(this.mMessage2View,this.mMessage2SpriteFrameResource.getNativeSpriteFrame(3),!0);break;case V.x211018650796416029x:A.NativeSprite_setSpriteFrame(this.mMessage2View,this.mMessage2SpriteFrameResource.getNativeSpriteFrame(4),!0);break;default:A.NativeSprite_setSpriteFrame(this.mMessage2View,null,!0),A.NativeView_setIsVisible(this.mMessage2View,!1)}break;default:A.NativeView_setIsVisible(this.mMessage2View,!1)}switch(this.mGame.getCurrentState()){case g.x290591613925852943x:A.NativeView_setIsVisible(this.mLevelOverlayView,!0);break;case g.x3961798951401593355x:A.NativeView_setIsVisible(this.mLevelOverlayView,!1)}break;case g.x3997075334816415075x:if(this.mCountdownValueView){this.mCountdownValueView.setIsVisible(!0);var e=this.mGame.getCountdownTween321();this.mCountdownValueView.setText(l.stringFromInt(e,0,!1))}this.mMessage1View&&this.mMessage1View.setIsVisible(!1),this.mMessage2View&&A.NativeView_setIsVisible(this.mMessage2View,!1),A.NativeView_setIsVisible(this.mLevelOverlayView,!1);break;case g.x3885372347840313037x:this.mMessage1View&&(this.mMessage1View.setIsVisible(this.mGame.getCurrentStateElapsedTimeMSEC()>100),this.mPlayer.isReadyToStartGame()?this.mMessage1View.setText(this.mMatrixOverlayMessage1MessagesReady):this.mMessage1View.setText(this.mMatrixOverlayMessage1MessagesWaiting)),this.mMessage2View&&(A.NativeView_setIsVisible(this.mMessage2View,this.mGame.getCurrentStateElapsedTimeMSEC()>100),this.mPlayer.isReadyToStartGame()?A.NativeSprite_setSpriteFrame(this.mMessage2View,this.mMessage2SpriteFrameResource.getNativeSpriteFrame(1),!0):A.NativeSprite_setSpriteFrame(this.mMessage2View,this.mMessage2SpriteFrameResource.getNativeSpriteFrame(0),!0))}},R.x2766708504066152543x=function(){this.mGameMgr.removeMessageListener(this),this.mGameMgr.getValueChangedSource().removeMessageListener(this),null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mMinoActionItemSpriteFrameResources&&(this.mMinoActionItemSpriteFrameResources.destroy(),this.mMinoActionItemSpriteFrameResources=null),this.mLayer2Container.removeFromParent(),this.mLayer2Container&&this.mLayer2Container.release(),this.mLayer2Container=null,this.mMatrixBackgroundView&&this.mMatrixBackgroundView.release(),this.mMatrixBackgroundView=null,this.mMatrixDimmingForegroundView&&this.mMatrixDimmingForegroundView.release(),this.mMatrixDimmingForegroundView=null,null!==this.mViewMgr&&(this.mViewMgr.destroy(),this.mViewMgr=null),null!==this.mViewFactory&&(this.mViewFactory.destroy(),this.mViewFactory=null),e.prototype.x2766708504066152543x.call(this)},R.x4523740284187571200x=function(e,t){var i=this.convertWorldXToLocal(e)-this.mPointerInputOffsetX-this.mMatrixLeftX,a=this.convertWorldYToLocal(t)-this.mPointerInputOffsetY-this.mMatrixBottomY,r=i/this.mMatrixMinoSpacing,n=a/this.mMatrixMinoSpacing;this.mPlayer.getControlComponent().handleDeviceControlValues(s.x1720077968432402440x,s.x3640455879983001038x,r,n)},R.x3033655440899900507x=function(e,t,i){var a=this.convertWorldXToLocal(t)-this.mPointerInputOffsetX-this.mMatrixLeftX,r=this.convertWorldYToLocal(i)-this.mPointerInputOffsetY-this.mMatrixBottomY,n=a/this.mMatrixMinoSpacing,o=r/this.mMatrixMinoSpacing,m=s.convertMouseControlIdToControlIndex(e),l=s.convertGamePointerControlIndexToControlId(m);this.mPlayer.getControlComponent().handleDeviceControlOn(s.x1720077968432402440x,l,n,o)},R.x718539956712089249x=function(e){var t=s.convertMouseControlIdToControlIndex(e),i=s.convertGamePointerControlIndexToControlId(t);this.mPlayer.getControlComponent().handleDeviceControlCancelled(s.x1720077968432402440x,i)},R.x3277927900721131960x=function(e,t,i){var a=this.convertWorldXToLocal(t)-this.mPointerInputOffsetX-this.mMatrixLeftX,r=this.convertWorldYToLocal(i)-this.mPointerInputOffsetY-this.mMatrixBottomY,n=a/this.mMatrixMinoSpacing,o=r/this.mMatrixMinoSpacing,m=s.convertMouseControlIdToControlIndex(e),l=s.convertGamePointerControlIndexToControlId(m);this.mPlayer.getControlComponent().handleDeviceControlOff(s.x1720077968432402440x,l,n,o)},R.x923075117094719055x=function(e,t,i){var a=this.convertWorldXToLocal(t)-this.mPointerInputOffsetX-this.mMatrixLeftX,r=this.convertWorldYToLocal(i)-this.mPointerInputOffsetY-this.mMatrixBottomY,n=a/this.mMatrixMinoSpacing,o=r/this.mMatrixMinoSpacing,m=s.convertGamePointerControlIndexToControlId(e);this.mPlayer.getControlComponent().handleDeviceControlOn(s.x1720077968432402440x,m,n,o)},R.x499592894824864581x=function(e,t,i){var a=this.convertWorldXToLocal(t)-this.mPointerInputOffsetX-this.mMatrixLeftX,r=this.convertWorldYToLocal(i)-this.mPointerInputOffsetY-this.mMatrixBottomY,n=a/this.mMatrixMinoSpacing,o=r/this.mMatrixMinoSpacing,m=s.convertGamePointerControlIndexToControlId(e);this.mPlayer.getControlComponent().handleDeviceControlValues(s.x1720077968432402440x,m,n,o)},R.x2147290243360813808x=function(e,t,i){var a=this.convertWorldXToLocal(t)-this.mPointerInputOffsetX-this.mMatrixLeftX,r=this.convertWorldYToLocal(i)-this.mPointerInputOffsetY-this.mMatrixBottomY,n=a/this.mMatrixMinoSpacing,o=r/this.mMatrixMinoSpacing,m=s.convertGamePointerControlIndexToControlId(e);this.mPlayer.getControlComponent().handleDeviceControlOff(s.x1720077968432402440x,m,n,o)},R.x1214549832800493284x=function(e,t,i){var a=s.convertGamePointerControlIndexToControlId(e);this.mPlayer.getControlComponent().handleDeviceControlCancelled(s.x1720077968432402440x,a)},R.x3738951541589289324x=function(e){this.updateViews(e)},R.x976210321608527258x=function(e,t,i){var a=0,o=0,s=0,u=null,P=null,T=null,f=null,N=null,b=.5*this.mMatrixMinoSpacing,L=null;if(t==this)switch(e){case r.x387728340383944202x:case r.x3284839065164884570x:if(!this.mEnableAnimations||!this.mViewMgr.hasPool(e))return;this.mViewMgr.activateAndManageViewFromPool(e,this.mMatrixVFXOverlayView)}else if(t==this.mGame)switch(e){case g.x1950391814350285748x:switch(this.mGame.getCurrentState()){case g.x3997075334816415075x:n.trySetIsEnabled(this.mHoldButton,!0);break;case g.x290591613925852943x:n.trySetIsEnabled(this.mHoldButton,!0),n.trySetIsEnabled(this.mPendingActionItemButton,!0);break;case g.x3933957698802094611x:case g.x4426913439973074479x:A.NativeView_setIsVisible(this.mLivePieceView,!1),A.NativeView_setIsVisible(this.mGhostPieceView,!1),A.NativeView_setIsVisible(this.mMatrixMinosView,!1),A.NativeView_setIsVisible(this.mMatrixUndergoundMinosView,!1),A.NativeView_setIsVisible(this.mNextQueueView,!1),A.NativeView_setIsVisible(this.mHoldPieceView,!1),A.NativeView_setIsVisible(this.mIncomingAttackMeterView,!1),A.NativeView_setIsVisible(this.mMatrixVFXUnderlayView,!1),A.NativeView_setIsVisible(this.mMatrixVFXOverlayView,!1),C.trySetIsVisible(this.mCountdownValueView,!1),n.trySetIsEnabled(this.mHoldButton,!1),n.trySetIsEnabled(this.mPendingActionItemButton,!1)}}else if(t==this.mGameMgr.getValueChangedSource()){if(e==m.x2684418880735563207x)switch(i.getIntValue(m.x2768670411435583712x)){case 876635715:this.mEnableAnimations=i.getBoolValue(m.x546932693017569634x),this.mParams.getValueWithKeyStringPath("enableAnimations").setValue(this.mEnableAnimations);break;case 1412464371:this.mIsGhostPieceEnabled=i.getBoolValue(m.x546932693017569634x),this.mParams.getValueWithKeyStringPath("ghostPiece.enabled").setValue(this.mIsGhostPieceEnabled)}}else if(t==this.mHoldButton)e==D.x3625077208324083467x&&(this.mPlayer.getControlComponent().x3653139289778280998x().handleInputIsOn(h.x1907265081617522753x,0,0),this.mPlayer.getControlComponent().x3653139289778280998x().handleInputIsOff(h.x1907265081617522753x,0,0));else switch(e){case _.x2076442862645559003x:if(!this.mEnableAnimations)return;if(!this.mViewMgr.hasPool(e))return;f=i.getObjectValue(_.x2208952345841194565x),u=this.mViewMgr.getSpriteViewFromPool(e),o=f.getX()*this.mMatrixMinoSpacing-this.mMatrixViewHalfWidth+b,s=f.getY()*this.mMatrixMinoSpacing-this.mMatrixViewHalfHeight+b,u.setPosition(o,s),u.setAnimatorsIndex(f.getX()),this.mViewMgr.activateAndManageView(u,this.mMatrixVFXOverlayView);break;case _.x1265705154482254186x:if(!this.mEnableAnimations)return;if(!this.mViewMgr.hasPool(e))return;f=i.getObjectValue(_.x2980055457588518480x),u=this.mViewMgr.getSpriteViewFromPool(e),o=f.getX()*this.mMatrixMinoSpacing-this.mMatrixViewHalfWidth+b,s=f.getY()*this.mMatrixMinoSpacing-this.mMatrixViewHalfHeight+b,u.setPosition(o,s),this.mViewMgr.activateAndManageView(u,this.mMatrixVFXOverlayView);break;case c.x3365430949334814008x:var W=this.mPlayer.getRemainingTimeSEC(),K=0;if(K=W>5?r.x2064180306880734667x:r.x1470282923653503826x,!this.mViewMgr.hasPool(K))return;if(W<=30){var O="";switch(W){case 30:O="30 SECONDS\nREMAINING!";break;case 10:O="10 SECONDS\nREMAINING!";break;case 5:O="5";break;case 4:O="4";break;case 3:O="3";break;case 2:O="2";break;case 1:O="1"}O&&""!=O&&((P=this.mViewMgr.getBitmapTextViewFromPool(K)).setText(O),this.mViewMgr.activateAndManageView(P,this.mMatrixVFXOverlayView))}break;case c.x1423937423581516502x:if(!this.mEnableAnimations)return;this.mViewMgr.activateAndManageViewFromPool(e,this.mMatrixVFXOverlayView);break;case c.x2835560522953721302x:if(!this.mEnableAnimations)return;if(!this.mViewMgr.hasPool(e))return;var X=(H=this.mPlayer.getLivePiece()).getNumMinos();for(a=0;a<X;a++)o=(f=H.getMinoAtIndex(a)).getX()*this.mMatrixMinoSpacing-this.mMatrixViewHalfWidth+b,s=f.getY()*this.mMatrixMinoSpacing-this.mMatrixViewHalfHeight+b,this.mViewMgr.activateAndManageViewFromPoolWithPosition(e,this.mMatrixVFXOverlayView,o,s);break;case c.x3896609636430422011x:if(!this.mEnableAnimations)return;var R=this.mViewMgr.hasPool(e),G=this.mViewMgr.hasPool(r.x570289453295260866x);if(!R&&!G)return;var E=i.getIntValue(c.x650015932578648431x);E=l.maxInt(E,6);var H,Y=(H=this.mPlayer.getLivePiece()).getNumColumns();for(a=0;a<Y;a++){var U=H.getColumnXInMatrix(a)*this.mMatrixMinoSpacing;if(U-=this.mMatrixViewHalfWidth,R){var Q=H.getColumnMinYInMatrix(a)*this.mMatrixMinoSpacing,j=E+H.getNumRows();Q-=this.mMatrixViewHalfHeight,Q+=1,(u=this.mViewMgr.getSpriteViewFromPool(e)).setPosition(U,Q),u.setScaleY(j),u.setSizeX(~~(a<Y-1?this.mMatrixMinoSpacing:this.mMatrixMinoSpacing-this.mMatrixMinoGap)),this.mViewMgr.activateAndManageView(u,this.mMatrixVFXUnderlayView)}if(G){var z=(H.getColumnMaxYInMatrix(a)+1)*this.mMatrixMinoSpacing;z-=this.mMatrixViewHalfHeight;for(var q=0;q<E;q++){if(l.nextNativeRandomIntInRange(1,100)<=80){T=(u=this.mViewMgr.getSpriteViewFromPool(r.x570289453295260866x)).getAnimator(r.x22025072833653837x);var J=l.getLerpFactor(q,E,0),Z=U+b,$=z+q*this.mMatrixMinoSpacing+b,ee=.3*this.mMatrixMinoSpacing;Z+=l.nextNativeRandomFloatInRange(-ee,ee,1e3),$+=l.nextNativeRandomFloatInRange(-ee,ee,1e3),u.setPosition(Z,$);var te=10;te+=l.nextNativeRandomFloatInRange(-5,5,1e3),T.getChannel(B.x1094037759331574885x).mValue=te;var ie=J*u.getScaleX();ie*=l.nextNativeRandomFloatInRange(.5,1.5,1e3),u.setScale(ie,ie);var ae=0;ae+=l.nextNativeRandomFloatInRange(-180,180,1e3),u.setRotation(ae);var re=0;re+=l.nextNativeRandomFloatInRange(-270,270,1e3),T.getChannel(B.x3364986288849848788x).mValue=re;var ne=l.lerp(.2,u.getAlpha(),J);ne*=l.nextNativeRandomFloatInRange(.5,1.5,1e3),ne=l.clamp01(ne),u.setAlpha(ne);var oe=T.getInitialGlobalDurationScale();oe*=l.nextNativeRandomFloatInRange(.7,1.3,1e3),oe*=l.lerp(.3,1,J),T.setGlobalDurationScale(oe),this.mViewMgr.activateAndManageView(u,this.mMatrixVFXUnderlayView)}}}}break;case d.x2401449302245799433x:if(!this.mEnableAnimations)return;if(i.getBoolValue(d.x2485413609040593399x))return;this.mScoreValueView&&this.mScoreValueView.startAnimator(r.x1110339351593396880x);var se=i.getIntValue(d.x1392439065935303313x);switch(se>0&&this.mLinesValueView&&this.mLinesValueView.startAnimator(r.x1110339351593396880x),se){case 0:case 1:case 2:case 3:if(!this.mViewMgr.hasPool(r.x3455107802767124190x))return;break;case 4:if(!this.mViewMgr.hasPool(r.x3018786190390790525x)&&!this.mViewMgr.hasPool(r.x2296609383138106553x))return}var me=i.getIntValue(d.x2704093983957425827x),le=i.getIntValue(d.x3226881466546944827x),he=i.getBoolValue(d.x4396903821025096640x),ge=i.getBoolValue(d.x56138074968748260x),ce=i.getIntValue(d.x2201480181276618034x),Ve=i.getIntValue(d.x482162241822821234x),ue=i.getObjectValue(d.x3146374273093412746x);o=0,s=0;var we=0,de=2*this.mMatrixViewHalfHeight;switch(ue&&ue.getNumObjects()>0?(we=_.getMinoPatternMatchesMinY(ue),de=_.getMinoPatternMatchesMaxY(ue)+1):(we=i.getIntValue(d.x405648548384022495x),de=i.getIntValue(d.x2548933496437503842x)+1),s=(we+.5*(de-we))*this.mMatrixMinoSpacing-this.mMatrixViewHalfHeight,L=l.getStringBuilder(),(P=this.mViewMgr.getBitmapTextViewFromPool(r.x1979287674885442252x))&&(L.setString("+"),L.appendInt(me,1,!0),P.setText(L.getString()),P.setPosition(o,s),this.mViewMgr.activateAndManageView(P,this.mMatrixVFXOverlayView)),se){case 0:case 1:case 2:case 3:(P=this.mViewMgr.getBitmapTextViewFromPool(r.x3455107802767124190x))&&(L.setString(l.getStandardScoreEventDescription(se,le,he,ge,ce,Ve)),P.setText(L.getString()),P.setPosition(o,s),this.mViewMgr.activateAndManageView(P,this.mMatrixVFXOverlayView));break;case 4:(P=this.mViewMgr.getBitmapTextViewFromPool(r.x3018786190390790525x))&&(L.setString(l.getStandardScoreEventDescription(se,le,he,ge,ce,Ve)),P.setText(L.getString()),P.setPosition(o,s),this.mViewMgr.activateAndManageView(P,this.mMatrixVFXOverlayView)),this.mViewMgr.activateAndManageViewFromPoolWithPosition(r.x2296609383138106553x,this.mMatrixVFXOverlayView,o,s)}break;case V.x2218982487833820997x:case V.x1542386212569580522x:if(!this.mEnableAnimations)return;switch(e){case V.x2218982487833820997x:this.mAttackLinesSentView&&this.mAttackLinesSentView.startAnimator(r.x1110339351593396880x)}if(!this.mViewMgr.hasPool(e))return;o=this.mPlayer.getLockedPieceCenterX()*this.mMatrixMinoSpacing-this.mMatrixViewHalfWidth,s=this.mPlayer.getLockedPieceCenterY()*this.mMatrixMinoSpacing-this.mMatrixViewHalfHeight;var Pe=i.getIntValue(V.x2224904543043899791x);for(a=0;a<Pe;a++)(u=this.mViewMgr.getSpriteViewFromPool(e)).setAnimatorsIndex(a),u.setPosition(o,s),this.mViewMgr.activateAndManageView(u,this.mMatrixVFXOverlayView);break;case V.x1529471143630990324x:case V.x346905571949283208x:if(!this.mEnableAnimations)return;switch(this.mViewMgr.hasPool(e)&&this.mViewMgr.activateAndManageViewFromPool(e,this.mMatrixVFXOverlayView),e){case V.x1529471143630990324x:if(this.mAvatarView&&this.mAvatarView.startAnimator(l.stringToValueKey("didReceiveAttacks")),this.mIncomingAttackMeterView){var Me=i.getIntValue(V.x1643617019085424161x),Se=i.getIntValue(V.x4278688478399430897x),ve=this.mPlayer.getMatrixVisibleHeight();for(a=0;a<Se;a++){var ye=Me+a;if(ye>=ve)break;var pe=A.NativeView_getChildAtIndex(this.mIncomingAttackMeterView,ye);o=A.NativeView_getX(pe),s=A.NativeView_getY(pe),this.mViewMgr.activateAndManageViewFromPoolWithPosition(r.x3218926589013499418x,this.mMatrixOverlayView,o,s)}}break;case V.x346905571949283208x:this.mIncomingAttackMeterView}break;case w.x3441132995988855501x:if(!this.mEnableAnimations)return;this.mViewMgr.activateAndManageViewFromPool(r.x2815317999785821980x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(r.x56716353494453132x,this.mMatrixVFXOverlayView),this.mLevelValueView&&this.mLevelValueView.startAnimator(r.x1110339351593396880x);break;case F.x952370844696561785x:if(!this.mEnableAnimations)return;if(!this.mViewMgr.hasPool(r.x3656804468717393704x))return;o=((N=i.getObjectValue(F.x4487631293345544181x)).getSpawnedMatrixX()+.5)*this.mMatrixMinoSpacing,s=(N.getSpawnedMatrixY()+.5)*this.mMatrixMinoSpacing,o-=this.mMatrixViewHalfWidth,s-=this.mMatrixViewHalfHeight,this.mViewMgr.activateAndManageViewFromPoolWithPosition(r.x3656804468717393704x,this.mMatrixVFXOverlayView,o,s);break;case F.x3558825997769479104x:if(!this.mEnableAnimations)return;if(!this.mViewMgr.hasPool(r.x4171992404770260681x))return;o=((N=i.getObjectValue(F.x3255302811440110472x)).getActivationMatrixX()+.5)*this.mMatrixMinoSpacing,s=(N.getActivationMatrixY()+.5)*this.mMatrixMinoSpacing,o-=this.mMatrixViewHalfWidth,s-=this.mMatrixViewHalfHeight,this.mViewMgr.activateAndManageViewFromPoolWithPosition(r.x4171992404770260681x,this.mMatrixVFXOverlayView,o,s);break;case F.x2436794152278512146x:if(!this.mEnableAnimations)return;switch(N=i.getObjectValue(F.x1863057587496635561x),this.mViewMgr.hasPool(r.x4171992404770260681x)&&(o=(N.getActivationMatrixX()+.5)*this.mMatrixMinoSpacing,s=(N.getActivationMatrixY()+.5)*this.mMatrixMinoSpacing,o-=this.mMatrixViewHalfWidth,s-=this.mMatrixViewHalfHeight,this.mViewMgr.activateAndManageViewFromPoolWithPosition(r.x4171992404770260681x,this.mMatrixVFXOverlayView,o,s)),(P=this.mViewMgr.getBitmapTextViewFromPool(r.x3093421980870061181x))&&(P.setText(this.mMinoActionItemActivatedTexts.getStringValue(N.getActionId())),o=(N.getActivationMatrixX()+.5)*this.mMatrixMinoSpacing,s=(N.getActivationMatrixY()+.5)*this.mMatrixMinoSpacing,o-=this.mMatrixViewHalfWidth,s-=this.mMatrixViewHalfHeight,P.setPosition(o,s),this.mViewMgr.activateAndManageView(P,this.mMatrixVFXOverlayView)),N.getActionId()){case M.x414433306457105515x:var ke=N;this.mViewMgr.activateAndManageViewFromPool(ke.isSpeedUp()?r.x3952073802042104184x:r.x145588744743792705x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(ke.isSpeedUp()?r.x3116980579887651482x:r.x2828394000248206494x,this.mMatrixVFXOverlayView);break;case S.x1803283145394326311x:this.mViewMgr.activateAndManageViewFromPool(r.x1467092960253051154x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(r.x3594447699524131767x,this.mMatrixVFXOverlayView);break;case v.x4076663082924797413x:this.mViewMgr.activateAndManageViewFromPool(r.x3691150693104062378x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(r.x4336040380125028214x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(r.x18943870103103842x,this.mMatrixVFXOverlayView);break;case y.x4346400190625935653x:this.mViewMgr.activateAndManageViewFromPool(r.x2160053455276329269x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(r.x1952310415317776975x,this.mMatrixVFXOverlayView);break;case p.x2579173940506276196x:this.mViewMgr.activateAndManageViewFromPool(r.x2615823546305365962x,this.mMatrixVFXOverlayView);break;case k.x3828259796318759308x:this.mViewMgr.activateAndManageViewFromPool(r.x3753473462827093811x,this.mMatrixVFXOverlayView);break;case x.x230667879672903562x:var xe=N;this.mViewMgr.activateAndManageViewFromPool(xe.isToCenter()?r.x1991107636916706866x:r.x882400130433952093x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(xe.isToCenter()?r.x2397296641758519739x:r.x4599225201900811201x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(xe.isToCenter()?r.x517453085592268031x:r.x4557514792388022527x,this.mMatrixVFXOverlayView);break;case I.x3375684980073946266x:var Ie=N;this.mViewMgr.activateAndManageViewFromPool(Ie.isToLeft()?r.x975349829136962931x:r.x1784877734389343169x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(Ie.isToLeft()?r.x873859531133457404x:r.x4170815355682025331x,this.mMatrixVFXOverlayView)}break;case c.x745359542210094670x:if(!this.mEnableAnimations)return;this.mViewMgr.activateAndManageViewFromPool(r.x4225446530474077969x,this.mMatrixVFXOverlayView);break;case k.x743369394046717932x:if(!this.mEnableAnimations)return;if(!this.mViewMgr.hasPool(r.x1867444874452338004x))return;o=((f=i.getObjectValue(k.x3166330234813484377x)).getX()+.5)*this.mMatrixMinoSpacing,s=(f.getY()+.5)*this.mMatrixMinoSpacing,o-=this.mMatrixViewHalfWidth,s-=this.mMatrixViewHalfHeight,this.mViewMgr.activateAndManageViewFromPoolWithPosition(r.x1867444874452338004x,this.mMatrixVFXOverlayView,o,s);break;case d.x4529897626885787788x:if(!this.mEnableAnimations)return;if(!this.mScoreMultiplierValueView)return;this.mScoreMultiplierValueView.startAnimator(e),this.mViewMgr.autoActivateAndManageViewsFromPool(r.x4559202880240586023x,this.mMatrixVFXOverlayView);break;case d.x4239705541280003426x:if(!this.mEnableAnimations)return;if(!this.mScoreMultiplierValueView)return;this.mScoreMultiplierValueView.startAnimator(e),this.mViewMgr.autoActivateAndManageViewsFromPool(r.x1231468562733814837x,this.mMatrixVFXOverlayView);break;case c.x1990302596667154556x:this.constructMatrixView();break;case w.x1457963563670105106x:if(this.mLevelOverlayView){var _e=i.getIntValue(w.x4154390777278676273x),Te=this.mLevelOverlaySpriteFrameResource.getNativeSpriteFrame(_e);A.NativeSprite_setSpriteFrame(this.mLevelOverlayView,Te,!0),A.NativeView_setIsVisible(this.mLevelOverlayView,Te)}}},i(r,null,[{key:"x1932132041308798035x",get:function(){return 949945314}},{key:"x1793819332987169159x",get:function(){return 1188213234}},{key:"x3538847470815837303x",get:function(){return 1928046857}},{key:"x2082614689084762281x",get:function(){return 823304176}},{key:"kHorizontalSequenceType_None",get:function(){return 958761353}},{key:"x694207321571052750x",get:function(){return 1723161416}},{key:"x4436352727763552220x",get:function(){return 1723161417}},{key:"x570289453295260866x",get:function(){return 1479050412}},{key:"x3455107802767124190x",get:function(){return 1995179762}},{key:"x3018786190390790525x",get:function(){return 818039251}},{key:"x2296609383138106553x",get:function(){return 818039252}},{key:"x1979287674885442252x",get:function(){return 1608418396}},{key:"x2815317999785821980x",get:function(){return 342016175}},{key:"x56716353494453132x",get:function(){return 342016176}},{key:"x3218926589013499418x",get:function(){return 309952719}},{key:"kViewPoolId_attackMeterSegmentDidReceiveAttackCounters",get:function(){return 346498790}},{key:"x2064180306880734667x",get:function(){return 876590387}},{key:"x1470282923653503826x",get:function(){return 876590388}},{key:"x4225446530474077969x",get:function(){return 195626544}},{key:"x3656804468717393704x",get:function(){return 1001889027}},{key:"x4171992404770260681x",get:function(){return 500044090}},{key:"x3093421980870061181x",get:function(){return 471552455}},{key:"x4559202880240586023x",get:function(){return 262227630}},{key:"kViewPoolId_multiplierUp02",get:function(){return 262227631}},{key:"x1231468562733814837x",get:function(){return 1707843125}},{key:"kViewPoolId_multiplierDown02",get:function(){return 1707843126}},{key:"x3952073802042104184x",get:function(){return 730061555}},{key:"x3116980579887651482x",get:function(){return 2013799381}},{key:"x145588744743792705x",get:function(){return 208295468}},{key:"x2828394000248206494x",get:function(){return 1211255388}},{key:"x3753473462827093811x",get:function(){return 728552192}},{key:"x1867444874452338004x",get:function(){return 1160385019}},{key:"x2615823546305365962x",get:function(){return 1088689304}},{key:"x1467092960253051154x",get:function(){return 533841396}},{key:"x3594447699524131767x",get:function(){return 151677076}},{key:"x3691150693104062378x",get:function(){return 2052775571}},{key:"x4336040380125028214x",get:function(){return 1610888608}},{key:"x18943870103103842x",get:function(){return 236236814}},{key:"x2160053455276329269x",get:function(){return 1162286272}},{key:"x1952310415317776975x",get:function(){return 895002312}},{key:"x975349829136962931x",get:function(){return 1592400396}},{key:"x873859531133457404x",get:function(){return 908299900}},{key:"x1784877734389343169x",get:function(){return 1522325607}},{key:"x4170815355682025331x",get:function(){return 158632289}},{key:"x1991107636916706866x",get:function(){return 120637958}},{key:"x2397296641758519739x",get:function(){return 1948002029}},{key:"x517453085592268031x",get:function(){return 209298651}},{key:"x882400130433952093x",get:function(){return 1108425647}},{key:"x4599225201900811201x",get:function(){return 1661017988}},{key:"x4557514792388022527x",get:function(){return 876851186}},{key:"x22025072833653837x",get:function(){return 1175123609}},{key:"x1110339351593396880x",get:function(){return 5658932}},{key:"x387728340383944202x",get:function(){return 410988074}},{key:"x3284839065164884570x",get:function(){return 933306120}}]),r}(n));r._RF.pop()}}}));System.register("chunks:///_virtual/x1464130944625877292x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x689332512328257358x.ts","./x1825263265700717187x.ts","./x1390687146982484874x.ts","./x4370363482510417528x.ts","./x428471819423808585x.ts","./x3654830822402979912x.ts","./x4366047524965612542x.ts"],(function(e){"use strict";var t,s,r,n,i,a,S,c,d,p;return{setters:[function(e){t=e.inheritsLoose,s=e.assertThisInitialized},function(e){r=e.cclegacy},function(e){n=e.x689332512328257358x},function(e){i=e.x1825263265700717187x},function(e){a=e.x1390687146982484874x},function(e){S=e.x4370363482510417528x},function(e){c=e.x428471819423808585x},function(e){d=e.x3654830822402979912x},function(e){p=e.x4366047524965612542x}],execute:function(){r._RF.push({},"e63adgpsOtJqrT2AZo1I6v5","x1464130944625877292x",void 0);e("x1464130944625877292x",function(e){function r(t){var r;return(r=e.call(this,t)||this).mParams=new i(!0),r.mVSCPURecordsMgr=S.instance().getVSCPURecordsMgr(),r.mVSCPURecordsMgr&&r.mVSCPURecordsMgr.addMessageListener(s(r)),r.mLevelStepper=null,r}t(r,e);var n=r.prototype;return n.updateView=function(){var e=this.mVSCPURecordsMgr.getCurrentLevelIndex();e<0&&(e=0),this.mLevelStepper.setMaxStepperValue(this.mVSCPURecordsMgr.getMaxUnlockedLevelIndex()+1),this.mLevelStepper.setStepperValue(e+1);var t=a.getStringBuilder();t.setString(""),t.appendString("TOTAL WINS: "),t.appendInt(this.mVSCPURecordsMgr.getNumWinsForLevelIndex(e),1,!0),t.appendString("\n"),t.appendString("CURRENT WIN STREAK: "),t.appendInt(this.mVSCPURecordsMgr.getCurrentWinStreakForLevelIndex(e),1,!0),t.appendString("\n"),t.appendString("LONGEST WIN STREAK: "),t.appendInt(this.mVSCPURecordsMgr.getLongestWinStreakForLevelIndex(e),1,!0),this.getDescendantNamed("mainText").setText(t.getString()),this.updateSize()},n.x2187205631974265155x=function(t){this.mParams.copy(t,!0),e.prototype.x2187205631974265155x.call(this,t),this.mLevelStepper=this.getDescendantNamed("LevelStepper"),this.mLevelStepper.addMessageListener(this),this.updateView()},n.x2766708504066152543x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),this.mVSCPURecordsMgr&&(this.mVSCPURecordsMgr.removeMessageListener(this),this.mVSCPURecordsMgr=null),this.mLevelStepper=null,e.prototype.x2766708504066152543x.call(this)},n.x976210321608527258x=function(e,t,s){switch(e){case d.x2684418880735563207x:var r=t;this.mVSCPURecordsMgr.setCurrentLevelIndex(r.getStepperValue()-1);break;case c.x3066576849726692280x:case c.x2430605823147454036x:this.updateView();break;case p.x720532515790501176x:case p.x350310758126750260x:this.updateView()}},r}(n));r._RF.pop()}}}));System.register("chunks:///_virtual/x4366047524965612542x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4472346643782045245x.ts","./x1825263265700717187x.ts","./x1390687146982484874x.ts","./x3363722297214968445x.ts","./x1829961367305584157x.ts","./x4010102164439179233x.ts","./x370408543499406949x.ts","./x4023525633718419706x.ts","./x1758453316087659781x.ts"],(function(e){"use strict";var t,n,a,r,s,l,i,o,u,c,d,v,I;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,a=e.assertThisInitialized},function(e){r=e.cclegacy},function(e){s=e.x4472346643782045245x},function(e){l=e.x1825263265700717187x},function(e){i=e.x1390687146982484874x},function(e){o=e.x3363722297214968445x},function(e){u=e.x1829961367305584157x},function(e){c=e.x4010102164439179233x},function(e){d=e.x370408543499406949x},function(e){v=e.x4023525633718419706x},function(e){I=e.x1758453316087659781x}],execute:function(){r._RF.push({},"c2dfdtbfZ1ItZp13XBSJHKa","x4366047524965612542x",void 0);e("x4366047524965612542x",function(e){function r(t,n){var s;return(s=e.call(this)||this).mParams=t.x1983177741811147517x(),s.mIsEnabled=t.getBoolValueWithDefault(r.x2708091938147563541x,!0),s.x2506607514104443438x=n,s.mIsEnabled&&(n.addMessageListener(a(s)),n.getSceneMgr().addMessageListener(a(s))),s.mDataDictionary=new l(!0),s.mNumLevels=t.getIntValue(r.x3946476623170292898x),s.mGameOverLevelResult=r.x318469168457916196x,s}t(r,e);var s=r.prototype;return s.resetData=function(){if(this.mIsEnabled){this.mDataDictionary.removeAllValues(),this.mDataDictionary.setIntValue(r.x2464222192314881875x,r.x4041496623903616679x),this.mDataDictionary.setIntValue(r.x4118724890121434650x,0),this.mDataDictionary.setIntValue(r.x3954280385817036929x,0);var e=new l(!0);this.mDataDictionary.setObjectValue(r.x1862274751196741084x,e);for(var t=0;t<this.mNumLevels;t++){var n=e.createDictionary(t+1,"",999999,!0);n.setIntValue(r.x1936785042085195401x,0),n.setIntValue(r.x1092084587610965797x,0),n.setIntValue(r.x3512144321460785248x,0),n.setIntValue(r.x1829921807330491961x,0),n.setIntValue(r.x1970995257788802841x,0)}this.saveDataToPrefs()}},s.didLoadData=function(){return!!this.mIsEnabled&&this.mDataDictionary.getIntValueWithDefault(r.x2464222192314881875x,0)==r.x4041496623903616679x},s.getMaxUnlockedLevelIndex=function(){return this.mDataDictionary.getIntValueWithDefault(r.x3954280385817036929x,0)},s.getMaxPossibleLevelIndex=function(){return this.x2506607514104443438x.x4329476012501355321x().getIntValueWithKeyStringPath("gameMgr.game.players.players.player2.playerComponents.control.params.AIInput.levels.maximumLevelIndex")},s.getCurrentLevelIndex=function(){return this.mDataDictionary.getIntValueWithDefault(r.x4118724890121434650x,-1)},s.setCurrentLevelIndex=function(e){this.getCurrentLevelIndex()!=e&&(this.mDataDictionary.setIntValue(r.x4118724890121434650x,e),this.updateAIParamsForCurrentLevel(),this.saveDataToPrefs(),this.dispatchMessage(r.x350310758126750260x,this,null))},s.getNumWinsForLevelIndex=function(e){var t=this.getLevelDictForLevelIndex(e);return t?t.getIntValue(r.x1936785042085195401x):0},s.getCurrentWinStreakForLevelIndex=function(e){var t=this.getLevelDictForLevelIndex(e);return t?t.getIntValue(r.x1092084587610965797x):0},s.getLongestWinStreakForLevelIndex=function(e){var t=this.getLevelDictForLevelIndex(e);return t?t.getIntValue(r.x3512144321460785248x):0},s.getNumLossesForLevelIndex=function(e){var t=this.getLevelDictForLevelIndex(e);return t?t.getIntValue(r.x1829921807330491961x):0},s.getGameOverLevelResult=function(){return this.mGameOverLevelResult},s.updateAIParamsForCurrentLevel=function(){var e=this.getCurrentLevelIndex(),t=this.getMaxPossibleLevelIndex()+1;this.x2506607514104443438x.x4329476012501355321x().setIntValueWithKeyStringPath("gameMgr.game.players.players.player2.params.avatarIndex",e),this.x2506607514104443438x.x4329476012501355321x().setIntValueWithKeyStringPath("gameMgr.game.players.players.player2.playerComponents.control.params.AIInput.levels.startingLevelIndex",e);var n=t-e+1,a=Math.pow(1.25,n),r=~~(50*a),s=~~(30*a);this.x2506607514104443438x.x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.control.params.AIInput").setIntValue(c.x2308752975283140136x,r),this.x2506607514104443438x.x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.control.params.AIInput").setIntValue(c.x1378961682647975772x,r),this.x2506607514104443438x.x4329476012501355321x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.control.params.AIInput").setIntValue(c.x1355456826469717601x,s)},s.getSavedRecordsDataId=function(){return this.x2506607514104443438x.getSavedDataId()+"-records"},s.getLevelDictForLevelIndex=function(e){var t=this.mDataDictionary.getDictionary(r.x1862274751196741084x);return t?t.getDictionaryAtIndex(e):null},s.loadDataFromPrefs=function(){if(this.mIsEnabled){this.mDataDictionary.removeAllValues();var e=this.x2506607514104443438x.getPrefsString(this.getSavedRecordsDataId(),"");e&&""!=e&&this.mDataDictionary.parseJSONString(e,!1,!0),this.mDataDictionary.hasValue(r.x4118724890121434650x)||this.setCurrentLevelIndex(0);for(var t=this.mDataDictionary.getIntValueWithDefault(r.x2464222192314881875x,0);t<r.x4041496623903616679x;)this.resetData(),t=r.x4041496623903616679x;this.updateAIParamsForCurrentLevel(),this.dispatchMessage(r.x720532515790501176x,this,null)}},s.saveDataToPrefs=function(){if(this.mIsEnabled&&this.didLoadData()){this.mDataDictionary.resetAllKeyStringsToKeyValue();var e=this.mDataDictionary.toJSONString(null,!0,-1);this.x2506607514104443438x.setPrefsString(this.getSavedRecordsDataId(),e),this.x2506607514104443438x.savePrefs()}},s.processGameResult=function(e,t){if(this.mIsEnabled&&this.didLoadData()){var n,a=t.getControlComponent().getParams().getIntValueWithKeyStringPath("AIInput.levels.startingLevelIndex"),s=this.getLevelDictForLevelIndex(a);switch(e.getGameEndCondition()){case u.x4408431872223735541x:var l=this.getMaxUnlockedLevelIndex();a>=l?(l=i.minInt(a+1,this.mNumLevels-1),this.mDataDictionary.setIntValue(r.x3954280385817036929x,l),this.mGameOverLevelResult=r.x3484584917616790291x):this.mGameOverLevelResult=r.x318469168457916196x,n=s.getIntValue(r.x1936785042085195401x),s.setIntValue(r.x1936785042085195401x,n+1);var c=this.getCurrentWinStreakForLevelIndex(a);c++,s.setIntValue(r.x1092084587610965797x,c),c>this.getLongestWinStreakForLevelIndex(a)&&s.setIntValue(r.x3512144321460785248x,c);break;case u.x1456860649618312688x:n=s.getIntValue(r.x1829921807330491961x),s.setIntValue(r.x1829921807330491961x,n+1),s.setIntValue(r.x1092084587610965797x,0),this.mGameOverLevelResult=r.x318469168457916196x;break;case u.x211018650796416029x:n=s.getIntValue(r.x1970995257788802841x),s.setIntValue(r.x1970995257788802841x,n+1),s.setIntValue(r.x1092084587610965797x,0),this.mGameOverLevelResult=r.x318469168457916196x;break;case o.x1833828468078163270x:default:return void(this.mGameOverLevelResult=r.x318469168457916196x)}this.saveDataToPrefs(),this.dispatchMessage(r.x720532515790501176x,this,null)}},s.x2766708504066152543x=function(){this.x2506607514104443438x.removeMessageListener(this),this.x2506607514104443438x.getSceneMgr().removeMessageListener(this),I.getInstance().removeMessageListener(this),null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mDataDictionary&&(this.mDataDictionary.destroy(),this.mDataDictionary=null),e.prototype.x2766708504066152543x.call(this)},s.x976210321608527258x=function(e,t,n){switch(e){case d.x3579436887302429561x:this.loadDataFromPrefs(),I.getInstance().addMessageListener(this);break;case I.x1123773354488145129x:var a=I.getInstance().getGameMgr().getPlayerAtIndex(0),r=I.getInstance().getGameMgr().getPlayerAtIndex(1);this.processGameResult(a,r);break;case v.x1617146197946469319x:this.resetData()}},n(r,null,[{key:"x2708091938147563541x",get:function(){return 488921072}},{key:"x3946476623170292898x",get:function(){return 1486170884}},{key:"x4041496623903616679x",get:function(){return 6}},{key:"x720532515790501176x",get:function(){return 1672953625}},{key:"x350310758126750260x",get:function(){return 1775200073}},{key:"x318469168457916196x",get:function(){return 603928186}},{key:"x3484584917616790291x",get:function(){return 1649615273}},{key:"x2464222192314881875x",get:function(){return 648332039}},{key:"x4118724890121434650x",get:function(){return 579410351}},{key:"x3954280385817036929x",get:function(){return 953201725}},{key:"x1862274751196741084x",get:function(){return 385983840}},{key:"x1936785042085195401x",get:function(){return 701012776}},{key:"x1092084587610965797x",get:function(){return 732892372}},{key:"x3512144321460785248x",get:function(){return 787172099}},{key:"x1829921807330491961x",get:function(){return 965132418}},{key:"x1970995257788802841x",get:function(){return 506144436}}]),r}(s));r._RF.pop()}}}));System.register("chunks:///_virtual/x441339227243264040x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1201515018088236679x.ts","./x1825263265700717187x.ts","./x1180903263758642626x.ts","./x1390687146982484874x.ts","./x2362680020733037980x.ts","./x4370363482510417528x.ts","./x2568130707691349422x.ts","./x4448475101681422869x.ts"],(function(t){"use strict";var e,i,n,s,r,o,a,u,h,l,S;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){s=t.x1201515018088236679x},function(t){r=t.x1825263265700717187x},function(t){o=t.x1180903263758642626x},function(t){a=t.x1390687146982484874x},function(t){u=t.x2362680020733037980x},function(t){h=t.x4370363482510417528x},function(t){l=t.x2568130707691349422x},function(t){S=t.x4448475101681422869x}],execute:function(){n._RF.push({},"f499aVS+PJPZr1mAq4S91F1","x441339227243264040x",void 0);t("x441339227243264040x",function(t){function n(e){var i;return(i=t.call(this,e)||this).mStyle=new r(!0),i.mDoAutoToggle=!1,i.mOffText="",i.mOnText="",i.mOffContentImageSpriteFrame=null,i.mOnContentImageSpriteFrame=null,i.mDisabledContentImageSpriteFrame=null,i.setIsPointerControl(!0),i.setAcceptsInputFocus(!0),i.setName("_BPSUIButton"),i}e(n,t);var g=n.prototype;return g.setButtonText=function(t,e){this.mOffText==t&&this.mOnText==e||(this.mOffText=t,this.mOnText=e,this.updateText())},g.setContentImageSpriteFrame=function(t){var e=this.getContentView().getChildNamed("contentImage");e&&e.setSpriteFrame(t),this.mOffContentImageSpriteFrame=t,this.mOnContentImageSpriteFrame=t,this.mDisabledContentImageSpriteFrame=t},g.updateFrame=function(){if(this.mStyle&&this.mStyle.getDictionary(a.stringToValueKey("frame")))if(this.getIsEnabled())if(this.getIsOn())switch(this.getPointerState()){case s.x4022791791093746353x:case s.x2479598987319372568x:this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:on-normal"));break;case s.x1708873957992173268x:this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath(o.isMouseHoverEnabled()?"frame.textures.texture:on-hover":"frame.textures.texture:on-normal"));break;case s.x2458862824429693834x:this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath(this.getDidPointerDownStartInside()?"frame.textures.texture:on-down":"frame.textures.texture:on-normal"))}else switch(this.getPointerState()){case s.x4022791791093746353x:case s.x2479598987319372568x:this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:off-normal"));break;case s.x1708873957992173268x:this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath(o.isMouseHoverEnabled()?"frame.textures.texture:off-hover":"frame.textures.texture:off-normal"));break;case s.x2458862824429693834x:this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath(this.getDidPointerDownStartInside()?"frame.textures.texture:off-down":"frame.textures.texture:off-normal"))}else this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:disabled"))},g.updateText=function(){if(this.mStyle&&this.mStyle.getDictionary(a.stringToValueKey("text"))){if(this.getIsEnabled())if(this.getIsOn())switch(this.getPointerState()){case s.x4022791791093746353x:case s.x2479598987319372568x:this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath("text.fonts.font:on-normal"));break;case s.x1708873957992173268x:this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath(o.isMouseHoverEnabled()?"text.fonts.font:on-hover":"text.fonts.font:on-normal"));break;case s.x2458862824429693834x:this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath(this.getDidPointerDownStartInside()?"text.fonts.font:on-down":"text.fonts.font:on-normal"))}else switch(this.getPointerState()){case s.x4022791791093746353x:case s.x2479598987319372568x:this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath("text.fonts.font:off-normal"));break;case s.x1708873957992173268x:this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath(o.isMouseHoverEnabled()?"text.fonts.font:off-hover":"text.fonts.font:off-normal"));break;case s.x2458862824429693834x:this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath(this.getDidPointerDownStartInside()?"text.fonts.font:off-down":"text.fonts.font:off-normal"))}else this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath("text.fonts.font:disabled"));this.setText(this.getIsOn()?this.mOnText:this.mOffText)}},g.updateContentImage=function(){var t=this.getContentView().getChildNamed("contentImage");t&&(this.getIsEnabled()?this.getIsOn()?t.setSpriteFrame(this.mOnContentImageSpriteFrame):t.setSpriteFrame(this.mOffContentImageSpriteFrame):t.setSpriteFrame(this.mDisabledContentImageSpriteFrame),t.setAlpha(this.getFrameView().getAlpha()))},g.handleButtonClicked=function(){this.mDoAutoToggle&&this.setIsOn(!this.getIsOn()),this.dispatchMessage(n.x1835681970596356845x,this,null),h.instance().handleUIEvent(h.x3121661392539164691x)},g.x2187205631974265155x=function(e){t.prototype.x2187205631974265155x.call(this,e),this.setName("_BPSUIButton"),e&&(this.setName(e.getStringValue(a.stringToValueKey("name"))),this.mDoAutoToggle=e.getBoolValue(a.stringToValueKey("autoToggle")),this.mOffText=e.getStringValue(a.stringToValueKey("offText")),this.mOnText=e.getStringValue(a.stringToValueKey("onText")))},g.x2766708504066152543x=function(){this.mOffContentImageSpriteFrame=null,this.mOnContentImageSpriteFrame=null,this.mDisabledContentImageSpriteFrame=null,null!==this.mStyle&&(this.mStyle.destroy(),this.mStyle=null),t.prototype.x2766708504066152543x.call(this)},g.x4177933512945981681x=function(t){switch(this.updateFrame(),this.updateText(),this.updateContentImage(),this.getPointerState()){case s.x2458862824429693834x:case s.x1708873957992173268x:t?u.setCursorToButton():u.setCursorToNormal()}},g.x1244658717645593826x=function(t){this.updateFrame(),this.updateText(),this.updateContentImage()},g.x2693307703456540485x=function(t){t?(this.setInputFocusStyle(this.mStyle.getDictionaryWithKeyStringPath("inputFocus.textures.texture:inputFocus")),this.getIsOn()?this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:on-hover")):this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:off-hover"))):(this.setInputFocusStyle(null),this.getIsEnabled()?this.getIsOn()?this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:on-normal")):this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:off-normal")):this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:disabled")))},g.x1877331631956159247x=function(t,e){switch(e){case s.x2458862824429693834x:case s.x1708873957992173268x:switch(this.getIsEnabled()?u.setCursorToButton():u.setCursorToNormal(),e){case s.x2458862824429693834x:this.dispatchMessage(n.x3625077208324083467x,this,null);break;case s.x1708873957992173268x:h.instance().handleUIEvent(h.x1958798948368567926x)}break;default:u.setCursorToNormal()}this.updateFrame(),this.updateText(),this.updateContentImage(),e==s.x1708873957992173268x&&this.getDidPointerDownStartInside()&&this.handleButtonClicked()},g.x2848349267657775354x=function(t){switch(t){case S.x4347899112612510973x:return!0;default:return!1}},g.x3251355501440973144x=function(t){switch(t){case S.x4347899112612510973x:this.handleButtonClicked()}},g.x1356244649591557329x=function(t){this.mStyle.copy(t,!1),this.updateFrame(),this.setTextTransform(t.getDictionaryWithKeyStringPath("text.transform")),this.updateText();var e=t.getDictionary(a.stringToValueKey("contentImage"));if(e){var i=e.getDictionary(a.stringToValueKey("textures"));if(i){var n=null;if(i.getDictionary(a.stringToValueKey("texture:off"))&&(this.mOffContentImageSpriteFrame=this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(i.getDictionary(a.stringToValueKey("texture:off")).getStringValue(a.stringToValueKey("resource_texture"))),n||(n=this.mOffContentImageSpriteFrame)),i.getDictionary(a.stringToValueKey("texture:on"))&&(this.mOnContentImageSpriteFrame=this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(i.getDictionary(a.stringToValueKey("texture:on")).getStringValue(a.stringToValueKey("resource_texture"))),n||(n=this.mOnContentImageSpriteFrame)),i.getDictionary(a.stringToValueKey("texture:disabled"))&&(this.mDisabledContentImageSpriteFrame=this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(i.getDictionary(a.stringToValueKey("texture:disabled")).getStringValue(a.stringToValueKey("resource_texture"))),n||(n=this.mDisabledContentImageSpriteFrame)),n){var s=new l(this.getAppSupportFactory());s.retain(),s.setName("contentImage"),s.setSpriteFrame(n),s.setTransformWithParams(e.getDictionary(a.stringToValueKey("transform"))),this.getContentView().addChild(s),s.release()}}}this.updateContentImage(),this.verifyViews()},g.x1782742225685011140x=function(t){this.addMessageListener(t)},g.x2589877392260963443x=function(){return n.x2759250193873207623x},g.x1051632698240992079x=function(e){return e==n.x2759250193873207623x||t.prototype.x1051632698240992079x.call(this,e)},i(n,null,[{key:"x2759250193873207623x",get:function(){return 1511014842}},{key:"x3625077208324083467x",get:function(){return 625193200}},{key:"x1835681970596356845x",get:function(){return 1888574137}}]),n}(s));n._RF.pop()}}}));System.register("chunks:///_virtual/x1201515018088236679x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4514175460444622305x.ts","./x1180903263758642626x.ts","./x1712942562369706315x.ts","./x291109610367529640x.ts","./x224651144502154050x.ts","./x4448475101681422869x.ts"],(function(t){"use strict";var e,n,i,o,s,r,u,h,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},function(t){o=t.x4514175460444622305x},function(t){s=t.x1180903263758642626x},function(t){r=t.x1712942562369706315x},function(t){u=t.x291109610367529640x},function(t){h=t.x224651144502154050x},function(t){c=t.x4448475101681422869x}],execute:function(){i._RF.push({},"ada13NL0WhCxbVrpRx8pWz+","x1201515018088236679x",void 0);t("x1201515018088236679x",function(t){function i(e){var n;return(n=t.call(this,!0,e)||this).mFrameView=null,n.mTextView=null,n.mTextViewTransform=null,n.mContentView=new u(e),n.mContentView.retain(),n.mContentView.setName("content"),n.createInternalChildrenContainer(),n.getInternalChildrenContainer().addChild(n.mContentView),n.mInputFocusView=null,n.mInputFocusViewWidthMod=0,n.mInputFocusViewHeightMod=0,n.mIsEnabled=!0,n.mIsOn=!1,n.mIsPointerControl=!1,n.mAcceptsInputFocus=!1,n.mIsInputFocus=!1,n.mIsPointerInside=!1,n.mIsPointerDown=!1,n.mDidPointerDownStartInside=!1,n.mPointerState=i.x4022791791093746353x,n.setName("_BPSUIControl"),n}e(i,t),i.trySetIsEnabled=function(t,e){t&&t.setIsEnabled(e)};var o=i.prototype;return o.isPointerControl=function(){return this.mIsPointerControl},o.setIsPointerControl=function(t){this.mIsPointerControl=t},o.isAcceptingInput=function(){return this.mIsEnabled&&this.getIsActive()},o.getIsEnabled=function(){return this.mIsEnabled},o.setIsEnabled=function(t){this.mIsEnabled!=t&&(this.mIsEnabled=t,this.mIsPointerControl&&c.updatePointerControlState(this),this.setInputFocusStyle(null),this.x4177933512945981681x(t))},o.acceptsInputFocus=function(){return this.mAcceptsInputFocus},o.setAcceptsInputFocus=function(t){this.mAcceptsInputFocus=t},o.getIsInputFocus=function(){return this.mIsInputFocus},o.setIsInputFocus=function(t){this.isAcceptingInput()||(t=!1),this.mIsInputFocus!=t&&(this.mIsInputFocus=t,this.x2693307703456540485x(t),this.verifyViews())},o.getIsOn=function(){return this.mIsOn},o.setIsOn=function(t){this.isAcceptingInput()&&this.mIsOn!=t&&(this.mIsOn=t,this.x1244658717645593826x(t))},o.getText=function(){return this.mTextView?this.mTextView.getText():""},o.setText=function(t){this.mTextView&&(this.mTextView.setText(t),this.applyTextTransform())},o.getTextWidth=function(){return this.mTextView?this.mTextView.getWidth():0},o.handleDeviceControlOn=function(t,e,n,i){if(this.isAcceptingInput())switch(t){case s.x320090993451744452x:this.handleMouseControlOn(e,~~n,~~i);break;case s.x48919500500765123x:this.handleTouchControlOn(e,~~n,~~i)}},o.handleDeviceControlOff=function(t,e,n,i){if(this.isAcceptingInput())switch(t){case s.x320090993451744452x:this.handleMouseControlOff(e,~~n,~~i);break;case s.x48919500500765123x:this.handleTouchControlOff(e,~~n,~~i)}},o.handleDeviceControlValues=function(t,e,n,i){if(this.isAcceptingInput())switch(t){case s.x320090993451744452x:this.handleMouseControlValues(e,~~n,~~i);break;case s.x48919500500765123x:this.handleTouchControlValues(e,~~n,~~i)}},o.handleDeviceControlCancelled=function(t,e){if(this.isAcceptingInput())switch(t){case s.x320090993451744452x:this.handleMouseControlCancelled(e);break;case s.x48919500500765123x:this.handleTouchControlCancelled(e)}},o.handleMouseControlOn=function(t,e,n){this.x3033655440899900507x(t,e,n),t==s.x4239702654204980592x&&this.setPointerState(e,n,!0,!1)},o.handleMouseControlOff=function(t,e,n){this.x3277927900721131960x(t,e,n),t==s.x4239702654204980592x&&this.setPointerState(e,n,!1,!1)},o.handleMouseControlValues=function(t,e,n){this.x4523740284187571200x(e,n),this.setPointerState(e,n,this.mIsPointerDown,!1)},o.handleMouseControlCancelled=function(t){this.x718539956712089249x(t),t==s.x4239702654204980592x&&this.setPointerState(-1e6,-1e6,!1,!0)},o.handleTouchControlOn=function(t,e,n){this.x923075117094719055x(t,e,n)},o.handleTouchControlOff=function(t,e,n){this.x2147290243360813808x(t,e,n)},o.handleTouchControlValues=function(t,e,n){this.x499592894824864581x(t,e,n)},o.handleTouchControlCancelled=function(t){this.x1214549832800493284x(t,-1e6,-1e6)},o.getPointerState=function(){return this.mPointerState},o.setPointerState=function(t,e,n,o){var s=this.isWorldSpacePointInside(t,e),r=this.mIsPointerInside!=s;this.mIsPointerInside=s;var u=this.mIsPointerDown!=n;if(u&&(this.mIsPointerDown=n,n&&s?this.mDidPointerDownStartInside=!0:o&&(this.mDidPointerDownStartInside=!1)),u||r){var h=this.mPointerState;this.mPointerState=s?this.mIsPointerDown?i.x2458862824429693834x:i.x1708873957992173268x:this.mIsPointerDown?i.x2479598987319372568x:i.x4022791791093746353x,this.x1877331631956159247x(h,this.mPointerState)}n||(this.mDidPointerDownStartInside=!1)},o.getDidPointerDownStartInside=function(){return this.mDidPointerDownStartInside},o.acceptsInputAction=function(t){return this.x2848349267657775354x(t)},o.handleInputActionOn=function(t){this.x3251355501440973144x(t)},o.handleInputActionOff=function(t){this.x2644397712569656984x(t)},o.handleInputActionCancelled=function(t){this.x3382077604782568880x(t)},o.setFrameStyle=function(t){t?(this.mFrameView||(this.mFrameView=new h(this.getAppSupportFactory()),this.mFrameView.retain(),this.mFrameView.setName("frame"),this.mFrameView.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValueWithKeyStringPath("resource_texture"))),this.mFrameView.setSize(this.getWidth(),this.getHeight()),this.verifyViews()),this.mFrameView.setIsActive(!0),this.mFrameView.setIsVisible(!0),this.mFrameView.setStyle(t)):this.mFrameView&&this.mFrameView.setIsActive(!1)},o.getFrameView=function(){return this.mFrameView},o.setTextStyle=function(t){t?(this.mTextView||(this.mTextView=new r(this.getAppSupportFactory()),this.mTextView.retain(),this.mTextView.setName("text"),this.verifyViews()),this.mTextView.setIsActive(!0),this.mTextView.setIsVisible(!0),this.mTextView.setStyle(t),this.applyTextTransform()):this.mTextView&&this.mTextView.setIsActive(!1)},o.setTextTransform=function(t){this.mTextViewTransform=t,this.applyTextTransform()},o.getContentView=function(){return this.mContentView},o.setInputFocusStyle=function(t){t?(this.mInputFocusView||(this.mInputFocusView=new h(this.getAppSupportFactory()),this.mInputFocusView.retain(),this.mInputFocusView.setName("inputFocus"),this.mInputFocusView.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValueWithKeyStringPath("resource_texture"))),this.mInputFocusViewWidthMod=t.getFloatValueWithKeyStringPath("widthMod"),this.mInputFocusViewHeightMod=t.getFloatValueWithKeyStringPath("heightMod"),this.mInputFocusView.setSize(this.getWidth()+this.mInputFocusViewWidthMod,this.getHeight()+this.mInputFocusViewHeightMod),this.verifyViews()),this.mInputFocusView.setIsActive(!0),this.mInputFocusView.setIsVisible(!0),this.mInputFocusView.setStyle(t)):this.mInputFocusView&&(this.mInputFocusView.setIsActive(!1),this.mInputFocusView.setIsVisible(!1))},o.verifyViews=function(){if(this.mFrameView&&this.mFrameView.getParent()!=this||this.mTextView&&this.mTextView.getParent()!=this||this.mInputFocusView&&this.mInputFocusView.getParent()!=this){var t=this.getInternalChildrenContainer();t.removeAllChildren(!0),this.mInputFocusView&&this.mIsInputFocus&&t.addChild(this.mInputFocusView),t.addChild(this.mFrameView),t.addChild(this.mTextView),this.applyTextTransform(),t.addChild(this.mContentView)}},o.applyTextTransform=function(){this.mTextView&&this.mTextViewTransform&&this.mTextView.setTransformWithParams(this.mTextViewTransform)},o.x4177933512945981681x=function(t){},o.x1244658717645593826x=function(t){},o.x2693307703456540485x=function(t){},o.x1877331631956159247x=function(t,e){},o.x4523740284187571200x=function(t,e){},o.x3033655440899900507x=function(t,e,n){},o.x718539956712089249x=function(t){},o.x3277927900721131960x=function(t,e,n){},o.x923075117094719055x=function(t,e,n){},o.x499592894824864581x=function(t,e,n){},o.x2147290243360813808x=function(t,e,n){},o.x1214549832800493284x=function(t,e,n){},o.x2848349267657775354x=function(t){return!1},o.x3251355501440973144x=function(t){},o.x2644397712569656984x=function(t){},o.x3382077604782568880x=function(t){},o.x2187205631974265155x=function(e){t.prototype.x2187205631974265155x.call(this,e),this.setName("_BPSUIControl")},o.x2766708504066152543x=function(){this.mFrameView&&this.mFrameView.release(),this.mFrameView=null,this.mTextView&&this.mTextView.release(),this.mTextView=null,this.mTextViewTransform=null,this.mContentView&&this.mContentView.release(),this.mContentView=null,this.mInputFocusView&&this.mInputFocusView.release(),this.mInputFocusView=null,t.prototype.x2766708504066152543x.call(this)},o.x1868494756939104847x=function(e,n){t.prototype.x1868494756939104847x.call(this,e,n),this.mFrameView&&this.mFrameView.setSize(e,n),this.applyTextTransform(),this.mInputFocusView&&this.mInputFocusView.setSize(e+this.mInputFocusViewWidthMod,n+this.mInputFocusViewHeightMod)},o.x2589877392260963443x=function(){return i.x1081124658892093244x},o.x1051632698240992079x=function(e){return e==i.x1081124658892093244x||t.prototype.x1051632698240992079x.call(this,e)},n(i,null,[{key:"x1081124658892093244x",get:function(){return 2101312149}},{key:"x4022791791093746353x",get:function(){return 1}},{key:"x1708873957992173268x",get:function(){return 2}},{key:"x2479598987319372568x",get:function(){return 3}},{key:"x2458862824429693834x",get:function(){return 4}}]),i}(o));i._RF.pop()}}}));System.register("chunks:///_virtual/x4448475101681422869x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1180903263758642626x.ts","./x1825263265700717187x.ts","./x2938621194761123466x.ts","./x1390687146982484874x.ts","./x2362680020733037980x.ts","./x1201515018088236679x.ts"],(function(t){"use strict";var o,e,n,i,s,r,c,u,l;return{setters:[function(t){o=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.x1180903263758642626x},function(t){s=t.x1825263265700717187x},function(t){r=t.x2938621194761123466x},function(t){c=t.x1390687146982484874x},function(t){u=t.x2362680020733037980x},function(t){l=t.x1201515018088236679x}],execute:function(){n._RF.push({},"ff37dRzCQBB+Lwluz6LHjPX","x4448475101681422869x",void 0);t("x4448475101681422869x",function(t){function n(o,e){var i;return(i=t.call(this,e)||this).mParams=new s(!0),i.mParams.copy(o,!0),i.mIsControlsNavigationEnabled=i.mParams.getBoolValueWithDefault(n.x1879030619871958738x,!1),i.mFocusableControls=new r(0),i.mInputFocusControl=null,i.mPointerControls=new r(0),i.mActivePointerControl=null,i.mapStandardDeviceInputs(i.mIsControlsNavigationEnabled),i}o(n,t),n.updatePointerControlState=function(t){n.sIsPointerActive?t.setPointerState(i.sMouseWorldX,i.sMouseWorldY,i.isMouseButtonDown(i.x467853889310125129x),!1):t.setPointerState(-1e6,-1e6,!1,!1)},n.isPointerActive=function(){return n.sIsPointerActive},n.setIsPointerActive=function(t){n.sIsPointerActive=t,u.setCursorIsVisible(t)};var a=n.prototype;return a.manageControlsInView=function(t){this.clearManagedControls(),this._manageControlsInView(t,!0)},a.clearManagedControls=function(){this.cancelAllInputActions(),this.resetInputFocusControl(),this.mFocusableControls.removeAll(),this.mPointerControls.removeAll()},a.hasInputFocusControl=function(){return this.mInputFocusControl},a.resetInputFocusControl=function(){this.setInputFocusControl(null),this.clearActivePointerControl()},a.focusNextControl=function(){var t=this.mFocusableControls.getNumObjects();if(0==t)return!1;for(var o=this.mInputFocusControl?this.mFocusableControls.getObjectIndex(this.mInputFocusControl):t-1,e=0;e<t;e++){o=c.loopClampedInt(o+1,0,t-1);var n=this.mFocusableControls.getAtIndex(o);if(n.isAcceptingInput())return this.setInputFocusControl(n),!0}return this.setInputFocusControl(null),!0},a.focusPreviousControl=function(){var t=this.mFocusableControls.getNumObjects();if(0==t)return!1;for(var o=this.mInputFocusControl?this.mFocusableControls.getObjectIndex(this.mInputFocusControl):1,e=0;e<t;e++){o=c.loopClampedInt(o-1,0,t-1);var n=this.mFocusableControls.getAtIndex(o);if(n.isAcceptingInput())return this.setInputFocusControl(n),!0}return this.setInputFocusControl(null),!0},a.mapStandardDeviceInputs=function(t){t&&(this.mapStandardDeviceInputsForAction(n.x519104205472369051x),this.mapStandardDeviceInputsForAction(n.x1130239490029787357x),this.mapStandardDeviceInputsForAction(n.x4235510065049515305x),this.mapStandardDeviceInputsForAction(n.x2049361475283156885x)),this.mapStandardDeviceInputsForAction(n.x4347899112612510973x),this.mapStandardDeviceInputsForAction(n.x2880278496294614949x)},a.mapStandardDeviceInputsForAction=function(t){switch(t){case n.x519104205472369051x:this.mapDeviceControl(i.x1465526023299306006x,i.x1755032036454588889x,t,!1),this.mapDeviceControl(i.x1465526023299306006x,i.x3278919099519613808x,t,!1),this.mapDeviceControl(i.x1204206699037006952x,i.x1902884764050545950x,t,!1);break;case n.x1130239490029787357x:this.mapDeviceControl(i.x1465526023299306006x,i.x3791194284777422763x,t,!1),this.mapDeviceControl(i.x1204206699037006952x,i.x4222061567720598270x,t,!1);break;case n.x4235510065049515305x:this.mapDeviceControl(i.x1465526023299306006x,i.x2333634117072007355x,t,!1),this.mapDeviceControl(i.x1204206699037006952x,i.x1815053076914150693x,t,!1);break;case n.x2049361475283156885x:this.mapDeviceControl(i.x1465526023299306006x,i.x4042211714178162656x,t,!1),this.mapDeviceControl(i.x1204206699037006952x,i.x3925453851648915313x,t,!1);break;case n.x4347899112612510973x:this.mapDeviceControl(i.x1465526023299306006x,i.x2615536089808945740x,t,!1),this.mapDeviceControl(i.x1465526023299306006x,i.x2913402928407614680x,t,!1),this.mapDeviceControl(i.x1465526023299306006x,i.x1887062473282175476x,t,!1),this.mapDeviceControl(i.x1204206699037006952x,i.x4013143264134052605x,t,!1);break;case n.x2880278496294614949x:this.mapDeviceControl(i.x1465526023299306006x,i.x2935021364838745126x,t,!1),this.mapDeviceControl(i.x1204206699037006952x,i.x1560932450419330022x,t,!1)}},a._manageControlsInView=function(t,o){if(t)for(var e=t.getNumChildren(),n=0;n<e;n++){var i=o,s=t.getChildAtIndex(n);if(s.x1051632698240992079x(l.x1081124658892093244x)){var r=s;if(this.tryAddPointerControl(r),o)switch(r.x2589877392260963443x()){case 1511014842:case 1508367305:r.acceptsInputFocus()&&(this.mFocusableControls.pushBack(r),i=!1)}}this._manageControlsInView(s,i)}},a.setInputFocusControl=function(t){this.mInputFocusControl!=t&&(this.clearActivePointerControl(),this.mInputFocusControl&&this.mInputFocusControl.setIsInputFocus(!1),this.mInputFocusControl=t,this.mInputFocusControl&&this.mInputFocusControl.isAcceptingInput()&&(this.mInputFocusControl.setIsInputFocus(!0),this.dispatchMessage(n.x299216279750230308x,this,null)))},a.tryResetInputFocusControlAndInputActions=function(){this.hasInputFocusControl()&&(this.resetInputFocusControl(),this.cancelAllInputActions())},a.tryAddPointerControl=function(t){t.isPointerControl()&&(this.mPointerControls.containsObject(t)||this.mPointerControls.pushBack(t))},a.removePointerControl=function(t){this.mPointerControls.removeObject(t),this.mActivePointerControl==t&&this.setActivePointerControl(null)},a.clearActivePointerControl=function(){for(var t=this.mPointerControls.getNumObjects()-1;t>=0;t--){this.mPointerControls.getAtIndex(t).setPointerState(-1e6,-1e6,!1,!1)}this.setActivePointerControl(null)},a.setActivePointerControl=function(t){this.mActivePointerControl!=t&&(this.mActivePointerControl&&this.mActivePointerControl.release(),this.mActivePointerControl=t,this.mActivePointerControl&&this.mActivePointerControl.retain())},a.updateAllPointerControlsState=function(){for(var t=n.sIsPointerActive,o=this.mPointerControls.getNumObjects(),e=0;e<o;e++){var s=this.mPointerControls.getAtIndex(e);t?s.setPointerState(i.sMouseWorldX,i.sMouseWorldY,i.isMouseButtonDown(i.x467853889310125129x),!1):s.setPointerState(-1e6,-1e6,!1,!1)}},a.invalidatePointerState=function(){this.handleMouseDeviceControlValues(i.x4239702654204980592x,-1e6,-1e6),this.handleMouseDeviceControlValues(i.x3293944736935869883x,-1e6,-1e6),this.handleTouchDeviceControlValues(i.x3689174771238144386x,-1e6,-1e6)},a.getPointerControlUnderPoint=function(t,o){for(var e=this.mPointerControls.getNumObjects()-1;e>=0;e--){var n=this.mPointerControls.getAtIndex(e);if(n.isWorldSpacePointInside(t,o)&&n.getIsEnabled())return n}return null},a.handleMouseDeviceControlOn=function(t,o,e){var n=i.convertMouseControlIdToControlIndex(t);if(!i.isMouseButtonDown(n)){i.setMouseButtonIsDown(n,!0);var s=~~o,r=~~e;if(i.sMouseWorldX==s&&i.sMouseWorldY==r||this.handleMouseDeviceControlValues(t,s,r),!this.mActivePointerControl){var c=this.getPointerControlUnderPoint(s,r);this.setActivePointerControl(c)}this.mActivePointerControl&&this.mActivePointerControl.handleDeviceControlOn(i.x320090993451744452x,t,s,r)}},a.handleMouseDeviceControlOff=function(t,o,e){var n=i.convertMouseControlIdToControlIndex(t);if(i.isMouseButtonDown(n)){i.setMouseButtonIsDown(n,!1);var s=~~o,r=~~e;i.sMouseWorldX==s&&i.sMouseWorldY==r||this.handleMouseDeviceControlValues(t,s,r),this.mActivePointerControl&&(this.mActivePointerControl.handleDeviceControlOff(i.x320090993451744452x,t,s,r),i.isAnyMouseButtonDown()||this.setActivePointerControl(null))}},a.handleMouseDeviceControlValues=function(t,o,e){var n=i.convertMouseControlIdToControlIndex(t);if(i.isMouseHoverEnabled()||i.isAnyMouseButtonDown()){var s=~~o,r=~~e;if(i.sMouseWorldX!=s||i.sMouseWorldY!=r)if(i.sMouseWorldX=s,i.sMouseWorldY=r,this.mActivePointerControl)this.mActivePointerControl.handleDeviceControlValues(i.x320090993451744452x,t,s,r);else if(!i.isMouseButtonDown(n))for(var c=this.mPointerControls.getNumObjects()-1;c>=0;c--){this.mPointerControls.getAtIndex(c).handleDeviceControlValues(i.x320090993451744452x,t,s,r)}}},a.handleMouseDeviceControlCancelled=function(t){var o=i.convertMouseControlIdToControlIndex(t);if(i.isMouseButtonDown(o)){i.setMouseButtonIsDown(o,!1),this.invalidatePointerState(),i.isAnyMouseButtonDown()||this.setActivePointerControl(null);for(var e=this.mPointerControls.getNumObjects()-1;e>=0;e--){this.mPointerControls.getAtIndex(e).handleDeviceControlCancelled(i.x320090993451744452x,t)}}},a.handleTouchDeviceControlOn=function(t,o,e){},a.handleTouchDeviceControlOff=function(t,o,e){},a.handleTouchDeviceControlValues=function(t,o,e){},a.handleTouchDeviceControlCancelled=function(t){},a.x2766708504066152543x=function(){null!==this.mPointerControls&&(this.mPointerControls.destroy(),this.mPointerControls=null),this.mActivePointerControl&&this.mActivePointerControl.release(),this.mActivePointerControl=null,null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mFocusableControls&&(this.mFocusableControls.destroy(),this.mFocusableControls=null),this.mInputFocusControl=null,t.prototype.x2766708504066152543x.call(this)},a.x1937296197675522194x=function(t,o,e,n){switch(t){case i.x320090993451744452x:this.tryResetInputFocusControlAndInputActions(),this.handleMouseDeviceControlOn(o,e,n);break;case i.x48919500500765123x:this.tryResetInputFocusControlAndInputActions(),this.handleTouchDeviceControlOn(o,e,n)}},a.x2514339149133249104x=function(t,o,e,n){switch(t){case i.x320090993451744452x:this.tryResetInputFocusControlAndInputActions(),this.handleMouseDeviceControlOff(o,e,n);break;case i.x48919500500765123x:this.handleTouchDeviceControlOff(o,e,n)}},a.x2694417587445475726x=function(t,o,e,n){switch(t){case i.x320090993451744452x:this.tryResetInputFocusControlAndInputActions(),this.handleMouseDeviceControlValues(o,e,n);break;case i.x48919500500765123x:this.handleTouchDeviceControlValues(o,e,n)}},a.x3732412445737631878x=function(t,o){switch(t){case i.x320090993451744452x:this.handleMouseDeviceControlCancelled(o);break;case i.x48919500500765123x:this.handleTouchDeviceControlCancelled(o)}},a.x1358675297668479797x=function(t,o,e){switch(t){case n.x519104205472369051x:return this.focusNextControl();case n.x1130239490029787357x:return this.focusPreviousControl();case n.x4235510065049515305x:case n.x2049361475283156885x:case n.x4347899112612510973x:if(this.mInputFocusControl&&this.mInputFocusControl.isAcceptingInput()&&this.mInputFocusControl.acceptsInputAction(t))return this.mInputFocusControl.handleInputActionOn(t),!0;switch(t){case n.x2049361475283156885x:return this.focusNextControl();case n.x4235510065049515305x:return this.focusPreviousControl()}}return!1},a.x3156500901473858834x=function(t,o,e){switch(t){case n.x4235510065049515305x:case n.x2049361475283156885x:case n.x4347899112612510973x:if(this.mInputFocusControl&&this.mInputFocusControl.isAcceptingInput()&&this.mInputFocusControl.acceptsInputAction(t))return this.mInputFocusControl.handleInputActionOff(t),!0}return!1},a.x747811859499429231x=function(t,o,e,n){return!1},a.x2909623306895768256x=function(t){switch(t){case n.x4235510065049515305x:case n.x2049361475283156885x:case n.x4347899112612510973x:if(this.mInputFocusControl&&this.mInputFocusControl.acceptsInputAction(t))return this.mInputFocusControl.handleInputActionCancelled(t),!0}return!1},e(n,null,[{key:"x1879030619871958738x",get:function(){return 1203179410}},{key:"x519104205472369051x",get:function(){return 1319585881}},{key:"x1130239490029787357x",get:function(){return 514523253}},{key:"x4235510065049515305x",get:function(){return 670917368}},{key:"x2049361475283156885x",get:function(){return 208332043}},{key:"x4347899112612510973x",get:function(){return 1626023021}},{key:"x2880278496294614949x",get:function(){return 1421737144}},{key:"x299216279750230308x",get:function(){return 608420455}}]),n}(i)).sIsPointerActive=!0,n._RF.pop()}}}));System.register("chunks:///_virtual/x689332512328257358x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1201515018088236679x.ts","./x1825263265700717187x.ts","./x1390687146982484874x.ts","./x291109610367529640x.ts"],(function(t){"use strict";var e,i,n,s,o,a,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){s=t.x1201515018088236679x},function(t){o=t.x1825263265700717187x},function(t){a=t.x1390687146982484874x},function(t){r=t.x291109610367529640x}],execute:function(){n._RF.push({},"0f5d51sFr5G/qp2ZTFT/GZ2","x689332512328257358x",void 0);t("x689332512328257358x",function(t){function n(e){var i;return(i=t.call(this,e)||this).mStyle=new o(!0),i.mTitle="",i.mPanelContentView=new r(e),i.mPanelContentView.retain(),i.mPanelContentView.setName("panelContent"),i.mPanelContentView.setEnableChildrenSiblingDepthOffset(!1),i.getContentView().addChild(i.mPanelContentView),i.getContentView().setEnableChildrenBaseDepthOffset(!1),i.mAutoFrameWidth=!1,i.mAutoFrameHeight=!1,i}e(n,t);var s=n.prototype;return s.setTitle=function(t){this.mTitle!=t&&(this.mTitle=t,this.setText(t))},s.createContentHierarchy=function(t){this.mPanelContentView.removeAllChildren(!0),this.getAppSupportFactory().createViewHierarchyInView(t,this.mPanelContentView),this.setContentStyle(),this.updateSize()},s.updateSize=function(){var t=this.getFrameView();t&&(this.mAutoFrameWidth&&t.setWidth(this.mPanelContentView.getWidth()),this.mAutoFrameHeight&&t.setHeight(this.mPanelContentView.getHeight()),this.setSize(t.getWidth(),t.getHeight()))},s.setTitleStyle=function(){if(this.mStyle){var t=this.mStyle.getDictionary(a.stringToValueKey("title"));t&&(this.setTextStyle(t.getDictionary(a.stringToValueKey("font:title"))),this.setTextTransform(t.getDictionary(a.stringToValueKey("transform"))))}},s.setContentStyle=function(){this.mStyle&&(this.mPanelContentView.setStyle(this.mStyle.getDictionaryWithKeyStringPath("content.style")),this.mPanelContentView.setTransformWithParams(this.mStyle.getDictionaryWithKeyStringPath("content.transform")))},s.x2187205631974265155x=function(e){if(t.prototype.x2187205631974265155x.call(this,e),this.setName("_BPSUIPanel"),e){var i=e.getDictionary(a.stringToValueKey("transform"));i?(this.mAutoFrameWidth=i.getFloatValue(a.stringToValueKey("width"))<=0,this.mAutoFrameHeight=i.getFloatValue(a.stringToValueKey("height"))<=0):(this.mAutoFrameWidth=!0,this.mAutoFrameHeight=!0),this.setStyle(e.getDictionary(a.stringToValueKey("style"))),this.setTitle(e.getStringValue(a.stringToValueKey("title"))),this.createContentHierarchy(e.getDictionary(a.stringToValueKey("content")))}},s.x2766708504066152543x=function(){null!==this.mStyle&&(this.mStyle.destroy(),this.mStyle=null),this.mPanelContentView&&this.mPanelContentView.release(),this.mPanelContentView=null,t.prototype.x2766708504066152543x.call(this)},s.x1868494756939104847x=function(e,i){t.prototype.x1868494756939104847x.call(this,e,i);var n=this.getContentView();n&&n.setSize(e,i),this.setTitleStyle(),this.setContentStyle()},s.x576525523681079294x=function(){var t=this.getContentView();return t?t.getWidth():0},s.x1511622419390717892x=function(){var t=this.getContentView();return t?t.getHeight():0},s.x1356244649591557329x=function(t){this.mStyle.copy(t,!1),t&&(this.setFrameStyle(t.getDictionaryWithKeyStringPath("frame.textures.texture:frame")),this.setTitleStyle(),this.setContentStyle())},s.x1782742225685011140x=function(t){this.mPanelContentView.addControlListenerToHierarchy(t)},s.x2027975365980397869x=function(){this.updateSize()},s.x2589877392260963443x=function(){return n.x1995969652462043279x},s.x1051632698240992079x=function(e){return e==n.x1995969652462043279x||t.prototype.x1051632698240992079x.call(this,e)},i(n,null,[{key:"x1995969652462043279x",get:function(){return 917515804}}]),n}(s));n._RF.pop()}}}));System.register("chunks:///_virtual/x3654830822402979912x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1201515018088236679x.ts","./x1825263265700717187x.ts","./x4472346643782045245x.ts","./x1390687146982484874x.ts","./x4381590689536211342x.ts","./x1712942562369706315x.ts","./x2568130707691349422x.ts","./x441339227243264040x.ts","./x4448475101681422869x.ts"],(function(t){"use strict";var e,i,s,n,a,u,r,l,h,o,m,V,S;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,s=t.assertThisInitialized},function(t){n=t.cclegacy},function(t){a=t.x1201515018088236679x},function(t){u=t.x1825263265700717187x},function(t){r=t.x4472346643782045245x},function(t){l=t.x1390687146982484874x},function(t){h=t.x4381590689536211342x},function(t){o=t.x1712942562369706315x},function(t){m=t.x2568130707691349422x},function(t){V=t.x441339227243264040x},function(t){S=t.x4448475101681422869x}],execute:function(){n._RF.push({},"ea4edrRgaZCl7fcADaPjjxJ","x3654830822402979912x",void 0);t("x3654830822402979912x",function(t){function n(e){var i;return(i=t.call(this,e)||this).mStyle=new u(!0),i.mAutoSize=!0,i.mDecrementButton=new V(e),i.getContentView().addChild(i.mDecrementButton),i.mDecrementButton.addMessageListener(s(i)),i.mIncrementButton=new V(e),i.getContentView().addChild(i.mIncrementButton),i.mIncrementButton.addMessageListener(s(i)),i.mValueSprite=null,i.mPrevValueTextView=null,i.mPrevValueSprite=null,i.mNextValueTextView=null,i.mNextValueSprite=null,i.mValueSpriteTextures=null,i.mDisabledValueSpriteTextures=null,i.mButtonSpacing=0,i.mValue=0,i.mMinValue=0,i.mMaxValue=0,i.mStepValue=0,i.mAllowWrapping=!1,i.mValueLabels="",i.mValuePrefix="",i.mValueSuffix="",i.setAcceptsInputFocus(!0),i}e(n,t);var a=n.prototype;return a.getStepperValue=function(){return this.mValue},a.setStepperValue=function(t){this.setStepperValueInternal(t,!1,!1)},a.getMinStepperValue=function(){return this.mMinValue},a.setMinStepperValue=function(t){this.mMinValue=t,this.setStepperValueInternal(this.mValue,!1,!0)},a.getMaxStepperValue=function(){return this.mMaxValue},a.setMaxStepperValue=function(t){this.mMaxValue=t,this.setStepperValueInternal(this.mValue,!1,!0)},a.setStepperValueInternal=function(t,e,i){if(t=this.mAllowWrapping?h.loopClampedInt(t,this.mMinValue,this.mMaxValue):h.clampInt(t,this.mMinValue,this.mMaxValue),i||this.mValue!=t){this.mValue=t,this.mAllowWrapping||(this.mDecrementButton.setIsEnabled(this.mValue>this.mMinValue),this.mIncrementButton.setIsEnabled(this.mValue<this.mMaxValue));var s,n=this.mValue-this.mMinValue;this.mValue>this.mMinValue&&(this.mValue,this.mMaxValue),this.mValue>=this.mMinValue&&this.mValue<this.mMaxValue||this.mDisabledValueSpriteTextures&&this.mDisabledValueSpriteTextures.getNumValues();this.mValueLabels&&""!=this.mValueLabels?this.setText(h.concatStrings(this.mValuePrefix,h.concatStrings(l.stringListItemAtIndex(this.mValueLabels,n),this.mValueSuffix))):(this.setText(h.concatStrings(this.mValuePrefix,h.concatStrings(l.stringFromInt(this.mValue,0,!1),this.mValueSuffix))),this.mPrevValueTextView&&(n>0?this.mPrevValueTextView.setText(h.concatStrings(this.mValuePrefix,h.concatStrings(l.stringFromInt(this.mValue-1,0,!1),this.mValueSuffix))):this.mPrevValueTextView.setText("")),this.mNextValueTextView&&(this.mDisabledValueSpriteTextures&&n<this.mDisabledValueSpriteTextures.getNumValues()-1?this.mNextValueTextView.setText(h.concatStrings(this.mValuePrefix,h.concatStrings(l.stringFromInt(this.mValue+1,0,!1),this.mValueSuffix))):this.mNextValueTextView.setText(""))),this.mValueSprite&&(s=this.mValueSpriteTextures.getDictionaryAtIndex(n).getStringValueAtIndex(0),this.mValueSprite.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(s)));var a=this.mValueSprite?.8*this.mValueSprite.getWidth():0,u=this.mValueSprite?.8*this.mValueSprite.getHeight():0;this.mPrevValueSprite&&(s=this.mValue>this.mMinValue&&this.mValue<=this.mMaxValue?this.mValueSpriteTextures.getDictionaryAtIndex(n-1).getStringValueAtIndex(0):n>0?this.mDisabledValueSpriteTextures.getDictionaryAtIndex(n-1).getStringValueAtIndex(0):"",this.mPrevValueSprite.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(s)),this.mPrevValueSprite.setSize(a,u)),this.mNextValueSprite&&(s=this.mValue>=this.mMinValue&&this.mValue<this.mMaxValue?this.mValueSpriteTextures.getDictionaryAtIndex(n+1).getStringValueAtIndex(0):n<this.mDisabledValueSpriteTextures.getNumValues()-1?this.mDisabledValueSpriteTextures.getDictionaryAtIndex(n+1).getStringValueAtIndex(0):"",this.mNextValueSprite.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(s)),this.mNextValueSprite.setSize(a,u)),e&&this.dispatchMessage(r.x2684418880735563207x,this,null)}},a.x2187205631974265155x=function(e){if(t.prototype.x2187205631974265155x.call(this,e),this.setName("_BPSUIStepper"),e){this.mMinValue=e.getIntValue(l.stringToValueKey("minValue")),this.mMaxValue=e.getIntValue(l.stringToValueKey("maxValue")),this.mStepValue=e.getIntValue(l.stringToValueKey("stepValue")),this.mAllowWrapping=e.getBoolValue(l.stringToValueKey("allowWrapping")),this.mValueLabels=e.getStringValue(l.stringToValueKey("valueLabels")),this.mValuePrefix=e.getStringValue(l.stringToValueKey("valuePrefix")),this.mValueSuffix=e.getStringValue(l.stringToValueKey("valueSuffix"));var i=e.getDictionaryWithKeyStringPath("valueTextures");this.mValueSpriteTextures=i?i.x1983177741811147517x():null;var s=e.getDictionaryWithKeyStringPath("disabledValueTextures");this.mDisabledValueSpriteTextures=s?s.x1983177741811147517x():null;var n=e.getDictionary(l.stringToValueKey("style"));this.setStyle(n),this.mDecrementButton.setName("decrement"),this.mDecrementButton.setButtonText(e.getStringValueWithDefault(l.stringToValueKey("decrementButtonText"),"-"),""),this.mIncrementButton.setName("increment"),this.mIncrementButton.setButtonText(e.getStringValueWithDefault(l.stringToValueKey("incrementButtonText"),"+"),"");var a=e.getIntValue(l.stringToValueKey("value"));this.mValue=~a,this.setStepperValueInternal(a,!0,!1),this.updateLayout(!0)}},a.x2766708504066152543x=function(){null!==this.mStyle&&(this.mStyle.destroy(),this.mStyle=null),null!==this.mValueSpriteTextures&&(this.mValueSpriteTextures.destroy(),this.mValueSpriteTextures=null),null!==this.mDisabledValueSpriteTextures&&(this.mDisabledValueSpriteTextures.destroy(),this.mDisabledValueSpriteTextures=null),t.prototype.x2766708504066152543x.call(this)},a.x2693307703456540485x=function(t){t?this.setInputFocusStyle(this.mStyle.getDictionaryWithKeyStringPath("inputFocus.textures.texture:inputFocus")):this.setInputFocusStyle(null)},a.x2848349267657775354x=function(t){switch(t){case S.x4235510065049515305x:case S.x2049361475283156885x:return!0;default:return!1}},a.x3251355501440973144x=function(t){switch(t){case S.x4235510065049515305x:this.setStepperValueInternal(this.mValue-this.mStepValue,!0,!1);break;case S.x2049361475283156885x:this.setStepperValueInternal(this.mValue+this.mStepValue,!0,!1)}},a.x1356244649591557329x=function(t){if(this.mStyle.copy(t,!1),t){this.mAutoSize=t.getBoolValueWithDefault(l.stringToValueKey("autoSize"),!1),this.mDecrementButton.setStyle(t.getDictionary(l.stringToValueKey("button:buttons"))),this.mIncrementButton.setStyle(t.getDictionary(l.stringToValueKey("button:buttons"))),this.mButtonSpacing=t.getFloatValueWithKeyStringPath("buttons.spacing");var e=t.getDictionaryWithKeyStringPath("valueText.font:font");e||(e=t.getDictionary(l.stringToValueKey("font:value"))),this.setTextStyle(e),this.setTextTransform(t.getDictionaryWithKeyStringPath("valueText.transform"));var i=t.getDictionaryWithKeyString("valueSprite");i&&i.getBoolValueWithKeyStringPath("enabled")&&(this.mValueSprite||(this.mValueSprite=new m(this.getAppSupportFactory()),this.mValueSprite.initWithParams(i),this.getContentView().addChild(this.mValueSprite)));var s=t.getDictionaryWithKeyString("prevValueText");s&&s.getBoolValueWithKeyStringPath("enabled")&&(this.mPrevValueTextView||(this.mPrevValueTextView=new o(this.getAppSupportFactory()),this.mPrevValueTextView.initWithParams(s),this.getContentView().addChild(this.mPrevValueTextView))),(i=t.getDictionaryWithKeyString("prevValueSprite"))&&i.getBoolValueWithKeyStringPath("enabled")&&(this.mPrevValueSprite||(this.mPrevValueSprite=new m(this.getAppSupportFactory()),this.mPrevValueSprite.initWithParams(i),this.getContentView().addChild(this.mPrevValueSprite))),(s=t.getDictionaryWithKeyString("nextValueText"))&&s.getBoolValueWithKeyStringPath("enabled")&&(this.mNextValueTextView||(this.mNextValueTextView=new o(this.getAppSupportFactory()),this.mNextValueTextView.initWithParams(s),this.getContentView().addChild(this.mNextValueTextView))),(i=t.getDictionaryWithKeyString("nextValueSprite"))&&i.getBoolValueWithKeyStringPath("enabled")&&(this.mNextValueSprite||(this.mNextValueSprite=new m(this.getAppSupportFactory()),this.mNextValueSprite.initWithParams(i),this.getContentView().addChild(this.mNextValueSprite))),this.updateLayout(!0)}},a.x1782742225685011140x=function(t){this.addMessageListener(t)},a.x2027975365980397869x=function(){if(t.prototype.x2027975365980397869x.call(this),this.mDecrementButton){var e=.5*this.mButtonSpacing;this.mButtonSpacing>0?(this.mDecrementButton.setAnchor(.5,.5),this.mDecrementButton.setX(-e),this.mIncrementButton.setAnchor(.5,.5),this.mIncrementButton.setX(e)):this.mButtonSpacing<0?(e=-e,this.mDecrementButton.setAnchor(1,.5),this.mDecrementButton.setX(-e),this.mIncrementButton.setAnchor(0,.5),this.mIncrementButton.setX(e)):(this.mDecrementButton.setAnchor(0,.5),this.mDecrementButton.setX(this.getLeft()-this.getX()),this.mIncrementButton.setAnchor(1,.5),this.mIncrementButton.setX(this.getRight()-this.getX()))}this.mAutoSize&&this.setSizeToInternalChildrenBounds(0,0)},a.x2589877392260963443x=function(){return n.x2218091022282307055x},a.x1051632698240992079x=function(e){return e==n.x2218091022282307055x||t.prototype.x1051632698240992079x.call(this,e)},a.x976210321608527258x=function(t,e,i){t==V.x1835681970596356845x&&(e==this.mDecrementButton?this.setStepperValueInternal(this.mValue-this.mStepValue,!0,!1):e==this.mIncrementButton&&this.setStepperValueInternal(this.mValue+this.mStepValue,!0,!1))},i(n,null,[{key:"x2218091022282307055x",get:function(){return 1508367305}}]),n}(a));n._RF.pop()}}}));System.register("chunks:///_virtual/x3005326795379396168x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1201515018088236679x.ts","./x1825263265700717187x.ts","./x1180903263758642626x.ts","./x1390687146982484874x.ts","./x2362680020733037980x.ts"],(function(t){"use strict";var e,n,i,s,r,u,o,h;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},function(t){s=t.x1201515018088236679x},function(t){r=t.x1825263265700717187x},function(t){u=t.x1180903263758642626x},function(t){o=t.x1390687146982484874x},function(t){h=t.x2362680020733037980x}],execute:function(){i._RF.push({},"22e1dRuRUZBcaWj/rx52Ghp","x3005326795379396168x",void 0);t("x3005326795379396168x",function(t){function i(e){var n;return(n=t.call(this,e)||this).setIsPointerControl(!0),n.mStyle=new r(!0),n.mInputText="",n.mIsSecure=!1,n.mMinTextLength=0,n.mMaxTextLength=o.x2812288279383445977x,n.mInputCursorBlinkDelayMSEC=500,n.mInputCursorBlinkTimerMSEC=0,n.mIsInputCursorBlinkOn=!1,n.setName("_BPSUITextInput"),n}e(i,t);var a=i.prototype;return a.getInputText=function(){return this.mInputText},a.setInputText=function(t){this.mInputText=t,this.updateActualDisplayText()},a.isInputTextTooShort=function(){return this.mInputText.length<this.mMinTextLength},a.getMinTextLength=function(){return this.mMinTextLength},a.getMaxTextLength=function(){return this.mMaxTextLength},a.updateActualDisplayText=function(){var t="";if(this.mIsSecure)for(var e=this.mInputText.length;e-->0;)t+="*";else t=this.mInputText;this.mIsInputCursorBlinkOn&&(t+="|"),this.setText(t);var n=this.getWidth()-this.mStyle.getFloatValueWithKeyStringPath("maxVisibleTextWidthOffset");if(n>0&&this.getTextWidth()>n)for(var i=t.length,s=0;s<i&&(this.setText(o.substringFromIndex(t,s)),!(this.getTextWidth()<=n));s++);},a.x3222383107311259587x=function(t,e){switch(t){case u.x1810930212893332644x:if(!this.mInputText||""==this.mInputText)return;this.setInputText(o.substringToIndex(this.mInputText,this.mInputText.length-1));break;default:if(!e||""==e||this.mInputText.length>=this.mMaxTextLength)return;this.setInputText(this.mInputText+e)}},a.x2187205631974265155x=function(e){t.prototype.x2187205631974265155x.call(this,e),this.setName("_BPSUITextInput"),e&&(this.setName(e.getStringValueWithKeyStringPath("name")),this.mIsSecure=e.getBoolValueWithKeyStringPath("isSecure"),this.mMinTextLength=e.getIntValueWithKeyStringPath("minLength"),this.mMaxTextLength=e.getIntValueWithDefault(o.stringToValueKey("maxLength"),o.x2812288279383445977x))},a.x2766708504066152543x=function(){null!==this.mStyle&&(this.mStyle.destroy(),this.mStyle=null),t.prototype.x2766708504066152543x.call(this)},a.x4177933512945981681x=function(t){},a.x2693307703456540485x=function(t){this.mInputCursorBlinkTimerMSEC=this.mInputCursorBlinkDelayMSEC,this.mIsInputCursorBlinkOn=t,this.updateActualDisplayText()},a.x1877331631956159247x=function(t,e){switch(e){case s.x2458862824429693834x:case s.x1708873957992173268x:h.setCursorToButton();break;default:h.setCursorToNormal()}},a.x1356244649591557329x=function(t){this.mStyle.copy(t,!1),t&&(this.setFrameStyle(t.getDictionaryWithKeyStringPath("frame.textures.texture:normal")),this.setTextStyle(t.getDictionaryWithKeyStringPath("text.fonts.font:normal")),this.setTextTransform(t.getDictionaryWithKeyStringPath("text.transform")),this.setInputText(this.mInputText))},a.x1782742225685011140x=function(t){this.addMessageListener(t)},a.x3738951541589289324x=function(e){t.prototype.x3738951541589289324x.call(this,e),this.getIsInputFocus()&&(this.mInputCursorBlinkTimerMSEC-=e,this.mInputCursorBlinkTimerMSEC<=0&&(this.mIsInputCursorBlinkOn=!this.mIsInputCursorBlinkOn,this.mInputCursorBlinkTimerMSEC+=this.mInputCursorBlinkDelayMSEC),this.updateActualDisplayText())},a.x2589877392260963443x=function(){return i.x116316649171870972x},a.x1051632698240992079x=function(e){return e==i.x116316649171870972x||t.prototype.x1051632698240992079x.call(this,e)},n(i,null,[{key:"x116316649171870972x",get:function(){return 729491605}}]),i}(s));i._RF.pop()}}}));System.register("chunks:///_virtual/x4381590689536211342x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1390687146982484874x.ts","./x2362680020733037980x.ts"],(function(t){"use strict";var e,n,r,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1390687146982484874x},function(t){i=t.x2362680020733037980x}],execute:function(){n._RF.push({},"95d2ashRMhKmLHRbW6EYzmS","x4381590689536211342x",void 0);var o=t("x4381590689536211342x",function(){function t(){}return t.doStaticInit=function(){if(!t.sDidStaticInit){switch(t.sBuildInfoString="",t.sApplicationOrigin="",cc.sys.isMobile?t.sPlatformId=t.x1132810197651996333x:t.sPlatformId=t.x3895652285942225948x,t.sPlatformId){case t.x2178854947313397852x:case t.x2630896562549397079x:t.sBuildInfoString+="-OSX-",t.sBuildInfoString+=t.getIsBuildReleaseVersion()?"R":"D";break;case t.x1885914598449001863x:t.sBuildInfoString+="-iOS-",t.sBuildInfoString+=t.getIsBuildReleaseVersion()?"R":"D";break;case t.x3591227337377383538x:t.sBuildInfoString+="-tvOS-",t.sBuildInfoString+=t.getIsBuildReleaseVersion()?"R":"D";break;case t.x359596834173139676x:t.sBuildInfoString+="-",t.sBuildInfoString+="UD",t.sBuildInfoString+="-",t.sBuildInfoString+=t.getIsBuildReleaseVersion()?"R":"D";break;case t.x305654113117016088x:t.sBuildInfoString+="-",t.sBuildInfoString+="UM",t.sBuildInfoString+="-",t.sBuildInfoString+=t.getIsBuildReleaseVersion()?"R":"D";break;case t.x3895652285942225948x:case t.x1132810197651996333x:var e=window.location.href;switch(t.sApplicationOrigin=e.substring(e.indexOf("//")+2),t.sBuildInfoString+="-"+i.getCBID(),t.sPlatformId){case t.x3895652285942225948x:t.sBuildInfoString+="-H5D";break;case t.x1132810197651996333x:t.sBuildInfoString+="-H5M"}}t.sApplicationOrigin=r.x2002177365636751078x(t.sApplicationOrigin,0),t.sTimeAtInitMSEC=t.getTimeSinceEpochMSEC(),t.sDidStaticInit=!0}},t.doStaticDestroy=function(){t.sDidStaticInit&&(t.sDidStaticInit=!1)},t.getPlatformId=function(){return t.sPlatformId},t.getPlatformName=function(){switch(t.sPlatformId){case t.x2178854947313397852x:return t.x3685383732206457140x;case t.x2630896562549397079x:return t.x2438949213556452433x;case t.x1885914598449001863x:return t.x103484427325828966x;case t.x3591227337377383538x:return t.x789863511722320515x;case t.x359596834173139676x:return t.x949595631610020507x;case t.x305654113117016088x:return t.x1295131791288624667x;case t.x3895652285942225948x:return t.x4004014203629215359x;case t.x1132810197651996333x:return t.x2016931702191728200x;default:return"UNKNOWN"}},t.isPlatformInList=function(t,e,n){t=r.stringToLowerCase(t);for(var i=r.numItemsInStringList(e),o=0;o<i;o++){var a=r.stringToLowerCase(r.stringListItemAtIndex(e,o));if(n){if(r.firstIndexInString(t,a)>=0)return!0}else if(t==a)return!0}return!1},t.isCurrentPlatformInList=function(e,n){return t.isPlatformInList(t.getPlatformName(),e,n)},t.isPlatformOSXEditor=function(){switch(t.sPlatformId){case t.x2178854947313397852x:return!0;default:return!1}},t.isPlatformOSX=function(){switch(t.sPlatformId){case t.x2178854947313397852x:case t.x2630896562549397079x:return!0;default:return!1}},t.isPlatformTouchBased=function(){switch(t.sPlatformId){case t.x3895652285942225948x:return!1;case t.x1132810197651996333x:return!0;default:return!1}},t.isDeviceIPhone=function(){return!1},t.isDeviceIPad=function(){return!1},t.getApplicationOrigin=function(){return r.x4379805376353750514x(t.sApplicationOrigin)},t.getApplicationBaseOrigin=function(){return r.x4379805376353750514x(t.sApplicationBaseOrigin)},t.setApplicationBaseOrigin=function(e){t.sApplicationBaseOrigin=r.x2002177365636751078x(e,0)},t.getBuildNumber=function(){return t.sBuildNumber},t.setBuildNumber=function(e){t.sBuildNumber=e},t.getBuildInfoString=function(){return t.concatStrings(t.sBuildNumber,t.sBuildInfoString)},t.getIsBuildReleaseVersion=function(){return!0},t.getSystemOS=function(){return cc.sys.os},t.getTimeSinceInitMSEC=function(){return~~(t.getTimeSinceEpochMSEC()-t.sTimeAtInitMSEC)},t.getTimeSinceEpochMSEC=function(){return Date.now()},t.concatStrings=function(t,e){return t+e},t.idForValueKey=function(t){return r.stringToHash32(t)},t.x903568219908802589x=function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]==e)return r;return-1},t.x413848978478576992x=function(e,n){return t.x903568219908802589x(e,n)>=0},t.x3157230676364117805x=function(t,e){for(var n=t.length,r=0;r<n;r++)if(null==t[r])return t[r]=e,r;return t.push(e),n},t.x3986441504091304018x=function(t,e){for(var n=t.length,r=0;r<n;r++)t[r]==e&&(t[r]=null)},t.x4471257880245276663x=function(e,n){var r=t.x903568219908802589x(e,n);r>=0&&e.splice(r,1)},t.minInt=function(t,e){return t<e?t:e},t.maxInt=function(t,e){return t>e?t:e},t.clampInt=function(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t},t.loopInt=function(t,e,n){if(e==n)return e;var r,i;e<n?(r=e,i=n):(r=n,i=e);var o,a=i-r+1;return t<r?i-((o=i-t)-o/a*a):t>i?r+((o=t-r)-o/a*a):t},t.loopClampedInt=function(t,e,n){return e==n?e:(e<n?(r=e,i=n):(r=n,i=e),t<r?i:t>i?r:t);var r,i},t.isEven=function(t){return t%2==0},t.isOdd=function(t){return t%2==1},e(t,null,[{key:"x2178854947313397852x",get:function(){return 1}},{key:"x2630896562549397079x",get:function(){return 2}},{key:"x1885914598449001863x",get:function(){return 3}},{key:"x3591227337377383538x",get:function(){return 4}},{key:"x359596834173139676x",get:function(){return 5}},{key:"x305654113117016088x",get:function(){return 6}},{key:"x3895652285942225948x",get:function(){return 7}},{key:"x1132810197651996333x",get:function(){return 8}},{key:"x3685383732206457140x",get:function(){return"OSXEditor"}},{key:"x2438949213556452433x",get:function(){return"OSXGame"}},{key:"x103484427325828966x",get:function(){return"iOS"}},{key:"x789863511722320515x",get:function(){return"tvOS"}},{key:"x949595631610020507x",get:function(){return"UnityDesktop"}},{key:"x1295131791288624667x",get:function(){return"UnityMobile"}},{key:"x4004014203629215359x",get:function(){return"HTML5Desktop"}},{key:"x2016931702191728200x",get:function(){return"HTML5Mobile"}}]),t}());o.sDidStaticInit=!1,o.sPlatformId=0,o.sApplicationOrigin="LJDQTDRLRHTLYHMF",o.sApplicationBaseOrigin="SAFRFETMTIFMAJYF",o.sTimeAtInitMSEC=0,o.sBuildNumber="0.01",o.sBuildInfoString="",n._RF.pop()}}}));System.register("chunks:///_virtual/x4514175460444622305x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1552857805309345765x.ts","./x2362680020733037980x.ts","./x1390687146982484874x.ts","./x4381590689536211342x.ts","./x3929633537924788326x.ts"],(function(t){"use strict";var e,i,n,h,r,s,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1552857805309345765x},function(t){h=t.x2362680020733037980x},function(t){r=t.x1390687146982484874x},function(t){s=t.x4381590689536211342x},function(t){l=t.x3929633537924788326x}],execute:function(){i._RF.push({},"188f3rJHtRAk6X0xGgmp7Ws","x4514175460444622305x",void 0);t("x4514175460444622305x",function(t){function i(e,i){var n;if((n=t.call(this)||this).mDidInit=!1,n.mAppSupportFactory=i,n.mNativeView=null,n.mX=0,n.mY=0,n.mAnchorX=.5,n.mAnchorY=.5,n.mLocalRect=new l(0,0,0,0),n.mAlpha=1,n.mIsVisible=!0,n.mParent=null,n.mChildren=null,n.mEnableChildrenBaseDepthOffset=!0,n.mEnableChildrenSiblingDepthOffset=!0,n.mIsActive=!0,n.mInternalChildrenContainer=null,e){var r=h.NativeView_create();n.setNativeView(r)}return n.setName("x4514175460444622305x"),n}e(i,t);var n=i.prototype;return n.initWithNativeView=function(t){this.mDidInit||(this.setNativeView(t),this.initWithParams(null))},n.initWithParams=function(t){this.mDidInit||(this.mDidInit=!0,this.x2187205631974265155x(t),t&&(this.setStyle(t.getDictionaryWithKeyStringPath("style")),this.setTransformWithParams(t.getDictionaryWithKeyStringPath("transform"))))},n.getAppSupportFactory=function(){var t=this.mAppSupportFactory;if(!t)for(var e=this.mParent;!t&&e;)t=e.getAppSupportFactory(),e=e.getParent();return t},n.getNativeView=function(){return this.mNativeView},n.setNativeView=function(t){this.mNativeView=t},n.getX=function(){return this.mX},n.setX=function(t){this.setPosition(t,this.mY)},n.getY=function(){return this.mY},n.setY=function(t){this.setPosition(this.mX,t)},n.setPosition=function(t,e){this.mX==t&&this.mY==e||(this.mX=t,this.mY=e,this.setNativePosition())},n.getWidth=function(){return this.mLocalRect.mWidth},n.setWidth=function(t){this.setSize(t,this.mLocalRect.mHeight)},n.getHeight=function(){return this.mLocalRect.mHeight},n.setHeight=function(t){this.setSize(this.mLocalRect.mWidth,t)},n.setSize=function(t,e){this.mLocalRect.mWidth==t&&this.mLocalRect.mHeight==e||(this.mLocalRect.mWidth=t,this.mLocalRect.mHeight=e,this.mLocalRect.mX=-t*this.mAnchorX,this.mLocalRect.mY=-e*this.mAnchorY,this.setNativePosition(),this.mInternalChildrenContainer&&this.mInternalChildrenContainer.setSize(t,e),this.setChildrenNativePosition(),this.x1868494756939104847x(t,e),this.mParent&&this.mParent.childrenLayoutChanged())},n.getAutoWidth=function(){return this.x576525523681079294x()},n.getAutoHeight=function(){return this.x1511622419390717892x()},n.getAnchorX=function(){return this.mAnchorX},n.setAnchorX=function(t){this.setAnchor(t,this.mAnchorY)},n.getAnchorY=function(){return this.mAnchorY},n.setAnchorY=function(t){this.setAnchor(this.mAnchorX,t)},n.setAnchor=function(t,e){this.mAnchorX==t&&this.mAnchorY==e||(this.mAnchorX=t,this.mAnchorY=e,this.mLocalRect.mX=-this.mLocalRect.mWidth*this.mAnchorX,this.mLocalRect.mY=-this.mLocalRect.mHeight*this.mAnchorY,this.setNativePosition(),this.setChildrenNativePosition())},n.getLeft=function(){return this.mX+this.mLocalRect.getLeft()},n.setLeft=function(t){this.setPosition(this.mX+(t-this.getLeft()),this.mY)},n.getCenterX=function(){return this.mX+this.mLocalRect.getCenterX()},n.setCenterX=function(t){this.setPosition(this.mX+(t-this.getCenterX()),this.mY)},n.getRight=function(){return this.mX+this.mLocalRect.getRight()},n.setRight=function(t){this.setPosition(this.mX+(t-this.getRight()),this.mY)},n.getBottom=function(){return this.mY+this.mLocalRect.getBottom()},n.setBottom=function(t){this.setPosition(this.mX,this.mY+(t-this.getBottom()))},n.getCenterY=function(){return this.mY+this.mLocalRect.getCenterY()},n.setCenterY=function(t){this.setPosition(this.mX,this.mY+(t-this.getCenterY()))},n.getTop=function(){return this.mY+this.mLocalRect.getTop()},n.setTop=function(t){this.setPosition(this.mX,this.mY+(t-this.getTop()))},n.getWorldX=function(){for(var t=this.mX,e=this.mParent;e;)t+=e.mX-e.mLocalRect.mWidth*(-.5+e.mAnchorX),e=e.mParent;return t},n.getWorldY=function(){for(var t=this.mY,e=this.mParent;e;)t+=e.mY-e.mLocalRect.mHeight*(-.5+e.mAnchorY),e=e.mParent;return t},n.convertWorldXToLocal=function(t){return t-this.getWorldX()},n.convertWorldYToLocal=function(t){return t-this.getWorldY()},n.isWorldSpacePointInside=function(t,e){var i=this.convertWorldXToLocal(t),n=this.convertWorldYToLocal(e);return this.mLocalRect.isPointInside(i,n)},n.setTransformWithParams=function(t){if(t){var e=t.getFloatValueWithDefault(r.stringToValueKey("width"),this.mLocalRect.mWidth);e<0&&(e=this.x576525523681079294x());var i=t.getFloatValueWithDefault(r.stringToValueKey("height"),this.mLocalRect.mHeight);i<0&&(i=this.x1511622419390717892x()),this.setSize(e,i),this.setAnchor(t.getFloatValueWithDefault(r.stringToValueKey("anchorX"),this.mAnchorX),t.getFloatValueWithDefault(r.stringToValueKey("anchorY"),this.mAnchorY));var n=t.getFloatValueWithDefault(r.stringToValueKey("x"),this.mX),h=t.getFloatValueWithDefault(r.stringToValueKey("y"),this.mY);if(this.mParent){var s,l=this.mParent.mLocalRect;(s=t.getFloatValueWithDefault(r.stringToValueKey("parentBoundsAlignX"),-1))>=0&&(n+=l.getLeft()+s*l.mWidth),(s=t.getFloatValueWithDefault(r.stringToValueKey("parentBoundsAlignY"),-1))>=0&&(h+=l.getBottom()+s*l.mHeight)}this.setPosition(n,h)}},n.getAlpha=function(){return this.mAlpha},n.setAlpha=function(t){this.mAlpha!=t&&(this.mAlpha=t,this.x4191198991378693528x(t))},n.setStyle=function(t){t&&(this.x1356244649591557329x(t),this.setSize(t.getFloatValueWithDefault(r.stringToValueKey("width"),this.mLocalRect.mWidth),t.getFloatValueWithDefault(r.stringToValueKey("height"),this.mLocalRect.mHeight)))},n.setStyleWithName=function(t){this.setStyle(this.getAppSupportFactory().getStyle(t))},n.getIsVisible=function(){return this.mIsVisible},n.setIsVisible=function(t){this.mIsVisible!=t&&(this.mIsVisible=t,h.NativeView_setIsVisible(this.mNativeView,t),this.mParent&&this.mParent.childrenLayoutChanged())},n.getParent=function(){return this.mParent},n.removeFromParent=function(){this.mParent&&(this.retain(),this.mParent.removeChild(this),this.mParent=null,this.release())},n.getRootView=function(){for(var t=this;t.mParent;)t=t.mParent;return t},n.getNumChildren=function(){return this.mChildren?this.mChildren.length:0},n.getNumVisibleChildren=function(){if(!this.mChildren)return 0;for(var t=0,e=this._getNumChildren(),i=0;i<e;i++){this._getChildAtIndex(i).getIsVisible()&&t++}return t},n.getNumExternalChildren=function(){var t=this.getNumChildren();return this.mInternalChildrenContainer&&t--,t},n.getNumVisibleExternalChildren=function(){if(!this.mChildren)return 0;for(var t=0,e=this._getNumChildren(),i=0;i<e;i++){var n=this._getChildAtIndex(i);n.getIsVisible()&&n!=this.mInternalChildrenContainer&&t++}return t},n.getChildAtIndex=function(t){return t<0||t>=this.getNumChildren()?null:this.mChildren?this._getChildAtIndex(t):null},n.getChildNamed=function(t){if(!this.mChildren)return null;for(var e=this._getNumChildren(),i=0;i<e;i++){var n=this._getChildAtIndex(i);if(n.getName()==t)return n}return null},n.getDescendantNamed=function(t){var e=this.getChildNamed(t);if(!e&&this.mChildren)for(var i=this._getNumChildren(),n=0;n<i;n++){if(e=this._getChildAtIndex(n).getDescendantNamed(t))return e}return e},n.addChild=function(t){t&&t.getParent()!=this&&(this.mChildren||(this.mChildren=new Array),t.retain(),t.removeFromParent(),t.mParent=this,this.mChildren.push(t),h.NativeView_addChild(this.mNativeView,t.getNativeView()),this.x4084303201354081393x(),t.updateViewSize(),t.setNativePosition())},n.addAsChildToNativeParent=function(t){h.NativeView_addChild(t,this.getNativeView()),this.updateViewSize(),this.setNativePosition()},n.removeChild=function(t){t&&t.getParent()==this&&this.mChildren&&(s.x4471257880245276663x(this.mChildren,t),h.NativeView_removeChild(this.mNativeView,t.getNativeView()),this.x4084303201354081393x(),t.mParent=null,t.setNativePosition(),t.release())},n.removeChildNamed=function(t){this.removeChild(this.getChildNamed(t))},n.removeDescendantNamed=function(t){var e=this.getDescendantNamed(t);e&&e.removeFromParent()},n.removeAllChildren=function(t){if(this.mChildren){var e=null,i=this._getNumChildren(),n=0;for(n=0;n<i;n++)(e=this._getChildAtIndex(n)).mParent=null,e.setNativePosition();for(h.NativeView_removeAllChildren(this.mNativeView),n=0;n<i;n++)(e=this._getChildAtIndex(n)).release();this.mChildren.length=0,!t&&this.mInternalChildrenContainer&&this.addChild(this.mInternalChildrenContainer),this.x4084303201354081393x()}},n.setChildrenAnchorX=function(t){if(this.mChildren)for(var e=this._getNumChildren(),i=0;i<e;i++){var n=this._getChildAtIndex(i);n!=this.mInternalChildrenContainer&&n.setAnchorX(t)}},n.setChildrenAnchorY=function(t){if(this.mChildren)for(var e=this._getNumChildren(),i=0;i<e;i++){var n=this._getChildAtIndex(i);n!=this.mInternalChildrenContainer&&n.setAnchorY(t)}},n.distributeExternalChildrenHorizontally=function(t){if(this.mChildren){var e,i=0,n=this._getNumChildren(),h=null;if(t>0)for(e=-(this.getNumVisibleExternalChildren()-1)*t*.5,i=0;i<n;i++)(h=this._getChildAtIndex(i))!=this.mInternalChildrenContainer&&h.getIsVisible()&&(h.setX(e),e+=t);else{for(e=0,t=-t,i=0;i<n;i++)(h=this._getChildAtIndex(i))!=this.mInternalChildrenContainer&&h.getIsVisible()&&(h.setLeft(e),e=h.getRight(),i<n-1&&(e+=t));var r=.5*e;for(i=0;i<n;i++)(h=this._getChildAtIndex(i)).setX(h.getX()-r)}}},n.distributeExternalChildrenVertically=function(t){if(this.mChildren){var e,i=0,n=this._getNumChildren(),h=null;if(t>0)for(e=(this.getNumVisibleExternalChildren()-1)*t*.5,i=0;i<n;i++)(h=this._getChildAtIndex(i))!=this.mInternalChildrenContainer&&h.getIsVisible()&&(h.setY(e),e-=t);else{for(e=0,t=-t,i=0;i<n;i++)(h=this._getChildAtIndex(i))!=this.mInternalChildrenContainer&&h.getIsVisible()&&(h.setTop(e),e=h.getBottom(),i<n-1&&(e-=t));var r=.5*e;for(i=0;i<n;i++)(h=this._getChildAtIndex(i)).setY(h.getY()-r)}}},n.setWidthToChildrenBounds=function(t){this.setWidth(this.getChildrenWidth()+2*t)},n.setHeightToChildrenBounds=function(t){this.setHeight(this.getChildrenHeight()+2*t)},n.setSizeToChildrenBounds=function(t,e){this.setWidthToChildrenBounds(t),this.setHeightToChildrenBounds(e)},n.getChildrenWidth=function(){if(this.mChildren&&0!=this.getNumVisibleExternalChildren()){for(var t,e=1e6,i=-1e6,n=this._getNumChildren(),h=0;h<n;h++){var r=this._getChildAtIndex(h);r!=this.mInternalChildrenContainer&&(r.getIsVisible()&&((t=r.getLeft())<e&&(e=t),(t=r.getRight())>i&&(i=t)))}return i-e}return 0},n.getChildrenHeight=function(){if(this.mChildren&&0!=this.getNumVisibleExternalChildren()){for(var t,e=1e6,i=-1e6,n=this._getNumChildren(),h=0;h<n;h++){var r=this._getChildAtIndex(h);r!=this.mInternalChildrenContainer&&(r.getIsVisible()&&((t=r.getBottom())<e&&(e=t),(t=r.getTop())>i&&(i=t)))}return i-e}return 0},n.childrenLayoutChanged=function(){this.x4084303201354081393x()},n.hasInternalChildren=function(){return this.mInternalChildrenContainer&&this.mInternalChildrenContainer.getNumChildren()>0},n.getMaxChildDepthOffset=function(){return 0},n.setDepthOffset=function(t){},n.setEnableChildrenBaseDepthOffset=function(t){this.mEnableChildrenBaseDepthOffset=t},n.setEnableChildrenSiblingDepthOffset=function(t){this.mEnableChildrenSiblingDepthOffset=t},n.updateLayout=function(t){if(t&&this.mChildren)for(var e=this._getNumChildren(),i=0;i<e;i++)this._getChildAtIndex(i).updateLayout(!0);this.x2027975365980397869x()},n.getIsActive=function(){return this.mIsActive},n.setIsActive=function(t){this.mIsActive!=t&&(this.mIsActive=t,this.mParent&&this.mParent.childrenLayoutChanged())},n.addControlListenerToHierarchy=function(t){if(this.x1782742225685011140x(t),this.mChildren)for(var e=this._getNumChildren(),i=0;i<e;i++){var n=this._getChildAtIndex(i);n!=this.mInternalChildrenContainer&&n.addControlListenerToHierarchy(t)}},n.handleMessage=function(t,e,i,n){if(this.x976210321608527258x(t,e,i),n&&this.mChildren)for(var h=this._getNumChildren(),r=0;r<h;r++){this._getChildAtIndex(r).handleMessage(t,e,i,!0)}},n.processTimeMSEC=function(t){if(this.mIsActive&&(this.x3738951541589289324x(t),null!=this.mChildren))for(var e=this._getNumChildren(),i=0;i<e;i++){this._getChildAtIndex(i).processTimeMSEC(t)}},n.getLocalRect=function(){return this.mLocalRect},n.createInternalChildrenContainer=function(){this.mInternalChildrenContainer||(this.mInternalChildrenContainer=new i(!0,this.mAppSupportFactory),this.mInternalChildrenContainer.retain(),this.mInternalChildrenContainer.setName("internalChildrenContainer"),this.mInternalChildrenContainer.setEnableChildrenBaseDepthOffset(!1),this.addChild(this.mInternalChildrenContainer))},n.getInternalChildrenContainer=function(){return this.mInternalChildrenContainer},n.setSizeToInternalChildrenBounds=function(t,e){this.setSize(this.getInternalChildrenWidth()+2*t,this.getInternalChildrenHeight()+2*e);var i=this.getInternalChildrenLeft();this.mLocalRect.mX=i;var n=this.getInternalChildrenBottom();this.mLocalRect.mY=n},n.getInternalChildrenWidth=function(){return this.mInternalChildrenContainer?this.mInternalChildrenContainer.getChildrenWidth():0},n.getInternalChildrenHeight=function(){return this.mInternalChildrenContainer?this.mInternalChildrenContainer.getChildrenHeight():0},n.getInternalChildrenLeft=function(){return this.mInternalChildrenContainer?this.mInternalChildrenContainer.getChildrenLeft():0},n.getInternalChildrenBottom=function(){return this.mInternalChildrenContainer?this.mInternalChildrenContainer.getChildrenBottom():0},n.getChildrenLeft=function(){if(this.mChildren&&0!=this.getNumVisibleExternalChildren()){for(var t,e=1e6,i=this._getNumChildren(),n=0;n<i;n++){var h=this._getChildAtIndex(n);h!=this.mInternalChildrenContainer&&(h.getIsVisible()&&(t=h.getLeft())<e&&(e=t))}return e}return 0},n.getChildrenBottom=function(){if(this.mChildren&&0!=this.getNumVisibleExternalChildren()){for(var t,e=1e6,i=this._getNumChildren(),n=0;n<i;n++){var h=this._getChildAtIndex(n);h!=this.mInternalChildrenContainer&&(h.getIsVisible()&&(t=h.getBottom())<e&&(e=t))}return e}return 0},n._getNumChildren=function(){return this.mChildren.length},n._getChildAtIndex=function(t){return this.mChildren[t]},n.setNativePosition=function(){var t=this.mX-(this.mAnchorX-.5)*this.mLocalRect.mWidth,e=this.mY-(this.mAnchorY-.5)*this.mLocalRect.mHeight;h.NativeView_setPosition(this.mNativeView,t,e)},n.setChildrenNativePosition=function(){if(this.mChildren)for(var t=this._getNumChildren(),e=0;e<t;e++){this._getChildAtIndex(e).setNativePosition()}},n.updateViewSize=function(){if(this.x1868494756939104847x(this.getWidth(),this.getHeight()),this.mChildren)for(var t=this._getNumChildren(),e=0;e<t;e++){this._getChildAtIndex(e).updateViewSize()}h.NativeView_updateNativeSize(this.getNativeView())},n.x2187205631974265155x=function(t){},n.x1868494756939104847x=function(t,e){},n.x576525523681079294x=function(){return 0},n.x1511622419390717892x=function(){return 0},n.x4191198991378693528x=function(t){},n.x1356244649591557329x=function(t){},n.x4084303201354081393x=function(){},n.x2027975365980397869x=function(){},n.x1782742225685011140x=function(t){},n.x3738951541589289324x=function(t){},n.x2766708504066152543x=function(){this.removeFromParent(),this.removeAllChildren(!0),null!==this.mChildren&&(this.mChildren=null),h.NativeView_destroy(this.mNativeView,!0),this.mNativeView=null,this.mInternalChildrenContainer&&this.mInternalChildrenContainer.release(),this.mInternalChildrenContainer=null,null!==this.mLocalRect&&(this.mLocalRect=null),t.prototype.x2766708504066152543x.call(this)},n.x4477763996529785158x=function(t){h.NativeView_setName(this.getNativeView(),t)},i}(n));i._RF.pop()}}}));System.register("chunks:///_virtual/main",["./x515279092969326509x.ts","./x704109652986445091x.ts","./x1791180833727725535x.ts","./x1594045878923188925x.ts","./x1825263265700717187x.ts","./x2680317735841221935x.ts","./x1180903263758642626x.ts","./x2751816676112477481x.ts","./x2825914500079770252x.ts","./x4472346643782045245x.ts","./x2938621194761123466x.ts","./x975618616374684578x.ts","./x3816109174930716273x.ts","./x2226225843525126927x.ts","./x2034250350103582503x.ts","./x109322611791924071x.ts","./x4475962098517098535x.ts","./x4389812616328554538x.ts","./x2937622475674817462x.ts","./x1518338894798977330x.ts","./x1390687146982484874x.ts","./x3853631986453033216x.ts","./x2826071472640425443x.ts","./x3255644122958964683x.ts","./x2636448930905443261x.ts","./x2905577634480353717x.ts","./x1654909725214686057x.ts","./x4355327619485274218x.ts","./x396704097379050657x.ts","./x1010536356951763745x.ts","./x4504664450192037614x.ts","./x3687945108292398046x.ts","./x3620510134579597724x.ts","./x1312985661297212958x.ts","./x4522452675581703348x.ts","./x3549067075061003607x.ts","./x2266070299817059446x.ts","./x4272192290603036666x.ts","./x2564479158417964948x.ts","./x1920625444352595344x.ts","./x3864923619156808642x.ts","./x2193489684581297840x.ts","./x2844149478643929343x.ts","./x1442773774411748326x.ts","./x2478886613301025450x.ts","./x2697327737977927830x.ts","./x3061436937539478368x.ts","./x3950773521023582268x.ts","./x3363722297214968445x.ts","./x3488578980907018278x.ts","./x3684445716736304272x.ts","./x2896462190815440735x.ts","./x1563246029959099938x.ts","./x2748210066315878912x.ts","./x3860921982419207728x.ts","./x500040461321591990x.ts","./x1829961367305584157x.ts","./x3933757754418977954x.ts","./x2565336835544501x.ts","./x3624803980696404420x.ts","./x3956211014191467053x.ts","./x357457879647821544x.ts","./x526139153965636318x.ts","./x4010102164439179233x.ts","./x3975905769579210931x.ts","./x3982968798538976088x.ts","./x171523377489456697x.ts","./x2839937219054016575x.ts","./x128797566098593454x.ts","./x7850470305573934x.ts","./x2234778313209895001x.ts","./x1473388099617861376x.ts","./x2327442049556200630x.ts","./x734406084208825918x.ts","./x4233089510113986857x.ts","./x2706134342423168171x.ts","./x2384331738405430424x.ts","./x2132475033604646101x.ts","./x2852667906570283554x.ts","./x1598037593311587316x.ts","./x2240197311483503982x.ts","./x2451131491315760813x.ts","./x2867445869096855490x.ts","./x455603927613475591x.ts","./x3645332506817008919x.ts","./x713925626457252070x.ts","./x3995270518114367194x.ts","./x2911010402591379538x.ts","./x2362680020733037980x.ts","./x4399705917818454294x.ts","./x2202019196389626797x.ts","./x2459974647555059934x.ts","./x2848172429188458269x.ts","./x4414577972885951283x.ts","./x95827006032380762x.ts","./x2495712160562647907x.ts","./x4082149423481207881x.ts","./x273117979158241950x.ts","./x2446198698887643760x.ts","./x2847549867856397327x.ts","./x4354672764486608119x.ts","./x626553917884485281x.ts","./x2129848421208949310x.ts","./x760432494733790579x.ts","./x1954139913922516872x.ts","./x2467032877919158634x.ts","./x334497595687909532x.ts","./x202109358152903168x.ts","./x3999020355746490672x.ts","./x2635158806370081912x.ts","./x4405506462505654100x.ts","./x3228613027168197037x.ts","./x275027197533560474x.ts","./x832182382730187518x.ts","./x2799104515848125009x.ts","./x4370363482510417528x.ts","./x4119940741088217684x.ts","./x171491166251155774x.ts","./x3929633537924788326x.ts","./x428471819423808585x.ts","./x370408543499406949x.ts","./x1712942562369706315x.ts","./x291109610367529640x.ts","./x224651144502154050x.ts","./x2568130707691349422x.ts","./x441339227243264040x.ts","./x1201515018088236679x.ts","./x4448475101681422869x.ts","./x689332512328257358x.ts","./x3654830822402979912x.ts","./x3005326795379396168x.ts","./x4514175460444622305x.ts","./x1552857805309345765x.ts","./x4381590689536211342x.ts","./x4023525633718419706x.ts","./x1524061326405894558x.ts","./x1571392179616890590x.ts","./x3306425748504801929x.ts","./x1929113275892293427x.ts","./x1192949862533275485x.ts","./x4366047524965612542x.ts","./x3145502219046978834x.ts","./x4075643488497311477x.ts","./x3427967448068253605x.ts","./x604251603548704409x.ts","./x1758453316087659781x.ts","./x892787543274557650x.ts","./x1574210240713364163x.ts","./x2097869248932025724x.ts","./x908938137131706570x.ts","./x2507407283676726775x.ts","./x4098290712086327076x.ts","./x3706003529256001588x.ts","./x1713446950433382713x.ts","./x1177161736142671045x.ts","./x1799845943152998709x.ts","./x2366092098299710912x.ts","./x1122897535151265434x.ts","./x1411759881350454687x.ts","./x1464130944625877292x.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));System.register("chunks:///_virtual/x4355327619485274218x.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d52e2kPOf9NKqZahF+9DJrQ","x4355327619485274218x",void 0);t("x4355327619485274218x",function(){function t(){}var e=t.prototype;return e.destroy=function(){},e.x4110483709474964711x=function(t,e,r,u,n){return n},e.x4007144542783852152x=function(t,e,r,u,n,o,a){return a},t}());e._RF.pop()}}}));System.register("chunks:///_virtual/x396704097379050657x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2697327737977927830x.ts"],(function(i){"use strict";var e,t,r;return{setters:[function(i){e=i.createClass},function(i){t=i.cclegacy},function(i){r=i.x2697327737977927830x}],execute:function(){t._RF.push({},"68d136DYV5EB4qEWkaKatt0","x396704097379050657x",void 0);i("x396704097379050657x",function(){function i(i,e,t,n){this.mMatrixMinos=new Array,this.mMatrixMinosBitGrid=new Array,this.mIsDestroyed=!1,this.mPieceData=i,this.mMatrixWidth=e,this.mMatrixHeight=t,this.mMatrixWidthLimit=e,this.mMatrixHeightLimit=t,this.mMatrixVisibleHeight=n;var o=e*t;for(this.mMatrixMinos.length=0;this.mMatrixMinos.length<o;)this.mMatrixMinos.push(0);this.mMatrixMinosBitGridEmptyRow=0,this.mMatrixMinosBitGridFullRow=this.mMatrixMinosBitGridEmptyRow;for(var s=0;s<e;s++)this.mMatrixMinosBitGridFullRow|=1<<s;for(this.mMatrixMinosBitGrid.length=0;this.mMatrixMinosBitGrid.length<t;)this.mMatrixMinosBitGrid.push(this.mMatrixMinosBitGridEmptyRow);this.mMatrixHighestMinoY=-1,this.mIsLivePieceActive=!1,this.mDidLivePieceLockDown=!1,this.mLivePieceTypeId=0,this.mLivePieceStartingX=0,this.mLivePieceStartingY=0,this.mLivePieceStartingFacing=0,this.mLivePieceStartingTransformId=r.x2194798655026538212x,this.mLivePieceCurrentX=0,this.mLivePieceCurrentY=0,this.mLivePieceCurrentFacing=0,this.mLivePieceCurrentTransformId=r.x2194798655026538212x,this.mAlternatePieceTypeId=0,this.mCurrentControlAction=r.x1368284773568313387x}var t=i.prototype;return t.isDestroyed=function(){return this.mIsDestroyed},t.getPieceData=function(){return this.mPieceData},t.getMatrixWidth=function(){return this.mMatrixWidth},t.getMatrixHeight=function(){return this.mMatrixHeight},t.getMatrixWidthLimit=function(){return this.mMatrixWidthLimit},t.getMatrixHeightLimit=function(){return this.mMatrixHeightLimit},t.setMatrixLimits=function(i,e,t){this.mMatrixWidthLimit=r.minInt(i,this.mMatrixWidth),this.mMatrixHeightLimit=r.minInt(e,this.mMatrixHeight),this.mMatrixVisibleHeight=e},t.handleLivePieceDidActivate=function(){this.mIsLivePieceActive=!0,this.mDidLivePieceLockDown=!1,this.setCurrentControlAction(r.x1368284773568313387x)},t.handleLivePieceWillLockDown=function(){this.mDidLivePieceLockDown=!0},t.handleLivePieceDidDeactivate=function(){this.mIsLivePieceActive=!1},t.resetStateWithLivePiece=function(i,e,t,r,n,o,s){this.clearMatrix(),this.setLivePiece(i,e,t,r,n,o,s)},t.resetStateWithCurrentLivePiece=function(){this.clearMatrix()},t.resetStateWithState=function(i){var e;this.clearMatrix(),this.mMatrixWidthLimit=i.mMatrixWidth,this.mMatrixHeightLimit=i.mMatrixHeight,this.mMatrixVisibleHeight=i.mMatrixVisibleHeight;var t=this.mMatrixMinos.length;for(e=0;e<t;e++)this.mMatrixMinos[e]=i.mMatrixMinos[e];for(t=this.mMatrixMinosBitGrid.length,e=0;e<t;e++)this.mMatrixMinosBitGrid[e]=i.mMatrixMinosBitGrid[e];this.mMatrixHighestMinoY=i.mMatrixHighestMinoY,this.mLivePieceTypeId=i.mLivePieceTypeId,this.mLivePieceStartingX=i.mLivePieceStartingX,this.mLivePieceStartingY=i.mLivePieceStartingY,this.mLivePieceStartingFacing=i.mLivePieceStartingFacing,this.mLivePieceStartingTransformId=i.mLivePieceStartingTransformId,this.mLivePieceCurrentX=i.mLivePieceCurrentX,this.mLivePieceCurrentY=i.mLivePieceCurrentY,this.mLivePieceCurrentFacing=i.mLivePieceCurrentFacing,this.mLivePieceCurrentTransformId=i.mLivePieceCurrentTransformId,this.mAlternatePieceTypeId=i.mAlternatePieceTypeId},t.setMino=function(e,t,n,o,s,a,c){var m=0;m=r.setValueInPackedBits(1,m,i.x1593469641406028991x,i.x3667659286768887783x),m=r.setValueInPackedBits(e,m,i.x952017640011879609x,i.x4355372284370419857x),m=r.setValueInPackedBits(o,m,i.x471439341001284746x,i.x3911358471588591938x),s&&(m=r.setValueInPackedBits(1,m,i.x3482140384110936717x,i.x2296081528420565859x)),a&&(m=r.setValueInPackedBits(1,m,i.x3010527718123524422x,i.x705573285151595499x)),c&&(m=r.setValueInPackedBits(1,m,i.x318047571838857899x,i.x604077271205520556x));var h=r.computeGridIndex(t,n,this.mMatrixWidth);this.mMatrixMinos[h]=m,this.mMatrixMinosBitGrid[n]=this.mMatrixMinosBitGrid[n]|1<<t,0!=e&&n>this.mMatrixHighestMinoY&&(this.mMatrixHighestMinoY=n)},t.doesMinoExist=function(i,e){return!(i<0)&&(!(i>=this.mMatrixWidth)&&(!(e<0)&&(!(e>=this.mMatrixHeight)&&0!=this.mMatrixMinos[r.computeGridIndex(i,e,this.mMatrixWidth)])))},t.getCurrentControlAction=function(){return this.mCurrentControlAction},t.setCurrentControlAction=function(i){this.mCurrentControlAction=i},t.isLivePieceActive=function(){return this.mIsLivePieceActive},t.didLivePieceLockDown=function(){return this.mDidLivePieceLockDown},t.setLivePiece=function(i,e,t,r,n,o,s){this.mLivePieceTypeId=i,this.mLivePieceStartingX=e,this.mLivePieceStartingY=t,this.mLivePieceStartingFacing=r,this.mLivePieceStartingTransformId=this.mPieceData.computeTransformId(e,t,r),this.mLivePieceCurrentX=n,this.mLivePieceCurrentY=o,this.mLivePieceCurrentFacing=s,this.mLivePieceCurrentTransformId=this.mPieceData.computeTransformId(n,o,s)},t.getLivePieceTypeId=function(){return this.mLivePieceTypeId},t.getLivePieceStartingTransform=function(){return this.mLivePieceStartingTransformId},t.setLivePieceCurrentTransform=function(i){this.mLivePieceCurrentX=this.mPieceData.computeXFromTransformId(i),this.mLivePieceCurrentY=this.mPieceData.computeYFromTransformId(i),this.mLivePieceCurrentFacing=r.computeFacingFromTransformId(i),this.mLivePieceCurrentTransformId=i},t.getLivePieceCurrentX=function(){return this.mLivePieceCurrentX},t.getLivePieceCurrentY=function(){return this.mLivePieceCurrentY},t.getLivePieceCurrentFacing=function(){return this.mLivePieceCurrentFacing},t.getLivePieceCurrentTransform=function(){return this.mLivePieceCurrentTransformId},t.doesLivePieceTouchBelow=function(){return this.doesPieceTouchBelow(this.mPieceData.getPiece(this.mLivePieceTypeId,this.mLivePieceCurrentTransformId))},t.getTSpinTypeForLivePieceCurrentTransform=function(i){if(this.mLivePieceTypeId!=r.x2563343360109526899x)return r.x2762047832241342883x;if(0==i)return r.x2762047832241342883x;var e=!1,t=this.doesMinoExist(this.mLivePieceCurrentX+1,this.mLivePieceCurrentY+1),n=this.doesMinoExist(this.mLivePieceCurrentX+1,this.mLivePieceCurrentY-1),o=this.doesMinoExist(this.mLivePieceCurrentX-1,this.mLivePieceCurrentY-1),s=this.doesMinoExist(this.mLivePieceCurrentX-1,this.mLivePieceCurrentY+1);if(0==this.mLivePieceCurrentY)this.mLivePieceCurrentFacing==r.x353242128309914033x&&(e=t||s);else if(0==this.mLivePieceCurrentX)this.mLivePieceCurrentFacing==r.x2310622958375835533x&&(e=t||n);else if(this.mLivePieceCurrentX==this.mMatrixWidth-1)this.mLivePieceCurrentFacing==r.x1602664510624180272x&&(e=s||o);else{var a=s&&t&&n,c=t&&n&&o,m=n&&o&&s,h=o&&s&&t;switch(this.mLivePieceCurrentFacing){case r.x353242128309914033x:if(a||h)return r.x3109280748125391346x;e=c||m;break;case r.x2310622958375835533x:if(a||c)return r.x3109280748125391346x;e=h||m;break;case r.x907260158049481623x:if(c||m)return r.x3109280748125391346x;e=a||h;break;case r.x1602664510624180272x:if(h||m)return r.x3109280748125391346x;e=a||c}}if(!e)return r.x2762047832241342883x;switch(i){case 4:return r.x2762047832241342883x;case 5:return r.x3109280748125391346x;default:return r.x1235464930560725342x}},t.setAlternatePieceTypeId=function(i){this.mAlternatePieceTypeId=i},t.getAlternatePieceTypeId=function(){return this.mAlternatePieceTypeId},t.getTransformForControlAction=function(i,e){var t=this.mPieceData.getPiece(this.mLivePieceTypeId,i);if(!t)return r.x2194798655026538212x;var n=null;switch(e){case r.x1163264438382801197x:if(n=this.mPieceData.getPiece(this.mLivePieceTypeId,t.mPerTransformActionToTransformIds[r.x2109883774012417312x]),!this.doesPieceCollide(n))return n.mTransformId;break;case r.x1148181501057868572x:if(n=this.mPieceData.getPiece(this.mLivePieceTypeId,t.mPerTransformActionToTransformIds[r.x727011725934177096x]),!this.doesPieceCollide(n))return n.mTransformId;break;case r.x1754747052250615582x:if(n=this.mPieceData.getPiece(this.mLivePieceTypeId,t.mPerTransformActionToTransformIds[r.x2122265053032977260x]),!this.doesPieceCollide(n))return n.mTransformId;break;case r.x3037978297644400982x:case r.x3627316749632917279x:case r.x1045657441224132560x:case r.x1632269064637221348x:var o=0,s=-1;switch(e){case r.x3037978297644400982x:o=r.x2753402191070231946x,s=r.x2753402191070231946x;break;case r.x3627316749632917279x:o=r.x2825991636264176147x,s=r.x2825991636264176147x;break;case r.x1045657441224132560x:s=(o=r.x2753402191070231946x)+t.mPieceDefinition.getNumRotationPointSets()-1;break;case r.x1632269064637221348x:s=(o=r.x2825991636264176147x)+t.mPieceDefinition.getNumRotationPointSets()-1}for(var a=o;a<=s;a++)if(n=this.mPieceData.getPiece(this.mLivePieceTypeId,t.mPerTransformActionToTransformIds[a]),!this.doesPieceCollide(n))return n.mTransformId;break;case r.x3093225339302193578x:for(n=t;n&&!this.doesPieceTouchBelow(n);)n=this.mPieceData.getPiece(this.mLivePieceTypeId,n.mPerTransformActionToTransformIds[r.x2122265053032977260x]);if(!this.doesPieceCollide(n))return n.mTransformId}return r.x2194798655026538212x},t.getTransformForTransformAction=function(i,e){var t=this.mPieceData.getPiece(this.mLivePieceTypeId,i);if(!t)return r.x2194798655026538212x;var n=this.mPieceData.getPiece(this.mLivePieceTypeId,t.mPerTransformActionToTransformIds[e]);return this.doesPieceCollide(n)?r.x2194798655026538212x:n.mTransformId},t.getTransformActionForControlAction=function(i,e,t){var n,o=this.mPieceData.getPiece(this.mLivePieceTypeId,i);if(!o)return r.x2194798655026538212x;var s=0,a=-1;switch(t){case r.x1163264438382801197x:s=r.x2109883774012417312x,a=r.x2109883774012417312x;break;case r.x1148181501057868572x:s=r.x727011725934177096x,a=r.x727011725934177096x;break;case r.x1754747052250615582x:s=r.x2122265053032977260x,a=r.x2122265053032977260x;break;case r.x3037978297644400982x:s=r.x2753402191070231946x,a=r.x2753402191070231946x;break;case r.x3627316749632917279x:s=r.x2825991636264176147x,a=r.x2825991636264176147x;break;case r.x1045657441224132560x:s=r.x2753402191070231946x,a=r.x3039526374878809407x;break;case r.x1632269064637221348x:s=r.x2825991636264176147x,a=r.x1448237707244317054x;break;case r.x3093225339302193578x:return r.x1683198617708317286x}for(n=s;n<=a;n++)if(e==o.mPerTransformActionToTransformIds[n])return n;for(n=s;n<=a;n++)if(this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,e,o.mPerTransformActionToTransformIds[n]))return n;return r.x3045541000723196640x},t.getTransformAction=function(i,e){var t,n=this.mPieceData.getPiece(this.mLivePieceTypeId,i);if(!n)return r.x2194798655026538212x;for(t=0;t<r.x1841009918890461404x;t++)if(e==n.mPerTransformActionToTransformIds[t])return t;for(t=0;t<r.x1841009918890461404x;t++)if(this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,e,n.mPerTransformActionToTransformIds[t]))return t;return r.x3045541000723196640x},t.getTransformActionSteps=function(i,e,t,r){if(i==e)return 0;if(!this.mPieceData.isTransformValid(this.mLivePieceTypeId,i))return-1;if(!this.mPieceData.isTransformValid(this.mLivePieceTypeId,e))return-1;for(var n=i,o=0;o<r;o++){if((n=this.getTransformForTransformAction(n,t))==e)return o+1;if(!this.mPieceData.isTransformValid(this.mLivePieceTypeId,n))return-1;if(n==i)return-1}return-1},t.generateActionTransformPathWithActions=function(i,e,t){t&&(t.length=0);var n,o=i,s=this.mPieceData.getPiece(this.mLivePieceTypeId,o);if(!s)return r.x2194798655026538212x;for(var a=e.length,c=0;c<a;c++){if((n=e[c])<r.x1683198617708317286x)o=s.mPerTransformActionToTransformIds[n];else{if(n!=r.x1683198617708317286x)return r.x2194798655026538212x;for(;!this.doesPieceTouchBelow(s);)if(o=s.mPerTransformActionToTransformIds[r.x2122265053032977260x],!(s=this.mPieceData.getPiece(this.mLivePieceTypeId,o)))return t&&(t.length=0),r.x2194798655026538212x}if(!(s=this.mPieceData.getPiece(this.mLivePieceTypeId,o)))return t&&(t.length=0),r.x2194798655026538212x;if(this.doesPieceCollide(s))return t&&(t.length=0),r.x2194798655026538212x;t&&(t.push(n),t.push(o))}return o},t.doesPieceTouchBelow=function(i){if(i){if(0==i.mMinMinoY)return!0;var e=this.mPieceData.getPiece(this.mLivePieceTypeId,i.mPerTransformActionToTransformIds[r.x2122265053032977260x]);return this.doesPieceCollide(e)}return!1},t.doesPieceCollide=function(i){if(!i)return!0;if(i.mMaxMinoX>=this.mMatrixWidthLimit||i.mMaxMinoY>=this.mMatrixHeightLimit)return!0;for(var e=0;e<i.mNumMinos;e++)if(0!=this.mMatrixMinos[i.mMinosXY[e]])return!0;return!1},t.isTransformVisible=function(i){var e=this.mPieceData.getPiece(this.mLivePieceTypeId,i);return!!e&&e.isVisible(this.mMatrixVisibleHeight)},t.getEndingRotationPointForPath=function(i){for(var e,t,n,o=r.x2194798655026538212x,s=0,a=~~(i.length/2),c=0;c<a;c++){switch(e=i[2*c],t=i[2*c+1],e){case r.x2753402191070231946x:case r.x1049051644612241512x:case r.x851740989219005917x:case r.x4474722712933573683x:case r.x3039526374878809407x:case r.x2825991636264176147x:case r.x3204944895268573036x:case r.x2061096115069916713x:case r.x362155996399456565x:case r.x1448237707244317054x:n=r.getRotationPointForTransformAction(e),5==s?1!=n&&(s=n):s=n;break;default:this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,o,t)||(s=0)}o=t}return s},t.getSoftDropStepsForPath=function(i,e,t){var n,o,s=this.mPieceData.getPiece(this.mLivePieceTypeId,e);s?(n=s.mMinMinoY,o=s.mY):(n=this.mMatrixHeight,o=this.mMatrixHeight),t<o&&(o=t);for(var a=0,c=~~(i.length/2),m=0;m<c;m++)if(i[2*m]==r.x2122265053032977260x){var h=i[2*m+1];(s=this.mPieceData.getPiece(this.mLivePieceTypeId,h))&&s.mMinMinoY<n&&s.mY<o&&a++;var u=this.mPieceData.computeYFromTransformId(h);u<o&&(o=u)}return a},t.getHardDropStepsForPath=function(i,e){var t,n=this.mPieceData.getPiece(this.mLivePieceTypeId,e);t=n?n.mY:this.mMatrixHeight;for(var o=~~(i.length/2)-1;o>=0;o--)if(i[2*o]==r.x1683198617708317286x){var s=i[2*o-1],a=this.mPieceData.computeYFromTransformId(s);a>t&&(a=t);var c=i[2*o+1];return a-this.mPieceData.computeYFromTransformId(c)}return 0},t.clearMatrix=function(){var i,e=this.mMatrixMinos.length;for(i=0;i<e;i++)this.mMatrixMinos[i]=0;for(e=this.mMatrixMinosBitGrid.length,i=0;i<e;i++)this.mMatrixMinosBitGrid[i]=this.mMatrixMinosBitGridEmptyRow;this.mMatrixHighestMinoY=-1},t.destroy=function(){this.isDestroyed()||(this.mIsDestroyed=!0)},e(i,null,[{key:"kMinoValueNumBits_exists",get:function(){return 1}},{key:"kMinoValueNumBits_typeId",get:function(){return 8}},{key:"kMinoValueNumBits_stuckDirections",get:function(){return 8}},{key:"kMinoValueNumBits_isStickyActive",get:function(){return 1}},{key:"kMinoValueNumBits_isGravitic",get:function(){return 1}},{key:"kMinoValueNumBits_isClearable",get:function(){return 1}},{key:"x3667659286768887783x",get:function(){return 0}},{key:"x4355372284370419857x",get:function(){return 1}},{key:"x3911358471588591938x",get:function(){return 9}},{key:"x2296081528420565859x",get:function(){return 17}},{key:"x705573285151595499x",get:function(){return 18}},{key:"x604077271205520556x",get:function(){return 19}},{key:"x1593469641406028991x",get:function(){return 1}},{key:"x952017640011879609x",get:function(){return 510}},{key:"x471439341001284746x",get:function(){return 130560}},{key:"x3482140384110936717x",get:function(){return 131072}},{key:"x3010527718123524422x",get:function(){return 262144}},{key:"x318047571838857899x",get:function(){return 524288}}]),i}());t._RF.pop()}}}));System.register("chunks:///_virtual/x1010536356951763745x.ts",["cc"],(function(i){"use strict";var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"d36b49hyA9MKJr38UHHlL89","x1010536356951763745x",void 0);i("x1010536356951763745x",(function(){this.mX=0,this.mY=0,this.mStickyBits=0}));t._RF.pop()}}}));System.register("chunks:///_virtual/x4504664450192037614x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2697327737977927830x.ts"],(function(i){"use strict";var t,n,r;return{setters:[function(i){t=i.createClass},function(i){n=i.cclegacy},function(i){r=i.x2697327737977927830x}],execute:function(){n._RF.push({},"4cccd8IbENF7b4dFUJ8QD4E","x4504664450192037614x",void 0);i("x4504664450192037614x",function(){function i(t,n,s,o,e,m){this.mMinosXY=new Array(i.x1320927174794097198x),this.mMinosBitGrid=new Array(i.x4366967585160252075x),this.mMinosStickyBits=new Array(i.x1320927174794097198x),this.mPerTransformActionToTransformIds=new Array(i.x2997614795073960747x),this.mEquivalentTransformIds=new Array(i.x59451580559095456x),this.mPieceDefinition=t,this.mMatrixWidth=o,this.mX=n,this.mY=s,this.mFacing=m,this.mTransformId=r.computeTransformId(n,s,o,e,m),this.mNumMinos=0,this.mMinMinoX=1e6,this.mMaxMinoX=-1e6,this.mMinMinoY=1e6,this.mMaxMinoY=-1e6;var a=0;for(a=0;a<i.x1320927174794097198x;a++)this.mMinosXY[a]=0;for(a=0;a<i.x4366967585160252075x;a++)this.mMinosBitGrid[a]=0;for(a=0;a<r.x1841009918890461404x;a++)this.mPerTransformActionToTransformIds[a]=r.x2194798655026538212x;for(a=0;a<i.x59451580559095456x;a++)this.mEquivalentTransformIds[a]=r.x2194798655026538212x;if(this.mNumEquivalentTransformIds=0,t){var M,u=t.getNumMinos();for(a=0;a<u;a++){var h=0,c=0,f=(M=t.getMino(a)).mStickyBits;switch(m){case r.x353242128309914033x:h=M.mX,c=M.mY;break;case r.x2310622958375835533x:h=M.mY,c=-M.mX,f=r.rotateDirections90(f,!0);break;case r.x907260158049481623x:h=-M.mX,c=-M.mY,f=r.rotateDirections90(f,!0),f=r.rotateDirections90(f,!0);break;case r.x1602664510624180272x:h=-M.mY,c=M.mX,f=r.rotateDirections90(f,!0),f=r.rotateDirections90(f,!0),f=r.rotateDirections90(f,!0)}this.addMino(n+h,s+c,f)}}}var n=i.prototype;return n.addEquivalentTransformId=function(t){this.isEquivalentTransformId(t)||this.mNumEquivalentTransformIds>=i.x59451580559095456x||(this.mEquivalentTransformIds[this.mNumEquivalentTransformIds]=t,this.mNumEquivalentTransformIds++)},n.isEquivalentTransformId=function(i){for(var t=0;t<this.mNumEquivalentTransformIds;t++)if(this.mEquivalentTransformIds[t]==i)return!0;return!1},n.hasEquivalenceForFacing=function(i){for(var t=0;t<this.mNumEquivalentTransformIds;t++)if(r.computeFacingFromTransformId(this.mEquivalentTransformIds[t])==i)return!0;return!1},n.hasEquivalanceForX=function(i){if(this.mX==i)return!0;for(var t=0;t<this.mNumEquivalentTransformIds;t++)if(r.computeXFromTransformId(this.mEquivalentTransformIds[t],this.mMatrixWidth,0)==i)return!0;return!1},n.getMinoXInPiece=function(i){return this.getMinoXInMatrix(i)-this.mX},n.getMinoYInPiece=function(i){return this.getMinoYInMatrix(i)-this.mY},n.getMinoXInMatrix=function(i){return i>=0&&i<this.mNumMinos?r.computeXFromGridIndex(this.mMinosXY[i],this.mMatrixWidth):0},n.getMinoYInMatrix=function(i){return i>=0&&i<this.mNumMinos?r.computeYFromGridIndex(this.mMinosXY[i],this.mMatrixWidth):0},n.getNumRows=function(){return this.mMaxMinoY-this.mMinMinoY+1},n.getRowYInMatrix=function(i){return this.mMinMinoY+i},n.getRowMinXInMatrix=function(i){for(var t=this.getRowYInMatrix(i),n=this.mMinMinoX;n<=this.mMaxMinoX;n++)if(this.isMatrixCellOccupied(n,t))return n;return this.mMinMinoX},n.getRowMaxXInMatrix=function(i){for(var t=this.getRowYInMatrix(i),n=this.mMaxMinoX;n>=this.mMinMinoX;n--)if(this.isMatrixCellOccupied(n,t))return n;return this.mMaxMinoX},n.getNumColumns=function(){return this.mMaxMinoX-this.mMinMinoX+1},n.getColumnXInMatrix=function(i){return this.mMinMinoX+i},n.getColumnMinYInMatrix=function(i){for(var t=this.getColumnXInMatrix(i),n=this.mMinMinoY;n<=this.mMaxMinoY;n++)if(this.isMatrixCellOccupied(t,n))return n;return this.mMinMinoY},n.getColumnMaxYInMatrix=function(i){for(var t=this.getColumnXInMatrix(i),n=this.mMaxMinoY;n>=this.mMinMinoY;n--)if(this.isMatrixCellOccupied(t,n))return n;return this.mMaxMinoY},n.isMatrixCellOccupied=function(t,n){var r=1<<t,s=n-this.mY+i.x1356395418454848719x;return 0!=(this.mMinosBitGrid[s]&r)},n.isVisible=function(i){return this.mMinMinoY<i},n.getMinoStickyBits=function(i){return i>=0&&i<this.mNumMinos?this.mMinosStickyBits[i]:0},n.addMino=function(t,n,s){this.mNumMinos>=i.x1320927174794097198x||(this.mMinosXY[this.mNumMinos]=r.computeGridIndex(t,n,this.mMatrixWidth),this.mMinosBitGrid[n-this.mY+i.x1356395418454848719x]|=1<<t,this.mMinMinoX=r.minInt(this.mMinMinoX,t),this.mMaxMinoX=r.maxInt(this.mMaxMinoX,t),this.mMinMinoY=r.minInt(this.mMinMinoY,n),this.mMaxMinoY=r.maxInt(this.mMaxMinoY,n),this.mLocalCenterX_FXPT=r.FXPTFromInt(this.mMinMinoX)+r.FXPTDivide(r.FXPTFromInt(this.mMaxMinoX+1)-r.FXPTFromInt(this.mMinMinoX),r.FXPTFromInt(2))-r.FXPTFromInt(this.mX),this.mLocalCenterY_FXPT=r.FXPTFromInt(this.mMinMinoY)+r.FXPTDivide(r.FXPTFromInt(this.mMaxMinoY+1)-r.FXPTFromInt(this.mMinMinoY),r.FXPTFromInt(2))-r.FXPTFromInt(this.mY),this.mMinosStickyBits[this.mNumMinos]=s,this.mNumMinos++)},t(i,null,[{key:"x1320927174794097198x",get:function(){return 4}},{key:"x4366967585160252075x",get:function(){return 5}},{key:"x1356395418454848719x",get:function(){return 2}},{key:"x2997614795073960747x",get:function(){return 14}},{key:"x59451580559095456x",get:function(){return 3}}]),i}());n._RF.pop()}}}));System.register("chunks:///_virtual/x3687945108292398046x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3620510134579597724x.ts","./x2697327737977927830x.ts"],(function(i){"use strict";var e,t,n,d;return{setters:[function(i){e=i.createClass},function(i){t=i.cclegacy},function(i){n=i.x3620510134579597724x},function(i){d=i.x2697327737977927830x}],execute:function(){t._RF.push({},"3c398Hn4xxBKKak5hdMyjye","x3687945108292398046x",void 0);i("x3687945108292398046x",function(){function i(i,e){this.mPieceDefinitions=new Array,this.mIsDestroyed=!1,this.mMatrixWidth=i,this.mMatrixHeight=e,this.mMaxNumTransforms=d.computeTransformId(i-1,e-1,this.mMatrixWidth,0,d.x1602664510624180272x)+1,this.mCachedPieceDefinition=null}i.canGetSharedStandardPieceData=function(){return i.sSharedStandardPieceDataState!=i.x2975307774735626088x},i.getSharedStandardPieceData=function(e,t,n){return!i.sSharedStandardPieceData||i.sSharedStandardPieceDataMatrixWidth==e&&i.sSharedStandardPieceDataMatrixHeight==t&&i.sSharedStandardPieceDataStandardPieceDefinitionsType==n||i.destroySharedStandardPieceData(),i.sSharedStandardPieceData||(i.sSharedStandardPieceDataState=i.x2975307774735626088x,i.sSharedStandardPieceData=new i(e,t),i.sSharedStandardPieceDataMatrixWidth=e,i.sSharedStandardPieceDataMatrixHeight=t,i.sSharedStandardPieceDataStandardPieceDefinitionsType=n,i.sSharedStandardPieceData.addStandardPieceDefinitions(n),i.sSharedStandardPieceData.processPieceDefinitions(),i.sSharedStandardPieceDataState=i.x3672939072462639870x),i.sSharedStandardPieceData},i.destroySharedStandardPieceData=function(){i.sSharedStandardPieceData&&(i.sSharedStandardPieceData.destroy(),null!==i.sSharedStandardPieceData&&(i.sSharedStandardPieceData=null),i.sSharedStandardPieceDataMatrixWidth=0,i.sSharedStandardPieceDataMatrixHeight=0,i.sSharedStandardPieceDataStandardPieceDefinitionsType=0,i.sSharedStandardPieceDataState=i.x2025417368573380261x)};var t=i.prototype;return t.isDestroyed=function(){return this.mIsDestroyed},t.addStandardPieceDefinitions=function(e){switch(e){case i.x4521910664595926590x:case i.x2454943565429604121x:this.addPieceDefinition("I",d.x2640432151801765044x),this.addPieceDefinitionMino(d.x2640432151801765044x,0,0),this.addPieceDefinitionMino(d.x2640432151801765044x,1,0),this.addPieceDefinitionMino(d.x2640432151801765044x,2,0),this.addPieceDefinitionMino(d.x2640432151801765044x,-1,0),this.addPieceDefinitionRotationPointSet(d.x2640432151801765044x,0,0,1,0,1,-1,0,-1),this.addPieceDefinitionRotationPointSet(d.x2640432151801765044x,1,0,0,0,-1,-1,0,-1),this.addPieceDefinitionRotationPointSet(d.x2640432151801765044x,-2,0,0,0,2,-1,0,-1),this.addPieceDefinitionRotationPointSet(d.x2640432151801765044x,1,0,0,-1,-1,0,0,1),this.addPieceDefinitionRotationPointSet(d.x2640432151801765044x,-2,0,0,2,2,0,0,-2),this.setPieceDefinitionRotationalSymmetry(d.x2640432151801765044x,d.x967047132275585775x,1,0),this.addPieceDefinition("J",d.x3371115734898663512x),this.addPieceDefinitionMino(d.x3371115734898663512x,0,0),this.addPieceDefinitionMino(d.x3371115734898663512x,-1,0),this.addPieceDefinitionMino(d.x3371115734898663512x,1,0),this.addPieceDefinitionMino(d.x3371115734898663512x,-1,1),this.addPieceDefinitionRotationPointSet(d.x3371115734898663512x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(d.x3371115734898663512x,0,0,-1,0,0,0,1,0),this.addPieceDefinitionRotationPointSet(d.x3371115734898663512x,0,0,-1,1,0,0,1,1),this.addPieceDefinitionRotationPointSet(d.x3371115734898663512x,0,0,0,-2,0,0,0,-2),this.addPieceDefinitionRotationPointSet(d.x3371115734898663512x,0,0,-1,-2,0,0,1,-2),this.setPieceDefinitionRotationalSymmetry(d.x3371115734898663512x,d.x4008812685520917032x,0,0),this.addPieceDefinition("L",d.x1211649191952402875x),this.addPieceDefinitionMino(d.x1211649191952402875x,0,0),this.addPieceDefinitionMino(d.x1211649191952402875x,1,0),this.addPieceDefinitionMino(d.x1211649191952402875x,-1,0),this.addPieceDefinitionMino(d.x1211649191952402875x,1,1),this.addPieceDefinitionRotationPointSet(d.x1211649191952402875x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(d.x1211649191952402875x,0,0,-1,0,0,0,1,0),this.addPieceDefinitionRotationPointSet(d.x1211649191952402875x,0,0,-1,1,0,0,1,1),this.addPieceDefinitionRotationPointSet(d.x1211649191952402875x,0,0,0,-2,0,0,0,-2),this.addPieceDefinitionRotationPointSet(d.x1211649191952402875x,0,0,-1,-2,0,0,1,-2),this.setPieceDefinitionRotationalSymmetry(d.x1211649191952402875x,d.x4008812685520917032x,0,0),this.addPieceDefinition("O",d.x4298602585230304219x),this.addPieceDefinitionMino(d.x4298602585230304219x,0,0),this.addPieceDefinitionMino(d.x4298602585230304219x,1,0),this.addPieceDefinitionMino(d.x4298602585230304219x,0,1),this.addPieceDefinitionMino(d.x4298602585230304219x,1,1),this.addPieceDefinitionRotationPointSet(d.x4298602585230304219x,0,0,0,1,1,1,1,0),this.setPieceDefinitionRotationalSymmetry(d.x4298602585230304219x,d.x2231341302153361616x,0,1),this.addPieceDefinition("S",d.x1153257188054369495x),this.addPieceDefinitionMino(d.x1153257188054369495x,0,0),this.addPieceDefinitionMino(d.x1153257188054369495x,0,1),this.addPieceDefinitionMino(d.x1153257188054369495x,-1,0),this.addPieceDefinitionMino(d.x1153257188054369495x,1,1),this.addPieceDefinitionRotationPointSet(d.x1153257188054369495x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(d.x1153257188054369495x,0,0,-1,0,0,0,1,0),this.addPieceDefinitionRotationPointSet(d.x1153257188054369495x,0,0,-1,1,0,0,1,1),this.addPieceDefinitionRotationPointSet(d.x1153257188054369495x,0,0,0,-2,0,0,0,-2),this.addPieceDefinitionRotationPointSet(d.x1153257188054369495x,0,0,-1,-2,0,0,1,-2),this.setPieceDefinitionRotationalSymmetry(d.x1153257188054369495x,d.x967047132275585775x,0,1),this.addPieceDefinition("T",d.x2563343360109526899x),this.addPieceDefinitionMino(d.x2563343360109526899x,0,0),this.addPieceDefinitionMino(d.x2563343360109526899x,0,1),this.addPieceDefinitionMino(d.x2563343360109526899x,-1,0),this.addPieceDefinitionMino(d.x2563343360109526899x,1,0),this.addPieceDefinitionRotationPointSet(d.x2563343360109526899x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(d.x2563343360109526899x,0,0,-1,0,0,0,1,0),this.addPieceDefinitionRotationPointSet(d.x2563343360109526899x,0,0,-1,1,0,0,1,1),this.addPieceDefinitionRotationPointSet(d.x2563343360109526899x,0,0,0,-2,0,0,0,-2),this.addPieceDefinitionRotationPointSet(d.x2563343360109526899x,0,0,-1,-2,0,0,1,-2),this.setPieceDefinitionRotationalSymmetry(d.x2563343360109526899x,d.x4008812685520917032x,0,0),this.addPieceDefinition("Z",d.x2162197462838643576x),this.addPieceDefinitionMino(d.x2162197462838643576x,0,0),this.addPieceDefinitionMino(d.x2162197462838643576x,0,1),this.addPieceDefinitionMino(d.x2162197462838643576x,1,0),this.addPieceDefinitionMino(d.x2162197462838643576x,-1,1),this.addPieceDefinitionRotationPointSet(d.x2162197462838643576x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(d.x2162197462838643576x,0,0,-1,0,0,0,1,0),this.addPieceDefinitionRotationPointSet(d.x2162197462838643576x,0,0,-1,1,0,0,1,1),this.addPieceDefinitionRotationPointSet(d.x2162197462838643576x,0,0,0,-2,0,0,0,-2),this.addPieceDefinitionRotationPointSet(d.x2162197462838643576x,0,0,-1,-2,0,0,1,-2),this.setPieceDefinitionRotationalSymmetry(d.x2162197462838643576x,d.x967047132275585775x,0,1),e==i.x2454943565429604121x&&(this.addPieceDefinition("I3",d.x2282177522225822300x),this.addPieceDefinitionMino(d.x2282177522225822300x,0,0),this.addPieceDefinitionMino(d.x2282177522225822300x,1,0),this.addPieceDefinitionMino(d.x2282177522225822300x,-1,0),this.addPieceDefinitionRotationPointSet(d.x2282177522225822300x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(d.x2282177522225822300x,-1,0,0,0,1,0,0,0),this.addPieceDefinitionRotationPointSet(d.x2282177522225822300x,1,0,0,0,-1,0,0,0),this.addPieceDefinitionRotationPointSet(d.x2282177522225822300x,0,0,0,-1,0,1,0,0),this.addPieceDefinitionRotationPointSet(d.x2282177522225822300x,0,0,0,1,0,-1,0,0),this.setPieceDefinitionRotationalSymmetry(d.x2282177522225822300x,d.x967047132275585775x,0,0),this.addPieceDefinition("J3",d.x351576513181277538x),this.addPieceDefinitionMino(d.x351576513181277538x,0,0),this.addPieceDefinitionMino(d.x351576513181277538x,0,1),this.addPieceDefinitionMino(d.x351576513181277538x,-1,0),this.addPieceDefinitionRotationPointSet(d.x351576513181277538x,0,0,-1,0,-1,1,0,1),this.addPieceDefinitionRotationPointSet(d.x351576513181277538x,0,0,-1,1,0,2,1,1),this.addPieceDefinitionRotationPointSet(d.x351576513181277538x,1,1,0,0,-1,1,0,2),this.setPieceDefinitionRotationalSymmetry(d.x351576513181277538x,d.x4008812685520917032x,0,0),this.addPieceDefinition("L3",d.x3294734154738425530x),this.addPieceDefinitionMino(d.x3294734154738425530x,0,0),this.addPieceDefinitionMino(d.x3294734154738425530x,0,1),this.addPieceDefinitionMino(d.x3294734154738425530x,1,0),this.addPieceDefinitionRotationPointSet(d.x3294734154738425530x,0,0,0,1,1,1,1,0),this.addPieceDefinitionRotationPointSet(d.x3294734154738425530x,0,0,-1,1,0,2,1,1),this.addPieceDefinitionRotationPointSet(d.x3294734154738425530x,-1,1,0,2,1,1,0,0),this.setPieceDefinitionRotationalSymmetry(d.x3294734154738425530x,d.x4008812685520917032x,0,0),this.addPieceDefinition("I2",d.x3348926169621623293x),this.addPieceDefinitionMino(d.x3348926169621623293x,0,0),this.addPieceDefinitionMino(d.x3348926169621623293x,1,0),this.addPieceDefinitionRotationPointSet(d.x3348926169621623293x,0,0,1,0,1,-1,0,-1),this.addPieceDefinitionRotationPointSet(d.x3348926169621623293x,0,0,1,1,2,0,1,-1),this.addPieceDefinitionRotationPointSet(d.x3348926169621623293x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(d.x3348926169621623293x,0,0,0,1,1,0,1,1),this.setPieceDefinitionRotationalSymmetry(d.x3348926169621623293x,d.x967047132275585775x,1,0),this.addPieceDefinition("I1",d.x1327550898746693554x),this.addPieceDefinitionMino(d.x1327550898746693554x,0,0),this.addPieceDefinitionRotationPointSet(d.x1327550898746693554x,0,0,0,0,0,0,0,0),this.setPieceDefinitionRotationalSymmetry(d.x1327550898746693554x,d.x2231341302153361616x,0,0));break;case i.x4036138638333125400x:this.addPieceDefinition("I",d.x2640432151801765044x),this.addPieceDefinitionMino(d.x2640432151801765044x,0,0),this.addPieceDefinitionMino(d.x2640432151801765044x,1,0),this.addPieceDefinitionMino(d.x2640432151801765044x,-1,0),this.addPieceDefinitionMino(d.x2640432151801765044x,-2,0),this.addPieceDefinitionRotationPointSet(d.x2640432151801765044x,1,0,0,-1,0,0,0,0),this.setPieceDefinitionRotationalSymmetry(d.x2640432151801765044x,d.x967047132275585775x,1,0),this.addPieceDefinition("J",d.x3371115734898663512x),this.addPieceDefinitionMino(d.x3371115734898663512x,0,0),this.addPieceDefinitionMino(d.x3371115734898663512x,-1,0),this.addPieceDefinitionMino(d.x3371115734898663512x,1,0),this.addPieceDefinitionMino(d.x3371115734898663512x,-1,1),this.addPieceDefinitionRotationPointSet(d.x3371115734898663512x,0,0,0,0,0,0,0,0),this.setPieceDefinitionRotationalSymmetry(d.x3371115734898663512x,d.x4008812685520917032x,0,0),this.addPieceDefinition("L",d.x1211649191952402875x),this.addPieceDefinitionMino(d.x1211649191952402875x,0,0),this.addPieceDefinitionMino(d.x1211649191952402875x,1,0),this.addPieceDefinitionMino(d.x1211649191952402875x,-1,0),this.addPieceDefinitionMino(d.x1211649191952402875x,1,1),this.addPieceDefinitionRotationPointSet(d.x1211649191952402875x,0,0,0,0,0,0,0,0),this.setPieceDefinitionRotationalSymmetry(d.x1211649191952402875x,d.x4008812685520917032x,0,0),this.addPieceDefinition("O",d.x4298602585230304219x),this.addPieceDefinitionMino(d.x4298602585230304219x,0,0),this.addPieceDefinitionMino(d.x4298602585230304219x,-1,0),this.addPieceDefinitionMino(d.x4298602585230304219x,0,1),this.addPieceDefinitionMino(d.x4298602585230304219x,-1,1),this.addPieceDefinitionRotationPointSet(d.x4298602585230304219x,1,-1,0,-1,0,0,1,0),this.setPieceDefinitionRotationalSymmetry(d.x4298602585230304219x,d.x2231341302153361616x,0,1),this.addPieceDefinition("S",d.x1153257188054369495x),this.addPieceDefinitionMino(d.x1153257188054369495x,0,0),this.addPieceDefinitionMino(d.x1153257188054369495x,0,1),this.addPieceDefinitionMino(d.x1153257188054369495x,-1,0),this.addPieceDefinitionMino(d.x1153257188054369495x,1,1),this.addPieceDefinitionRotationPointSet(d.x1153257188054369495x,0,-1,0,0,0,0,1,0),this.setPieceDefinitionRotationalSymmetry(d.x1153257188054369495x,d.x967047132275585775x,0,1),this.addPieceDefinition("T",d.x2563343360109526899x),this.addPieceDefinitionMino(d.x2563343360109526899x,0,0),this.addPieceDefinitionMino(d.x2563343360109526899x,0,1),this.addPieceDefinitionMino(d.x2563343360109526899x,-1,0),this.addPieceDefinitionMino(d.x2563343360109526899x,1,0),this.addPieceDefinitionRotationPointSet(d.x2563343360109526899x,0,0,0,0,0,0,0,0),this.setPieceDefinitionRotationalSymmetry(d.x2563343360109526899x,d.x4008812685520917032x,0,0),this.addPieceDefinition("Z",d.x2162197462838643576x),this.addPieceDefinitionMino(d.x2162197462838643576x,0,0),this.addPieceDefinitionMino(d.x2162197462838643576x,0,1),this.addPieceDefinitionMino(d.x2162197462838643576x,1,0),this.addPieceDefinitionMino(d.x2162197462838643576x,-1,1),this.addPieceDefinitionRotationPointSet(d.x2162197462838643576x,0,-1,0,0,0,0,1,0),this.setPieceDefinitionRotationalSymmetry(d.x2162197462838643576x,d.x967047132275585775x,0,1)}},t.addPieceDefinition=function(i,e){if(!this.getPieceDefinition(e)){var t=new n(i,e,this.mMatrixWidth,this.mMatrixHeight);this.mPieceDefinitions.push(t)}},t.addPieceDefinitionMino=function(i,e,t){this.getPieceDefinition(i).addMino(e,t)},t.addPieceDefinitionRotationPointSet=function(i,e,t,n,d,a,o,c,P){this.getPieceDefinition(i).addRotationPointSet(e,t,n,d,a,o,c,P)},t.setPieceDefinitionRotationalSymmetry=function(i,e,t,n){this.getPieceDefinition(i).setRotationalSymmetry(e,t,n)},t.processPieceDefinitions=function(){for(var i=this.mPieceDefinitions.length,e=0;e<i;e++)this.mPieceDefinitions[e].processAllTransforms()},t.getPieceDefinition=function(i){for(var e,t=this.mPieceDefinitions.length,n=0;n<t;n++)if((e=this.mPieceDefinitions[n]).getTypeId()==i)return e;return null},t.getPieceTypeId=function(i){for(var e,t=this.mPieceDefinitions.length,n=0;n<t;n++)if((e=this.mPieceDefinitions[n]).getTypeName()==i)return e.getTypeId();return 0},t.getMaxNumTransforms=function(){return this.mMaxNumTransforms},t.isTransformValid=function(i,e){return this.getPiece(i,e)},t.areTransformsEquivalent=function(i,e,t){if(e==t)return!0;var n=this.getPiece(i,e);return!!n&&n.isEquivalentTransformId(t)},t.getPiece=function(i,e){var t=null;return this.mCachedPieceDefinition&&this.mCachedPieceDefinition.getTypeId()==i||(this.mCachedPieceDefinition=this.getPieceDefinition(i)),(t=this.mCachedPieceDefinition)?t.getPieceForTransformId(e):null},t.getNameForPieceTypeId=function(i){var e=this.getPieceDefinition(i);return e?e.getTypeName():"x"},t.getMaxFacingForPieceTypeId=function(i){return d.x1602664510624180272x},t.computeTransformId=function(i,e,t){return d.computeTransformId(i,e,this.mMatrixWidth,0,t)},t.computeXFromTransformId=function(i){return d.computeXFromTransformId(i,this.mMatrixWidth,0)},t.computeYFromTransformId=function(i){return d.computeYFromTransformId(i,this.mMatrixWidth,0)},t.debug_printPieceDataInfo=function(){},t.destroyPieceDefinitions=function(){for(var i,e=this.mPieceDefinitions.length,t=0;t<e;t++)(i=this.mPieceDefinitions[t]).destroy(),null!==i&&(i=null);this.mPieceDefinitions.length=0},t.destroy=function(){this.isDestroyed()||(this.destroyPieceDefinitions(),this.mIsDestroyed=!0)},e(i,null,[{key:"x4521910664595926590x",get:function(){return 1}},{key:"x2454943565429604121x",get:function(){return 2}},{key:"x4036138638333125400x",get:function(){return 3}},{key:"x2025417368573380261x",get:function(){return 0}},{key:"x2975307774735626088x",get:function(){return 1}},{key:"x3672939072462639870x",get:function(){return 2}}]),i}());t._RF.pop()}}}));System.register("chunks:///_virtual/x3620510134579597724x.ts",["cc","./x1010536356951763745x.ts","./x4504664450192037614x.ts","./x1312985661297212958x.ts","./x2697327737977927830x.ts"],(function(t){"use strict";var i,n,o,e,s;return{setters:[function(t){i=t.cclegacy},function(t){n=t.x1010536356951763745x},function(t){o=t.x4504664450192037614x},function(t){e=t.x1312985661297212958x},function(t){s=t.x2697327737977927830x}],execute:function(){i._RF.push({},"ec719ZXEeVMe6C//5d9TYyH","x3620510134579597724x",void 0);t("x3620510134579597724x",function(){function t(t,i,n,o){this.mMinos=new Array,this.mRotationPointSets=new Array,this.mPiecesByTransform=new Array,this.mFirstValidPiecePerFacing=new Array,this.mIsDestroyed=!1,this.mTypeName=t,this.mTypeId=i,this.mMatrixWidth=n,this.mMatrixHeight=o,this.mMinTransformId=this.computeTransformId(0,0,s.x353242128309914033x),this.mMaxTransformId=this.computeTransformId(n-1,o-1,s.x1602664510624180272x),this.mMinMinoX=1e6,this.mMaxMinoX=-1e6,this.mMinMinoY=1e6,this.mMaxMinoY=-1e6,this.mRotationalSymmetryType=s.x4008812685520917032x,this.mRotationalSymmetryXOffset=0,this.mRotationalSymmetryYOffset=0,this.mDidProcessAllTransforms=!1}var i=t.prototype;return i.isDestroyed=function(){return this.mIsDestroyed},i.getTypeName=function(){return this.mTypeName},i.getTypeId=function(){return this.mTypeId},i.addMino=function(t,i){var o=new n;o.mX=t,o.mY=i,this.mMinos.push(o),t<this.mMinMinoX&&(this.mMinMinoX=t),t>this.mMaxMinoX&&(this.mMaxMinoX=t),i<this.mMinMinoY&&(this.mMinMinoY=i),i>this.mMaxMinoY&&(this.mMaxMinoY=i),this.recalculateStickyBits()},i.getNumMinos=function(){return this.mMinos.length},i.getMino=function(t){return this.mMinos[t]},i.addRotationPointSet=function(t,i,n,o,s,r,a,m){var c=new e;c.setPoints(t,i,n,o,s,r,a,m),this.mRotationPointSets.push(c)},i.getNumRotationPointSets=function(){return this.mRotationPointSets.length},i.getRotationPointSet=function(t){return this.mRotationPointSets[t]},i.getRotationalSymmetryType=function(){return this.mRotationalSymmetryType},i.getRotationalSymmetryXOffset=function(){return this.mRotationalSymmetryXOffset},i.getRotationalSymmetryYOffset=function(){return this.mRotationalSymmetryYOffset},i.setRotationalSymmetry=function(t,i,n){this.mRotationalSymmetryType=t,this.mRotationalSymmetryXOffset=i,this.mRotationalSymmetryYOffset=n},i.doesFitInMatrix=function(t,i,n){var o=0,e=0,r=0,a=0;switch(n){case s.x353242128309914033x:o=t+this.mMinMinoX,e=t+this.mMaxMinoX,r=i+this.mMinMinoY,a=i+this.mMaxMinoY;break;case s.x2310622958375835533x:o=t+this.mMinMinoY,e=t+this.mMaxMinoY,r=i+-this.mMaxMinoX,a=i+-this.mMinMinoX;break;case s.x907260158049481623x:o=t+-this.mMaxMinoX,e=t+-this.mMinMinoX,r=i+-this.mMaxMinoY,a=i+-this.mMinMinoY;break;case s.x1602664510624180272x:o=t+-this.mMaxMinoY,e=t+-this.mMinMinoY,r=i+this.mMinMinoX,a=i+this.mMaxMinoX}return!(o<0)&&(!(e>=this.mMatrixWidth)&&(!(r<0)&&!(a>=this.mMatrixHeight)))},i.processAllTransforms=function(){if(!this.mDidProcessAllTransforms){for(this.mPiecesByTransform.length=0;this.mPiecesByTransform.length<this.mMaxTransformId+1;)this.mPiecesByTransform.push(null);var t,i,n,e=null,r=this.getNumRotationPointSets();for(t=0;t<this.mMatrixWidth;t++)for(i=0;i<this.mMatrixHeight;i++)for(n=s.x353242128309914033x;n<=s.x1602664510624180272x;n++)this.doesFitInMatrix(t,i,n)&&(e=new o(this,t,i,this.mMatrixWidth,0,n),this.mPiecesByTransform[e.mTransformId]=e);for(t=0;t<this.mMatrixWidth;t++)for(i=0;i<this.mMatrixHeight;i++)for(n=s.x353242128309914033x;n<=s.x1602664510624180272x;n++){var a=this.computeTransformId(t,i,n);if(e=this.getPieceForTransformId(a)){for(var m=t,c=i,h=n,f=0,M=0;M<s.x1841009918890461404x;M++){switch(M){case s.x1939585969335275317x:m=t,c=i,h=n;break;case s.x2109883774012417312x:m=t-1,c=i,h=n;break;case s.x727011725934177096x:m=t+1,c=i,h=n;break;case s.x2122265053032977260x:m=t,c=i-1,h=n;break;case s.x2753402191070231946x:case s.x1049051644612241512x:case s.x851740989219005917x:case s.x4474722712933573683x:case s.x3039526374878809407x:if((f=M-s.x2753402191070231946x)>=r)continue;h=s.rotateFacing90(n,!0),m=t+this.getRotationPointSet(f).getXOffsetForRotation(n,h),c=i+this.getRotationPointSet(f).getYOffsetForRotation(n,h);break;case s.x2825991636264176147x:case s.x3204944895268573036x:case s.x2061096115069916713x:case s.x362155996399456565x:case s.x1448237707244317054x:if((f=M-s.x2825991636264176147x)>=r)continue;h=s.rotateFacing90(n,!1),m=t+this.getRotationPointSet(f).getXOffsetForRotation(n,h),c=i+this.getRotationPointSet(f).getYOffsetForRotation(n,h)}if(this.doesFitInMatrix(m,c,h)){var y=this.computeTransformId(m,c,h);this.getPieceForTransformId(y)&&(e.mPerTransformActionToTransformIds[M]=y)}}var g=this.mRotationalSymmetryType;if(g==s.x967047132275585775x||g==s.x2231341302153361616x){var u,k,T,l,P,d=n,S=this.mRotationalSymmetryXOffset,F=this.mRotationalSymmetryYOffset;if(g==s.x967047132275585775x)d=s.rotateFacing90(d,!0),d=s.rotateFacing90(d,!0),T=t-(u=s.getPointXForFacingRotation(S,F,s.x353242128309914033x,d)),l=i-(k=s.getPointYForFacingRotation(S,F,s.x353242128309914033x,d)),this.isCellInsideMatrix(T,l)&&(P=this.computeTransformId(T,l,d),this.getPieceForTransformId(P)&&e.addEquivalentTransformId(P));else{var _,I,R;T=t+(u=s.getPointXForFacingRotation(S,F,s.x353242128309914033x,n)),l=i+(k=s.getPointYForFacingRotation(S,F,s.x353242128309914033x,n)),d=s.rotateFacing90(d,!0);for(var X=0;X<3;X++)this.isCellInsideMatrix(T,l)&&(P=this.computeTransformId(T,l,d),this.getPieceForTransformId(P)&&e.addEquivalentTransformId(P)),_=d,d=s.rotateFacing90(d,!0),I=u,R=k,T+=u=s.getPointXForFacingRotation(I,R,_,d),l+=k=s.getPointYForFacingRotation(I,R,_,d)}}}}for(this.mFirstValidPiecePerFacing.length=0;this.mFirstValidPiecePerFacing.length<4;)this.mFirstValidPiecePerFacing.push(null);for(n=s.x353242128309914033x;n<=s.x1602664510624180272x;n++)for(i=0;i<this.mMatrixHeight;i++)for(t=0;t<this.mMatrixWidth;t++)(e=this.getPieceForTransformId(this.computeTransformId(t,i,n)))&&(this.mFirstValidPiecePerFacing[n]=e,t=this.mMatrixWidth,i=this.mMatrixHeight);this.mDidProcessAllTransforms=!0}},i.getPiece=function(t,i,n){return this.getPieceForTransformId(this.computeTransformId(t,i,n))},i.getPieceForTransformId=function(t){return t==s.x2194798655026538212x||t<this.mMinTransformId||t>this.mMaxTransformId?null:this.mPiecesByTransform[t]},i.getFirstValidPieceForFacing=function(t){return this.mFirstValidPiecePerFacing[t]},i.debug_printPieceMinoPositions=function(){},i.debug_printPieceMinMinoXY=function(){},i.debug_printPieceMaxMinoXY=function(){},i.debug_printPieceRotationOffsets=function(){},i.recalculateStickyBits=function(){var t,i,n,o=this.getNumMinos();for(n=0;n<o;n++)(t=this.getMino(n)).mStickyBits=0;for(n=0;n<o;n++){t=this.getMino(n);for(var e=n+1;e<o;e++)(i=this.getMino(e)).mX-t.mX==0&&i.mY-t.mY==1&&(t.mStickyBits|=s.x2484402922611265012x,i.mStickyBits|=s.x4064892280639253967x),i.mX-t.mX==1&&i.mY-t.mY==1&&(t.mStickyBits|=s.x3244718963149409389x,i.mStickyBits|=s.x1608540311894516498x),i.mX-t.mX==1&&i.mY-t.mY==0&&(t.mStickyBits|=s.x196245965280186343x,i.mStickyBits|=s.x3311267247859839537x),i.mX-t.mX==1&&i.mY-t.mY==-1&&(t.mStickyBits|=s.x3319376958055402371x,i.mStickyBits|=s.x4268706274728069679x),i.mX-t.mX==0&&i.mY-t.mY==-1&&(t.mStickyBits|=s.x4064892280639253967x,i.mStickyBits|=s.x2484402922611265012x),i.mX-t.mX==-1&&i.mY-t.mY==-1&&(t.mStickyBits|=s.x1608540311894516498x,i.mStickyBits|=s.x3244718963149409389x),i.mX-t.mX==-1&&i.mY-t.mY==0&&(t.mStickyBits|=s.x3311267247859839537x,i.mStickyBits|=s.x196245965280186343x),i.mX-t.mX==-1&&i.mY-t.mY==1&&(t.mStickyBits|=s.x4268706274728069679x,i.mStickyBits|=s.x3319376958055402371x)}for(n=0;n<o;n++)(t=this.getMino(n)).mStickyBits=s.validateStickyBits(t.mStickyBits)},i.computeTransformId=function(t,i,n){return s.computeTransformId(t,i,this.mMatrixWidth,0,n)},i.isCellInsideMatrix=function(t,i){return!(t<0)&&(!(t>=this.mMatrixWidth)&&(!(i<0)&&!(i>=this.mMatrixHeight)))},i.destroy=function(){if(!this.isDestroyed()){var t;for(t=0;t<this.mMinos.length;t++){var i=this.mMinos[t];null!==i&&(i=null)}for(this.mMinos.length=0,t=0;t<this.mRotationPointSets.length;t++){var n=this.mRotationPointSets[t];null!==n&&(n=null)}this.mRotationPointSets.length=0;var o=this.mPiecesByTransform.length;for(t=0;t<o;t++)this.mPiecesByTransform[t];this.mIsDestroyed=!0}},t}());i._RF.pop()}}}));System.register("chunks:///_virtual/x1312985661297212958x.ts",["cc","./x2697327737977927830x.ts"],(function(t){"use strict";var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.x2697327737977927830x}],execute:function(){e._RF.push({},"7fc224M/cVG5oYLE15hKM5l","x1312985661297212958x",void 0);t("x1312985661297212958x",function(){function t(){this.setPoints(0,0,0,0,0,0,0,0)}var e=t.prototype;return e.setPoints=function(t,e,i,s,n,r,o,c){this.mNorthX=t,this.mNorthY=e,this.mEastX=i,this.mEastY=s,this.mSouthX=n,this.mSouthY=r,this.mWestX=o,this.mWestY=c},e.getXOffsetForFacing=function(t){switch(t){case i.x353242128309914033x:return this.mNorthX;case i.x2310622958375835533x:return this.mEastX;case i.x907260158049481623x:return this.mSouthX;case i.x1602664510624180272x:return this.mWestX;default:return 0}},e.getYOffsetForFacing=function(t){switch(t){case i.x353242128309914033x:return this.mNorthY;case i.x2310622958375835533x:return this.mEastY;case i.x907260158049481623x:return this.mSouthY;case i.x1602664510624180272x:return this.mWestY;default:return 0}},e.getXOffsetForRotation=function(t,e){return this.getXOffsetForFacing(e)-this.getXOffsetForFacing(t)},e.getYOffsetForRotation=function(t,e){return this.getYOffsetForFacing(e)-this.getYOffsetForFacing(t)},t}());e._RF.pop()}}}));System.register("chunks:///_virtual/x4522452675581703348x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x396704097379050657x.ts","./x4504664450192037614x.ts","./x2697327737977927830x.ts"],(function(r){"use strict";var e,t,a,i,o,n;return{setters:[function(r){e=r.inheritsLoose,t=r.createClass},function(r){a=r.cclegacy},function(r){i=r.x396704097379050657x},function(r){o=r.x4504664450192037614x},function(r){n=r.x2697327737977927830x}],execute:function(){a._RF.push({},"114b3Io041EZ4DSEy/Fmes5","x4522452675581703348x",void 0);r("x4522452675581703348x",function(r){function a(e,t,a,i,o){var s;(s=r.call(this,e,t,a,i)||this).mPerCellInfo=new Array,s.mPerColumnInfo=new Array,s.mPerTransformInfo=new Array,s.mTargetTransforms=new Array,s.mReachableTransforms=new Array,s.mPerCellTargetTransforms=new Array,s.mPerCellReachableTransformsByEvaluationScore=new Array,s.mPerColumnReachableTransformsByEvaluationScore=new Array,s.mPerTransformPaths=new Array,s.mPerTransformEvaluationScore=new Array,s.mScratchMatrixCellIndexStack=new Array,s.mScratchTransformStack=new Array,s.mScratchActionStack=new Array,s.mScratchPerTransformActionStacks=new Array,s.mScratchPath=new Array,s.mTargetsRequireTouchDown=o,s.mMaxTargetFacing=0;var m=s.mMatrixWidth*s.mMatrixHeight;for(s.mPerCellInfo.length=0;s.mPerCellInfo.length<m;)s.mPerCellInfo.push(0);for(s.mPerColumnInfo.length=0;s.mPerColumnInfo.length<s.mMatrixWidth;)s.mPerColumnInfo.push(0);var h=e.getMaxNumTransforms();for(s.mPerTransformInfo.length=0;s.mPerTransformInfo.length<h;)s.mPerTransformInfo.push(0);for(s.mReachableTransformsAreClean=!1,s.mDidSortReachableTransformsByEvaluationScore=!1,s.mPerCellTargetTransforms.length=0;s.mPerCellTargetTransforms.length<m;)s.mPerCellTargetTransforms.push(null);for(s.mPerCellReachableTransformsByEvaluationScore.length=0;s.mPerCellReachableTransformsByEvaluationScore.length<m;)s.mPerCellReachableTransformsByEvaluationScore.push(null);var c,f=null;for(c=0;c<m;c++)f=new Array,s.mPerCellTargetTransforms[c]=f,f=new Array,s.mPerCellReachableTransformsByEvaluationScore[c]=f;for(s.mPerColumnReachableTransformsByEvaluationScore.length=0;s.mPerColumnReachableTransformsByEvaluationScore.length<s.mMatrixWidth;)s.mPerColumnReachableTransformsByEvaluationScore.push(null);for(c=0;c<s.mMatrixWidth;c++)f=new Array,s.mPerColumnReachableTransformsByEvaluationScore[c]=f;for(s.mPerTransformPaths.length=0;s.mPerTransformPaths.length<h;)s.mPerTransformPaths.push(null);for(var l=0;l<a;l++)for(var u=0;u<t;u++)for(var T=n.x353242128309914033x;T<=n.x1602664510624180272x;T++){var d=new Array;s.mPerTransformPaths[s.mPieceData.computeTransformId(u,l,T)]=d}for(s.mPerTransformEvaluationScore.length=0;s.mPerTransformEvaluationScore.length<h;)s.mPerTransformEvaluationScore.push(0);for(s.mEvaluator=null,s.mIsEvaluatorOwner=!1,s.mScratchMatrixCellIndexStack.length=0;s.mScratchMatrixCellIndexStack.length<m;)s.mScratchMatrixCellIndexStack.push(0);for(s.mScratchMatrixCellIndexStackTop=-1,s.mScratchTransformStack.length=0;s.mScratchTransformStack.length<h;)s.mScratchTransformStack.push(0);for(s.mScratchActionStack.length=0;s.mScratchActionStack.length<h;)s.mScratchActionStack.push(0);for(s.mScratchTransformStackTop=-1,s.mScratchPerTransformActionStacks.length=0;s.mScratchPerTransformActionStacks.length<h;)s.mScratchPerTransformActionStacks.push(null);for(c=0;c<h;c++){var v=new Array;s.mScratchPerTransformActionStacks[c]=v}return s.mParameter_evaluation_singleLineClear=120,s.mParameter_evaluation_doubleLineClear=140,s.mParameter_evaluation_tripleLineClear=160,s.mParameter_evaluation_tetrisLineClear=180,s.mParameter_evaluation_perTouchedNSurface=10,s.mParameter_evaluation_perTouchedSSurface=10,s.mParameter_evaluation_perTouchedESurface=0,s.mParameter_evaluation_perTouchedWSurface=0,s.mParameter_evaluation_perRowFit=0,s.mParameter_evaluation_touchingRightWall=0,s.mParameter_evaluation_perCave=0,s.mParameter_evaluation_holeCheckDepthLimit=-1,s.mParameter_evaluation_perHole=0,s.mParameter_evaluation_perCoveredISlotDepth=0,s.mParameter_evaluation_coveredISlotMaxTopDepth=0,s.mParameter_evaluation_coveredISlotMaxSize=4,s.mParameter_evaluation_NFacingVSEquivalent=2,s.mParameter_evaluation_maxMinoYMultiplier=0,s.mParameter_evaluation_digModeActivationHeight=999999,s.mParameter_evaluation_referenceXDistancePenalty=1,s}e(a,r);var s=a.prototype;return s.copyParameters=function(r){this.mParameter_evaluation_singleLineClear=r.mParameter_evaluation_singleLineClear,this.mParameter_evaluation_doubleLineClear=r.mParameter_evaluation_doubleLineClear,this.mParameter_evaluation_tripleLineClear=r.mParameter_evaluation_tripleLineClear,this.mParameter_evaluation_tetrisLineClear=r.mParameter_evaluation_tetrisLineClear,this.mParameter_evaluation_perTouchedNSurface=r.mParameter_evaluation_perTouchedNSurface,this.mParameter_evaluation_perTouchedSSurface=r.mParameter_evaluation_perTouchedSSurface,this.mParameter_evaluation_perTouchedESurface=r.mParameter_evaluation_perTouchedESurface,this.mParameter_evaluation_perTouchedWSurface=r.mParameter_evaluation_perTouchedWSurface,this.mParameter_evaluation_perRowFit=r.mParameter_evaluation_perRowFit,this.mParameter_evaluation_touchingRightWall=r.mParameter_evaluation_touchingRightWall,this.mParameter_evaluation_perCave=r.mParameter_evaluation_perCave,this.mParameter_evaluation_holeCheckDepthLimit=r.mParameter_evaluation_holeCheckDepthLimit,this.mParameter_evaluation_perHole=r.mParameter_evaluation_perHole,this.mParameter_evaluation_perCoveredISlotDepth=r.mParameter_evaluation_perCoveredISlotDepth,this.mParameter_evaluation_coveredISlotMaxTopDepth=r.mParameter_evaluation_coveredISlotMaxTopDepth,this.mParameter_evaluation_coveredISlotMaxSize=r.mParameter_evaluation_coveredISlotMaxSize,this.mParameter_evaluation_NFacingVSEquivalent=r.mParameter_evaluation_NFacingVSEquivalent,this.mParameter_evaluation_maxMinoYMultiplier=r.mParameter_evaluation_maxMinoYMultiplier,this.mParameter_evaluation_digModeActivationHeight=r.mParameter_evaluation_digModeActivationHeight,this.mParameter_evaluation_referenceXDistancePenalty=r.mParameter_evaluation_referenceXDistancePenalty,this.mEvaluator&&(this.mIsEvaluatorOwner&&this.mEvaluator.destroy(),this.mEvaluator=null),this.mEvaluator=r.mEvaluator,this.mIsEvaluatorOwner=!1},s.setEvaluator=function(r,e){this.mEvaluator=r,this.mIsEvaluatorOwner=e},s.startStateEvaluation=function(r){this.resetStateWithState(r),this.mMaxTargetFacing=this.mPieceData.getMaxFacingForPieceTypeId(this.mLivePieceTypeId),this.mTargetTransforms.length=0,this.mReachableTransforms.length=0;var e=this.mMatrixWidth*this.mMatrixHeight,t=0;for(t=0;t<e;t++)this.mPerCellInfo[t]=0,this.mPerCellTargetTransforms[t].length=0,this.mPerCellReachableTransformsByEvaluationScore[t].length=0;for(t=0;t<this.mMatrixWidth;t++)this.mPerColumnInfo[t]=0,this.mPerColumnReachableTransformsByEvaluationScore[t].length=0;for(var i=this.mPieceData.getMaxNumTransforms(),o=0;o<i;o++)this.mPerTransformInfo[o]=0,this.mPerTransformEvaluationScore[o]=a.x1737663305967699316x,this.mPerTransformPaths[o].length=0;this.mReachableTransformsAreClean=!0,this.mDidSortReachableTransformsByEvaluationScore=!1},s.processStateEvaluation=function(){return this.processFindTargetTransforms()},s.isCellInsideMatrix=function(r,e){return!(r<0)&&(!(r>=this.mMatrixWidth)&&(!(e<0)&&!(e>=this.mMatrixHeight)))},s.doesCellCollide=function(r,e){return!this.isCellInsideMatrix(r,e)||0!=this.mMatrixMinos[n.computeGridIndex(r,e,this.mMatrixWidth)]},s.doesTransformTouchBelow=function(r,e,t){return!(e>0)||this.doesTransformCollide(this.mPieceData.computeTransformId(r,e-1,t))},s.doesTransformCollide=function(r){if(0!=(this.mPerTransformInfo[r]&a.x842115831267797969x))return 0!=(this.mPerTransformInfo[r]&a.x2069377286449256678x);this.mPerTransformInfo[r]=this.mPerTransformInfo[r]|a.x842115831267797969x;var e=this.mPieceData.getPiece(this.mLivePieceTypeId,r);return e?!!this.doesPieceCollide(e)&&(this.mPerTransformInfo[r]=this.mPerTransformInfo[r]|a.x2069377286449256678x,!0):(this.mPerTransformInfo[r]=this.mPerTransformInfo[r]|a.x2069377286449256678x,!0)},s.getBestTransform=function(r,e,t){if(!this.mDidSortReachableTransformsByEvaluationScore){for(var a,i=this.mTargetTransforms.length,o=0;o<i;o++)a=this.mTargetTransforms[o],this.isTransformReachable(a);var n=this.mReachableTransforms.length;n>1&&this.sortTransformsByEvaluationScore(this.mReachableTransforms,0,n-1,-1,-1),this.mDidSortReachableTransformsByEvaluationScore=!0}return this.getIndexedTransformFromArray(this.mReachableTransforms,-1,-1,!1,r,0,e,t)},s.getBestTransformForCell=function(r,e,t,i,o,s){if(!this.isCellInsideMatrix(r,e))return n.x2194798655026538212x;if(0==(this.mPerCellInfo[n.computeGridIndex(r,e,this.mMatrixWidth)]&a.x90760999986315311x))return n.x2194798655026538212x;var m=this.getReachableTransformsForCellByEvaluationScore(r,e);return this.getIndexedTransformFromArray(m,r,e,t,i,0,o,s)},s.getBestTransformForColumn=function(r,e,t,a,i){if(!this.isCellInsideMatrix(r,0))return n.x2194798655026538212x;var o=this.getReachableTransformsForColumnByEvaluationScore(r);return this.getIndexedTransformFromArray(o,r,0,e,t,0,a,i)},s.getNextReachableTransformForColumn=function(r,e,t){if(!this.isCellInsideMatrix(e,0)||r==n.x2194798655026538212x)return n.x2194798655026538212x;var a=this.getReachableTransformsForColumnByEvaluationScore(e),i=a.length;if(i<=1)return r;var o=n.rotateFacing90(n.computeFacingFromTransformId(t),!1),s=n.computeGridIndex(this.mPieceData.computeXFromTransformId(r),this.mPieceData.computeYFromTransformId(r),this.mMatrixWidth),m=n.computeFacingFromTransformId(r);m>o&&(m-=4);for(var h=this.mMatrixWidth*this.mMatrixHeight,c=0;c<i;c++)if(this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,r,a[c])){for(var f=1e6,l=r,u=0;u<i;u++)if(u!=c){var T=a[u],d=this.mPieceData.getPiece(this.mLivePieceTypeId,T);if(!(i>5&&0!=u&&T!=t)||d.hasEquivalanceForX(e)){var v,P=n.computeGridIndex(this.mPieceData.computeXFromTransformId(T),this.mPieceData.computeYFromTransformId(T),this.mMatrixWidth)-s,I=n.computeFacingFromTransformId(T);I>o&&(I-=4),v=I-m,(P<0||0==P&&v<0)&&(P+=h);var g=4*P+v;g<f&&(f=g,l=T)}}return l}return r},s.getBestActionsForTransform=function(r,e,t,i,o){var s=n.x1683198617708317286x;if(e.length=0,r==n.x2194798655026538212x)return o&&e.push(s),!1;var m=0,h=0,c=0;if(this.mPieceData.isTransformValid(this.mLivePieceTypeId,r)){if(0!=(this.mPerTransformInfo[r]&a.x2943965968907409799x)){if(0==(this.mPerTransformInfo[r]&a.x1314841899163333349x))return o&&e.push(s),!1}else if(!this.isTransformReachable(r))return o&&e.push(s),!1;var f,l,u=this.mPerTransformPaths[r],T=~~(u.length/2);if((t||i)&&T>2){var d,v;if(this.mScratchPath.length=0,t)for(m=0;m<T;m++){var P=!1;if(f=u[2*m],l=u[2*m+1],T-m>=3)switch(f){case n.x2753402191070231946x:case n.x2825991636264176147x:u[2*(m+1)]==f&&u[2*(m+2)]==f&&(f=f==n.x2753402191070231946x?n.x2825991636264176147x:n.x2753402191070231946x,this.mScratchPath.push(f),m+=2,P=!0)}if(!P){for(h=m+1;h<T;h++){if((v=u[2*h+1])==l){this.mScratchPath.push(f),m=h,P=!0;break}if(h>m+1){if((d=this.getMoveAction(l,v))!=n.x3045541000723196640x){this.mScratchPath.push(f),this.mScratchPath.push(d),m=h,P=!0;break}if((d=this.getRotateAction(l,v))!=n.x3045541000723196640x){this.mScratchPath.push(f),this.mScratchPath.push(d),m=h,P=!0;break}}}P||this.mScratchPath.push(f)}}else for(m=0;m<T;m++)f=u[2*m],l=u[2*m+1],this.mScratchPath.push(f);if(i){for(;this.mScratchPath[this.mScratchPath.length-1]==n.x2122265053032977260x;)this.mScratchPath.pop();f=n.x1683198617708317286x,this.mScratchPath.push(f)}for(c=this.mScratchPath.length,m=0;m<c;m++)f=this.mScratchPath[m],e.push(f)}else for(m=0;m<T;m++)f=u[2*m],e.push(f)}return c=e.length,!o||0!=c&&e[c-1]==n.x1683198617708317286x||e.push(s),c>0||this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,this.mLivePieceStartingTransformId,r)},s.getTransformEvaluationScore=function(r,e,t){if(r==n.x2194798655026538212x)return a.x1737663305967699316x;var i=this.mPieceData.getPiece(this.mLivePieceTypeId,r),o=0;if(0!=(this.mPerTransformInfo[r]&a.x2947983249161670427x))o=this.mPerTransformEvaluationScore[r];else{var s=this.mMatrixHighestMinoY>this.mParameter_evaluation_digModeActivationHeight,m=this.getCompleteLinesForPiece(i);if(m>0)if(s)o+=this.mParameter_evaluation_tetrisLineClear;else switch(m){case 1:o+=this.mParameter_evaluation_singleLineClear;break;case 2:o+=this.mParameter_evaluation_doubleLineClear;break;case 3:o+=this.mParameter_evaluation_tripleLineClear;break;case 4:default:o+=this.mParameter_evaluation_tetrisLineClear}var h=this.getTouchingSurfacesForPiece(i,0,1),c=this.getTouchingSurfacesForPiece(i,0,-1),f=this.getTouchingSurfacesForPiece(i,1,0),l=this.getTouchingSurfacesForPiece(i,-1,0);switch(o+=h*this.mParameter_evaluation_perTouchedNSurface,o+=c*this.mParameter_evaluation_perTouchedSSurface,o+=f*this.mParameter_evaluation_perTouchedESurface,o+=l*this.mParameter_evaluation_perTouchedWSurface,o+=this.getRowFitsForPiece(i)*this.mParameter_evaluation_perRowFit,(s?0:this.getRightWallTouchesForPiece(i))>0&&(o+=this.mParameter_evaluation_touchingRightWall),o+=this.getCavesForPiece(i)*this.mParameter_evaluation_perCave,o+=this.getHolesForPiece(i,this.mParameter_evaluation_holeCheckDepthLimit)*this.mParameter_evaluation_perHole,o+=this.getCoveredISlotDepthForPiece(i,this.mParameter_evaluation_coveredISlotMaxTopDepth,this.mParameter_evaluation_coveredISlotMaxSize)*this.mParameter_evaluation_perCoveredISlotDepth,i.mFacing){case n.x907260158049481623x:case n.x2310622958375835533x:case n.x1602664510624180272x:i.hasEquivalenceForFacing(n.x353242128309914033x)&&(o+=this.mParameter_evaluation_NFacingVSEquivalent)}o+=i.mMaxMinoY*this.mParameter_evaluation_maxMinoYMultiplier,this.mEvaluator&&(o=this.mEvaluator.x4110483709474964711x(r,i.mX,i.mY,i.mFacing,o)),this.mPerTransformInfo[r]=this.mPerTransformInfo[r]|a.x2947983249161670427x,this.mPerTransformEvaluationScore[r]=o}var u=0;return e>=0&&(u-=(i.mX-e>=0?i.mX-e:-(i.mX-e))*this.mParameter_evaluation_referenceXDistancePenalty),this.mEvaluator&&(u=this.mEvaluator.x4007144542783852152x(r,i.mX,i.mY,i.mFacing,e,t,u)),o+u},s.resetReachableTransforms=function(r,e,t){var i=this.mPieceData.computeTransformId(r,e,t);if(this.mLivePieceStartingTransformId!=i&&(this.mLivePieceStartingX=r,this.mLivePieceStartingY=e,this.mLivePieceStartingFacing=t,this.mLivePieceStartingTransformId=i,!this.mReachableTransformsAreClean)){var o=0,n=this.mMatrixWidth*this.mMatrixHeight;for(o=0;o<n;o++)0!=(this.mPerCellInfo[o]&a.x90760999986315311x)&&(this.mPerCellInfo[o]=this.mPerCellInfo[o]&~(a.x4476685366500796250x|a.x2873248770774570816x),this.mPerCellReachableTransformsByEvaluationScore[o].length=0);for(n=this.mReachableTransforms.length,o=0;o<n;o++)i=this.mReachableTransforms[o],this.mPerTransformInfo[i]=this.mPerTransformInfo[i]&~(a.x3387099670738414649x|a.x2943965968907409799x|a.x1314841899163333349x);this.mReachableTransforms.length=0,this.mReachableTransformsAreClean=!0,this.mDidSortReachableTransformsByEvaluationScore=!1}},s.startFindTargetTransforms=function(){},s.processFindTargetTransforms=function(){var r=0,e=0,t=0,i=0,o=n.computeGridIndex(this.mLivePieceStartingX,this.mLivePieceStartingY,this.mMatrixWidth);for(this.mScratchMatrixCellIndexStackTop=-1,this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop]=o;this.mScratchMatrixCellIndexStackTop>=0;)if(o=this.mScratchMatrixCellIndexStack[this.mScratchMatrixCellIndexStackTop--],this.mPerCellInfo[o]=this.mPerCellInfo[o]|a.x1193717801180830154x,0==this.mMatrixMinos[o]){r=n.computeXFromGridIndex(o,this.mMatrixWidth),(e=n.computeYFromGridIndex(o,this.mMatrixWidth))<this.mMatrixHeight-1&&(i=n.computeGridIndex(r,e+1,this.mMatrixWidth),0==(this.mPerCellInfo[i]&a.x1193717801180830154x)&&(this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop]=i)),r<this.mMatrixWidth-1&&(i=n.computeGridIndex(r+1,e,this.mMatrixWidth),0==(this.mPerCellInfo[i]&a.x1193717801180830154x)&&(this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop]=i)),e>0&&(i=n.computeGridIndex(r,e-1,this.mMatrixWidth),0==(this.mPerCellInfo[i]&a.x1193717801180830154x)&&(this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop]=i)),r>0&&(i=n.computeGridIndex(r-1,e,this.mMatrixWidth),0==(this.mPerCellInfo[i]&a.x1193717801180830154x)&&(this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop]=i));for(var s=n.x353242128309914033x;s<=n.x1602664510624180272x;s++)if(t=this.mPieceData.computeTransformId(r,e,s),0==(this.mPerTransformInfo[t]&a.x2759971235866953476x)){if(s<=this.mMaxTargetFacing&&this.isTransformVisible(t)&&!this.doesTransformCollide(t)&&(!this.mTargetsRequireTouchDown||this.doesTransformTouchBelow(r,e,s))){this.mPerTransformInfo[t]=this.mPerTransformInfo[t]|a.x1144569859029911352x,this.mTargetTransforms.push(t);for(var m=this.mPieceData.getPiece(this.mLivePieceTypeId,t),h=0,c=null,f=0;f<m.mNumMinos;f++){h=m.mMinosXY[f],this.mPerCellInfo[h]=this.mPerCellInfo[h]|a.x90760999986315311x;for(var l=(c=this.mPerCellTargetTransforms[h]).length,u=0;u<l;u++)if(c[u]==t){t=n.x2194798655026538212x;break}t!=n.x2194798655026538212x&&c.push(t)}}this.mPerTransformInfo[t]=this.mPerTransformInfo[t]|a.x2759971235866953476x}}return!0},s.getReachableTransformsForCellByEvaluationScore=function(r,e){if(this.doesCellCollide(r,e))return null;var t=n.computeGridIndex(r,e,this.mMatrixWidth);if(0!=(this.mPerCellInfo[t]&a.x1193717801180830154x)&&0==(this.mPerCellInfo[t]&a.x90760999986315311x))return null;var i=this.mPerCellReachableTransformsByEvaluationScore[t];if(0!=(this.mPerCellInfo[t]&a.x4476685366500796250x))return i;for(var o,s=this.mPerCellTargetTransforms[t],m=s.length,h=0;h<m;h++)o=s[h],this.isTransformReachable(o)&&!this.doesArrayContainEquivalentTransform(i,o)&&(i.push(o),this.mPerCellInfo[t]=this.mPerCellInfo[t]|a.x2873248770774570816x);var c=i.length;return c>1&&this.sortTransformsByEvaluationScore(i,0,c-1,r,e),this.mPerCellInfo[t]=this.mPerCellInfo[t]|a.x4476685366500796250x,i},s.getReachableTransformsForColumnByEvaluationScore=function(r){if(r<0||r>=this.mMatrixWidth)return null;var e=this.mPerColumnReachableTransformsByEvaluationScore[r];if(0!=(this.mPerColumnInfo[r]&a.x1413382148115926783x))return e;for(var t=0;t<this.mMatrixHeight;t++)this.addTransformsToArray(e,this.getReachableTransformsForCellByEvaluationScore(r,t));var i=e.length;return i>1&&this.sortTransformsByEvaluationScore(e,0,i-1,r,-1),this.mPerColumnInfo[r]=this.mPerColumnInfo[r]|a.x1413382148115926783x,e},s.getNextTransformForColumn=function(r,e,t,a){var i=this.mPieceData.computeXFromTransformId(r),o=this.mPieceData.computeYFromTransformId(r),s=n.computeFacingFromTransformId(r);if(s==a){var m=e+t;return m>=this.mMatrixWidth&&(m=this.mMatrixWidth-1),i<m?this.mPieceData.computeTransformId(i+1,o,n.x353242128309914033x):((i=e-t)<=0&&(i=0),o<this.mMatrixHeight-1?this.mPieceData.computeTransformId(i,o+1,n.x353242128309914033x):this.mPieceData.computeTransformId(i,0,n.x353242128309914033x))}return s=n.rotateFacing90(s,!0),this.mPieceData.computeTransformId(i,o,s)},s.doesArrayContainTransform=function(r,e){for(var t=r.length,a=0;a<t;a++){if(r[a]==e)return!0}return!1},s.doesArrayContainEquivalentTransform=function(r,e){for(var t=r.length,a=0;a<t;a++){var i=r[a];if(this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,i,e))return!0}return!1},s.getIndexedTransformFromArray=function(r,e,t,a,i,o,s,m){var h=o+s,c=r?r.length:0;if(c>0){if(!a&&i==n.x771445861677852680x)return r[h=m?n.clampInt(h,0,c-1):n.loopInt(h,0,c-1)];var f=0,l=0,u=0;for(u=0;u<c;u++)f=r[u],this.isTransformValidForCell(f,e,t,a,i)&&l++;h=m?n.clampInt(h,0,l-1):n.loopInt(h,0,l-1);var T=0;for(u=0;u<c;u++)if(f=r[u],this.isTransformValidForCell(f,e,t,a,i)){if(T==h)return f;T++}}return n.x2194798655026538212x},s.isTransformValidForCell=function(r,e,t,a,i){var o=this.mPieceData.getPiece(this.mLivePieceTypeId,r);return!(e>=0&&a&&!o.hasEquivalanceForX(e))&&!(i!=n.x771445861677852680x&&n.computeFacingFromTransformId(r)!=i&&!o.hasEquivalenceForFacing(i))},s.addTransformsToArray=function(r,e){if(r&&e)for(var t,a,i=r.length,o=e.length,n=0;n<o;n++){t=e[n],a=!1;for(var s=0;s<i;s++)if(r[s]==t){a=!0;break}a||r.push(t)}},s.isTransformReachable=function(r){if(0!=(this.mPerTransformInfo[r]&a.x2943965968907409799x))return 0!=(this.mPerTransformInfo[r]&a.x1314841899163333349x);var e,t,i=0;if(0!=(this.mPerTransformInfo[r]&a.x2759971235866953476x)){if(0==(this.mPerTransformInfo[r]&a.x1144569859029911352x))return this.mPerTransformInfo[r]=this.mPerTransformInfo[r]|a.x2943965968907409799x,!1;for(e=this.mPieceData.getPiece(this.mLivePieceTypeId,r),t=0;t<e.mNumEquivalentTransformIds;t++)if(i=e.mEquivalentTransformIds[t],this.mPieceData.isTransformValid(this.mLivePieceTypeId,i)&&0!=(this.mPerTransformInfo[i]&a.x2943965968907409799x)&&0==(this.mPerTransformInfo[i]&a.x1314841899163333349x))return this.mPerTransformInfo[r]=this.mPerTransformInfo[r]|a.x2943965968907409799x,!1}var o=!1,s=null,m=0,h=this.mLivePieceStartingX,c=this.mLivePieceStartingY,f=this.mLivePieceStartingFacing,l=this.mPieceData.computeXFromTransformId(r),u=this.mPieceData.computeYFromTransformId(r),T=n.computeFacingFromTransformId(r),d=this.mPieceData.computeTransformId(h,c,f),v=0,P=0,I=0,g=0,_=0,k=T==f;if(!k)for(m=n.isFacingRotationClockwise(f,T)?n.x2753402191070231946x:n.x2825991636264176147x,t=0;t<3;t++)if(d=this.getTransformForTransformAction(d,m),n.computeFacingFromTransformId(d)==T){k=!0,g=m,_=t+1;break}if(k)for(var C=this.mPieceData.computeXFromTransformId(d),S=this.mPieceData.computeYFromTransformId(d),p=1;p>=-1;p-=2){for(var M=0;M<=this.mMatrixWidth;M++){var x=M*p,A=l+x,F=0,R=0,y=0,E=0,b=0;if(A<0||A>=this.mMatrixWidth)break;if(0!=x){if(v=this.mPieceData.computeTransformId(A,u,T),P=r,m=x>0?n.x2109883774012417312x:n.x727011725934177096x,I=M,(I=this.getTransformActionSteps(v,P,m,I))<=0)break;F=m,R=I}if(u<S){if(v=this.mPieceData.computeTransformId(A,S,T),P=this.mPieceData.computeTransformId(A,u,T),m=n.x2122265053032977260x,I=S-u,(I=this.getTransformActionSteps(v,P,m,I))<=0)continue;y=I}if(C!=A){if(v=this.mPieceData.computeTransformId(C,S,T),P=this.mPieceData.computeTransformId(A,S,T),m=C>A?n.x2109883774012417312x:n.x727011725934177096x,I=C>A?C-A:A-C,(I=this.getTransformActionSteps(v,P,m,I))<=0)continue;E=m,b=I}o=!0,(s=this.mPerTransformPaths[r]).length=0,m=n.x1939585969335275317x,s.push(m),s.push(this.mLivePieceStartingTransformId);var D=this.mLivePieceStartingTransformId;for(t=0;t<_;t++)D=this.getTransformForTransformAction(D,g),s.push(g),s.push(D);for(t=0;t<b;t++)D=this.getTransformForTransformAction(D,E),s.push(E),s.push(D);for(t=0;t<y;t++)m=n.x2122265053032977260x,D=this.getTransformForTransformAction(D,m),s.push(m),s.push(D);for(t=0;t<R;t++)D=this.getTransformForTransformAction(D,F),s.push(F),s.push(D);break}if(o)break}if(!o){var B=this.mPieceData.getMaxNumTransforms();for(i=0;i<B;i++)this.mPerTransformInfo[i]=this.mPerTransformInfo[i]&~a.x3387099670738414649x;var L=0,W=null;for(this.mScratchTransformStackTop=-1,this.mScratchTransformStack[++this.mScratchTransformStackTop]=this.mLivePieceStartingTransformId,this.mScratchActionStack[this.mScratchTransformStackTop]=n.x1939585969335275317x,W=this.mScratchPerTransformActionStacks[this.mScratchTransformStackTop],this.pushActionsForTarget(this.mLivePieceStartingTransformId,r,W);this.mScratchTransformStackTop>=0;)if(i=this.mScratchTransformStack[this.mScratchTransformStackTop],this.mPerTransformInfo[i]=this.mPerTransformInfo[i]|a.x3387099670738414649x,i==r){for(o=!0,(s=this.mPerTransformPaths[r]).length=0,t=0;t<=this.mScratchTransformStackTop;t++)s.push(this.mScratchActionStack[t]),s.push(this.mScratchTransformStack[t]);this.mScratchTransformStackTop=-1}else e=this.mPieceData.getPiece(this.mLivePieceTypeId,i),(W=this.mScratchPerTransformActionStacks[this.mScratchTransformStackTop]).length>0?(m=W[W.length-1],W.pop(),L=e.mPerTransformActionToTransformIds[m],this.mPieceData.isTransformValid(this.mLivePieceTypeId,L)&&(this.mScratchTransformStack[++this.mScratchTransformStackTop]=L,this.mScratchActionStack[this.mScratchTransformStackTop]=m,W=this.mScratchPerTransformActionStacks[this.mScratchTransformStackTop],this.pushActionsForTarget(L,r,W))):this.mScratchTransformStackTop--}return o&&(this.mPerTransformInfo[r]=this.mPerTransformInfo[r]|a.x1314841899163333349x,this.mReachableTransforms.push(r)),this.mPerTransformInfo[r]=this.mPerTransformInfo[r]|a.x2943965968907409799x,this.mReachableTransformsAreClean=!1,o},s.pushActionsForTarget=function(r,e,t){t.length=0;var a=this.mPieceData.getPiece(this.mLivePieceTypeId,r);if(a){var i=this.mPieceData.computeXFromTransformId(r),o=n.computeFacingFromTransformId(r),s=this.mPieceData.computeXFromTransformId(e),m=n.computeFacingFromTransformId(e);o==m?(this.pushRotationActions(a,o,m,t),this.pushMoveActions(a,i,s,t)):(this.pushMoveActions(a,i,s,t),this.pushRotationActions(a,o,m,t))}},s.pushMoveActions=function(r,e,t,a){e<t?(this.pushActionIfIsValid(r,n.x2122265053032977260x,a),this.pushActionIfIsValid(r,n.x2109883774012417312x,a),this.pushActionIfIsValid(r,n.x727011725934177096x,a)):e>t?(this.pushActionIfIsValid(r,n.x2122265053032977260x,a),this.pushActionIfIsValid(r,n.x727011725934177096x,a),this.pushActionIfIsValid(r,n.x2109883774012417312x,a)):(this.pushActionIfIsValid(r,n.x2109883774012417312x,a),this.pushActionIfIsValid(r,n.x727011725934177096x,a),this.pushActionIfIsValid(r,n.x2122265053032977260x,a))},s.pushRotationActions=function(r,e,t,a){n.isFacingRotationClockwise(e,t)?(this.pushActionIfIsValid(r,this.findFirstValidRotationAction(r,!1),a),this.pushActionIfIsValid(r,this.findFirstValidRotationAction(r,!0),a)):(this.pushActionIfIsValid(r,this.findFirstValidRotationAction(r,!0),a),this.pushActionIfIsValid(r,this.findFirstValidRotationAction(r,!1),a))},s.findFirstValidRotationAction=function(r,e){var t,a,i;if(e){for(a=n.x2753402191070231946x+r.mPieceDefinition.getNumRotationPointSets()-1,t=n.x2753402191070231946x;t<=a;t++)if(i=r.mPerTransformActionToTransformIds[t],this.mPieceData.isTransformValid(this.mLivePieceTypeId,i)&&!this.doesTransformCollide(i))return t}else for(a=n.x2825991636264176147x+r.mPieceDefinition.getNumRotationPointSets()-1,t=n.x2825991636264176147x;t<=a;t++)if(i=r.mPerTransformActionToTransformIds[t],this.mPieceData.isTransformValid(this.mLivePieceTypeId,i)&&!this.doesTransformCollide(i))return t;return n.x3045541000723196640x},s.pushActionIfIsValid=function(r,e,t){if(e!=n.x3045541000723196640x){var i=r.mPerTransformActionToTransformIds[e];this.mPieceData.isTransformValid(this.mLivePieceTypeId,i)&&0==(this.mPerTransformInfo[i]&a.x3387099670738414649x)&&!this.doesTransformCollide(i)&&t.push(e)}},s.sortTransformsByEvaluationScore=function(r,e,t,a,i){for(var o,n,s=e,m=t,h=this.getTransformEvaluationScore(r[~~((e+t)/2)],a,i);s<=m;){for(;s<=m&&this.getTransformEvaluationScore(r[s],a,i)>h;)s++;for(;m>=s&&this.getTransformEvaluationScore(r[m],a,i)<h;)m--;s<=m&&(o=r[s],n=r[m],this.getTransformEvaluationScore(o,a,i)!=this.getTransformEvaluationScore(n,a,i)&&(r[s]=n,r[m]=o),s++,m--)}e<m&&this.sortTransformsByEvaluationScore(r,e,m,a,i),s<t&&this.sortTransformsByEvaluationScore(r,s,t,a,i)},s.getCompleteLinesForPiece=function(r){for(var e,t=0,a=r.mMinMinoY;a<=r.mMaxMinoY;a++)e=a-r.mY+o.x1356395418454848719x,(this.mMatrixMinosBitGrid[a]|r.mMinosBitGrid[e])==this.mMatrixMinosBitGridFullRow&&t++;return t},s.getTouchingSurfacesForPiece=function(r,e,t){for(var a,i,o,n=0,s=r.mNumMinos,m=0;m<s;m++)i=(a=r.mMinosXY[m])%this.mMatrixWidth,o=~~(a/this.mMatrixWidth),this.doesCellCollide(i+e,o+t)&&n++;return n},s.getRowFitsForPiece=function(r){for(var e=0,t=r.getNumRows(),a=0;a<t;a++){var i=r.getRowMinXInMatrix(a),o=r.getRowMaxXInMatrix(a),n=r.getRowYInMatrix(a);this.doesCellCollide(i-1,n)&&this.doesCellCollide(o+1,n)&&e++}return e},s.getRightWallTouchesForPiece=function(r){if(r.mMaxMinoX==this.mMatrixWidth-1){var e=r.getNumColumns()-1,t=r.getColumnMinYInMatrix(e);return r.getColumnMaxYInMatrix(e)+1-t}return 0},s.getCavesForPiece=function(r){var e,t,a,n,s=0,m=r.mNumMinos;for(e=0;e<m;e++)t=r.mMinosXY[e],this.mMatrixMinos[t]=this.mMatrixMinos[t]|i.x1593469641406028991x;var h=r.getNumColumns();for(e=0;e<h;e++){a=r.getColumnXInMatrix(e);var c=r.getColumnMinYInMatrix(e),f=r.getColumnMaxYInMatrix(e);for(n=c;n<=f;n++){var l=n-r.mY+o.x1356395418454848719x;if((this.mMatrixMinosBitGrid[n]|r.mMinosBitGrid[l])!=this.mMatrixMinosBitGridFullRow){var u=c-1;if(!this.doesCellCollide(a,u)){var T=this.doesCellCollide(a-1,u),d=this.doesCellCollide(a+1,u);T&&d||s++}break}}}for(e=0;e<m;e++)t=r.mMinosXY[e],this.mMatrixMinos[t]=this.mMatrixMinos[t]&~i.x1593469641406028991x;return s},s.getHolesForPiece=function(r,e){if(0==e)return 0;e<0&&(e=this.mMatrixHeight);var t,a,s,m,h=0,c=r.mNumMinos;for(t=0;t<c;t++)a=r.mMinosXY[t],this.mMatrixMinos[a]=this.mMatrixMinos[a]|i.x1593469641406028991x;var f=r.getNumColumns();for(t=0;t<f;t++){s=r.getColumnXInMatrix(t);var l=r.getColumnMinYInMatrix(t),u=r.getColumnMaxYInMatrix(t);for(m=l;m<=u;m++){var T=m-r.mY+o.x1356395418454848719x;if((this.mMatrixMinosBitGrid[m]|r.mMinosBitGrid[T])!=this.mMatrixMinosBitGridFullRow){for(var d=n.minInt(l,e),v=1;v<=d;v++){var P=l-v;if(!this.doesCellCollide(s,P)){var I=this.doesCellCollide(s-1,P),g=this.doesCellCollide(s+1,P);I&&g&&h++}}break}}}for(t=0;t<c;t++)a=r.mMinosXY[t],this.mMatrixMinos[a]=this.mMatrixMinos[a]&~i.x1593469641406028991x;return h},s.getCoveredISlotDepthForPiece=function(r,e,t){if(0==t)return 0;t<0&&(t=this.mMatrixHeight);var a,s,m,h,c=0,f=r.mNumMinos;for(a=0;a<f;a++)s=r.mMinosXY[a],this.mMatrixMinos[s]=this.mMatrixMinos[s]|i.x1593469641406028991x,m=n.computeXFromGridIndex(s,this.mMatrixWidth),h=n.computeYFromGridIndex(s,this.mMatrixWidth),this.mMatrixMinosBitGrid[h]=this.mMatrixMinosBitGrid[h]|1<<m;var l=0,u=r.getNumColumns();for(a=0;a<u;a++){m=r.getColumnXInMatrix(a);var T=r.getColumnMinYInMatrix(a),d=r.getColumnMaxYInMatrix(a);for(h=T;h<=d;h++){var v=h-r.mY+o.x1356395418454848719x;if((this.mMatrixMinosBitGrid[h]|r.mMinosBitGrid[v])!=this.mMatrixMinosBitGridFullRow){for(var P=n.minInt(T,e),I=1;I<=P;I++)if(!this.doesCellCollide(m,T-I)){if(1==++l)for(var g=T-I+1,_=n.minInt(g,t),k=1;k<=_;k++){var C=g-k,S=this.mMatrixMinosBitGridFullRow&~(1<<m);if(this.mMatrixMinosBitGrid[C]!=S){c=0;break}c++}break}break}}if(l>1){c=0;break}}for(a=0;a<f;a++)s=r.mMinosXY[a],this.mMatrixMinos[s]=this.mMatrixMinos[s]&~i.x1593469641406028991x,m=n.computeXFromGridIndex(s,this.mMatrixWidth),h=n.computeYFromGridIndex(s,this.mMatrixWidth),this.mMatrixMinosBitGrid[h]=this.mMatrixMinosBitGrid[h]&~(1<<m);return c},s.getMoveAction=function(r,e){if(n.computeFacingFromTransformId(r)!=n.computeFacingFromTransformId(e))return n.x3045541000723196640x;var t=this.mPieceData.getPiece(this.mLivePieceTypeId,r);if(t.mPerTransformActionToTransformIds[n.x2122265053032977260x]==e)return n.x2122265053032977260x;if(t.mPerTransformActionToTransformIds[n.x727011725934177096x]==e)return n.x727011725934177096x;if(t.mPerTransformActionToTransformIds[n.x2109883774012417312x]==e)return n.x2109883774012417312x;var a=t.mPerTransformActionToTransformIds[n.x2122265053032977260x];return(t=this.mPieceData.getPiece(this.mLivePieceTypeId,a))&&this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,a,e)?n.x2122265053032977260x:n.x3045541000723196640x},s.getRotateAction=function(r,e){if(n.computeFacingFromTransformId(r)==n.computeFacingFromTransformId(e))return n.x3045541000723196640x;var t=this.mPieceData.getPiece(this.mLivePieceTypeId,r);return t.mPerTransformActionToTransformIds[n.x2753402191070231946x]==e?n.x2753402191070231946x:t.mPerTransformActionToTransformIds[n.x2825991636264176147x]==e?n.x2825991636264176147x:n.x3045541000723196640x},s.getHighestSurfaceYInColumn=function(r){for(var e=1<<r,t=this.mMatrixHeight-1;t>=0;t--)if(0!=(this.mMatrixMinosBitGrid[t]&e))return t+1;return 0},s.destroy=function(){if(!this.isDestroyed()){var e=this.mMatrixWidth*this.mMatrixHeight,t=0;for(t=0;t<e;t++)this.mPerCellTargetTransforms[t],this.mPerCellReachableTransformsByEvaluationScore[t];for(t=0;t<this.mMatrixWidth;t++)this.mPerColumnReachableTransformsByEvaluationScore[t];var a=this.mPieceData.getMaxNumTransforms();for(t=0;t<a;t++)this.mPerTransformPaths[t],this.mScratchPerTransformActionStacks[t];this.mEvaluator&&(this.mIsEvaluatorOwner&&this.mEvaluator.destroy(),this.mEvaluator=null),r.prototype.destroy.call(this)}},t(a,null,[{key:"x1193717801180830154x",get:function(){return 1}},{key:"x90760999986315311x",get:function(){return 2}},{key:"x4476685366500796250x",get:function(){return 4}},{key:"x2873248770774570816x",get:function(){return 8}},{key:"x1413382148115926783x",get:function(){return 1}},{key:"x2759971235866953476x",get:function(){return 1}},{key:"x1144569859029911352x",get:function(){return 2}},{key:"x3387099670738414649x",get:function(){return 4}},{key:"x2943965968907409799x",get:function(){return 8}},{key:"x1314841899163333349x",get:function(){return 16}},{key:"x842115831267797969x",get:function(){return 32}},{key:"x2069377286449256678x",get:function(){return 64}},{key:"x2947983249161670427x",get:function(){return 128}},{key:"x1737663305967699316x",get:function(){return-1e6}}]),a}(i));a._RF.pop()}}}));System.register("chunks:///_virtual/x2697327737977927830x.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,r;return{setters:[function(t){n=t.createClass},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"41fdaXUe7BKp61vTrLC60o/","x2697327737977927830x",void 0);t("x2697327737977927830x",function(){function t(){}return t.computeTransformId=function(n,r,e,o,i){if(n<0)return t.x2194798655026538212x;if(n>=e)return t.x2194798655026538212x;if(r<0)return t.x2194798655026538212x;var c=0,a=(r+o)*(e+2*o)+(n+o);return c=(c=c&~t.x4320155992257543874x|a<<t.x1675410669856281540x&t.x4320155992257543874x)&~t.x1937013052960507227x|i<<t.x4330550608401537223x&t.x1937013052960507227x},t.computeXFromTransformId=function(n,r,e){return n!=t.x2194798655026538212x?t.computeXFromGridIndex(t.getValueFromPackedBits(n,t.x4320155992257543874x,t.x1675410669856281540x),r+2*e)-e:0},t.computeYFromTransformId=function(n,r,e){return n!=t.x2194798655026538212x?t.computeYFromGridIndex(t.getValueFromPackedBits(n,t.x4320155992257543874x,t.x1675410669856281540x),r+2*e)-e:0},t.computeFacingFromTransformId=function(n){return n!=t.x2194798655026538212x?t.getValueFromPackedBits(n,t.x1937013052960507227x,t.x4330550608401537223x):t.x771445861677852680x},t.areTransformsXYEqual=function(n,r,e,o){return t.computeXFromTransformId(n,e,o)==t.computeXFromTransformId(r,e,o)&&t.computeYFromTransformId(n,e,o)==t.computeYFromTransformId(r,e,o)},t.rotateDirections90=function(t,n){return t&=255,n?255&(t<<2|t>>>6):255&(t>>>2|t<<6)},t.validateStickyBits=function(n){return t.areBitsOn(t.x3244718963149409389x,n)&&(t.areBitsOn(t.x3415148147941047326x,n)||(n&=~t.x3244718963149409389x)),t.areBitsOn(t.x3319376958055402371x,n)&&(t.areBitsOn(t.x3040098973470816745x,n)||(n&=~t.x3319376958055402371x)),t.areBitsOn(t.x1608540311894516498x,n)&&(t.areBitsOn(t.x1780148556534776737x,n)||(n&=~t.x1608540311894516498x)),t.areBitsOn(t.x4268706274728069679x,n)&&(t.areBitsOn(t.x4554766959962672639x,n)||(n&=~t.x4268706274728069679x)),n},t.getFacingName=function(n){switch(n){case t.x353242128309914033x:return"N";case t.x2310622958375835533x:return"E";case t.x907260158049481623x:return"S";case t.x1602664510624180272x:return"W";default:return"INVALID"}},t.rotateFacing90=function(n,r){return t.loopClampedInt(n+(r?1:-1),t.x353242128309914033x,t.x1602664510624180272x)},t.rotateFacing180=function(n,r){return t.rotateFacing90(t.rotateFacing90(n,r),r)},t.isFacingRotationClockwise=function(t,n){return t<n?n-t<3:t>n&&t-n==3},t.getPointXForFacingRotation=function(n,r,e,o){var i=n,c=r;switch(e){case t.x353242128309914033x:case t.x2310622958375835533x:case t.x907260158049481623x:case t.x1602664510624180272x:switch(o){case t.x353242128309914033x:case t.x2310622958375835533x:case t.x907260158049481623x:case t.x1602664510624180272x:for(var a;e!=o;)a=i,i=c,c=-a,e=t.rotateFacing90(e,!0)}}return i},t.getPointYForFacingRotation=function(n,r,e,o){var i=n,c=r;switch(e){case t.x353242128309914033x:case t.x2310622958375835533x:case t.x907260158049481623x:case t.x1602664510624180272x:switch(o){case t.x353242128309914033x:case t.x2310622958375835533x:case t.x907260158049481623x:case t.x1602664510624180272x:for(var a;e!=o;)a=i,i=c,c=-a,e=t.rotateFacing90(e,!0)}}return c},t.getRotationPointForTransformAction=function(n){switch(n){case t.x2753402191070231946x:case t.x1049051644612241512x:case t.x851740989219005917x:case t.x4474722712933573683x:case t.x3039526374878809407x:return n-t.x2753402191070231946x+1;case t.x2825991636264176147x:case t.x3204944895268573036x:case t.x2061096115069916713x:case t.x362155996399456565x:case t.x1448237707244317054x:return n-t.x2825991636264176147x+1;default:return 0}},t.getControlActionName=function(n){switch(n){case t.x1163264438382801197x:return"moveLeft";case t.x1148181501057868572x:return"moveRight";case t.x3037978297644400982x:return"rotateCW";case t.x3627316749632917279x:return"rotateCCW";case t.x1045657441224132560x:return"superRotateCW";case t.x1632269064637221348x:return"superRotateCCW";case t.x2009612428084326544x:return"startSoftDrop";case t.x3398658093998472145x:return"stopSoftDrop";case t.x3093225339302193578x:return"hardDrop";case t.x476144921134076668x:return"hold";case t.x465839716603525218x:return"updateGhost";case t.x274957615890821540x:return"moveTarget";case t.x914500067508213266x:return"moveTargetLeft";case t.x414078848479177992x:return"moveTargetRight";case t.x3493086446927858709x:return"cycleTarget";case t.x1745179120318019337x:return"moveToTarget";case t.x1415831414458085166x:return"selectTarget";case t.x1754747052250615582x:return"moveDown";case t.x969972148126808315x:return"activateNextQueuedPendingAction";default:return"UNKNOWN"}},t.getControlActionForTransformAction=function(n){switch(n){case t.x2109883774012417312x:return t.x1163264438382801197x;case t.x727011725934177096x:return t.x1148181501057868572x;case t.x2122265053032977260x:return t.x1754747052250615582x;case t.x2753402191070231946x:case t.x1049051644612241512x:case t.x851740989219005917x:case t.x4474722712933573683x:case t.x3039526374878809407x:return t.x1045657441224132560x;case t.x2825991636264176147x:case t.x3204944895268573036x:case t.x2061096115069916713x:case t.x362155996399456565x:case t.x1448237707244317054x:return t.x1632269064637221348x;case t.x1683198617708317286x:return t.x3093225339302193578x;case t.x2237163181313092904x:return t.x274957615890821540x;case t.x4575368020927236479x:return t.x1415831414458085166x;case t.x4501749881084971968x:return t.x476144921134076668x;case t.x3220932529639043801x:return t.x969972148126808315x;default:return t.x1368284773568313387x}},t.getControlActionInfoForTransformAction=function(n){switch(n){case t.x2753402191070231946x:case t.x1049051644612241512x:case t.x851740989219005917x:case t.x4474722712933573683x:case t.x3039526374878809407x:return n-t.x2753402191070231946x+1;case t.x2825991636264176147x:case t.x3204944895268573036x:case t.x2061096115069916713x:case t.x362155996399456565x:case t.x1448237707244317054x:return n-t.x2825991636264176147x+1;default:return 0}},t.minInt=function(t,n){return t<n?t:n},t.maxInt=function(t,n){return t>n?t:n},t.clampInt=function(t,n,r){return n<r?t<n?n:t>r?r:t:t<r?r:t>n?n:t},t.loopInt=function(t,n,r){if(n==r)return n;var e,o;n<r?(e=n,o=r):(e=r,o=n);var i,c=o-e+1;return t<e?o-((i=o-t)-~~(i/c)*c):t>o?e+((i=t-e)-~~(i/c)*c):t},t.loopClampedInt=function(t,n,r){return n==r?t:(n<r?(e=n,o=r):(e=r,o=n),t<e?o:t>o?e:t);var e,o},t.sign=function(t){return t<0?-1:1},t.FXPTFromInt=function(n){return n*t.x1799756490073264452x},t.FXPTToInt=function(n){return~~(n/t.x1799756490073264452x)},t.FXPTFloor=function(n){return~~(n/t.x1799756490073264452x)*t.x1799756490073264452x},t.FXPTMultiply=function(n,r){return~~(n*r/t.x1799756490073264452x)},t.FXPTDivide=function(n,r){return~~(n*t.x1799756490073264452x/r)},t.FXPTSmooth=function(n,r,e){return e<=0?r:e>=t.x2045759414872908808x?n:t.FXPTMultiply(n,e)+t.FXPTMultiply(r,t.x2045759414872908808x-e)},t.generateNativeRandomSeed=function(){return Date.now()},t.setNativeRandomSeed=function(t){},t.nextNativeRandomInt=function(){return~~(2147483647*Math.random())},t.nextNativeRandomIntInRange=function(n,r){return n!=r?n+t.nextNativeRandomInt()%(r-n+1):n},t.computeGridIndex=function(t,n,r){return n*r+t},t.computeXFromGridIndex=function(t,n){return t%n},t.computeYFromGridIndex=function(t,n){return~~(t/n)},t.computeGridBit=function(n,r,e){return 1<<t.computeGridIndex(n,r,e)},t.getValueFromPackedBits=function(t,n,r){return(t&n)>>>r},t.setValueInPackedBits=function(t,n,r,e){return n&~r|t<<e&r},t.areBitsOn=function(t,n){return(n&t)==t},n(t,null,[{key:"x2640432151801765044x",get:function(){return 1}},{key:"x3371115734898663512x",get:function(){return 2}},{key:"x1211649191952402875x",get:function(){return 3}},{key:"x4298602585230304219x",get:function(){return 4}},{key:"x1153257188054369495x",get:function(){return 5}},{key:"x2563343360109526899x",get:function(){return 6}},{key:"x2162197462838643576x",get:function(){return 7}},{key:"x2282177522225822300x",get:function(){return 8}},{key:"x351576513181277538x",get:function(){return 9}},{key:"x3294734154738425530x",get:function(){return 10}},{key:"x3348926169621623293x",get:function(){return 11}},{key:"x1327550898746693554x",get:function(){return 12}},{key:"kTransformIdNumBits_facing",get:function(){return 2}},{key:"kTransformIdNumBits_xy",get:function(){return 16}},{key:"x4330550608401537223x",get:function(){return 0}},{key:"x1675410669856281540x",get:function(){return 2}},{key:"x1937013052960507227x",get:function(){return 3}},{key:"x4320155992257543874x",get:function(){return 262140}},{key:"x2194798655026538212x",get:function(){return-1}},{key:"x4008812685520917032x",get:function(){return 0}},{key:"x2231341302153361616x",get:function(){return 90}},{key:"x967047132275585775x",get:function(){return 180}},{key:"x2484402922611265012x",get:function(){return 1}},{key:"x3244718963149409389x",get:function(){return 2}},{key:"x196245965280186343x",get:function(){return 4}},{key:"x3319376958055402371x",get:function(){return 8}},{key:"x4064892280639253967x",get:function(){return 16}},{key:"x1608540311894516498x",get:function(){return 32}},{key:"x3311267247859839537x",get:function(){return 64}},{key:"x4268706274728069679x",get:function(){return 128}},{key:"x3415148147941047326x",get:function(){return 7}},{key:"x3040098973470816745x",get:function(){return 28}},{key:"x1780148556534776737x",get:function(){return 112}},{key:"x4554766959962672639x",get:function(){return 193}},{key:"x771445861677852680x",get:function(){return-1}},{key:"x353242128309914033x",get:function(){return 0}},{key:"x2310622958375835533x",get:function(){return 1}},{key:"x907260158049481623x",get:function(){return 2}},{key:"x1602664510624180272x",get:function(){return 3}},{key:"kNumFacings",get:function(){return 4}},{key:"x3045541000723196640x",get:function(){return-1}},{key:"x1939585969335275317x",get:function(){return 0}},{key:"x2109883774012417312x",get:function(){return 1}},{key:"x727011725934177096x",get:function(){return 2}},{key:"x2122265053032977260x",get:function(){return 3}},{key:"x2753402191070231946x",get:function(){return 4}},{key:"x1049051644612241512x",get:function(){return 5}},{key:"x851740989219005917x",get:function(){return 6}},{key:"x4474722712933573683x",get:function(){return 7}},{key:"x3039526374878809407x",get:function(){return 8}},{key:"x2825991636264176147x",get:function(){return 9}},{key:"x3204944895268573036x",get:function(){return 10}},{key:"x2061096115069916713x",get:function(){return 11}},{key:"x362155996399456565x",get:function(){return 12}},{key:"x1448237707244317054x",get:function(){return 13}},{key:"x1683198617708317286x",get:function(){return 14}},{key:"x2237163181313092904x",get:function(){return 15}},{key:"x4575368020927236479x",get:function(){return 16}},{key:"x2718545419158875445x",get:function(){return 17}},{key:"x4501749881084971968x",get:function(){return 18}},{key:"x3220932529639043801x",get:function(){return 19}},{key:"x1841009918890461404x",get:function(){return 14}},{key:"x1368284773568313387x",get:function(){return 0}},{key:"x1163264438382801197x",get:function(){return 1}},{key:"x1148181501057868572x",get:function(){return 2}},{key:"x3037978297644400982x",get:function(){return 3}},{key:"x3627316749632917279x",get:function(){return 4}},{key:"x1045657441224132560x",get:function(){return 5}},{key:"x1632269064637221348x",get:function(){return 6}},{key:"x2009612428084326544x",get:function(){return 7}},{key:"x3398658093998472145x",get:function(){return 8}},{key:"x3093225339302193578x",get:function(){return 9}},{key:"x476144921134076668x",get:function(){return 10}},{key:"x465839716603525218x",get:function(){return 11}},{key:"x274957615890821540x",get:function(){return 12}},{key:"x914500067508213266x",get:function(){return 13}},{key:"x414078848479177992x",get:function(){return 14}},{key:"x3493086446927858709x",get:function(){return 15}},{key:"x1745179120318019337x",get:function(){return 16}},{key:"x1415831414458085166x",get:function(){return 17}},{key:"x1754747052250615582x",get:function(){return 18}},{key:"x969972148126808315x",get:function(){return 19}},{key:"x175341970939122441x",get:function(){return 19}},{key:"x2762047832241342883x",get:function(){return 0}},{key:"x3109280748125391346x",get:function(){return 1}},{key:"x1235464930560725342x",get:function(){return 2}},{key:"x2812288279383445977x",get:function(){return 2147483647}},{key:"x2311178134419187541x",get:function(){return-2147483647}},{key:"x1799756490073264452x",get:function(){return 1e3}},{key:"x2045759414872908808x",get:function(){return 1e3}}]),t}()).sIsDebugModeOn=!1,r._RF.pop()}}}));System.register("chunks:///_virtual/x1442773774411748326x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3549067075061003607x.ts"],(function(t){"use strict";var o,e,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.x3549067075061003607x}],execute:function(){e._RF.push({},"e0f987JtoZJJoegOl/cbLFt","x1442773774411748326x",void 0);t("x1442773774411748326x",function(t){function e(o,e,r,n,l){var i;return(i=t.call(this,e,r,n,l)||this).mInterface=o,i.mModel=null,i}o(e,t);var r=e.prototype;return r.setModel=function(t){this.mModel=t},r.destroy=function(){this.isDestroyed()||t.prototype.destroy.call(this)},r.x4144604058719383193x=function(){return this.mModel.getGameState()},r.x4600673856120853921x=function(){return this.mModel},r.x1884498690603265194x=function(){return this.mInterface.x2471836074014505605x()},r.x1492720501170860268x=function(){return this.mModel.isActive()},r.x2189795356796365743x=function(t,o,e){this.mModel.performControlAction(t,o,e)},e}(r));e._RF.pop()}}}));System.register("chunks:///_virtual/x2478886613301025450x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2844149478643929343x.ts"],(function(t){"use strict";var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.x2844149478643929343x}],execute:function(){n._RF.push({},"ad453bSgL5HsYbw1oXzUa8W","x2478886613301025450x",void 0);t("x2478886613301025450x",function(t){function n(e,n,o,r,a){var d;return(d=t.call(this,n,o,r,a)||this).mInterface=e,d}e(n,t);var o=n.prototype;return o.destroy=function(){this.isDestroyed()||t.prototype.destroy.call(this)},o.x3597007442266065843x=function(){return this.mInterface.x2471836074014505605x()},o.x2954122470410963337x=function(){this.mInterface.x2458387539630665861x()},o.x2267183045048393816x=function(t,e,n,o,r){this.mInterface.x1049491425727914269x(t,e,n,o,r)},o.x4352001959933621830x=function(t){return this.mInterface.x2196891656787529984x(t)},o.x966241109084734041x=function(t){this.mInterface.x1058575956147559628x(t)},o.x626788511313154672x=function(t,e,n){this.mInterface.x3060691252252401211x(t,e,n)},o.x3796785845672155164x=function(t){this.mInterface.x3893763665171516694x(t)},o.x3543258852201794257x=function(t){this.mInterface.x1316092419706207274x(t)},o.x2491826566415223483x=function(t,e){this.mInterface.x4547241539657516365x(t,e)},o.x3092377609147539349x=function(){this.mInterface.x1685273721742577488x()},o.x807038421150868037x=function(){this.mInterface.x3249519766427856812x()},o.x569170767445709786x=function(){this.mInterface.x786254112047252119x()},n}(o));n._RF.pop()}}}));System.register("chunks:///_virtual/x2564479158417964948x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4272192290603036666x.ts","./x2697327737977927830x.ts","./x396704097379050657x.ts","./x4522452675581703348x.ts"],(function(t){"use strict";var e,i,r,n,a,o,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){r=t.cclegacy},function(t){n=t.x4272192290603036666x},function(t){a=t.x2697327737977927830x},function(t){o=t.x396704097379050657x},function(t){s=t.x4522452675581703348x}],execute:function(){r._RF.push({},"edf34t7J51GtKTbfbiwSVqC","x2564479158417964948x",void 0);t("x2564479158417964948x",function(t){function r(e,i,n,o,c){var l;return(l=t.call(this,r.x4300242453282062329x,r.x924318484818348441x,e,i,n,o,c)||this).mActionsToTarget=new Array,l.mParameter_enablePieceFall=!1,l.mParameter_enableLockTimer=!1,l.mParameter_enableHardDrop=!0,l.mParameter_enableHold=!1,l.mParameter_actionPreDelayMSEC_firstStepMin=200,l.mParameter_actionPreDelayMSEC_firstStepMax=400,l.mParameter_actionPreDelayMSEC_moveLR=50,l.mParameter_actionPreDelayMSEC_rotate=50,l.mParameter_actionPreDelayMSEC_hardDrop=50,l.mTargetFinder1=new s(i,n,o,c,!0),l.mGameState2=null,l.mTargetFinder2=null,l.mNextActionStepIndex=-1,l.mLivePieceTotalActionSteps=0,l.mActionTimerMSEC=0,l.mLivePiecePreviousTransform=a.x2194798655026538212x,l}e(r,t);var n=r.prototype;return n.getTargetFinder=function(){return this.mTargetFinder1},n.calculateActions=function(){this.cancelActions();var t=this.mTargetFinder1.getBestTransform(a.x771445861677852680x,0,!1);if(this.mParameter_enableHold&&this.getController()._getModel().canHoldLivePiece()){var e=this.mTargetFinder1.getTransformEvaluationScore(t,-1,-1),i=this.mTargetFinder2.getBestTransform(a.x771445861677852680x,0,!1);if(this.mTargetFinder2.getTransformEvaluationScore(i,-1,-1)>e){this.mActionsToTarget.length=0;var r=a.x4501749881084971968x;return void this.mActionsToTarget.push(r)}}this.mTargetFinder1.getBestActionsForTransform(t,this.mActionsToTarget,!0,this.mParameter_enableHardDrop,!this.mParameter_enableLockTimer)},n.startActions=function(t){this.mNextActionStepIndex=0,t&&(this.mActionTimerMSEC=this.getPreDelayMSECForNextAction()),this.mLivePiecePreviousTransform=this.getController()._getGameState().getLivePieceCurrentTransform()},n.cancelActions=function(){this.mActionsToTarget.length=0,this.mNextActionStepIndex=-1},n.recalculateActions=function(){this.cancelActions();var t=this.getController()._getGameState();t.isLivePieceActive()&&(this.mTargetFinder1.resetReachableTransforms(t.getLivePieceCurrentX(),t.getLivePieceCurrentY(),t.getLivePieceCurrentFacing()),this.calculateActions(),this.startActions(!1))},n.canProcessActions=function(){if(!this.isLivePieceControllable())return!1;if(this.mNextActionStepIndex<0)return!1;var t=this.mActionsToTarget.length;return this.mNextActionStepIndex<=t-1},n.processActions=function(t){if(this.canProcessActions())for(this.mActionTimerMSEC-=t;this.mActionTimerMSEC<=0&&this.canProcessActions();){var e=this.getController()._getGameState();if(e.getLivePieceCurrentTransform()!=this.mLivePiecePreviousTransform&&(this.recalculateActions(),!this.canProcessActions()))break;var i=this.mActionsToTarget[this.mNextActionStepIndex],r=a.getControlActionForTransformAction(i);this.mNextActionStepIndex++,r!=a.x1368284773568313387x&&(this.getController()._performControlAction(r,null,null),this.mLivePiecePreviousTransform=e.getLivePieceCurrentTransform(),this.mLivePieceTotalActionSteps++,this.canProcessActions()&&(this.mActionTimerMSEC+=this.getPreDelayMSECForNextAction()))}},n.getPreDelayMSECForNextAction=function(){if(0==this.mLivePieceTotalActionSteps)return a.nextNativeRandomIntInRange(this.mParameter_actionPreDelayMSEC_firstStepMin,this.mParameter_actionPreDelayMSEC_firstStepMax);switch(this.mActionsToTarget[this.mNextActionStepIndex]){case a.x2109883774012417312x:case a.x727011725934177096x:case a.x2237163181313092904x:return this.mParameter_actionPreDelayMSEC_moveLR;case a.x2122265053032977260x:return this.getController()._getModel().mSoftDropFallSpeedMSEC;case a.x2753402191070231946x:case a.x1049051644612241512x:case a.x851740989219005917x:case a.x4474722712933573683x:case a.x3039526374878809407x:case a.x2825991636264176147x:case a.x3204944895268573036x:case a.x2061096115069916713x:case a.x362155996399456565x:case a.x1448237707244317054x:return this.mParameter_actionPreDelayMSEC_rotate;case a.x1683198617708317286x:case a.x4575368020927236479x:return this.mParameter_actionPreDelayMSEC_hardDrop;default:return 0}},n.destroy=function(){this.isDestroyed()||(null!==this.mTargetFinder1&&(this.mTargetFinder1.destroy(),this.mTargetFinder1=null),null!==this.mTargetFinder2&&(this.mTargetFinder2.destroy(),this.mTargetFinder2=null),t.prototype.destroy.call(this))},n.x371773043756528957x=function(t){if(t){if(!this.mGameState2){var e=this.getController()._getGameState();this.mGameState2=new o(e.getPieceData(),this.getMatrixWidth(),this.getMatrixHeight(),this.getMatrixVisibleHeight()),this.mTargetFinder2=new s(e.getPieceData(),this.getMatrixWidth(),this.getMatrixHeight(),this.getMatrixVisibleHeight(),!0)}this.mTargetFinder2.copyParameters(this.mTargetFinder1),this.getController()._getModel().mIsFallControlEnabled=this.mParameter_enablePieceFall,this.getController()._getModel().mIsLockTimerEnabled=this.mParameter_enableLockTimer,this.getController()._performControlAction(a.x465839716603525218x,null,null),this.x4317694066239432710x(),this.x3498118442457140378x(),this.recalculateActions()}else this.getController()._getModel().mIsFallControlEnabled=!0,this.getController()._getModel().mIsLockTimerEnabled=!0,this.cancelActions()},n.x3056683011705258038x=function(t){this.processActions(t)},n.x1301163629030014353x=function(t){},n.x3847147672198281922x=function(t){},n.x2872677879249794081x=function(t){},n.x3652214323548795390x=function(t){},n.x4317694066239432710x=function(){if(this.isActive()){this.getController()._getModel().mIsFallControlEnabled=this.mParameter_enablePieceFall,this.mLivePieceTotalActionSteps=0,this.mLivePiecePreviousTransform=a.x2194798655026538212x,this.cancelActions();var t=this.getController()._getGameState();if(this.mTargetFinder1.setMatrixLimits(t.getMatrixWidthLimit(),t.getMatrixHeightLimit(),this.getMatrixVisibleHeight()),this.mTargetFinder1.startStateEvaluation(t),this.mParameter_enableHold){this.mGameState2.resetStateWithState(t);var e=t.getAlternatePieceTypeId();this.mGameState2.setLivePiece(e,t.getLivePieceCurrentX(),t.getLivePieceCurrentY(),t.getLivePieceCurrentFacing(),t.getLivePieceCurrentX(),t.getLivePieceCurrentY(),t.getLivePieceCurrentFacing()),this.mTargetFinder2.setMatrixLimits(this.mGameState2.getMatrixWidthLimit(),this.mGameState2.getMatrixHeightLimit(),this.getMatrixVisibleHeight()),this.mTargetFinder2.startStateEvaluation(this.mGameState2)}}},n.x3498118442457140378x=function(){if(!this.isActive())return!0;var t=this.mTargetFinder1.processStateEvaluation();return t&&this.mParameter_enableHold&&this.getController()._getModel().canHoldLivePiece()&&(t=this.mTargetFinder2.processStateEvaluation()),t&&this.calculateActions(),t},n.x720290557980039669x=function(){this.isActive()&&(this.mTargetFinder1.handleLivePieceDidActivate(),this.startActions(!0))},n.x3281422530331587646x=function(){this.isActive()&&(this.mTargetFinder1.handleLivePieceDidDeactivate(),this.cancelActions())},i(r,null,[{key:"x4300242453282062329x",get:function(){return 4}},{key:"x924318484818348441x",get:function(){return 0}}]),r}(n));r._RF.pop()}}}));System.register("chunks:///_virtual/x3549067075061003607x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2697327737977927830x.ts","./x4272192290603036666x.ts","./x2564479158417964948x.ts","./x1920625444352595344x.ts","./x3864923619156808642x.ts","./x2193489684581297840x.ts"],(function(t){"use strict";var e,n,r,o,i,s,a,u;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x2697327737977927830x},function(t){o=t.x4272192290603036666x},function(t){i=t.x2564479158417964948x},function(t){s=t.x1920625444352595344x},function(t){a=t.x3864923619156808642x},function(t){u=t.x2193489684581297840x}],execute:function(){n._RF.push({},"540b1ZZTpdJtprPkX+JDwf3","x3549067075061003607x",void 0);t("x3549067075061003607x",function(){function t(t,e,n,r){this.mInputMgrs=new Array,this.mPieceData=r,this.mMatrixWidth=t,this.mMatrixHeight=e,this.mMatrixVisibleHeight=n,this.mPrevProcessTimeMSEC=-1,this.mAIInputMgr=null,this.mDirectInputMgr=null,this.mSmartInputMgr=null,this.mGestureInputMgr=null,this.mEnableAutomaticInputTypeSwitching=!0,this.mActiveInputMgr=null,this.mIsLivePieceControllable=!1,this.mIsSoftDropOn=!1,this.mIsControlActionEnabled_moveLeft=!0,this.mIsControlActionEnabled_moveRight=!0,this.mIsControlActionEnabled_rotateCW=!0,this.mIsControlActionEnabled_rotateCCW=!0,this.mIsControlActionEnabled_superRotateCW=!0,this.mIsControlActionEnabled_superRotateCCW=!0,this.mIsControlActionEnabled_startSoftDrop=!0,this.mIsControlActionEnabled_stopSoftDrop=!0,this.mIsControlActionEnabled_hardDrop=!0,this.mIsControlActionEnabled_hold=!0,this.mIsControlActionEnabled_updateGhost=!0,this.mIsControlActionEnabled_moveTarget=!0,this.mIsControlActionEnabled_moveTargetLeft=!0,this.mIsControlActionEnabled_moveTargetRight=!0,this.mIsControlActionEnabled_cycleTarget=!0,this.mIsControlActionEnabled_moveToTarget=!0,this.mIsControlActionEnabled_selectTarget=!0,this.mIsControlActionEnabled_moveDown=!0,this.mIsControlActionEnabled_activateNextQueuedPendingAction=!0,this.mIsDestroyed=!1}var n=t.prototype;return n.isDestroyed=function(){return this.mIsDestroyed},n.enableInputType=function(e){if(!this.isInputTypeEnabled(e))switch(e){case t.x1783666039364785772x:this.mAIInputMgr=new i(this,this.mPieceData,this.mMatrixWidth,this.mMatrixHeight,this.mMatrixVisibleHeight),this.mInputMgrs.push(this.mAIInputMgr);break;case t.x3699220901933188103x:this.mDirectInputMgr=new s(this,this.mPieceData,this.mMatrixWidth,this.mMatrixHeight,this.mMatrixVisibleHeight),this.mInputMgrs.push(this.mDirectInputMgr);break;case t.x1641265582704792431x:this.mSmartInputMgr=new u(this,this.mPieceData,this.mMatrixWidth,this.mMatrixHeight,this.mMatrixVisibleHeight),this.mInputMgrs.push(this.mSmartInputMgr);break;case t.x3007826297304550775x:this.mGestureInputMgr=new a(this,this.mPieceData,this.mMatrixWidth,this.mMatrixHeight,this.mMatrixVisibleHeight),this.mInputMgrs.push(this.mGestureInputMgr)}},n.disableInputType=function(e){if(this.isInputTypeEnabled(e)){var n=this._getInputMgr(e);this.mActiveInputMgr==n&&this.setActiveInputMgr(null);for(var r=this.mInputMgrs.length,o=0;o<r;o++)if(this.mInputMgrs[o]==n){this.mInputMgrs.splice(o,1);break}switch(e){case t.x1783666039364785772x:this.mAIInputMgr&&(this.mAIInputMgr.destroy(),null!==this.mAIInputMgr&&(this.mAIInputMgr=null));break;case t.x3699220901933188103x:this.mDirectInputMgr&&(this.mDirectInputMgr.destroy(),null!==this.mDirectInputMgr&&(this.mDirectInputMgr=null));break;case t.x1641265582704792431x:this.mSmartInputMgr&&(this.mSmartInputMgr.destroy(),null!==this.mSmartInputMgr&&(this.mSmartInputMgr=null));break;case t.x3007826297304550775x:this.mGestureInputMgr&&(this.mGestureInputMgr.destroy(),null!==this.mGestureInputMgr&&(this.mGestureInputMgr=null))}}},n.isInputTypeEnabled=function(t){return this._getInputMgr(t)},n.getActiveInputType=function(){return this.mActiveInputMgr?this.mActiveInputMgr.getInputType():0},n.setActiveInputType=function(t){this.setActiveInputMgr(this.getInputMgr(t,!0))},n.setEnableAutomaticInputTypeSwitching=function(t){this.mEnableAutomaticInputTypeSwitching=t},n.getAIInputMgr=function(){return this.mAIInputMgr},n.getDirectInputMgr=function(){return this.mDirectInputMgr},n.getSmartInputMgr=function(){return this.mSmartInputMgr},n.getGestureInputMgr=function(){return this.mGestureInputMgr},n.processTime=function(){if(this.x4600673856120853921x().isActive()){var t=this._getTimeMSEC();if(this.mPrevProcessTimeMSEC>=0&&this.mActiveInputMgr){var e=t-this.mPrevProcessTimeMSEC;this.mActiveInputMgr.processTime(e)}this.mPrevProcessTimeMSEC=t}else this.mPrevProcessTimeMSEC=-1},n.isControlActionEnabled=function(t){switch(t){case r.x1163264438382801197x:return this.mIsControlActionEnabled_moveLeft;case r.x1148181501057868572x:return this.mIsControlActionEnabled_moveRight;case r.x3037978297644400982x:return this.mIsControlActionEnabled_rotateCW;case r.x3627316749632917279x:return this.mIsControlActionEnabled_rotateCCW;case r.x1045657441224132560x:return this.mIsControlActionEnabled_superRotateCW;case r.x1632269064637221348x:return this.mIsControlActionEnabled_superRotateCCW;case r.x2009612428084326544x:return this.mIsControlActionEnabled_startSoftDrop;case r.x3398658093998472145x:return this.mIsControlActionEnabled_stopSoftDrop;case r.x3093225339302193578x:return this.mIsControlActionEnabled_hardDrop;case r.x476144921134076668x:return this.mIsControlActionEnabled_hold;case r.x465839716603525218x:return this.mIsControlActionEnabled_updateGhost;case r.x274957615890821540x:return this.mIsControlActionEnabled_moveTarget;case r.x914500067508213266x:return this.mIsControlActionEnabled_moveTargetLeft;case r.x414078848479177992x:return this.mIsControlActionEnabled_moveTargetRight;case r.x3493086446927858709x:return this.mIsControlActionEnabled_cycleTarget;case r.x1745179120318019337x:return this.mIsControlActionEnabled_moveToTarget;case r.x1415831414458085166x:return this.mIsControlActionEnabled_selectTarget;case r.x1754747052250615582x:return this.mIsControlActionEnabled_moveDown;case r.x969972148126808315x:return this.mIsControlActionEnabled_activateNextQueuedPendingAction;default:return!1}},n.setIsControlActionEnabled=function(t,e){switch(t){case r.x1163264438382801197x:this.mIsControlActionEnabled_moveLeft=e;break;case r.x1148181501057868572x:this.mIsControlActionEnabled_moveRight=e;break;case r.x3037978297644400982x:this.mIsControlActionEnabled_rotateCW=e;break;case r.x3627316749632917279x:this.mIsControlActionEnabled_rotateCCW=e;break;case r.x1045657441224132560x:this.mIsControlActionEnabled_superRotateCW=e;break;case r.x1632269064637221348x:this.mIsControlActionEnabled_superRotateCCW=e;break;case r.x2009612428084326544x:this.mIsControlActionEnabled_startSoftDrop=e;break;case r.x3398658093998472145x:this.mIsControlActionEnabled_stopSoftDrop=e;break;case r.x3093225339302193578x:this.mIsControlActionEnabled_hardDrop=e;break;case r.x476144921134076668x:this.mIsControlActionEnabled_hold=e;break;case r.x465839716603525218x:this.mIsControlActionEnabled_updateGhost=e;break;case r.x274957615890821540x:this.mIsControlActionEnabled_moveTarget=e;break;case r.x914500067508213266x:this.mIsControlActionEnabled_moveTargetLeft=e;break;case r.x414078848479177992x:this.mIsControlActionEnabled_moveTargetRight=e;break;case r.x3493086446927858709x:this.mIsControlActionEnabled_cycleTarget=e;break;case r.x1745179120318019337x:this.mIsControlActionEnabled_moveToTarget=e;break;case r.x1415831414458085166x:this.mIsControlActionEnabled_selectTarget=e;break;case r.x1754747052250615582x:this.mIsControlActionEnabled_moveDown=e;break;case r.x969972148126808315x:this.mIsControlActionEnabled_activateNextQueuedPendingAction=e}},n.isInputEnabled=function(t){var e=this.getInputMgrForInputId(t,!0);return!!e&&e.isInputEnabled(t)},n.setIsInputEnabled=function(t,e){var n=this.getInputMgrForInputId(t,!0);n&&n.setIsInputEnabled(t,e)},n.handleInputPositionChanged=function(t,e,n){if(!this.x1492720501170860268x())return!1;t=this.transformInputIdForActiveInputMgr(t),this.updateActiveInputMgr(t);var r=this.getInputMgrForInputId(t,!0);if(r){var o=this._getGameState().getLivePieceCurrentTransform();return r.handleInputPositionChanged(t,e,n),o!=this._getGameState().getLivePieceCurrentTransform()}return!1},n.handleInputIsOn=function(t,e,n){if(!this.x1492720501170860268x())return!1;t=this.transformInputIdForActiveInputMgr(t),this.updateActiveInputMgr(t);var r=this.getInputMgrForInputId(t,!0);if(r){var o=this._getGameState().getLivePieceCurrentTransform();return r.handleInputIsOn(t,e,n),o!=this._getGameState().getLivePieceCurrentTransform()}return!1},n.handleInputIsOnExclusive=function(t,e,n){if(!this.x1492720501170860268x())return!1;t=this.transformInputIdForActiveInputMgr(t),this.updateActiveInputMgr(t);var r=this.getInputMgrForInputId(t,!0);if(r){var o=this._getGameState().getLivePieceCurrentTransform();return r.handleInputIsOnExclusive(t,e,n),o!=this._getGameState().getLivePieceCurrentTransform()}return!1},n.handleInputIsOff=function(t,e,n){if(!this.x1492720501170860268x())return!1;t=this.transformInputIdForActiveInputMgr(t),this.updateActiveInputMgr(t);var r=this.getInputMgrForInputId(t,!0);if(r){var o=this._getGameState().getLivePieceCurrentTransform();return r.handleInputIsOff(t,e,n),o!=this._getGameState().getLivePieceCurrentTransform()}return!1},n.handleInputOnIsCancelled=function(t){if(this.x1492720501170860268x()){t=this.transformInputIdForActiveInputMgr(t),this.updateActiveInputMgr(t);var e=this.getInputMgrForInputId(t,!0);e&&e.handleInputOnIsCancelled(t)}},n.turnOffAllInputsForInputType=function(t){if(this.x1492720501170860268x()){var e=this.getInputMgr(t,!0);e&&e.turnOffAllInputs()}},n.cancelAllInputs=function(){for(var t=this.mInputMgrs.length,e=0;e<t;e++){this.mInputMgrs[e].cancelAllInputs()}},n.isInputOn=function(t){var e=this.getInputMgrForInputId(t,!0);return!!e&&e.isInputOn(t)},n.startEvaluationForNewLivePiece=function(){for(var t=this.mInputMgrs.length,e=0;e<t;e++){this.mInputMgrs[e].startEvaluationForNewLivePiece()}},n.processEvaluationForNewLivePiece=function(){for(var t=!0,e=this.mInputMgrs.length,n=0;n<e;n++){this.mInputMgrs[n].processEvaluationForNewLivePiece()||(t=!1)}return t},n.handleLivePieceDidActivate=function(){this.mIsLivePieceControllable=!0;for(var t=this.mInputMgrs.length,e=0;e<t;e++){this.mInputMgrs[e].handleLivePieceDidActivate()}},n.handleLivePieceDidTouchDown=function(){for(var t=this.mInputMgrs.length,e=0;e<t;e++){this.mInputMgrs[e].handleLivePieceDidTouchDown()}},n.handleLivePieceDidDeactivate=function(){this.mIsLivePieceControllable=!1;for(var t=this.mInputMgrs.length,e=0;e<t;e++){this.mInputMgrs[e].handleLivePieceDidDeactivate()}},n.isSoftDropOn=function(){return this.mIsSoftDropOn},n._getGameState=function(){return this.x4144604058719383193x()},n._getTimeMSEC=function(){return 2147483647&this.x1884498690603265194x()},n._getTimeSEC_FXPT=function(){return~~(r.FXPTFromInt(this._getTimeMSEC())/1e3)},n._isStandardControlActive=function(){return this.x1492720501170860268x()},n._performControlAction=function(t,e,n){if(this.isControlActionEnabled(t)){switch(t){case r.x274957615890821540x:if(!this._isLivePieceControllable())return;break;case r.x1415831414458085166x:if(!this._isLivePieceControllable())return;this.mIsLivePieceControllable=!1;break;case r.x2009612428084326544x:if(this.mIsSoftDropOn)return;this.mIsSoftDropOn=!0;break;case r.x3398658093998472145x:if(!this.mIsSoftDropOn)return;this.mIsSoftDropOn=!1;break;default:t==r.x3093225339302193578x&&this._isLivePieceControllable()&&(this.mIsLivePieceControllable=!1)}this.x2189795356796365743x(t,e,n)}},n._isLivePieceControllable=function(){return this.mIsLivePieceControllable&&this.x1492720501170860268x()},n._getModel=function(){return this.x4600673856120853921x()},n._getInputMgr=function(t){switch(t){case i.x4300242453282062329x:return this.mAIInputMgr;case s.x4300242453282062329x:return this.mDirectInputMgr;case u.x4300242453282062329x:return this.mSmartInputMgr;case a.x4300242453282062329x:return this.mGestureInputMgr;default:return null}},n.getInputMgr=function(t,e){return e&&!this.isInputTypeEnabled(t)?null:this._getInputMgr(t)},n.getInputMgrForInputId=function(t,e){var n=o.getInputTypeFromInputId(t);return this.getInputMgr(n,e)},n.setActiveInputMgr=function(t){this.mActiveInputMgr!=t&&(this.mActiveInputMgr&&this.mActiveInputMgr.setIsActive(!1),this.mActiveInputMgr=t,this.mActiveInputMgr&&this.mActiveInputMgr.setIsActive(!0))},n.updateActiveInputMgr=function(t){if(this.mEnableAutomaticInputTypeSwitching){var e=this.getInputMgrForInputId(t,!0);e&&this.mActiveInputMgr!=e&&this.setActiveInputMgr(e)}},n.transformInputIdForActiveInputMgr=function(t){if(this.mActiveInputMgr)switch(this.mActiveInputMgr.getInputType()){case s.x4300242453282062329x:switch(t){case u.x4306942188177755211x:return s.x1007239607855642118x}break;case u.x4300242453282062329x:switch(t){case s.x1007239607855642118x:return u.x4306942188177755211x;case s.x2104737041701417094x:return u.x2104737041701417094x;case s.x1169701762579244607x:return u.x1169701762579244607x}break;case a.x4300242453282062329x:switch(t){case s.x2104737041701417094x:return a.x2104737041701417094x;case s.x1169701762579244607x:return a.x1169701762579244607x}}return t},n.destroy=function(){this.isDestroyed()||(this.mInputMgrs.length=0,this.mAIInputMgr&&(this.mAIInputMgr.destroy(),null!==this.mAIInputMgr&&(this.mAIInputMgr=null)),this.mDirectInputMgr&&(this.mDirectInputMgr.destroy(),null!==this.mDirectInputMgr&&(this.mDirectInputMgr=null)),this.mSmartInputMgr&&(this.mSmartInputMgr.destroy(),null!==this.mSmartInputMgr&&(this.mSmartInputMgr=null)),this.mGestureInputMgr&&(this.mGestureInputMgr.destroy(),null!==this.mGestureInputMgr&&(this.mGestureInputMgr=null)),this.mIsDestroyed=!0)},n.x4144604058719383193x=function(){return null},n.x4600673856120853921x=function(){return null},n.x1884498690603265194x=function(){return 0},n.x1492720501170860268x=function(){return!1},n.x2189795356796365743x=function(t,e,n){},e(t,null,[{key:"x3699220901933188103x",get:function(){return 1}},{key:"x1641265582704792431x",get:function(){return 2}},{key:"x3007826297304550775x",get:function(){return 3}},{key:"x1783666039364785772x",get:function(){return 4}},{key:"x549028393557357010x",get:function(){return 1e3}},{key:"x2971455028554701567x",get:function(){return 500}}]),t}());n._RF.pop()}}}));System.register("chunks:///_virtual/x1920625444352595344x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4272192290603036666x.ts","./x3549067075061003607x.ts","./x2697327737977927830x.ts"],(function(t){"use strict";var e,o,n,r,i,a;return{setters:[function(t){e=t.inheritsLoose,o=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x4272192290603036666x},function(t){i=t.x3549067075061003607x},function(t){a=t.x2697327737977927830x}],execute:function(){n._RF.push({},"0d04bpQjQBFUoSvabqKersm","x1920625444352595344x",void 0);t("x1920625444352595344x",function(t){function n(e,o,r,i,a){var u;return(u=t.call(this,n.x4300242453282062329x,n.x924318484818348441x,e,o,r,i,a)||this).mEnableMoveLRAutoRepeat=!0,u.mMoveLRAutoRepeatInitialDelayMSEC=170,u.mMoveLRAutoRepeatDelayMSEC=50,u.mMoveTargetXSmoothingWeight_FXPT=0,u.mMoveTargetXCellTrackingInset_FXPT=0,u.mMoveLRAutoRepeatInputId=0,u.mMoveLRAutoRepeatTimerMSEC=0,u.mDidMoveLThisFrame=!1,u.mDidMoveRThisFrame=!1,u.mDidRotateThisFrame=!1,u.mDidSoftDropThisFrame=!1,u.mSmoothedMoveTargetX_FXPT=0,u.mActualMoveTargetX_FXPT=0,u}e(n,t);var r=n.prototype;return r.isMoveLRAutoRepeating=function(){return this.mEnableMoveLRAutoRepeat&&0!=this.mMoveLRAutoRepeatInputId},r.handleMoveLRInputIsOn=function(t){switch(t.mInputId){case n.x3533342704701609485x:case n.x1379849479184060197x:var e=t.mInputId==n.x3533342704701609485x?a.x1163264438382801197x:a.x1148181501057868572x;this.tryControlAction(e),this.mEnableMoveLRAutoRepeat?(this.mMoveLRAutoRepeatInputId=t.mInputId,this.mMoveLRAutoRepeatTimerMSEC=this.mMoveLRAutoRepeatInitialDelayMSEC):t.mIsOn=!1}},r.handleMoveLRInputIsOff=function(t){if(this.isMoveLRAutoRepeating()){if(t.mInputId==this.mMoveLRAutoRepeatInputId){this.mMoveLRAutoRepeatInputId=0;var e=null;switch(t.mInputId){case n.x3533342704701609485x:e=this.getInput(n.x1379849479184060197x);break;case n.x1379849479184060197x:e=this.getInput(n.x3533342704701609485x)}e&&e.mIsOn&&this.handleMoveLRInputIsOn(e)}}else this.mMoveLRAutoRepeatInputId=0},r.tryControlAction=function(t){switch(t){case a.x1163264438382801197x:this.mDidMoveLThisFrame||(this.getController()._performControlAction(t,null,null),this.mDidMoveLThisFrame=!0);break;case a.x1148181501057868572x:this.mDidMoveRThisFrame||(this.getController()._performControlAction(t,null,null),this.mDidMoveRThisFrame=!0);break;case a.x3037978297644400982x:case a.x3627316749632917279x:case a.x1045657441224132560x:case a.x1632269064637221348x:this.mDidRotateThisFrame||(this.getController()._performControlAction(t,null,null),this.mDidRotateThisFrame=!0);break;case a.x2009612428084326544x:this.mDidSoftDropThisFrame||(this.getController()._performControlAction(t,null,null),this.mDidSoftDropThisFrame=!0)}},r.processMoveTargetX=function(){var t=this.getInput(n.x561143320662721183x);if(t.mIsOn){var e=this.mSmoothedMoveTargetX_FXPT;this.mSmoothedMoveTargetX_FXPT=a.FXPTSmooth(this.mSmoothedMoveTargetX_FXPT,t.mX_FXPT,this.mMoveTargetXSmoothingWeight_FXPT);var o=0,r=a.FXPTFloor(this.mSmoothedMoveTargetX_FXPT);o=(this.mSmoothedMoveTargetX_FXPT-e>=0?this.mSmoothedMoveTargetX_FXPT-e:-(this.mSmoothedMoveTargetX_FXPT-e))<i.x2971455028554701567x&&(this.mSmoothedMoveTargetX_FXPT<r+this.mMoveTargetXCellTrackingInset_FXPT||this.mSmoothedMoveTargetX_FXPT>r+i.x549028393557357010x-this.mMoveTargetXCellTrackingInset_FXPT)?this.mActualMoveTargetX_FXPT:this.mSmoothedMoveTargetX_FXPT,this.mActualMoveTargetX_FXPT=o;var u=a.FXPTToInt(this.mActualMoveTargetX_FXPT),s=this.getController()._getGameState().getLivePieceCurrentX();if(s!=u){var l=s<u?a.x1148181501057868572x:a.x1163264438382801197x,m=this.getController()._getGameState().getLivePieceCurrentTransform(),p=this.getController()._getGameState().getTransformForControlAction(m,l);p!=m&&p!=a.x2194798655026538212x&&this.tryControlAction(l)}}},r.destroy=function(){this.isDestroyed()||t.prototype.destroy.call(this)},r.x371773043756528957x=function(t){t&&this.getController()._performControlAction(a.x465839716603525218x,null,null)},r.x3056683011705258038x=function(t){if(this.mDidMoveLThisFrame=!1,this.mDidMoveRThisFrame=!1,this.mDidRotateThisFrame=!1,this.mDidSoftDropThisFrame=!1,this.isMoveLRAutoRepeating()){var e=this.mMoveLRAutoRepeatInputId==n.x3533342704701609485x?a.x1163264438382801197x:a.x1148181501057868572x;for(this.mMoveLRAutoRepeatTimerMSEC-=t;this.mMoveLRAutoRepeatTimerMSEC<=0;)this.tryControlAction(e),this.mMoveLRAutoRepeatTimerMSEC+=this.mMoveLRAutoRepeatDelayMSEC}this.processMoveTargetX()},r.x1301163629030014353x=function(t){},r.x3847147672198281922x=function(t){switch(t.mInputId){case n.x3533342704701609485x:case n.x1379849479184060197x:this.handleMoveLRInputIsOn(t);break;case n.x1635209395408102056x:this.tryControlAction(a.x1045657441224132560x);break;case n.x3943694449274691986x:this.tryControlAction(a.x1632269064637221348x);break;case n.x2623214398097736101x:this.tryControlAction(a.x2009612428084326544x);break;case n.x1007239607855642118x:this.getController()._performControlAction(a.x3093225339302193578x,null,null);break;case n.x2104737041701417094x:this.getController()._performControlAction(a.x476144921134076668x,null,null);break;case n.x561143320662721183x:this.mSmoothedMoveTargetX_FXPT=t.mX_FXPT,this.mActualMoveTargetX_FXPT=t.mX_FXPT;break;case n.x1169701762579244607x:this.getController()._performControlAction(a.x969972148126808315x,null,null)}},r.x2872677879249794081x=function(t){switch(t.mInputId){case n.x3533342704701609485x:case n.x1379849479184060197x:this.handleMoveLRInputIsOff(t);break;case n.x2623214398097736101x:this.getController()._performControlAction(a.x3398658093998472145x,null,null)}},r.x3652214323548795390x=function(t){switch(t.mInputId){case n.x3533342704701609485x:case n.x1379849479184060197x:this.handleMoveLRInputIsOff(t);break;case n.x2623214398097736101x:this.getController()._performControlAction(a.x3398658093998472145x,null,null)}},r.x4317694066239432710x=function(){},r.x3498118442457140378x=function(){return!0},r.x720290557980039669x=function(){this.isMoveLRAutoRepeating()&&this.mMoveLRAutoRepeatTimerMSEC<this.mMoveLRAutoRepeatDelayMSEC&&(this.mMoveLRAutoRepeatTimerMSEC=this.mMoveLRAutoRepeatDelayMSEC)},r.x3281422530331587646x=function(){},o(n,null,[{key:"x4300242453282062329x",get:function(){return 1}},{key:"x3533342704701609485x",get:function(){return 257}},{key:"x1379849479184060197x",get:function(){return 258}},{key:"x1635209395408102056x",get:function(){return 259}},{key:"x3943694449274691986x",get:function(){return 260}},{key:"x2623214398097736101x",get:function(){return 261}},{key:"x1007239607855642118x",get:function(){return 262}},{key:"x2104737041701417094x",get:function(){return 263}},{key:"x561143320662721183x",get:function(){return 264}},{key:"x1169701762579244607x",get:function(){return 265}},{key:"x924318484818348441x",get:function(){return 9}},{key:"kMinInputId",get:function(){return 257}},{key:"kMaxInputId",get:function(){return 265}}]),n}(r));n._RF.pop()}}}));System.register("chunks:///_virtual/x3864923619156808642x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4272192290603036666x.ts","./x3549067075061003607x.ts","./x2697327737977927830x.ts"],(function(t){"use strict";var o,e,i,n,r,s;return{setters:[function(t){o=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.x4272192290603036666x},function(t){r=t.x3549067075061003607x},function(t){s=t.x2697327737977927830x}],execute:function(){i._RF.push({},"647dcJt5yxAcrVyXJy/8E5b","x3864923619156808642x",void 0);t("x3864923619156808642x",function(t){function i(o,e,n,r,a){var l;return(l=t.call(this,i.x4300242453282062329x,i.x924318484818348441x,o,e,n,r,a)||this).mMaxRotationTapDistance_FXPT=1399,l.mMaxRotationTapTimeMSEC=0,l.mEnableCCWRotation=!0,l.mEnableMovePointer=!1,l.mMoveLRDragDistance_FXPT=1400,l.mEnableMoveLRAutoRepeat=!1,l.mMoveLRAutoRepeatInitialDelayMSEC=170,l.mMoveLRAutoRepeatDelayMSEC=50,l.mMinSoftDropDragDistanceY_FXPT=2e3,l.mMinSoftDropDragVelocityY_FXPT=4e3,l.mMinStopSoftDropDragDistanceY_FXPT=1e3,l.mMinStopSoftDropDragVelocityY_FXPT=1e3,l.mMinHardDropDragDistanceY_FXPT=1500,l.mMinHardDropDragVelocityY_FXPT=8e3,l.mMinHoldDragDistanceY_FXPT=1500,l.mMinHoldDragVelocityY_FXPT=8e3,l.mVelocitySmoothingWeight_FXPT=900,l.mMatrixCenterX_FXPT=~~(s.FXPTFromInt(n)/2),l.mPointerDragPrevX_FXPT=0,l.mPointerDragPrevY_FXPT=0,l.mMovePointerDragPrevX_FXPT=0,l.mMovePointerDragPrevY_FXPT=0,l.mPrevVelocityProcessTimeSEC_FXPT=0,l.mAvailableVelocityProcessTimeSEC_FXPT=0,l.mPointerFrameVelocityX_FXPT=0,l.mPointerFrameVelocityY_FXPT=0,l.mPointerSmoothedVelocityX_FXPT=0,l.mPointerSmoothedVelocityY_FXPT=0,l.mCurrentMoveLRDragDistanceX_FXPT=0,l.mCurrentMoveLRAutoRepeatControlAction=0,l.mMoveLRAutoRepeatTimerMSEC=0,l.mWasPrevRotationCCW=!1,l.mIsRotationTapValid=!1,l.mIsSoftDropInputOn=!1,l}o(i,t);var n=i.prototype;return n.resetPointerTracking=function(t){var o=this.getInput(i.x3422796011189382401x);o.mXAtOn_FXPT=o.mX_FXPT,o.mYAtOn_FXPT=o.mY_FXPT,this.mPointerDragPrevX_FXPT=o.mX_FXPT,this.mPointerDragPrevY_FXPT=o.mY_FXPT,this.mPrevVelocityProcessTimeSEC_FXPT=this.getController()._getTimeSEC_FXPT(),this.mAvailableVelocityProcessTimeSEC_FXPT=0,this.mPointerFrameVelocityX_FXPT=0,this.mPointerFrameVelocityY_FXPT=0,this.mPointerSmoothedVelocityX_FXPT=0,this.mPointerSmoothedVelocityY_FXPT=0,this.mEnableMovePointer||(this.mCurrentMoveLRDragDistanceX_FXPT=0),this.mIsRotationTapValid=t},n.resetMovePointerTracking=function(){var t=this.mEnableMovePointer?this.getInput(i.x3200140645578483011x):this.getInput(i.x3422796011189382401x);t.mXAtOn_FXPT=t.mX_FXPT,t.mYAtOn_FXPT=t.mY_FXPT,this.mMovePointerDragPrevX_FXPT=t.mX_FXPT,this.mMovePointerDragPrevY_FXPT=t.mY_FXPT,this.mCurrentMoveLRDragDistanceX_FXPT=0},n.updatePointerVelocities=function(){var t=this.getController()._getTimeSEC_FXPT(),o=t-this.mPrevVelocityProcessTimeSEC_FXPT;if(this.mPrevVelocityProcessTimeSEC_FXPT=t,o>0){this.mAvailableVelocityProcessTimeSEC_FXPT+=o;var e=this.getInput(i.x3422796011189382401x);this.mPointerFrameVelocityX_FXPT=s.FXPTDivide(e.mX_FXPT-this.mPointerDragPrevX_FXPT,o),this.mPointerFrameVelocityY_FXPT=s.FXPTDivide(e.mY_FXPT-this.mPointerDragPrevY_FXPT,o);for(;this.mAvailableVelocityProcessTimeSEC_FXPT>10;)this.mPointerSmoothedVelocityX_FXPT=s.FXPTSmooth(this.mPointerSmoothedVelocityX_FXPT,this.mPointerFrameVelocityX_FXPT,this.mVelocitySmoothingWeight_FXPT),this.mPointerSmoothedVelocityY_FXPT=s.FXPTSmooth(this.mPointerSmoothedVelocityY_FXPT,this.mPointerFrameVelocityY_FXPT,this.mVelocitySmoothingWeight_FXPT),this.mAvailableVelocityProcessTimeSEC_FXPT-=10}},n.updateMoveLeftRight=function(t){if(this.mEnableMovePointer||this.getInput(i.x3422796011189382401x).mIsOn){var o=!1;if((this.mCurrentMoveLRDragDistanceX_FXPT>=0?this.mCurrentMoveLRDragDistanceX_FXPT:-this.mCurrentMoveLRDragDistanceX_FXPT)>=this.mMoveLRDragDistance_FXPT){var e=0,n=0;this.mCurrentMoveLRDragDistanceX_FXPT>0?(e=s.x1148181501057868572x,n=-this.mMoveLRDragDistance_FXPT):(e=s.x1163264438382801197x,n=this.mMoveLRDragDistance_FXPT),this.mEnableMoveLRAutoRepeat?this.mCurrentMoveLRAutoRepeatControlAction!=e&&(o=!0,this.mCurrentMoveLRAutoRepeatControlAction=e,this.getController()._performControlAction(e,null,null),this.mMoveLRAutoRepeatTimerMSEC=this.mMoveLRAutoRepeatInitialDelayMSEC):this.getController()._performControlAction(e,null,null),this.mCurrentMoveLRDragDistanceX_FXPT+=n}if(this.mEnableMoveLRAutoRepeat&&t>0&&!o&&0!=this.mCurrentMoveLRAutoRepeatControlAction)for(this.mMoveLRAutoRepeatTimerMSEC-=t;this.mMoveLRAutoRepeatTimerMSEC<=0;)this.getController()._performControlAction(this.mCurrentMoveLRAutoRepeatControlAction,null,null),this.mMoveLRAutoRepeatTimerMSEC+=this.mMoveLRAutoRepeatDelayMSEC}},n.isVerticalDragValid=function(t,o,e,i,n){return(o>=0?o:-o)>(t>=0?t:-t)&&(i>=0?i:-i)>=n&&(o>=0?o:-o)>=e},n.startSoftDrop=function(){this.isActive()&&(this.mIsSoftDropInputOn=!0,this.getController().isSoftDropOn()||this.getController()._performControlAction(s.x2009612428084326544x,null,null))},n.suspendSoftDrop=function(){this.isActive()&&this.getController().isSoftDropOn()&&this.getController()._performControlAction(s.x3398658093998472145x,null,null)},n.stopSoftDrop=function(){this.isActive()&&(this.mIsSoftDropInputOn=!1,this.getController().isSoftDropOn()&&this.getController()._performControlAction(s.x3398658093998472145x,null,null))},n.checkSoftDrop=function(){this.isActive()&&(this.getInput(i.x3422796011189382401x).mIsOn?this.mIsSoftDropInputOn&&this.startSoftDrop():this.stopSoftDrop())},n.performHold=function(){this.isActive()&&this.getController()._performControlAction(s.x476144921134076668x,null,null)},n.destroy=function(){this.isDestroyed()||t.prototype.destroy.call(this)},n.x371773043756528957x=function(t){t&&this.getController()._performControlAction(s.x465839716603525218x,null,null)},n.x3056683011705258038x=function(t){this.updatePointerVelocities(),this.updateMoveLeftRight(t)},n.x1301163629030014353x=function(t){switch(t.mInputId){case i.x3422796011189382401x:if(!t.mIsOn)return;if(this.updatePointerVelocities(),this.mIsRotationTapValid&&(this.mIsRotationTapValid=(t.mX_FXPT-t.mXAtOn_FXPT>=0?t.mX_FXPT-t.mXAtOn_FXPT:-(t.mX_FXPT-t.mXAtOn_FXPT))<=this.mMaxRotationTapDistance_FXPT&&(t.mY_FXPT-t.mYAtOn_FXPT>=0?t.mY_FXPT-t.mYAtOn_FXPT:-(t.mY_FXPT-t.mYAtOn_FXPT))<=this.mMaxRotationTapDistance_FXPT),!this.mEnableMovePointer&&(this.mPointerSmoothedVelocityX_FXPT>=0?this.mPointerSmoothedVelocityX_FXPT:-this.mPointerSmoothedVelocityX_FXPT)>(this.mPointerSmoothedVelocityY_FXPT>=0?this.mPointerSmoothedVelocityY_FXPT:-this.mPointerSmoothedVelocityY_FXPT)){var o=t.mX_FXPT-this.mPointerDragPrevX_FXPT;this.mCurrentMoveLRDragDistanceX_FXPT+=o,this.updateMoveLeftRight(0)}this.mPointerSmoothedVelocityY_FXPT<0?!this.getController().isSoftDropOn()&&this.isVerticalDragValid(this.mPointerSmoothedVelocityX_FXPT,this.mPointerSmoothedVelocityY_FXPT,this.mMinSoftDropDragVelocityY_FXPT,t.mY_FXPT-t.mYAtOn_FXPT,this.mMinSoftDropDragDistanceY_FXPT)&&(this.mCurrentMoveLRDragDistanceX_FXPT=0,this.startSoftDrop()):this.mPointerSmoothedVelocityY_FXPT>0&&this.getController().isSoftDropOn()&&this.isVerticalDragValid(this.mPointerSmoothedVelocityX_FXPT,this.mPointerSmoothedVelocityY_FXPT,this.mMinStopSoftDropDragVelocityY_FXPT,t.mY_FXPT-t.mYAtOn_FXPT,this.mMinStopSoftDropDragDistanceY_FXPT)&&(this.mCurrentMoveLRDragDistanceX_FXPT=0,this.stopSoftDrop()),this.mPointerDragPrevX_FXPT=t.mX_FXPT,this.mPointerDragPrevY_FXPT=t.mY_FXPT;break;case i.x3200140645578483011x:if(!this.mEnableMovePointer)return;o=t.mX_FXPT-this.mMovePointerDragPrevX_FXPT;this.mCurrentMoveLRDragDistanceX_FXPT+=o,this.updateMoveLeftRight(0),this.mMovePointerDragPrevX_FXPT=t.mX_FXPT,this.mMovePointerDragPrevY_FXPT=t.mY_FXPT}},n.x3847147672198281922x=function(t){switch(t.mInputId){case i.x3422796011189382401x:this.resetPointerTracking(!0);break;case i.x1635209395408102056x:this.getController()._performControlAction(s.x1045657441224132560x,null,null);break;case i.x3943694449274691986x:this.getController()._performControlAction(s.x1632269064637221348x,null,null);break;case i.x1007239607855642118x:this.getController()._performControlAction(s.x3093225339302193578x,null,null);break;case i.x2104737041701417094x:this.performHold();break;case i.x1169701762579244607x:this.getController()._performControlAction(s.x969972148126808315x,null,null)}},n.x2872677879249794081x=function(t){switch(t.mInputId){case i.x3422796011189382401x:if(this.mCurrentMoveLRAutoRepeatControlAction=0,this.stopSoftDrop(),(this.mMaxRotationTapTimeMSEC<=0||t.mElapsedTimeOnMSEC<this.mMaxRotationTapTimeMSEC)&&(t.mX_FXPT-t.mXAtOn_FXPT>=0?t.mX_FXPT-t.mXAtOn_FXPT:-(t.mX_FXPT-t.mXAtOn_FXPT))<=this.mMaxRotationTapDistance_FXPT&&(t.mY_FXPT-t.mYAtOn_FXPT>=0?t.mY_FXPT-t.mYAtOn_FXPT:-(t.mY_FXPT-t.mYAtOn_FXPT))<=this.mMaxRotationTapDistance_FXPT){if(this.mIsRotationTapValid)if(this.mEnableCCWRotation){var o=this.mMatrixCenterX_FXPT;this.mWasPrevRotationCCW||(o-=r.x549028393557357010x),t.mX_FXPT>=o?(this.getController()._performControlAction(s.x1045657441224132560x,null,null),this.mWasPrevRotationCCW=!1):(this.getController()._performControlAction(s.x1632269064637221348x,null,null),this.mWasPrevRotationCCW=!0)}else this.getController()._performControlAction(s.x1045657441224132560x,null,null),this.mWasPrevRotationCCW=!1}else this.mPointerSmoothedVelocityY_FXPT>0&&this.isVerticalDragValid(this.mPointerSmoothedVelocityX_FXPT,this.mPointerSmoothedVelocityY_FXPT,this.mMinHoldDragVelocityY_FXPT,t.mY_FXPT-t.mYAtOn_FXPT,this.mMinHoldDragDistanceY_FXPT)?this.performHold():this.mPointerSmoothedVelocityY_FXPT<0&&this.isVerticalDragValid(this.mPointerSmoothedVelocityX_FXPT,this.mPointerSmoothedVelocityY_FXPT,this.mMinHardDropDragVelocityY_FXPT,t.mY_FXPT-t.mYAtOn_FXPT,this.mMinHardDropDragDistanceY_FXPT)&&this.getController()._performControlAction(s.x3093225339302193578x,null,null);this.mIsRotationTapValid=!1}},n.x3652214323548795390x=function(t){switch(t.mInputId){case i.x3422796011189382401x:this.stopSoftDrop(),this.mIsRotationTapValid=!1}},n.x4317694066239432710x=function(){},n.x3498118442457140378x=function(){return!0},n.x720290557980039669x=function(){this.mWasPrevRotationCCW=!1,this.checkSoftDrop()},n.x685840089353227794x=function(){this.suspendSoftDrop()},n.x3281422530331587646x=function(){this.resetPointerTracking(!1),this.resetMovePointerTracking()},e(i,null,[{key:"x4300242453282062329x",get:function(){return 3}},{key:"x3422796011189382401x",get:function(){return 769}},{key:"x3200140645578483011x",get:function(){return 770}},{key:"x1635209395408102056x",get:function(){return 771}},{key:"x3943694449274691986x",get:function(){return 772}},{key:"x1007239607855642118x",get:function(){return 773}},{key:"x2104737041701417094x",get:function(){return 774}},{key:"x1169701762579244607x",get:function(){return 775}},{key:"x924318484818348441x",get:function(){return 7}},{key:"kMinInputId",get:function(){return 769}},{key:"kMaxInputId",get:function(){return 775}}]),i}(n));i._RF.pop()}}}));System.register("chunks:///_virtual/x2266070299817059446x.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"ce2a4y7TftJHKm17bHz6evv","x2266070299817059446x",void 0);t("x2266070299817059446x",(function(t){this.mInputId=t,this.mIsEnabled=!0,this.mIsOn=!1,this.mElapsedTimeOnMSEC=0,this.mX_FXPT=0,this.mY_FXPT=0,this.mXAtOn_FXPT=0,this.mYAtOn_FXPT=0}));n._RF.pop()}}}));System.register("chunks:///_virtual/x4272192290603036666x.ts",["cc","./x2266070299817059446x.ts"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.x2266070299817059446x}],execute:function(){n._RF.push({},"cfbd9Y50FdC26/EhBzi4vFW","x4272192290603036666x",void 0);t("x4272192290603036666x",function(){function t(n,i,r,s,u,a,o){this.mInputs=new Array,this.mIsDestroyed=!1,this.mInputType=n,this.mNumInputs=i;for(var I=0;I<i;I++){var d=t.getInputId(n,I),c=new e(d);this.mInputs.push(c)}this.mController=r,this.mPieceData=s,this.mMatrixWidth=u,this.mMatrixHeight=a,this.mMatrixVisibleHeight=o,this.mIsActive=!1,this.mDidProcessEvaluationForNewLivePiece=!1,this.mNumPiecesDeactivated=0}t.getInputId=function(t,n){return t<<8|n+1},t.getInputTypeFromInputId=function(t){return t>>>8&255},t.getInputIndexFromInputId=function(t){return(255&t)-1};var n=t.prototype;return n.isDestroyed=function(){return this.mIsDestroyed},n.getInputType=function(){return this.mInputType},n.isActive=function(){return this.mIsActive},n.setIsActive=function(t){this.mIsActive=t,this.x371773043756528957x(t)},n.processTime=function(t){for(var n=0;n<this.mNumInputs;n++){var e=this.mInputs[n];e.mIsOn&&(e.mElapsedTimeOnMSEC+=t)}this.x3056683011705258038x(t)},n.isInputEnabled=function(t){var n=this.getInput(t);return!!n&&n.mIsEnabled},n.setIsInputEnabled=function(t,n){n||this.handleInputOnIsCancelled(t);var e=this.getInput(t);e&&(e.mIsEnabled=n)},n.handleInputPositionChanged=function(t,n,e){var i=this.getInput(t);i&&i.mIsEnabled&&(i.mX_FXPT=n,i.mY_FXPT=e,this.mIsActive&&this.x1301163629030014353x(i))},n.handleInputIsOn=function(t,n,e){var i=this.getInput(t);i&&i.mIsEnabled&&(i.mIsOn||(i.mIsOn=!0,i.mX_FXPT=n,i.mY_FXPT=e,i.mXAtOn_FXPT=n,i.mYAtOn_FXPT=e,i.mElapsedTimeOnMSEC=0,this.mIsActive&&this.x3847147672198281922x(i)))},n.handleInputIsOnExclusive=function(t,n,e){for(var i=0;i<this.mNumInputs;i++){var r=this.mInputs[i];r.mIsOn&&r.mInputId!=t&&this.x2872677879249794081x(r)}this.handleInputIsOn(t,n,e)},n.handleInputIsOff=function(t,n,e){var i=this.getInput(t);i&&i.mIsEnabled&&i.mIsOn&&(i.mIsOn=!1,i.mX_FXPT=n,i.mY_FXPT=e,this.mIsActive&&this.x2872677879249794081x(i))},n.handleInputOnIsCancelled=function(t){var n=this.getInput(t);n&&n.mIsEnabled&&n.mIsOn&&(n.mIsOn=!1,this.mIsActive&&this.x3652214323548795390x(n))},n.turnOffAllInputs=function(){for(var t=0;t<this.mNumInputs;t++){var n=this.mInputs[t];this.handleInputIsOff(n.mInputId,n.mX_FXPT,n.mY_FXPT)}},n.cancelAllInputs=function(){for(var t=0;t<this.mNumInputs;t++){var n=this.mInputs[t];this.handleInputOnIsCancelled(n.mInputId)}},n.isInputOn=function(t){var n=this.getInput(t);return!(!n||!n.mIsEnabled)&&n.mIsOn},n.startEvaluationForNewLivePiece=function(){this.mDidProcessEvaluationForNewLivePiece=!1,this.x4317694066239432710x()},n.processEvaluationForNewLivePiece=function(){return this.mDidProcessEvaluationForNewLivePiece||(this.mDidProcessEvaluationForNewLivePiece=this.x3498118442457140378x()),this.mDidProcessEvaluationForNewLivePiece},n.handleLivePieceDidActivate=function(){this.x720290557980039669x()},n.handleLivePieceDidTouchDown=function(){this.x685840089353227794x()},n.handleLivePieceDidDeactivate=function(){this.mIsActive&&this.mNumPiecesDeactivated++,this.x3281422530331587646x()},n.getNumPiecesDeactivated=function(){return this.mNumPiecesDeactivated},n.getInput=function(n){var e=t.getInputIndexFromInputId(n);return e>=0&&e<this.mNumInputs?this.mInputs[e]:null},n.getController=function(){return this.mController},n.getPieceData=function(){return this.mPieceData},n.getMatrixWidth=function(){return this.mMatrixWidth},n.getMatrixHeight=function(){return this.mMatrixHeight},n.getMatrixVisibleHeight=function(){return this.mMatrixVisibleHeight},n.isLivePieceControllable=function(){return this.mIsActive&&this.mController._isLivePieceControllable()},n.destroy=function(){if(!this.isDestroyed()){for(var t=0;t<this.mNumInputs;t++){var n=this.mInputs[t];null!==n&&(n=null)}this.mIsDestroyed=!0}},n.x371773043756528957x=function(t){},n.x3056683011705258038x=function(t){},n.x1301163629030014353x=function(t){},n.x3847147672198281922x=function(t){},n.x2872677879249794081x=function(t){},n.x3652214323548795390x=function(t){},n.x4317694066239432710x=function(){},n.x3498118442457140378x=function(){return!0},n.x720290557980039669x=function(){},n.x685840089353227794x=function(){},n.x3281422530331587646x=function(){},t}());n._RF.pop()}}}));System.register("chunks:///_virtual/x3061436937539478368x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3687945108292398046x.ts","./x1442773774411748326x.ts","./x2478886613301025450x.ts"],(function(t){"use strict";var e,n,r,i,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x3687945108292398046x},function(t){i=t.x1442773774411748326x},function(t){o=t.x2478886613301025450x}],execute:function(){n._RF.push({},"cbebcQMXy9I7anKRIX0hgY8","x3061436937539478368x",void 0);t("x3061436937539478368x",function(){function t(t,e,n,u){this.mIsDestroyed=!1,u||(u=r.getSharedStandardPieceData(t,e,r.x4521910664595926590x)),this.mModel=new o(this,t,e,n,u),this.mController=new i(this,t,e,n,u),this.mController.setModel(this.mModel)}t.getInputTypeForName=function(e){return"direct"==e?t.x3699220901933188103x:"smart"==e?t.x1641265582704792431x:"gesture"==e?t.x3007826297304550775x:"AI"==e?t.x1783666039364785772x:0},t.getInputIdForName=function(e){return"moveLeft"==e?t.x4586196557313081711x:"moveRight"==e?t.x1897916893597930055x:"rotateCW"==e?t.x545603278423867930x:"rotateCCW"==e?t.x1454075296883474303x:"softDrop"==e?t.x1175664325626108064x:"hardDrop"==e?t.x2775384362865261197x:"hold"==e?t.x1907265081617522753x:"activateNextQueuedPendingAction"==e?t.x746131496791512721x:0},t.getInputNameForId=function(e){switch(e){case t.x4586196557313081711x:return"moveLeft";case t.x1897916893597930055x:return"moveRight";case t.x545603278423867930x:return"rotateCW";case t.x1454075296883474303x:return"rotateCCW";case t.x1175664325626108064x:return"softDrop";case t.x2775384362865261197x:return"hardDrop";case t.x1907265081617522753x:return"hold";case t.x746131496791512721x:return"activateNextQueuedPendingAction";default:return"UNKNOWN"}};var n=t.prototype;return n.isDestroyed=function(){return this.mIsDestroyed},n.x1595169078597172032x=function(t){this.mModel.mFallTimerType=t},n.x1817562374766709528x=function(t){this.mModel.mNormalFallSpeedMSEC=t},n.x2971872900368380681x=function(t){this.mModel.mSoftDropFallSpeedMSEC=t},n.x1621414089606719146x=function(t){this.mModel.mFallSpeedMultiplier_FXPT=t},n.x3194411021721653419x=function(t){this.mModel.mLockTimeMSEC=t},n.x2673848003465801723x=function(t){this.mModel.mResetLockTimerOnMoveOrRotate=t},n.x737048906452715467x=function(t){this.mModel.mEnableSoftDropInstantLock=t},n.enableInputType=function(t){this.mController.enableInputType(t)},n.disableInputType=function(t){this.mController.disableInputType(t)},n.isInputTypeEnabled=function(t){return this.mController.isInputTypeEnabled(t)},n.getActiveInputType=function(){return this.mController.getActiveInputType()},n.setActiveInputType=function(t){this.mController.setActiveInputType(t)},n.setEnableAutomaticInputTypeSwitching=function(t){this.mController.setEnableAutomaticInputTypeSwitching(t)},n.setDirectInputParameter_placementsAllowedBeforeLock=function(t){this.mModel.mDirectPlacementsAllowedBeforeLock=t},n.setDirectInputParameter_enableMoveLRAutoRepeat=function(e){this.isInputTypeEnabled(t.x3699220901933188103x)&&(this.mController.getDirectInputMgr().mEnableMoveLRAutoRepeat=e)},n.setDirectInputParameter_moveLRAutoRepeatInitialDelayMSEC=function(e){this.isInputTypeEnabled(t.x3699220901933188103x)&&(this.mController.getDirectInputMgr().mMoveLRAutoRepeatInitialDelayMSEC=e)},n.setDirectInputParameter_moveLRAutoRepeatDelayMSEC=function(e){this.isInputTypeEnabled(t.x3699220901933188103x)&&(this.mController.getDirectInputMgr().mMoveLRAutoRepeatDelayMSEC=e)},n.setSmartInputParameter_isTargetFacingFixed=function(e){this.isInputTypeEnabled(t.x1641265582704792431x)&&(this.mController.getSmartInputMgr().mIsTargetFacingFixed=e)},n.setSmartInputParameter_cellTrackingInset_FXPT=function(e){this.isInputTypeEnabled(t.x1641265582704792431x)&&(this.mController.getSmartInputMgr().mCellTrackingInset_FXPT=e)},n.setSmartInputParameter_restrictReachableTransforms=function(e){this.isInputTypeEnabled(t.x1641265582704792431x)&&this.mController.getSmartInputMgr().x2698876064344158915x(e)},n.setSmartInputParameter_searchCellForTarget=function(e){this.isInputTypeEnabled(t.x1641265582704792431x)&&(this.mController.getSmartInputMgr().mSearchCellForTarget=e)},n.setSmartInputParameter_searchColumnForTarget=function(e){this.isInputTypeEnabled(t.x1641265582704792431x)&&(this.mController.getSmartInputMgr().mSearchColumnForTarget=e)},n.setSmartInputParameter_lockLivePieceAtTarget=function(t){this.mModel.mLockLivePieceAtTarget=t},n.setSmartInputParameter_snapToTargetOnTouchDownFallSpeedMSEC=function(t){this.mModel.mSnapToTargetOnTouchDownFallSpeedMSEC=t},n.setSmartInputParameter_updateTargetWhilePointerInputIsOff=function(e){this.isInputTypeEnabled(t.x1641265582704792431x)&&(this.mController.getSmartInputMgr().mUpdateTargetWhilePointerInputIsOff=e)},n.setSmartInputParameter_selectTargetAtPointerInputOn=function(e){this.isInputTypeEnabled(t.x1641265582704792431x)&&(this.mController.getSmartInputMgr().mSelectTargetAtPointerInputOn=e)},n.setSmartInputParameter_pointerSelectTargetMatrixBufferX=function(e){this.isInputTypeEnabled(t.x1641265582704792431x)&&(this.mController.getSmartInputMgr().mPointerSelectTargetMatrixBufferX=e)},n.setSmartInputParameter_pointerSelectTargetMatrixBufferY=function(e){this.isInputTypeEnabled(t.x1641265582704792431x)&&(this.mController.getSmartInputMgr().mPointerSelectTargetMatrixBufferY=e)},n.setSmartInputParameter_pointerSmoothingWeight_FXPT=function(e){this.isInputTypeEnabled(t.x1641265582704792431x)&&(this.mController.getSmartInputMgr().mPointerSmoothingWeight_FXPT=e)},n.setSmartInputParameter_smartPlacementsAllowedBeforeLock=function(t){this.mModel.mSmartPlacementsAllowedBeforeLock=t},n.setSmartInputParameter_forceValidTarget=function(e){this.isInputTypeEnabled(t.x1641265582704792431x)&&(this.mController.getSmartInputMgr().mForceValidTarget=e)},n.setGestureInputParameter_maxRotationTapDistance_FXPT=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mMaxRotationTapDistance_FXPT=e)},n.setGestureInputParameter_maxRotationTapTimeMSEC=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mMaxRotationTapTimeMSEC=e)},n.setGestureInputParameter_enableCCWRotation=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mEnableCCWRotation=e)},n.setGestureInputParameter_enableMovePointer=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mEnableMovePointer=e)},n.setGestureInputParameter_moveLRDragDistanceX_FXPT=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mMoveLRDragDistance_FXPT=e)},n.setGestureInputParameter_enableMoveLRAutoRepeat=function(e){this.isInputTypeEnabled(t.x3699220901933188103x)&&(this.mController.getGestureInputMgr().mEnableMoveLRAutoRepeat=e)},n.setGestureInputParameter_moveLRAutoRepeatInitialDelayMSEC=function(e){this.isInputTypeEnabled(t.x3699220901933188103x)&&(this.mController.getGestureInputMgr().mMoveLRAutoRepeatInitialDelayMSEC=e)},n.setGestureInputParameter_moveLRAutoRepeatDelayMSEC=function(e){this.isInputTypeEnabled(t.x3699220901933188103x)&&(this.mController.getGestureInputMgr().mMoveLRAutoRepeatDelayMSEC=e)},n.setGestureInputParameter_minSoftDropDragDistanceY_FXPT=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mMinStopSoftDropDragDistanceY_FXPT=e)},n.setGestureInputParameter_minSoftDropDragVelocityY_FXPT=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mMinSoftDropDragVelocityY_FXPT=e)},n.setGestureInputParameter_minStopSoftDropDragDistanceY_FXPT=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mMinStopSoftDropDragDistanceY_FXPT=e)},n.setGestureInputParameter_minStopSoftDropDragVelocityY_FXPT=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mMinStopSoftDropDragVelocityY_FXPT=e)},n.setGestureInputParameter_minHardDropDragDistanceY_FXPT=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mMinHardDropDragDistanceY_FXPT=e)},n.setGestureInputParameter_minHardDropDragVelocityY_FXPT=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mMinHardDropDragVelocityY_FXPT=e)},n.setGestureInputParameter_minHoldDragDistanceY_FXPT=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mMinHoldDragDistanceY_FXPT=e)},n.setGestureInputParameter_minHoldDragVelocityY_FXPT=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mMinHoldDragVelocityY_FXPT=e)},n.setGestureInputParameter_velocitySmoothingWeight_FXPT=function(e){this.isInputTypeEnabled(t.x3007826297304550775x)&&(this.mController.getGestureInputMgr().mVelocitySmoothingWeight_FXPT=e)},n.processTime=function(){this.mController.processTime(),this.mModel.processTime()},n.setMatrixLimits=function(t,e,n){this.mModel.setMatrixLimits(t,e,n)},n.performEvaluationForIncomingPiece=function(t,e,n,r,i){for(this.mModel.captureStateForNewLivePiece(t,e,n,r,i),this.mController.startEvaluationForNewLivePiece();!this.mController.processEvaluationForNewLivePiece(););},n.updateEvaluationForCurrentLivePiece=function(){for(this.mModel.captureStateForCurrentLivePiece(),this.mController.startEvaluationForNewLivePiece();!this.mController.processEvaluationForNewLivePiece(););},n.setCurrentStateMatrixMino=function(t,e,n){this.mModel.setCurrentStateMatrixMino(t,e,n)},n.isInputEnabled=function(t){return this.mController.isInputEnabled(t)},n.setIsInputEnabled=function(t,e){this.mController.setIsInputEnabled(t,e)},n.handleInputPositionChanged=function(t,e,n){return this.mController.handleInputPositionChanged(t,e,n)},n.handleInputIsOn=function(t,e,n){return this.mController.handleInputIsOn(t,e,n)},n.handleInputIsOnExclusive=function(t,e,n){return this.mController.handleInputIsOnExclusive(t,e,n)},n.handleInputIsOff=function(t,e,n){return this.mController.handleInputIsOff(t,e,n)},n.handleInputOnIsCancelled=function(t){this.mController.handleInputOnIsCancelled(t)},n.turnOffAllInputsForInputType=function(t){this.mController.turnOffAllInputsForInputType(t)},n.cancelAllInputs=function(){this.mController.cancelAllInputs()},n.isInputOn=function(t){return this.mController.isInputOn(t)},n.isSoftDropOn=function(){return this.mController.isSoftDropOn()},n.didPlayerActivelySelectTarget=function(){return this.mModel.didPlayerActivelySelectTarget()},n.handleLivePieceDidActivate=function(){this.mModel.handleLivePieceDidActivate(),this.mController.handleLivePieceDidActivate()},n.handleLivePieceDidDeactivate=function(){this.mModel.handleLivePieceDidDeactivate(),this.mController.handleLivePieceDidDeactivate()},n.isGhostPieceValid=function(){return this.mModel.isGhostPieceValid()},n.getEndingRotationPointForPiece=function(){return this.mModel.getEndingRotationPointForPiece()},n.getTSpinTypeForPiece=function(){return this.mModel.getTSpinTypeForPiece()},n.isSoftDropOnAndValid=function(){return this.mModel.isSoftDropOnAndValid()},n.getSoftDropStepsForPiece=function(){return this.mModel.getSoftDropStepsForPiece()},n.getHardDropStepsForPiece=function(){return this.mModel.getHardDropStepsForPiece()},n.suspendActivity=function(){this.cancelAllInputs(),this.mModel.suspendActivity()},n.resumeActivity=function(){this.mModel.resumeActivity()},n.isActive=function(){return this.mModel.isActive()},n.getMatrixWidth=function(){return this.mModel.getGameState().getMatrixWidth()},n.getMatrixHeight=function(){return this.mModel.getGameState().getMatrixHeight()},n.getModel=function(){return this.mModel},n.getController=function(){return this.mController},n.destroy=function(){this.isDestroyed()||(this.mController.destroy(),null!==this.mController&&(this.mController=null),this.mModel.destroy(),null!==this.mModel&&(this.mModel=null),this.mIsDestroyed=!0)},n.x2458387539630665861x=function(){},n.x2471836074014505605x=function(){return 0},n.x1049491425727914269x=function(t,e,n,r,i){},n.x2196891656787529984x=function(t){return!1},n.x1058575956147559628x=function(t){},n.x3060691252252401211x=function(t,e,n){},n.x3893763665171516694x=function(t){},n.x1316092419706207274x=function(t){},n.x4547241539657516365x=function(t,e){},n.x1685273721742577488x=function(){},n.x3249519766427856812x=function(){},n.x786254112047252119x=function(){},e(t,null,[{key:"x381758312294884138x",get:function(){return 1e6}},{key:"x3699220901933188103x",get:function(){return 1}},{key:"x1641265582704792431x",get:function(){return 2}},{key:"x3007826297304550775x",get:function(){return 3}},{key:"x1783666039364785772x",get:function(){return 4}},{key:"x4586196557313081711x",get:function(){return 257}},{key:"x1897916893597930055x",get:function(){return 258}},{key:"x545603278423867930x",get:function(){return 259}},{key:"x1454075296883474303x",get:function(){return 260}},{key:"x1175664325626108064x",get:function(){return 261}},{key:"x2775384362865261197x",get:function(){return 262}},{key:"x1907265081617522753x",get:function(){return 263}},{key:"kDirectInputId_moveTargetX",get:function(){return 264}},{key:"x746131496791512721x",get:function(){return 265}},{key:"x568991368002764633x",get:function(){return 513}},{key:"x574709296923727193x",get:function(){return 514}},{key:"x2431621942526423033x",get:function(){return 515}},{key:"x3904630102218357360x",get:function(){return 516}},{key:"x647909415883484730x",get:function(){return 517}},{key:"x1465652599581225916x",get:function(){return 518}},{key:"x4412847438902153040x",get:function(){return 519}},{key:"x2314494749819423868x",get:function(){return 520}},{key:"x4077703401742326325x",get:function(){return 521}},{key:"x1328887132852754850x",get:function(){return 769}},{key:"kGestureInputId_movePointer",get:function(){return 770}},{key:"kGestureInputId_rotateCW",get:function(){return 771}},{key:"kGestureInputId_rotateCCW",get:function(){return 772}},{key:"kGestureInputId_hardDrop",get:function(){return 773}},{key:"x810082637762071836x",get:function(){return 774}},{key:"x3017040020277318283x",get:function(){return 775}},{key:"kStandardControlVersionNumber",get:function(){return"289.01"}}]),t}());n._RF.pop()}}}));System.register("chunks:///_virtual/x2844149478643929343x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x396704097379050657x.ts","./x2697327737977927830x.ts"],(function(e){"use strict";var t,i,o,r;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy},function(e){o=e.x396704097379050657x},function(e){r=e.x2697327737977927830x}],execute:function(){i._RF.push({},"945092yZvNHCLedsCpWApSD","x2844149478643929343x",void 0);e("x2844149478643929343x",function(){function e(t,i,n,a){this.mActionTransformPathToTarget=new Array,this.mIsDestroyed=!1,this.mIsFallControlEnabled=!0,this.mFallTimerType=e.x2250283288006067454x,this.mNormalFallSpeedMSEC=1e3,this.mMaxNormalFallSteps=r.x2812288279383445977x,this.mSoftDropFallSpeedMSEC=-1,this.mFallSpeedMultiplier_FXPT=r.x2045759414872908808x,this.mEnableSoftDropInstantLock=!1,this.mAllowMoveLRDuringSoftDrop=!0,this.mStopSoftDropOnPieceDeactivation=!1,this.mIsLockTimerEnabled=!0,this.mLockTimeMSEC=500,this.mResetLockTimerOnMoveOrRotate=!0,this.mLockLivePieceAtTarget=!0,this.mSnapToTargetOnTouchDownFallSpeedMSEC=20,this.mSmartPlacementsAllowedBeforeLock=30,this.mDirectPlacementsAllowedBeforeLock=15,this.mAllowDirectRotationalHovering=!1,this.mAllowInfiniteHold=!1,this.mEnablePathToTarget=!1,this.mPieceData=a,this.mIsActive=!0,this.mControlMode=e.x2869418427131664294x,this.mGameState=new o(a,t,i,n),this.mPrevProcessTimeMSEC=-1,this.mIsLivePieceControllable=!1,this.mDidHandleLivePieceWillLockDown=!1,this.mFallTimerRemainingMSEC=-1,this.mRemainingNormalFallSteps=r.x2812288279383445977x,this.mCanHoldLivePiece=!0,this.mIsSoftDropOn=!1,this.mLowestLivePieceY=1e6,this.mLowestRowTouchedByLivePiece=1e6,this.mIsLivePieceTouchingDown=!1,this.mLockTimerElapsedMSEC=-1,this.mLockTimerRemainingMSEC=-1,this.mTargetTransform=r.x2194798655026538212x,this.mSmartPlacementsRemainingBeforeLock=0,this.mDirectPlacementsRemainingBeforeLock=0,this.mActionTransformPathToTarget.length=0,this.mDidMatrixChangeSinceLastSetTransforms=!1,this.mDidPlayerActivelySelectTarget=!1,this.mCurrentLivePiecePathStep=-1,this.mEndingRotationPointForPiece=0,this.mTSpinTypeForPiece=r.x2762047832241342883x,this.mSoftDropStepsForPiece=0,this.mHardDropStepsForPiece=0}var i=e.prototype;return i.isDestroyed=function(){return this.mIsDestroyed},i.getPieceData=function(){return this.mPieceData},i.processTime=function(){if(this.mIsActive){var e=this.x3597007442266065843x();if(this.mPrevProcessTimeMSEC>=0){var t=e-this.mPrevProcessTimeMSEC;this.processLockTimer(t),this.processFallTimer(t)}this.mPrevProcessTimeMSEC=e}},i.setMatrixLimits=function(e,t,i){this.mGameState.setMatrixLimits(e,t,i)},i.setMaxNormalFallSteps=function(e){this.mMaxNormalFallSteps=e>=0?e:r.x2812288279383445977x,this.mRemainingNormalFallSteps=this.mMaxNormalFallSteps,this.isFallControlEnabled()&&!this.isFallTimerActive()&&this.startLivePieceFalling(!1)},i.captureStateForNewLivePiece=function(e,t,i,o,r){this.mGameState.resetStateWithLivePiece(e,t,i,o,t,i,o),this.mGameState.setAlternatePieceTypeId(r),this.x2954122470410963337x(),this.mDidMatrixChangeSinceLastSetTransforms=!0},i.captureStateForCurrentLivePiece=function(){this.mGameState.resetStateWithCurrentLivePiece(),this.x2954122470410963337x(),this.mDidMatrixChangeSinceLastSetTransforms=!0},i.setCurrentStateMatrixMino=function(e,t,i){this.mGameState.setMino(e,t,i,2147483647,!1,!0,!0)},i.getGameState=function(){return this.mGameState},i.handleLivePieceDidActivate=function(){this.mIsLivePieceControllable=!0,this.mDidHandleLivePieceWillLockDown=!1,this.mFallTimerRemainingMSEC=-1,this.mRemainingNormalFallSteps=this.mMaxNormalFallSteps,this.mLowestLivePieceY=1e6,this.mLowestRowTouchedByLivePiece=1e6,this.mIsLivePieceTouchingDown=!1,this.mSmartPlacementsRemainingBeforeLock=this.mSmartPlacementsAllowedBeforeLock>=0?this.mSmartPlacementsAllowedBeforeLock:r.x2812288279383445977x,this.mDirectPlacementsRemainingBeforeLock=this.mDirectPlacementsAllowedBeforeLock>=0?this.mDirectPlacementsAllowedBeforeLock:r.x2812288279383445977x,this.mTargetTransform=r.x2194798655026538212x,this.mActionTransformPathToTarget.length=0,this.mDidPlayerActivelySelectTarget=!1,this.mCurrentLivePiecePathStep=-1,this.mEndingRotationPointForPiece=0,this.mTSpinTypeForPiece=r.x2762047832241342883x,this.mSoftDropStepsForPiece=0,this.mHardDropStepsForPiece=0,this.mGameState.handleLivePieceDidActivate(),this.mIsActive&&(this.updateDirectModeGhostPiece(),this.updateLowestRowReachedByLivePiece(),this.startLivePieceFalling(!0))},i.handleLivePieceDidFall=function(){this.isLivePieceControllable()&&(this.mEndingRotationPointForPiece=0,this.isSoftDropOnAndValid()&&!this.isControlModeSmart()&&this.mSoftDropStepsForPiece++,this.updateDirectModeGhostPiece(),this.updateLowestRowReachedByLivePiece())},i.handleLivePieceDidTouchDown=function(){this.isLivePieceControllable()&&(this.mIsLivePieceTouchingDown||(this.trySnapToTarget(),this._handleLivePieceDidTouchDown()))},i.handleLivePieceWillLockDown=function(){this.isLivePieceControllable()&&(this.isControlModeSmart()&&this.mLockLivePieceAtTarget&&this.mTargetTransform!=r.x2194798655026538212x&&this.selectTarget(!1,!1,!1),this.mIsLivePieceControllable=!1,this._handleLivePieceWillLockDown())},i.handleLivePieceDidDeactivate=function(){this.mStopSoftDropOnPieceDeactivation&&(this.mIsSoftDropOn=!1),this.cancelLockTimer(),this.cancelFallTimer(),this.mGameState.handleLivePieceDidDeactivate()},i.performControlAction=function(t,i,o){var n=0;switch(this.mGameState.setCurrentControlAction(t),t){case r.x1163264438382801197x:case r.x1148181501057868572x:case r.x1754747052250615582x:case r.x3037978297644400982x:case r.x3627316749632917279x:case r.x1045657441224132560x:case r.x1632269064637221348x:case r.x2009612428084326544x:case r.x3398658093998472145x:case r.x3093225339302193578x:case r.x465839716603525218x:switch(this.setControlMode(e.x2869418427131664294x),t){case r.x465839716603525218x:if(this.isLivePieceControllable()){var a=this.getCurrentLivePieceTransform();a!=r.x2194798655026538212x&&this.setTransforms(a,this.mGameState.getTransformForControlAction(a,r.x3093225339302193578x),r.x1368284773568313387x,0)}break;case r.x2009612428084326544x:this.isFallControlEnabled()?this.mIsSoftDropOn?this.x966241109084734041x(r.x2009612428084326544x):(this.mIsSoftDropOn=!0,this.mGameState.doesLivePieceTouchBelow()&&!this.mEnableSoftDropInstantLock||(this.mFallTimerRemainingMSEC=0,this.processFallTimer(0)),this.x2267183045048393816x(this.mGameState.getLivePieceCurrentX(),this.mGameState.getLivePieceCurrentY(),this.mGameState.getLivePieceCurrentFacing(),t,0)):!this.mIsSoftDropOn&&this.x4352001959933621830x(r.x2009612428084326544x)?this.mIsSoftDropOn=!0:this.x966241109084734041x(r.x2009612428084326544x);break;case r.x3398658093998472145x:this.isFallControlEnabled()?this.mIsSoftDropOn?(this.mIsSoftDropOn=!1,this.cancelFallTimer(),this.startLivePieceFalling(!1)):this.x966241109084734041x(r.x3398658093998472145x):this.mIsSoftDropOn&&this.x4352001959933621830x(r.x3398658093998472145x)?this.mIsSoftDropOn=!1:this.x966241109084734041x(r.x3398658093998472145x);break;default:if(this.isLivePieceControllable()){if(!this.x4352001959933621830x(t)){var s,c=this.getCurrentLivePieceTransform();switch(t){case r.x1163264438382801197x:case r.x1148181501057868572x:case r.x1754747052250615582x:case r.x3037978297644400982x:case r.x3627316749632917279x:case r.x1045657441224132560x:case r.x1632269064637221348x:var l=!0;switch(t){case r.x1163264438382801197x:case r.x1148181501057868572x:l=this.mAllowMoveLRDuringSoftDrop||!this.mIsSoftDropOn}if(l){switch(t){case r.x1045657441224132560x:case r.x1632269064637221348x:if(!this.mAllowDirectRotationalHovering&&this.mDirectPlacementsRemainingBeforeLock<=0)switch(t){case r.x1045657441224132560x:t=r.x3037978297644400982x;break;case r.x1632269064637221348x:t=r.x3627316749632917279x}}if((n=this.mGameState.getTransformForControlAction(c,t))!=r.x2194798655026538212x){var m=this.mGameState.getTransformActionForControlAction(c,n,t),h=r.getControlActionInfoForTransformAction(m);s=this.mGameState.getTransformForControlAction(n,r.x3093225339302193578x),this.setTransforms(n,s,t,h)}else this.x966241109084734041x(t)}else this.x966241109084734041x(t);break;case r.x3093225339302193578x:s=this.mGameState.getTransformForControlAction(c,r.x3093225339302193578x),this.mHardDropStepsForPiece=this.mPieceData.computeYFromTransformId(c)-this.mPieceData.computeYFromTransformId(s),this.setTransforms(c,s,r.x1368284773568313387x,0),this.selectTarget(!0,!1,!0);break;default:this.x966241109084734041x(t)}}}else this.x966241109084734041x(t)}break;case r.x274957615890821540x:case r.x914500067508213266x:case r.x414078848479177992x:case r.x3493086446927858709x:case r.x1745179120318019337x:case r.x1415831414458085166x:switch(this.setControlMode(e.x1884119256880508595x),t){case r.x274957615890821540x:n=this.mGameState.generateActionTransformPathWithActions(this.mGameState.getLivePieceStartingTransform(),i,null);var d=this.mGameState.generateActionTransformPathWithActions(this.mGameState.getLivePieceStartingTransform(),o,this.mActionTransformPathToTarget);this.setTransforms(n,d,r.x274957615890821540x,0);break;case r.x914500067508213266x:case r.x414078848479177992x:case r.x3493086446927858709x:case r.x1745179120318019337x:break;case r.x1415831414458085166x:this.selectTarget(!0,this.mEnablePathToTarget,!0)}break;case r.x476144921134076668x:this.isLivePieceControllable()&&this.mCanHoldLivePiece&&this.x4352001959933621830x(r.x476144921134076668x)?this.mAllowInfiniteHold||(this.mCanHoldLivePiece=!1):this.x966241109084734041x(r.x476144921134076668x);break;default:this.x4352001959933621830x(t)}this.mGameState.setCurrentControlAction(r.x1368284773568313387x)},i.forceHardDropControlAction=function(){this.performControlAction(r.x3093225339302193578x,null,null)},i.isGhostPieceValid=function(){return this.isLivePieceControllable()&&this.mTargetTransform!=r.x2194798655026538212x},i.isControllingLivePiecePathToTarget=function(){return this.isLivePieceActive()&&this.mCurrentLivePiecePathStep>=0},i.processLivePiecePathToTarget=function(){if(this.isLivePieceActive()&&!(this.mCurrentLivePiecePathStep<0)){var e=this.mActionTransformPathToTarget.length/2;if(this.mCurrentLivePiecePathStep<e){var t=this.mActionTransformPathToTarget[2*this.mCurrentLivePiecePathStep],i=this.mActionTransformPathToTarget[2*this.mCurrentLivePiecePathStep+1];this.setLivePieceTransform(i,r.getControlActionForTransformAction(t),r.getControlActionInfoForTransformAction(t)),this.mCurrentLivePiecePathStep++}this.mCurrentLivePiecePathStep>=e&&(this.lockLivePiece(),this.mCurrentLivePiecePathStep=-1)}},i.getEndingRotationPointForPiece=function(){return this.mEndingRotationPointForPiece},i.getTSpinTypeForPiece=function(){return this.mTSpinTypeForPiece},i.isSoftDropOnAndValid=function(){return this.isLivePieceControllable()&&this.mIsSoftDropOn&&this.mGameState.getLivePieceCurrentY()<=this.mLowestLivePieceY},i.getSoftDropStepsForPiece=function(){return this.mSoftDropStepsForPiece},i.getHardDropStepsForPiece=function(){return this.mHardDropStepsForPiece},i.didPlayerActivelySelectTarget=function(){return this.mDidPlayerActivelySelectTarget},i.canHoldLivePiece=function(){return this.mCanHoldLivePiece},i.suspendActivity=function(){this.mIsActive&&(this.mIsActive=!1,this.mPrevProcessTimeMSEC=-1)},i.resumeActivity=function(){this.mIsActive||(this.mIsActive=!0,this.mPrevProcessTimeMSEC=this.x3597007442266065843x(),this.updateLowestRowReachedByLivePiece())},i.isActive=function(){return this.mIsActive&&this.mPrevProcessTimeMSEC>=0},i.setControlMode=function(e){this.mControlMode!=e&&(this.mIsSoftDropOn&&(this.x4352001959933621830x(r.x3398658093998472145x),this.mIsSoftDropOn=!1),this.mControlMode=e,this.mActionTransformPathToTarget.length=0,this.mEndingRotationPointForPiece=0)},i.isControlModeSmart=function(){return this.mControlMode==e.x1884119256880508595x},i.isLivePieceActive=function(){return this.mIsActive&&this.mGameState.isLivePieceActive()},i.isLivePieceControllable=function(){return this.mIsActive&&this.mGameState.isLivePieceActive()&&this.mIsLivePieceControllable},i.getCurrentLivePiece=function(){return this.isLivePieceActive()?this.mPieceData.getPiece(this.mGameState.getLivePieceTypeId(),this.getCurrentLivePieceTransform()):null},i.getCurrentLivePieceTransform=function(){return this.mGameState.getLivePieceCurrentTransform()},i.getCurrentLivePieceBottomRow=function(){var e=this.getCurrentLivePiece();return e?e.mMinMinoY:-1},i.startLivePieceFalling=function(t){var i=this.mGameState.doesLivePieceTouchBelow();switch(i&&t&&this.cancelLockTimer(),this.mFallTimerType){case e.x2250283288006067454x:i?(this.cancelFallTimer(),this.mIsLivePieceTouchingDown=!1,this.handleLivePieceDidTouchDown()):(this.cancelLockTimer(),this.startFallTimer());break;case e.x2069205936157588354x:this.startFallTimer()}},i.isFallControlEnabled=function(){return this.mIsFallControlEnabled},i.isFallTimerActive=function(){return this.mFallTimerRemainingMSEC>=0&&this.mFallTimerRemainingMSEC<e.x381758312294884138x},i.getCurrentFallSpeedMSEC=function(){var e=this.mIsSoftDropOn?r.minInt(this.mSoftDropFallSpeedMSEC,this.mNormalFallSpeedMSEC):this.mNormalFallSpeedMSEC;return this.mFallSpeedMultiplier_FXPT!=r.x2045759414872908808x&&(this.mFallSpeedMultiplier_FXPT<r.x2045759414872908808x?e=r.FXPTToInt(r.FXPTMultiply(r.FXPTFromInt(e),this.mFallSpeedMultiplier_FXPT)):e*=r.FXPTToInt(this.mFallSpeedMultiplier_FXPT)),e},i.startFallTimer=function(){this.isFallControlEnabled()&&(this.isFallTimerActive()||(this.mFallTimerRemainingMSEC=this.getCurrentFallSpeedMSEC(),0==this.mFallTimerRemainingMSEC&&this.processFallTimer(0)))},i.processFallTimer=function(t){if(this.isFallControlEnabled()&&this.isFallTimerActive()){this.mFallTimerRemainingMSEC-=t;for(var i=this.mFallTimerRemainingMSEC<=0,o=this.getCurrentFallSpeedMSEC(),n=this.getCurrentLivePiece(),a=this.mGameState.doesPieceTouchBelow(n),s=a;n&&this.mFallTimerRemainingMSEC<=0&&!a&&(this.mRemainingNormalFallSteps>0||this.isSoftDropOnAndValid());)n=this.mPieceData.getPiece(this.mGameState.getLivePieceTypeId(),n.mPerTransformActionToTransformIds[r.x2122265053032977260x]),this.setLivePieceTransform(n.mTransformId,r.x1754747052250615582x,0),this.handleLivePieceDidFall(),a=this.mGameState.doesPieceTouchBelow(n),this.mFallTimerRemainingMSEC+=o,this.mRemainingNormalFallSteps<r.x2812288279383445977x&&this.mRemainingNormalFallSteps--;if(this.mRemainingNormalFallSteps<=0&&!this.isSoftDropOnAndValid()&&this.cancelFallTimer(),a){switch(this.mFallTimerType){case e.x2250283288006067454x:this.cancelFallTimer()}switch(this.cancelLockTimer(),this.mIsLivePieceTouchingDown=!1,this.handleLivePieceDidTouchDown(),this.mFallTimerType){case e.x2250283288006067454x:break;case e.x2069205936157588354x:i&&s&&this.lockLivePiece()}}}},i.cancelFallTimer=function(){this.isFallControlEnabled()&&(this.mFallTimerRemainingMSEC=-1)},i.updateLowestRowReachedByLivePiece=function(){if(this.isLivePieceControllable()){var e=this.mGameState.getLivePieceCurrentY();e<this.mLowestLivePieceY&&(this.mLowestLivePieceY=e);var t=this.getCurrentLivePieceBottomRow();t<this.mLowestRowTouchedByLivePiece&&(this.mLowestRowTouchedByLivePiece=t,this.mSmartPlacementsRemainingBeforeLock=this.mSmartPlacementsAllowedBeforeLock>=0?this.mSmartPlacementsAllowedBeforeLock:r.x2812288279383445977x,this.mDirectPlacementsRemainingBeforeLock=this.mDirectPlacementsAllowedBeforeLock>=0?this.mDirectPlacementsAllowedBeforeLock:r.x2812288279383445977x)}},i._handleLivePieceDidTouchDown=function(){this.isLivePieceControllable()&&!this.mIsLivePieceTouchingDown?(this.mIsLivePieceTouchingDown=!0,(this.isControlModeSmart()?this.mSmartPlacementsRemainingBeforeLock:this.mDirectPlacementsRemainingBeforeLock)<=0||this.mEnableSoftDropInstantLock&&this.isSoftDropOnAndValid()?(this.cancelLockTimer(),this.lockLivePiece()):this.startLockTimer()):this.cancelLockTimer()},i._handleLivePieceWillLockDown=function(){this.mDidHandleLivePieceWillLockDown||(this.mTSpinTypeForPiece=this.getGameState().getTSpinTypeForLivePieceCurrentTransform(this.mEndingRotationPointForPiece),this.mDidHandleLivePieceWillLockDown=!0,this.mCanHoldLivePiece=!0,this.mGameState.handleLivePieceWillLockDown())},i.isLockTimerEnabled=function(){return this.mIsLockTimerEnabled&&this.mLockTimeMSEC>=0},i.isLockTimerActive=function(){return!!this.isLockTimerEnabled()&&this.mLockTimerRemainingMSEC>=0},i.startLockTimer=function(){this.isLockTimerEnabled()&&(this.isLockTimerActive()||(this.mLockTimeMSEC>0?(this.mLockTimerElapsedMSEC=0,this.mLockTimerRemainingMSEC=this.mLockTimeMSEC,this.x3543258852201794257x(this.mLockTimerRemainingMSEC)):(this.handleLivePieceWillLockDown(),this.lockLivePiece())))},i.processLockTimer=function(e){this.isLockTimerEnabled()&&this.isLockTimerActive()&&(this.mLockTimerElapsedMSEC+=e,this.mLockTimerRemainingMSEC-=e,this.mLockTimerRemainingMSEC<=0?(this.x3092377609147539349x(),this.handleLivePieceWillLockDown(),this.lockLivePiece()):this.x2491826566415223483x(this.mLockTimerElapsedMSEC,this.mLockTimerRemainingMSEC))},i.cancelLockTimer=function(){this.isLockTimerEnabled()?this.isLockTimerActive()&&(this.mLockTimerElapsedMSEC=-1,this.mLockTimerRemainingMSEC=-1,this.x807038421150868037x()):this.x3043639613124420556x()},i.trySnapToTarget=function(){if(!this.isControlModeSmart())return!1;var e=0;return this.isFallControlEnabled()&&(e=this.mNormalFallSpeedMSEC),!(!(e<=this.mSnapToTargetOnTouchDownFallSpeedMSEC&&this.mGameState.doesLivePieceTouchBelow())||this.mPieceData.areTransformsEquivalent(this.mGameState.getLivePieceTypeId(),this.getCurrentLivePiece().mTransformId,this.mTargetTransform))&&(this.setLivePieceTransform(this.mTargetTransform,r.x1745179120318019337x,0),!0)},i.setLivePieceTransform=function(e,t,i){if(e!=this.getCurrentLivePieceTransform()&&this.mPieceData.isTransformValid(this.mGameState.getLivePieceTypeId(),e)){this.mGameState.setLivePieceCurrentTransform(e);var o=this.mPieceData.computeXFromTransformId(e),n=this.mPieceData.computeYFromTransformId(e),a=r.computeFacingFromTransformId(e);this.x2267183045048393816x(o,n,a,t,i)}},i.setTransforms=function(t,i,o,n){if(this.mTargetTransform=i,i!=r.x2194798655026538212x){this.x3796785845672155164x(!0);var a=this.mPieceData.computeXFromTransformId(i),s=this.mPieceData.computeYFromTransformId(i),c=r.computeFacingFromTransformId(i);this.x626788511313154672x(a,s,c)}else this.x3796785845672155164x(!1);if(t!=r.x2194798655026538212x){var l=this.getCurrentLivePieceTransform();if(l!=t||this.mDidMatrixChangeSinceLastSetTransforms){this.mDidMatrixChangeSinceLastSetTransforms=!1,this.setLivePieceTransform(t,o,n);var m=this.getCurrentLivePieceTransform();if(m!=l){switch(this.trySnapToTarget()&&(m=this.getCurrentLivePieceTransform()),o){case r.x3037978297644400982x:case r.x3627316749632917279x:case r.x1045657441224132560x:case r.x1632269064637221348x:var h=n;5==this.mEndingRotationPointForPiece?1!=h&&(this.mEndingRotationPointForPiece=h):this.mEndingRotationPointForPiece=h;break;default:this.getPieceData().areTransformsEquivalent(this.mGameState.getLivePieceTypeId(),m,l)||(this.mEndingRotationPointForPiece=0)}switch(this.isControlModeSmart()?this.mSmartPlacementsRemainingBeforeLock<r.x2812288279383445977x&&this.mSmartPlacementsRemainingBeforeLock--:this.mDirectPlacementsRemainingBeforeLock<r.x2812288279383445977x&&this.mDirectPlacementsRemainingBeforeLock--,this.updateLowestRowReachedByLivePiece(),this.mFallTimerType){case e.x2250283288006067454x:this.mIsLivePieceTouchingDown=!1,this.startLivePieceFalling(this.mResetLockTimerOnMoveOrRotate)}}}}},i.selectTarget=function(e,t,i){if(this.isLivePieceControllable()){var o;this.mIsLivePieceControllable=!1,this.mCurrentLivePiecePathStep=-1,this.mDidPlayerActivelySelectTarget=e,this.x3796785845672155164x(!1);if(o=this.isControlModeSmart()?r.x1415831414458085166x:r.x3093225339302193578x,this.mTargetTransform!=r.x2194798655026538212x){if(this.isControlModeSmart()){this.mEndingRotationPointForPiece=this.mGameState.getEndingRotationPointForPath(this.mActionTransformPathToTarget);var n=this.getCurrentLivePieceTransform();this.mSoftDropStepsForPiece=this.mGameState.getSoftDropStepsForPath(this.mActionTransformPathToTarget,n,this.mLowestLivePieceY),this.mHardDropStepsForPiece=this.mGameState.getHardDropStepsForPath(this.mActionTransformPathToTarget,n)}t?(this.mCurrentLivePiecePathStep=0,this.processLivePiecePathToTarget()):(this.setLivePieceTransform(this.mTargetTransform,o,0),i&&this.lockLivePiece())}else{this.mHardDropStepsForPiece=0;for(var a=this.getCurrentLivePiece();a&&!this.mGameState.doesPieceTouchBelow(a);)a=this.mPieceData.getPiece(this.mGameState.getLivePieceTypeId(),a.mPerTransformActionToTransformIds[r.x2122265053032977260x]),this.mHardDropStepsForPiece++;this.setLivePieceTransform(a.mTransformId,o,0),i&&this.lockLivePiece()}}},i.lockLivePiece=function(){this._handleLivePieceWillLockDown(),this.cancelLockTimer(),this.mIsLivePieceControllable=!1,this.x569170767445709786x()},i.updateDirectModeGhostPiece=function(){this.mControlMode==e.x2869418427131664294x&&this.performControlAction(r.x465839716603525218x,null,null)},i.destroy=function(){this.isDestroyed()||(this.mGameState.destroy(),null!==this.mGameState&&(this.mGameState=null),this.mIsDestroyed=!0)},i.x3597007442266065843x=function(){return 0},i.x2954122470410963337x=function(){},i.x2267183045048393816x=function(e,t,i,o,r){},i.x4352001959933621830x=function(e){return!1},i.x966241109084734041x=function(e){},i.x626788511313154672x=function(e,t,i){},i.x3796785845672155164x=function(e){},i.x3543258852201794257x=function(e){},i.x2491826566415223483x=function(e,t){},i.x3092377609147539349x=function(){},i.x807038421150868037x=function(){},i.x3043639613124420556x=function(){},i.x569170767445709786x=function(){},t(e,null,[{key:"x1884119256880508595x",get:function(){return 1}},{key:"x2869418427131664294x",get:function(){return 2}},{key:"x2250283288006067454x",get:function(){return 1}},{key:"x2069205936157588354x",get:function(){return 2}},{key:"x381758312294884138x",get:function(){return 1e6}}]),e}());i._RF.pop()}}}));System.register("chunks:///_virtual/x2193489684581297840x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4272192290603036666x.ts","./x4522452675581703348x.ts","./x3549067075061003607x.ts","./x2697327737977927830x.ts"],(function(t){"use strict";var e,i,r,n,a,s,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){r=t.cclegacy},function(t){n=t.x4272192290603036666x},function(t){a=t.x4522452675581703348x},function(t){s=t.x3549067075061003607x},function(t){o=t.x2697327737977927830x}],execute:function(){r._RF.push({},"adeefjfz1tDIoOFLqFpXVrW","x2193489684581297840x",void 0);t("x2193489684581297840x",function(t){function r(e,i,n,s,T){var m;return(m=t.call(this,r.x4300242453282062329x,r.x924318484818348441x,e,i,n,s,T)||this).mActionsToTarget=new Array,m.mActionsToLivePiece=new Array,m.mIsTargetFacingFixed=!1,m.mCellTrackingInset_FXPT=100,m.mSearchCellForTarget=!0,m.mSearchColumnForTarget=!0,m.mUpdateTargetWhilePointerInputIsOff=!0,m.mForceValidTarget=!1,m.mPointerSelectTargetMatrixBufferX=1e3,m.mPointerSelectTargetMatrixBufferY=1e3,m.mSelectTargetAtPointerInputOn=!0,m.mPieceDeactivationByNonSelectCancelsPointerOn=!0,m.mPointerSmoothingWeight_FXPT=0,m.mDoSmoothingWhilePointerInputIsOff=!1,m.mRestrictReachableTransforms=!1,m.mEnablePathToTargetHardDrop=!0,m.mOptimizePathToTarget=!0,m.mTargetFinder=new a(i,n,s,T,!0),m.mTargetPathFinder=m.mTargetFinder,m.mLivePiecePathFinder=new a(i,n,s,T,!1),m.mPrevPointerSmoothingProcessTimeSEC_FXPT=0,m.mAvailablePointerSmoothingProcessTimeSEC_FXPT=0,m.resetPointerPosition(),m.mTargetFacing=o.x353242128309914033x,m.mLivePieceTransform=o.x2194798655026538212x,m.mTargetTransform=o.x2194798655026538212x,m.mDidSelectTarget=!1,m.mIgnoreNextSelectViaPointerOff=!1,m.mDidFirstLivePieceActivate=!1,m.mTargetCyclingReferenceTransform=o.x2194798655026538212x,m.mResetPointerPositionAtNextPieceActivation=!1,m}e(r,t);var n=r.prototype;return n.x2698876064344158915x=function(t){this.mRestrictReachableTransforms=t,t&&this.mTargetPathFinder==this.mTargetFinder&&(this.mTargetPathFinder=new a(this.getPieceData(),this.getMatrixWidth(),this.getMatrixHeight(),this.getMatrixVisibleHeight(),!0))},n.getTargetTransform=function(){return this.mIsTargetCellValid?this.mTargetTransform:o.x2194798655026538212x},n.getTargetCellX=function(){return o.FXPTToInt(this.mTargetCellX_FXPT)},n.setEvaluator=function(t,e){this.mTargetFinder.setEvaluator(t,e)},n.getTargetFinder=function(){return this.mTargetFinder},n.resetPointerPosition=function(){var t=this.getInput(r.x3422796011189382401x);t.mX_FXPT=~~((this.getMatrixWidth()-1)/2)*o.x1799756490073264452x,t.mY_FXPT=-1,this.mTargetCellX_FXPT=t.mX_FXPT,this.mTargetCellY_FXPT=t.mY_FXPT,this.mIsTargetCellValid=!1,this.mSmoothedPointerInputX_FXPT=t.mX_FXPT,this.mSmoothedPointerInputY_FXPT=t.mY_FXPT},n.updatePointerSmoothing=function(){if(this.mPointerSmoothingWeight_FXPT>0){var t=this.getInput(r.x3422796011189382401x);if(t.mIsOn||this.mDoSmoothingWhilePointerInputIsOff){var e=this.getController()._getTimeSEC_FXPT(),i=e-this.mPrevPointerSmoothingProcessTimeSEC_FXPT;if(this.mPrevPointerSmoothingProcessTimeSEC_FXPT=e,i>0){this.mAvailablePointerSmoothingProcessTimeSEC_FXPT+=i;for(;this.mAvailablePointerSmoothingProcessTimeSEC_FXPT>10;)this.mSmoothedPointerInputX_FXPT=o.FXPTSmooth(this.mSmoothedPointerInputX_FXPT,t.mX_FXPT,this.mPointerSmoothingWeight_FXPT),this.mSmoothedPointerInputY_FXPT=o.FXPTSmooth(this.mSmoothedPointerInputY_FXPT,t.mY_FXPT,this.mPointerSmoothingWeight_FXPT),this.mAvailablePointerSmoothingProcessTimeSEC_FXPT-=10;this.mSmoothedPointerInputX_FXPT==t.mX_FXPT&&this.mSmoothedPointerInputY_FXPT==t.mY_FXPT||this.x1301163629030014353x(t)}}else this.mSmoothedPointerInputX_FXPT=t.mX_FXPT,this.mSmoothedPointerInputY_FXPT=t.mY_FXPT}},n.updateLivePieceTransform=function(){var t=this.getController()._getGameState(),e=t.getLivePieceCurrentTransform();return!(e==this.mLivePieceTransform||(this.mLivePieceTransform=e,!this.mRestrictReachableTransforms))&&(this.mTargetFinder.resetReachableTransforms(t.getLivePieceCurrentX(),t.getLivePieceCurrentY(),t.getLivePieceCurrentFacing()),!0)},n.cycleNextTarget=function(){var t=this.mTargetFinder.getNextReachableTransformForColumn(this.mTargetTransform,o.FXPTToInt(this.mTargetCellX_FXPT),this.mTargetCyclingReferenceTransform);t!=o.x2194798655026538212x&&this.setTargetTransform(t,!1)},n.updateTargetCell=function(t,e,i,n){var a=this.getInput(r.x3422796011189382401x);if(this.mUpdateTargetWhilePointerInputIsOff||a.mIsOn||i){if(this.mTargetTransform!=o.x2194798655026538212x&&this.mCellTrackingInset_FXPT>0){var T=o.FXPTFloor(t),m=o.FXPTFloor(e);(t-this.mTargetCellX_FXPT>=0?t-this.mTargetCellX_FXPT:-(t-this.mTargetCellX_FXPT))<s.x2971455028554701567x&&(t<T+this.mCellTrackingInset_FXPT||t>T+s.x549028393557357010x-this.mCellTrackingInset_FXPT)&&(t=this.mTargetCellX_FXPT),(e-this.mTargetCellY_FXPT>=0?e-this.mTargetCellY_FXPT:-(e-this.mTargetCellY_FXPT))<s.x2971455028554701567x&&(e<m+this.mCellTrackingInset_FXPT||e>m+s.x549028393557357010x-this.mCellTrackingInset_FXPT)&&(e=this.mTargetCellY_FXPT)}var h=~~(this.mTargetCellX_FXPT/o.x1799756490073264452x),l=~~(this.mTargetCellY_FXPT/o.x1799756490073264452x);this.mTargetCellX_FXPT=o.clampInt(t,0,(this.getMatrixWidth()-1)*o.x1799756490073264452x),this.mTargetCellY_FXPT=o.clampInt(e,-o.x2045759414872908808x,(this.getMatrixVisibleHeight()-1)*o.x1799756490073264452x),this.mTargetCellY_FXPT<0&&(this.mTargetCellY_FXPT=-o.x2045759414872908808x);var g=this.mIsTargetCellValid;if(this.mIsTargetCellValid=this.mUpdateTargetWhilePointerInputIsOff||a.mIsOn,!this.isLivePieceControllable())return;var P=~~(this.mTargetCellX_FXPT/o.x1799756490073264452x),c=~~(this.mTargetCellY_FXPT/o.x1799756490073264452x);if(P==h&&c==l&&g&&!i)return;var d=this.mIsTargetFacingFixed?this.mTargetFacing:o.x771445861677852680x,u=o.x2194798655026538212x;if(this.mSearchCellForTarget&&this.mTargetCellY_FXPT>=0&&(u=this.mTargetFinder.getBestTransformForCell(P,c,!1,d,0,!1)),u==o.x2194798655026538212x&&this.mSearchColumnForTarget&&(u=this.mTargetFinder.getBestTransformForColumn(P,!1,d,0,!1)),n&&this.getPieceData().areTransformsEquivalent(this.getController()._getGameState().getLivePieceTypeId(),this.mTargetTransform,u))return;this.mTargetCyclingReferenceTransform=u,this.setTargetTransform(u,i)}else{if(this.mIsTargetCellValid=!1,!this.isLivePieceControllable())return;if(n&&this.mTargetTransform==o.x2194798655026538212x)return;this.setTargetTransform(o.x2194798655026538212x,!0)}},n.setTargetTransform=function(t,e){if(this.isLivePieceControllable()){var i=this.mTargetFinder.getLivePieceCurrentTransform();i!=o.x2194798655026538212x&&t==o.x2194798655026538212x&&(this.mForceValidTarget&&t==o.x2194798655026538212x?t=this.mTargetFinder.getTransformForControlAction(i,o.x3093225339302193578x):this.mRestrictReachableTransforms&&(t=this.mTargetTransform));var r,n,a=t!=this.mTargetTransform||e;if(this.mTargetTransform=t,a)if(this.mTargetTransform!=o.x2194798655026538212x){var s=this.getPieceData().computeXFromTransformId(this.mTargetTransform),T=this.getPieceData().computeYFromTransformId(this.mTargetTransform),m=o.computeFacingFromTransformId(this.mTargetTransform);this.mTargetPathFinder.getBestActionsForTransform(this.mTargetTransform,this.mActionsToTarget,this.mOptimizePathToTarget,this.mEnablePathToTargetHardDrop,!1);var h=this.getController()._getGameState().getLivePieceCurrentY();if(n=this.getPieceData().computeTransformId(s,h,m),this.mTargetPathFinder.doesTransformCollide(n))for(h++;h<=T&&(n=this.getPieceData().computeTransformId(s,h,m),this.mTargetPathFinder.doesTransformCollide(n));)h++,n=o.x2194798655026538212x;n==o.x2194798655026538212x||this.mLivePiecePathFinder.getBestActionsForTransform(n,this.mActionsToLivePiece,!0,!1,!1)||(n=this.getPieceData().computeTransformId(s,h,o.rotateFacing180(m,!0)),this.mLivePiecePathFinder.getBestActionsForTransform(n,this.mActionsToLivePiece,!0,!1,!1)||(n=o.x2194798655026538212x)),n==o.x2194798655026538212x&&(n=this.getController()._getGameState().getLivePieceCurrentTransform(),this.mLivePiecePathFinder.getBestActionsForTransform(n,this.mActionsToLivePiece,!0,!1,!1)||(n=o.x2194798655026538212x)),n==o.x2194798655026538212x&&(this.mActionsToLivePiece.length=0,r=o.x1939585969335275317x,this.mActionsToLivePiece.push(r)),this.getController()._performControlAction(o.x274957615890821540x,this.mActionsToLivePiece,this.mActionsToTarget),this.updateLivePieceTransform()}else this.mActionsToTarget.length=0,r=o.x2718545419158875445x,this.mActionsToTarget.push(r),n=this.getController()._getGameState().getLivePieceCurrentTransform(),this.mLivePiecePathFinder.getBestActionsForTransform(n,this.mActionsToLivePiece,!0,!1,!1)||(this.mActionsToLivePiece.length=0,r=o.x1939585969335275317x,this.mActionsToLivePiece.push(r)),this.getController()._performControlAction(o.x274957615890821540x,this.mActionsToLivePiece,this.mActionsToTarget),this.updateLivePieceTransform()}},n.selectTarget=function(){this.isLivePieceControllable()&&this.mTargetTransform!=o.x2194798655026538212x&&(this.mDidSelectTarget=!0,this.getController()._performControlAction(o.x1415831414458085166x,null,null))},n.isPointInsideMatrixBuffer=function(t,e){return!(t<-this.mPointerSelectTargetMatrixBufferX*o.x1799756490073264452x)&&(!(t>(this.getMatrixWidth()+this.mPointerSelectTargetMatrixBufferX)*o.x1799756490073264452x)&&(!(e<-this.mPointerSelectTargetMatrixBufferY*o.x1799756490073264452x)&&!(e>(this.getMatrixVisibleHeight()+this.mPointerSelectTargetMatrixBufferY)*o.x1799756490073264452x)))},n.destroy=function(){this.isDestroyed()||(this.mTargetFinder&&(this.mTargetPathFinder==this.mTargetFinder&&(this.mTargetPathFinder=null),this.mTargetFinder.destroy(),null!==this.mTargetFinder&&(this.mTargetFinder=null)),this.mTargetPathFinder&&(this.mTargetPathFinder.destroy(),null!==this.mTargetPathFinder&&(this.mTargetPathFinder=null)),this.mLivePiecePathFinder&&(this.mLivePiecePathFinder.destroy(),null!==this.mLivePiecePathFinder&&(this.mLivePiecePathFinder=null)),t.prototype.destroy.call(this))},n.x371773043756528957x=function(t){t&&(this.updateLivePieceTransform(),this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!0))},n.x3056683011705258038x=function(t){this.updatePointerSmoothing(),this.updateLivePieceTransform()&&this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!0)},n.x1301163629030014353x=function(t){switch(t.mInputId){case r.x3422796011189382401x:0==this.mPointerSmoothingWeight_FXPT&&(this.mSmoothedPointerInputX_FXPT=t.mX_FXPT,this.mSmoothedPointerInputY_FXPT=t.mY_FXPT),this.updateTargetCell(this.mSmoothedPointerInputX_FXPT,this.mSmoothedPointerInputY_FXPT,!1,!1),this.mResetPointerPositionAtNextPieceActivation=!1}},n.x3847147672198281922x=function(t){var e,i;switch(t.mInputId){case r.x3422796011189382401x:this.mPrevPointerSmoothingProcessTimeSEC_FXPT=this.getController()._getTimeSEC_FXPT(),this.mAvailablePointerSmoothingProcessTimeSEC_FXPT=0,this.mSmoothedPointerInputX_FXPT=t.mX_FXPT,this.mSmoothedPointerInputY_FXPT=t.mY_FXPT,this.updateTargetCell(t.mX_FXPT,t.mY_FXPT,!0,!1),this.isPointInsideMatrixBuffer(t.mX_FXPT,t.mY_FXPT)&&this.mSelectTargetAtPointerInputOn&&this.selectTarget();break;case r.x3806706921708093051x:case r.x1624590416104774118x:switch(this.mTargetCellY_FXPT=-1,e=this.getController()._getGameState().getLivePieceTypeId(),i=this.mTargetTransform,t.mInputId){case r.x3806706921708093051x:for(;this.mTargetCellX_FXPT>0&&this.getPieceData().areTransformsEquivalent(e,this.mTargetTransform,i);)this.mTargetCellX_FXPT-=o.x2045759414872908808x,this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!0);break;case r.x1624590416104774118x:for(var n=o.FXPTFromInt(this.getMatrixWidth()-1)-1;this.mTargetCellX_FXPT<n&&this.getPieceData().areTransformsEquivalent(e,this.mTargetTransform,i);)this.mTargetCellX_FXPT+=o.x2045759414872908808x,this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!0)}t.mIsOn=!1,t.mX_FXPT=this.mTargetCellX_FXPT,t.mY_FXPT=this.mTargetCellY_FXPT,this.mResetPointerPositionAtNextPieceActivation=!0;break;case r.x433303321694138845x:this.cycleNextTarget();break;case r.x4306942188177755211x:this.selectTarget();break;case r.x2104737041701417094x:this.getController()._performControlAction(o.x476144921134076668x,null,null);break;case r.x997565413438838135x:this.mTargetFacing=o.rotateFacing90(this.mTargetFacing,!0),this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!0);break;case r.x4476960116674578616x:this.mTargetFacing=o.rotateFacing90(this.mTargetFacing,!1),this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!0);break;case r.x1169701762579244607x:this.getController()._performControlAction(o.x969972148126808315x,null,null)}},n.x2872677879249794081x=function(t){switch(t.mInputId){case r.x3422796011189382401x:this.mSmoothedPointerInputX_FXPT=t.mX_FXPT,this.mSmoothedPointerInputY_FXPT=t.mY_FXPT,!this.isPointInsideMatrixBuffer(t.mX_FXPT,t.mY_FXPT)||this.mSelectTargetAtPointerInputOn||this.mIgnoreNextSelectViaPointerOff||this.selectTarget(),this.mUpdateTargetWhilePointerInputIsOff||this.resetPointerPosition(),this.mIgnoreNextSelectViaPointerOff=!1}},n.x3652214323548795390x=function(t){switch(t.mInputId){case r.x3422796011189382401x:this.mSmoothedPointerInputX_FXPT=t.mX_FXPT,this.mSmoothedPointerInputY_FXPT=t.mY_FXPT,this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!1),this.mIgnoreNextSelectViaPointerOff=!1}},n.x4317694066239432710x=function(){var t=this.getController()._getGameState();this.mTargetFinder.setMatrixLimits(t.getMatrixWidthLimit(),t.getMatrixHeightLimit(),this.getMatrixVisibleHeight()),this.mTargetPathFinder.setMatrixLimits(t.getMatrixWidthLimit(),t.getMatrixHeightLimit(),this.getMatrixVisibleHeight()),this.mLivePiecePathFinder.setMatrixLimits(t.getMatrixWidthLimit(),t.getMatrixHeightLimit(),this.getMatrixVisibleHeight()),this.mActionsToTarget.length=0,this.mActionsToLivePiece.length=0,this.mTargetFinder&&this.mTargetFinder.startStateEvaluation(t),this.mTargetPathFinder&&this.mTargetPathFinder!=this.mTargetFinder&&this.mTargetPathFinder.startStateEvaluation(t),this.mLivePiecePathFinder&&this.mLivePiecePathFinder.startStateEvaluation(t)},n.x3498118442457140378x=function(){var t=!0;return t&&this.mTargetFinder&&(t=this.mTargetFinder.processStateEvaluation()),t&&this.mTargetPathFinder&&this.mTargetPathFinder!=this.mTargetFinder&&(t=this.mTargetPathFinder.processStateEvaluation()),t&&this.mLivePiecePathFinder&&(t=this.mLivePiecePathFinder.processStateEvaluation()),t&&this.isLivePieceControllable()&&this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,this.mIsTargetCellValid,!1),t},n.x720290557980039669x=function(){this.mTargetFinder.handleLivePieceDidActivate();var t=this.mResetPointerPositionAtNextPieceActivation;if(this.mDidFirstLivePieceActivate||(this.mDidFirstLivePieceActivate=!0,this.mUpdateTargetWhilePointerInputIsOff&&(t=!0)),t&&(this.resetPointerPosition(),this.mResetPointerPositionAtNextPieceActivation=!1),this.mTargetFacing=this.getController()._getGameState().getLivePieceCurrentFacing(),this.mLivePieceTransform=this.getController()._getGameState().getLivePieceCurrentTransform(),this.mTargetTransform=o.x2194798655026538212x,this.mDidSelectTarget=!1,this.isLivePieceControllable()){var e=this.mIsTargetCellValid;this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,this.mIsTargetCellValid,!1),this.mIsTargetCellValid=e}},n.x3281422530331587646x=function(){this.mTargetFinder.handleLivePieceDidDeactivate();var t=this.getInput(r.x3422796011189382401x);this.mIgnoreNextSelectViaPointerOff=this.mPieceDeactivationByNonSelectCancelsPointerOn&&t.mIsOn&&!this.mDidSelectTarget&&this.getController()._getGameState().didLivePieceLockDown(),this.mDidSelectTarget=!1},i(r,null,[{key:"x4300242453282062329x",get:function(){return 2}},{key:"x3422796011189382401x",get:function(){return 513}},{key:"x3806706921708093051x",get:function(){return 514}},{key:"x1624590416104774118x",get:function(){return 515}},{key:"x433303321694138845x",get:function(){return 516}},{key:"x4306942188177755211x",get:function(){return 517}},{key:"x2104737041701417094x",get:function(){return 518}},{key:"x997565413438838135x",get:function(){return 519}},{key:"x4476960116674578616x",get:function(){return 520}},{key:"x1169701762579244607x",get:function(){return 521}},{key:"x924318484818348441x",get:function(){return 9}},{key:"kMinInputId",get:function(){return 513}},{key:"kMaxInputId",get:function(){return 521}}]),r}(n));r._RF.pop()}}}));(function(r){r('virtual:///prerequisite-imports/main','chunks:///_virtual/main');})(function(mid,cid){System.register(mid,[cid],function(_export,_context){return{setters:[function(_m){var _exportObj={};for(var _key in _m){if(_key!=="default"&&_key!=="__esModule")_exportObj[_key]=_m[_key];}_export(_exportObj);}],execute:function(){}};});});