<!DOCTYPE html>
<html lang="en">

<head>
    <?php include "assets/includes/head.php" ?>

    <title>Find Links - Definitely Science</title>
	<link rel="canonical" href="/" />

    <link rel='stylesheet' href='./assets/styles/account.css?v1'>
</head>

<body>
    <?php include "assets/includes/navbar.php" ?>


    <div style="height: 20vh"></div>
	
	<center>
	<iframe loading="lazy" width="100%" height="650" src="https://totallyscience.co/games/2024/more/only-up-robby/index.html" marginwidth="0" marginheight="0" hspace="0" vspace="0" frameborder="0" scrolling="no" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" msallowfullscreen="true" allowfullscreen="allowfullscreen"></iframe>
	</center>
	
    <div style="width: 100vw; display: flex; align-items: center; justify-content: center;">
        <h1>Looking for links</h1>
    </div>
	<div id="results"></div>
	
    <div style="height: 35vh"></div>
    <?php include "assets/includes/footer.php" ?>
    
    <script>
	
	function getBaseUrl() {
    // Returns the base URL in the format 'http://api.example.com'
    //return `${window.location.protocol}//${window.location.hostname}`;
	return 'https://definitelyscience.com';
}
	
function crawl() {
    const url = 'https://geometryspot.com/roblox/';
	let serverCallURL = `${getBaseUrl()}/api2/crawl`;
	console.log("Crawl: " + serverCallURL);
     fetch(serverCallURL, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ url })
    })
    .then(response => response.json())
    .then(data => {
        const resultsDiv = document.getElementById('results');
        resultsDiv.innerHTML = '<h2>Roblox Links Found:</h2>';
        data.links.forEach(link => {
            const anchor = document.createElement('a');
            anchor.href = link; // Set the URL as the href attribute of the anchor tag
            anchor.textContent = link; // Use the link itself as the text
            anchor.target = '_blank'; // Optional: Open links in a new tab/window
            const div = document.createElement('div'); // You can still wrap the anchor in a div if needed
            div.appendChild(anchor);
            resultsDiv.appendChild(div);
        });
    })
    .catch(error => console.error('Error:', error));
}

window.addEventListener('load', function() {
    crawl(); // This will call crawl() when the page is fully loaded.
});

</script>



</body>

</html>
